TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    **************************************************************
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            8/8/94
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "react4.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "mproc.equ"             ;Mproc equates
      19                            .include        "display.equ"           ;Display proc equates
      20                            .include        "gsp.equ"               ;Gsp asm equates
      21                            .include        "sys.equ"
      22                            .include        "game.equ"
      23                            .include        "plyr.equ"
      24                            .include        "anim.equ"
      25                            .include        "audit.equ"
      26                            .include        "sound.h"
      27                            .include        "ring.equ"
      28                            .include        "lifebar.h"
      29                    
      30                    
      31                    ******************************************************************************
      32                    * EXTERNAL REFERENCES
      33                    
      34                            .ref    change_anim1a
      35                            .ref    wres_collis_off
      36                            .ref    block_hit_flail
      37                            .ref    block_hit
      38                            .ref    face_each_other
      39                            .ref    CALL_NASTY_MOVE
      40                            .ref    set_getup_time
      41                            .ref    fall_back_tbl
      42                            .ref    triple_sound
      43                            .ref    ADD_IF_SILENT
      44                            .ref    CALL_DROP_KICK,CALL_AVERAGE_MOVE
      45                            .ref    DO_SCREAM
      46                            .ref    shn_combo_run_stomp_anim
      47                            .ref    shn_run_stomp_anim
      48                    
      49                    ******************************************************************************
      50                    * EXTERNAL ANIM SEQUENCES
      51                    
      52                    
      53                    ;BAM BAM
      54                            .ref    bam_2_head_hit2_anim,bam_4_head_hit2_anim
      55                            .ref    bam_3_butt_drop_anim
      56                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                    ;DOINK
      58                            .ref    dnk_2_head_hit2_anim,dnk_4_head_hit2_anim
      59                            .ref    dnk_knockdwn_anim
      60                            .ref    dnk_fall_back_anim
      61                            .ref    dnk_head_hit_dizzy_anim
      62                            .ref    dnk_3_head_held_anim
      63                            .ref    dnk_belly_anim
      64                    
      65                    ;BRET
      66                            .ref    hrt_2_head_hit2_anim,hrt_4_head_hit2_anim
      67                            .ref    hrt_4_head_hit_dizzy_anim
      68                            .ref    hrt_running_ground_punch_anim
      69                    
      70                    ;LEX
      71                            .ref    lex_4_head_hit2_anim
      72                            .ref    lex_head_hit_dizzy_anim
      73                            .ref    lex_2_head_hit2_anim
      74                            .ref    lex_flying_ground_punch_anim
      75                    
      76                    ;RAZOR
      77                            .ref    rzr_2_head_hit2_anim,rzr_4_head_hit2_anim
      78                            .ref    rzr_2_head_hit3_anim,rzr_4_head_hit3_anim
      79                    
      80                    
      81                    ;SHAWN
      82                            .ref    shn_2_head_hit3_anim,shn_4_head_hit3_anim
      83                            .ref    shn_4_head_hit_dizzy_anim
      84                    
      85                    ;TAKER
      86                            .ref    und_2_head_hit2_anim,und_4_head_hit2_anim
      87                            .ref    und_fall_back_anim
      88                            .ref    und_flying_butt_drop_anim
      89                    
      90                    ;YOKO
      91                            .ref    yok_2_head_hit2_anim,yok_4_head_hit2_anim
      92                            .ref    yok_2_head_hit3_anim,yok_4_head_hit3_anim
      93                    
      94                    ;MISC
      95                            .ref    hit_damage_pending,hitonground_tbl
      96                    
      97                    ******************************************************************************
      98                    * SYMBOLS DEFINED IN THIS FILE
      99                    
     100                    ******************************************************************************
     101                    * EQUATES FOR THIS FILE
     102                    
     103                    *****************************************************************************
     104                    ;AMODE_STOMP    15
     105                    ;AMODE_BUTTSTOMP 30
     106 00000000            SUBR   hit_stomp
     107 00000000            SUBR   hit_buttstomp
     108                    
     109                            ;if we're standing, ignore this
     110 00000000     b5a0          move    *a13(PLYRMODE),a0
         00000010     05c0  
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

     111 00000020     0b40          cmpi    MODE_NORMAL,a0
         00000030     ffff  
     112                    
     113 00000040     ca00          jreq    aunhmode_normal
         00000050     009b  
     114                    
     115 00000060     0b40          cmpi    MODE_BLOCK,a0
         00000070     fff8  
     116 00000080     ca00          jreq    aunhmode_normal
         00000090     0097  
     117                    
     118                    ; I need to move this around to maximise the coolness.....
     119                    ;       WRSNDX  LBOWDROP_L1,LBOWDROP_L2
     120                    
     121                    ;       calla   inc_burnout
     122                    
     123                    ;;;     SETMODE NORMAL
     124                    
     125 000000a0     0d5f          calla   wres_collis_off
         000000b0 00000000! 
     126                    
     127 000000d0     b5a0          move    *a13(PLYRMODE),a0
         000000e0     05c0  
     128 000000f0     0b40          cmpi    MODE_ONGROUND,a0
         00000100     fffb  
     129 00000110     ca04          jrz     aunhon_grnd
     130 00000120     0b40          cmpi    MODE_DEAD,a0
         00000130     fff6  
     131 00000140     cb00          jrnz    aunhisdead
         00000150     0087  
     132                    
     133 00000160           aunhon_grnd
     134 00000160                   FACETBL hitonground_tbl
     135 000001d0     0d5f          calla   change_anim1a
         000001e0 00000000! 
     136                    
     137                    
     138                    
     139                    ;more nasty hacks...
     140 00000200     b740          move    *a10(ANIBASE),a0,L
         00000210     0670  
     141 00000220     0b60          cmpi    shn_combo_run_stomp_anim,a0
         00000230 ffffffff! 
     142 00000250     ca04          jreq    aunhdo_unnormal_sounds
     143 00000260     0b60          cmpi    shn_run_stomp_anim,a0
         00000270 ffffffff! 
     144 00000290     cb04          jrne    aunhnormal_sounds
     145 000002a0           aunhdo_unnormal_sounds
     146 000002a0     0d5f          calla   DO_SCREAM
         000002b0 00000000! 
     147 000002d0     c039          jruc    aunhunnormal_sounds
     148                    
     149 000002e0           aunhnormal_sounds
     150 000002e0                   WRSNDX  LBOWDROP_L1,LBOWDROP_L2
     151                    ;       movi    33h,a0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

     152 00000620     09c0          movi    43h,a0
         00000630     0043  
     153 00000640     0d5f          calla   triple_sound
         00000650 00000000! 
     154                    
     155 00000670           aunhunnormal_sounds
     156 00000670     b740          move    *a10(ANIBASE),a0,L
         00000680     0670  
     157                    
     158 00000690     0b60          cmpi    dnk_belly_anim,a0
         000006a0 ffffffff! 
     159 000006c0     ca19          jreq    aunhbounce
     160                    
     161 000006d0     0b60          cmpi    und_flying_butt_drop_anim,a0
         000006e0 ffffffff! 
     162 00000700     ca15          jreq    aunhbounce
     163                    
     164 00000710     0b60          cmpi    lex_flying_ground_punch_anim,a0
         00000720 ffffffff! 
     165 00000740     ca09          jreq    aunhbounce3
     166                    
     167                    ;       cmpi    hrt_running_ground_punch_anim,a0
     168                    ;       jreq    aunhbounce2
     169                    
     170 00000750     c027          jruc    aunhisdead
     171                    
     172 00000760           aunhbounce2
     173                            ;REALLY NASTY HACK!  Watch out if you modify this in any way.
     174 00000760     0d3f          callr   aunhbounce
         00000770     000e  
     175 00000780     09e0          movi    -10000h,a0
         00000790 ffff0000  
     176 000007b0     b20a          move    a0,*a10(OBJ_ZVEL),L
         000007c0     0310  
     177 000007d0     0960          rets
     178                    
     179 000007e0           aunhbounce3
     180                            ;REALLY NASTY HACK!  Watch out if you modify this in any way.
     181 000007e0     0d3f          callr   aunhbounce
         000007f0     0006  
     182 00000800     09e0          movi    40000h,a0
         00000810 00040000  
     183 00000830     b20a          move    a0,*a10(OBJ_YVEL),L
         00000840     02f0  
     184 00000850     0960          rets
     185                    
     186 00000860           aunhbounce
     187                    ;Bounce doink up off from opponents chest before he hits the ground!
     188 00000860     09e0          movi    50000h,a0
         00000870 00050000  
     189 00000890     b20a          move    a0,*a10(OBJ_YVEL),L
         000008a0     02f0  
     190 000008b0     09e0          movi    10000h,a0
         000008c0 00010000  
     191 000008e0     b20a          move    a0,*a10(OBJ_ZVEL),L
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

         000008f0     0310  
     192 00000900     5600          clr     a0
     193 00000910     b20a          move    a0,*a10(OBJ_XVEL),L
         00000920     02d0  
     194                    
     195                            .ref    shake_all_ropes
     196 00000930     0d5f          calla   shake_all_ropes
         00000940 00000000! 
     197 00000960                   PUSH    a10
     198 00000970     09ca          movi    8,a10
         00000980     0008  
     199                            .ref    SHAKER2
     200 00000990     0d5f          calla   SHAKER2
         000009a0 00000000! 
     201 000009c0                   PULL    a10
     202                    
     203 000009d0           aunhisdead
     204 000009d0     0d5f          calla   wres_collis_off
         000009e0 00000000! 
     205 00000a00     0960          rets
     206                    
     207 00000a10           aunhmode_normal
     208                            ;OOPS!  Don't do any damage.
     209 00000a10     57ce          clr     a14
     210 00000a20     058e          move    a14,@hit_damage_pending
         00000a30 00000000! 
     211 00000a50     c0f7          jruc    aunhisdead
     212                    
     213                    
     214                    *****************************************************************************
     215                    ;AMODE_BSTOMP   26
     216 00000a60            SUBR   hit_bstomp
     217                    
     218 00000a60     0d5f          calla   DO_SCREAM
         00000a70 00000000! 
     219 00000a90     0d5f          calla   wres_collis_off
         00000aa0 00000000! 
     220                    
     221 00000ac0     b5a0          move    *a13(PLYRMODE),a0
         00000ad0     05c0  
     222 00000ae0     0b40          cmpi    MODE_ONGROUND,a0
         00000af0     fffb  
     223 00000b00     ca53          jrz     bodson_grnd
     224 00000b10     0b40          cmpi    MODE_DEAD,a0
         00000b20     fff6  
     225 00000b30     ca50          jrz     bodson_grnd
     226                    
     227                    ;Knock standing opponent onto ground
     228                    
     229 00000b40     0d5f          calla   DO_SCREAM
         00000b50 00000000! 
     230 00000b70     09c0          movi    43h,a0
         00000b80     0043  
     231 00000b90     0d5f          calla   triple_sound
         00000ba0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

     232                    
     233 00000bc0     0d5f          calla   set_getup_time
         00000bd0 00000000! 
     234                    
     235 00000bf0                   SETMODE NORMAL
     236 00000ca0     b5ae          move    *a13(OBJ_YPOSINT),a14
         00000cb0     0130  
     237 00000cc0     b5a0          move    *a13(GROUND_Y),a0
         00000cd0     0570  
     238 00000ce0     440e          sub     a0,a14
     239 00000cf0     0b4e          cmpi    20,a14
         00000d00     ffeb  
     240 00000d10     c50e          jrge    bodsfall_back
     241                    
     242 00000d20           bodskdwn
     243 00000d20                   FACETBL knockdwn
     244 00000d90     0d5f          calla   change_anim1a
         00000da0 00000000! 
     245 00000dc0     0d5f          calla   wres_collis_off
         00000dd0 00000000! 
     246                    
     247 00000df0     0960          rets
     248                    
     249 00000e00           bodsfall_back
     250 00000e00     b540          move    *a10(WRESTLERNUM),a0
         00000e10     0590  
     251 00000e20     0b40          cmpi    5,a0
         00000e30     fffa  
     252 00000e40     caed          jrz     bodskdwn
     253 00000e50                   FACETBL fall_back_tbl
     254                    
     255 00000ec0     0d5f          calla   change_anim1a
         00000ed0 00000000! 
     256 00000ef0     0d5f          calla   wres_collis_off
         00000f00 00000000! 
     257                    
     258 00000f20     09e2          movi    [2,0],a2
         00000f30 00020000  
     259 00000f50     b540          move    *a10(OBJ_XPOSINT),a0
         00000f60     0110  
     260 00000f70     b5a1          move    *a13(OBJ_XPOSINT),a1
         00000f80     0110  
     261 00000f90     4801          cmp     a0,a1                   ;offx - defx
     262 00000fa0     c701          jrgt    bodsfall_right          ;attacker on left
     263 00000fb0     03a2          neg     a2
     264 00000fc0           bodsfall_right
     265 00000fc0     b24d          move    a2,*a13(OBJ_XVEL),L
         00000fd0     02d0  
     266                    
     267 00000fe0     09e0          movi    -40000h,a0
         00000ff0 fffc0000  
     268 00001010     b20d          move    a0,*a13(OBJ_YVEL),L
         00001020     02f0  
     269                    
     270 00001030     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

     271                    
     272 00001040           bodson_grnd
     273 00001040                   FACETBL hitonground_tbl
     274 000010b0     0d5f          calla   change_anim1a
         000010c0 00000000! 
     275 000010e0           bodsisdead
     276 000010e0     0d5f          calla   wres_collis_off
         000010f0 00000000! 
     277 00001110     0960          rets
     278                    
     279 00001120           knockdwn
     280                            .ref    hrt_knockdwn_anim
     281                            .ref    rzr_knockdwn_anim
     282                            .ref    und_knockdwn_anim
     283                            .ref    yok_knockdwn_anim
     284                            .ref    shn_knockdwn_anim
     285                            .ref    bam_knockdwn_anim
     286                            .ref    dnk_knockdwn_anim
     287                            .ref    lex_knockdwn_anim
     288                    
     289 00001120 00000000!         .long   hrt_knockdwn_anim               ;0 Bret Hart
     290 00001140 00000000!         .long   rzr_knockdwn_anim               ;1 Razor Ramon
     291 00001160 00000000!         .long   und_knockdwn_anim               ;2 Undertaker
     292 00001180 00000000!         .long   yok_knockdwn_anim               ;3 Yokozuna
     293 000011a0 00000000!         .long   shn_knockdwn_anim               ;4 Shawn Michaels
     294 000011c0 00000000!         .long   bam_knockdwn_anim               ;5 Bam Bam
     295 000011e0 00000000!         .long   dnk_knockdwn_anim               ;6 Doink
     296 00001200 00000000          .long   0                               ;7 spare
     297 00001220 00000000!         .long   lex_knockdwn_anim               ;8 Lex Luger
     298 00001240 00000000          .long   0                               ;9 Referee
     299                    
     300                    ;bodsknockdwn_dizzy
     301                    ;       .long   dnk_knockdwn_dizzy_anim         ;0 Bret Hart
     302                    ;       .long   dnk_knockdwn_dizzy_anim         ;1 Razor Ramon
     303                    ;       .long   dnk_knockdwn_dizzy_anim         ;2 Undertaker
     304                    ;       .long   dnk_knockdwn_dizzy_anim         ;3 Yokozuna
     305                    ;       .long   dnk_knockdwn_dizzy_anim         ;4 Shawn Michaels
     306                    ;       .long   dnk_knockdwn_dizzy_anim         ;5 Bam Bam
     307                    ;       .long   dnk_knockdwn_dizzy_anim         ;6 Doink
     308                    ;       .long   dnk_knockdwn_dizzy_anim         ;7 spare
     309                    ;       .long   dnk_knockdwn_dizzy_anim         ;8 Lex Luger
     310                    ;       .long   dnk_knockdwn_dizzy_anim         ;9 Referee
     311                    
     312                    ;AMODE_BSTOMP2  46
     313 00001260            SUBR   hit_bstomp2
     314                    
     315 00001260     b5a1          move    *a13(PLYRMODE),a1
         00001270     05c0  
     316 00001280     0b41          cmpi    MODE_BLOCK,a1
         00001290     fff8  
     317 000012a0     cb04          jrnz    bodsnoblock
     318                    
     319 000012b0     0d5f          calla   block_hit_flail
         000012c0 00000000! 
     320 000012e0     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

     321                    
     322 000012f0           bodsnoblock
     323 000012f0                   WRSNDX  FLYKICK_L1,FLYKICK_L2
     324 00001630     0d5f          calla   wres_collis_off
         00001640 00000000! 
     325                    
     326                    ;Probably can't happen because attack box is up too high
     327 00001660     b5a0          move    *a13(PLYRMODE),a0
         00001670     05c0  
     328                    ;LOVELY NASTY HACK !!!
     329 00001680     b541          MOVE    *A10(COMBO_COUNT),A1
         00001690     0af0  
     330 000016a0     cb07          JRNZ    NOT_NORMAL_CHECK
     331 000016b0     0b40          cmpi    MODE_ONGROUND,a0
         000016c0     fffb  
     332 000016d0     caa0          jrz     bodsisdead
     333 000016e0     0b40          cmpi    MODE_DEAD,a0
         000016f0     fff6  
     334 00001700     ca9d          jrz     bodsisdead
     335 00001710     c00d          JRUC    NORMAL_CHECK
     336 00001720           NOT_NORMAL_CHECK
     337 00001720     b5a0          move    *a13(OBJ_CONTROL),a0
         00001730     0780  
     338 00001740     0bc0          xori    M_FLIPH,a0
         00001750 00000010  
     339 00001770     b00d          move    a0,*a13(OBJ_CONTROL)
         00001780     0780  
     340 00001790     5600          CLR     A0
     341 000017a0     b20d          MOVE    A0,*A13(OBJ_YVEL),L
         000017b0     02f0  
     342 000017c0     b9ad          MOVE    *A13(GROUND_Y),*A13(OBJ_YPOSINT)
         000017d0     0570  
         000017e0     0130  
     343 000017f0           NORMAL_CHECK
     344                    
     345                    ;Knock standing opponent onto ground
     346 000017f0     0d5f          calla   set_getup_time
         00001800 00000000! 
     347                    
     348 00001820     0d5f          calla   DO_SCREAM
         00001830 00000000! 
     349 00001850     09c0          movi    43h,a0
         00001860     0043  
     350 00001870     0d5f          calla   triple_sound
         00001880 00000000! 
     351 000018a0     0d5f          calla   CALL_NASTY_MOVE
         000018b0 00000000! 
     352 000018d0                   FACETBL knockdwn
     353 00001940     0d5f          calla   change_anim1a
         00001950 00000000! 
     354 00001970     0d5f          calla   wres_collis_off
         00001980 00000000! 
     355 000019a0     0960          rets
     356                    
     357                    *****************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     358                    ;AMODE_hammer   29
     359 000019b0            SUBR   hit_hammer
     360                    
     361 000019b0     09c0          movi    45h,a0
         000019c0     0045  
     362 000019d0     0d5f          calla   triple_sound
         000019e0 00000000! 
     363 00001a00     0d5f          calla   CALL_NASTY_MOVE
         00001a10 00000000! 
     364                    
     365 00001a30     b5a1          move    *a13(PLYRMODE),a1
         00001a40     05c0  
     366 00001a50     0b41          cmpi    MODE_BLOCK,a1
         00001a60     fff8  
     367 00001a70     cb04          jrnz    wgwcnoblock
     368                    
     369 00001a80     0d5f          calla   block_hit
         00001a90 00000000! 
     370 00001ab0     0960          rets
     371                    
     372 00001ac0           wgwcnoblock
     373 00001ac0     c000          jruc    hit_bstomp
         00001ad0     fef8  
     374                    
     375                    *****************************************************************************
     376                    ;AMODE_SPINKICK 16
     377 00001ae0            SUBR   hit_spinkick
     378                    
     379                    
     380 00001ae0     b5a1          move    *a13(PLYRMODE),a1
         00001af0     05c0  
     381 00001b00     0b41          cmpi    MODE_BLOCK,a1
         00001b10     fff8  
     382 00001b20     cb04          jrnz    xlcqnoblock
     383                    
     384 00001b30     0d5f          calla   block_hit_flail
         00001b40 00000000! 
     385 00001b60     0960          rets
     386                    
     387 00001b70           xlcqnoblock
     388 00001b70     09c0          movi    43h,a0
         00001b80     0043  
     389 00001b90     0d5f          calla   triple_sound
         00001ba0 00000000! 
     390 00001bc0     0d5f          calla   CALL_AVERAGE_MOVE
         00001bd0 00000000! 
     391                    
     392 00001bf0                   GETLIFE
     393 00001c40     ca57          jrz     xlcqisdead
     394                    
     395 00001c50                   WRSNDX  KICK_L1,KICK_L2
     396                    
     397 00001f90                   SETMODE NORMAL
     398 00002040     b5ae          move    *a13(OBJ_YPOSINT),a14
         00002050     0130  
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   10

     399 00002060     b5a0          move    *a13(GROUND_Y),a0
         00002070     0570  
     400 00002080     440e          sub     a0,a14
     401 00002090     0b4e          cmpi    20,a14
         000020a0     ffeb  
     402 000020b0     c514          jrge    xlcqfall_back
     403                    
     404                    
     405 000020c0                   FACE24TBL xlcqhead_hit2
     406 00002190     0d5f          calla   change_anim1a
         000021a0 00000000! 
     407 000021c0           xlcqisdead
     408 000021c0     0d5f          calla   wres_collis_off
         000021d0 00000000! 
     409                    
     410 000021f0     0960          rets
     411                    
     412 00002200           xlcqfall_back
     413 00002200                   FACETBL fall_back_tbl
     414                    
     415 00002270     0d5f          calla   change_anim1a
         00002280 00000000! 
     416 000022a0     0d5f          calla   wres_collis_off
         000022b0 00000000! 
     417                    
     418 000022d0     09e2          movi    [3,0],a2
         000022e0 00030000  
     419 00002300     b540          move    *a10(OBJ_XPOSINT),a0
         00002310     0110  
     420 00002320     b5a1          move    *a13(OBJ_XPOSINT),a1
         00002330     0110  
     421 00002340     4801          cmp     a0,a1                   ;offx - defx
     422 00002350     c701          jrgt    xlcqfall_right          ;attacker on left
     423 00002360     03a2          neg     a2
     424 00002370           xlcqfall_right
     425 00002370     b24d          move    a2,*a13(OBJ_XVEL),L
         00002380     02d0  
     426                    
     427 00002390     0960          rets
     428                    
     429 000023a0           xlcqhead_hit2
     430 000023a0                   REFLONG hrt_2_head_hit3_anim,hrt_4_head_hit3_anim               ;0 Bret Hart
     431 000023e0 00000000!         .long   rzr_2_head_hit3_anim,rzr_4_head_hit3_anim               ;1 Razor Ramon
     432 00002420 00000000!         .long   und_2_head_hit2_anim,und_4_head_hit2_anim               ;2 Undertaker
     433 00002460 00000000!         .long   yok_2_head_hit3_anim,yok_4_head_hit3_anim               ;3 Yokozuna
     434 000024a0 00000000!         .long   shn_2_head_hit3_anim,shn_4_head_hit3_anim               ;4 Shawn Michaels
     435 000024e0 00000000!         .long   bam_2_head_hit2_anim,bam_4_head_hit2_anim               ;5 Bam Bam
     436 00002520 00000000!         .long   dnk_2_head_hit2_anim,dnk_4_head_hit2_anim               ;6 Doink
     437 00002560 00000000          .long   0,0                                                     ;7 spare
     438 000025a0                   REFLONG lex_2_head_hit3_anim,lex_4_head_hit3_anim               ;8 Lex Luger
     439 000025e0 00000000          .long   0,0                                                     ;9 Referee
     440                    
     441                    *****************************************************************************
     442                    ;AMODE_CLINE    17
     443 00002620            SUBR   hit_cline
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   11

     444                    
     445                    
     446 00002620     b5a1          move    *a13(PLYRMODE),a1
         00002630     05c0  
     447 00002640     0b41          cmpi    MODE_BLOCK,a1
         00002650     fff8  
     448 00002660     cb04          jrnz    vsqmnoblock
     449                    
     450 00002670     0d5f          calla   block_hit_flail
         00002680 00000000! 
     451 000026a0     0960          rets
     452                    
     453 000026b0           vsqmnoblock
     454                    
     455 000026b0     0d5f          calla   CALL_DROP_KICK
         000026c0 00000000! 
     456                    
     457                    ;Any hit mode which does a fall back sequence onto the ground
     458                    ;will not check dizzy at the start.
     459                    ;The check dizzy happens in the sequence.
     460                    
     461 000026e0                   WRSNDX  FLYKICK_L1,FLYKICK_L2
     462                    
     463 00002a20                   GETLIFE
     464 00002a70     ca0b          jrz     vsqmskip
     465                    
     466                    
     467                    ;       calla   inc_burnout
     468                    
     469 00002a80                   SETMODE NORMAL
     470                    
     471 00002b30           vsqmskip
     472                    ;       move    *a10(OBJ_XVEL),a0,L     ;slow down doink's
     473                    ;       sra     1,a0                    ;x_vel after collis
     474                    ;       move    a0,*a10(OBJ_XVEL),L
     475                    
     476 00002b30     5600          clr     a0
     477 00002b40     b20a          move    a0,*a10(OBJ_ZVEL),L     ;Zero zvel after collis
         00002b50     0310  
     478                    
     479 00002b60     b740          move    *a10(OBJ_ZPOS),a0,L
         00002b70     0140  
     480 00002b80     0d00          subi    [1,0],a0
         00002b90 fffeffff  
     481 00002bb0     b20d          move    a0,*a13(OBJ_ZPOS),L
         00002bc0     0140  
     482                    
     483 00002bd0     b00d          move    a0,*a13(ROLL_POS)
         00002be0     0450  
     484 00002bf0     0d5f          calla   set_getup_time
         00002c00 00000000! 
     485                    
     486 00002c20                   FACETBL vsqmfall_back2
     487 00002c90     0d5f          calla   change_anim1a
         00002ca0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   12

     488                    
     489 00002cc0     09e2          movi    [3,0],a2
         00002cd0 00030000  
     490 00002cf0     b740          move    *a10(OBJ_XVEL),a0,L
         00002d00     02d0  
     491 00002d10     c101          jrp     vsqmfall_right
     492 00002d20     03a2          neg     a2
     493                    
     494                    
     495                    ;       move    *a10(OBJ_XPOSINT),a0
     496                    ;       move    *a13(OBJ_XPOSINT),a1
     497                    ;       cmp     a0,a1                   ;offx - defx
     498                    ;       jrgt    vsqmfall_right          ;attacker on left
     499                    ;       neg     a2
     500 00002d30           vsqmfall_right
     501                    
     502                    
     503 00002d30     b24d          move    a2,*a13(OBJ_XVEL),L
         00002d40     02d0  
     504                    
     505 00002d50           vsqmisdead
     506 00002d50     0d5f          calla   wres_collis_off
         00002d60 00000000! 
     507 00002d80     0960          rets
     508                    
     509 00002d90           vsqmfall_back2
     510 00002d90                   REFLONG hrt_fall_back2_anim             ;0 Bret Hart
     511 00002db0                   REFLONG rzr_fall_back2_anim             ;1 Razor Ramon
     512 00002dd0                   REFLONG und_fall_back2_anim             ;2 Undertaker
     513 00002df0                   REFLONG yok_fall_back2_anim             ;3 Yokozuna
     514 00002e10                   REFLONG shn_fall_back2_anim             ;4 Shawn Michaels
     515 00002e30                   REFLONG bam_fall_back2_anim             ;5 Bam Bam
     516 00002e50                   REFLONG dnk_fall_back2_anim             ;6 Doink
     517 00002e70 00000000          .long   0                               ;7 spare
     518 00002e90                   REFLONG lex_fall_back2_anim             ;8 Lex Luger
     519                    
     520                    
     521                    *****************************************************************************
     522                    ;AMODE_HEADHOLD 18
     523 00002eb0            SUBR   hit_headhold
     524                    
     525 00002eb0     0960          rets
     526                    
     527                    *****************************************************************************
     528                    ;AMODE_JUMPKICK 19
     529 00002ec0            SUBR   hit_jumpkick
     530                    
     531 00002ec0     b5a1          move    *a13(PLYRMODE),a1
         00002ed0     05c0  
     532 00002ee0     0b41          cmpi    MODE_BLOCK,a1
         00002ef0     fff8  
     533 00002f00     cb04          jrnz    gkaynoblock
     534                    
     535 00002f10     0d5f          calla   block_hit_flail
         00002f20 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   13

     536 00002f40     0960          rets
     537                    
     538 00002f50           gkaynoblock
     539                    
     540 00002f50                   GETLIFE
     541 00002fa0     ca57          jrz     gkayisdead
     542                    
     543 00002fb0                   WRSNDX  KICK_L1,KICK_L2
     544                    
     545                    ;       move    *a13(PLYR_DIZZY),a0
     546                    ;       jrnz    gkaydiz
     547                    ;
     548                    ;       calla   check_dizzy
     549                    ;       jrz     gkaynot_dizzy
     550                    ;
     551                    ;       movi    5*TSEC,a0
     552                    ;       move    a0,*a13(GETUP_TIME)
     553                    ;
     554                    ;gkaydiz
     555                    ;       FACE24TBL gkayhead_hit_dizzy
     556                    ;       calla   change_anim1a
     557                    ;
     558                    ;gkayisdead
     559                    ;       calla   wres_collis_off
     560                    ;       rets
     561                    ;
     562                    ;gkaynot_dizzy
     563                    
     564 000032f0                   SETMODE NORMAL
     565 000033a0     b5ae          move    *a13(OBJ_YPOSINT),a14
         000033b0     0130  
     566 000033c0     b5a0          move    *a13(GROUND_Y),a0
         000033d0     0570  
     567 000033e0     440e          sub     a0,a14
     568 000033f0     0b4e          cmpi    20,a14
         00003400     ffeb  
     569 00003410     c514          jrge    gkayfall_back
     570                    
     571                    
     572 00003420                   FACE24TBL gkayhead_hit2
     573 000034f0     0d5f          calla   change_anim1a
         00003500 00000000! 
     574 00003520           gkayisdead
     575 00003520     0d5f          calla   wres_collis_off
         00003530 00000000! 
     576                    
     577 00003550     0960          rets
     578                    
     579 00003560           gkayfall_back
     580 00003560                   FACETBL fall_back_tbl
     581                    
     582 000035d0     0d5f          calla   change_anim1a
         000035e0 00000000! 
     583 00003600     0d5f          calla   wres_collis_off
         00003610 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 31 23:54:16 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   14

     584                    
     585 00003630     09e2          movi    [3,0],a2
         00003640 00030000  
     586 00003660     b540          move    *a10(OBJ_XPOSINT),a0
         00003670     0110  
     587 00003680     b5a1          move    *a13(OBJ_XPOSINT),a1
         00003690     0110  
     588 000036a0     4801          cmp     a0,a1                   ;offx - defx
     589 000036b0     c701          jrgt    gkayfall_right          ;attacker on left
     590 000036c0     03a2          neg     a2
     591 000036d0           gkayfall_right
     592 000036d0     b24d          move    a2,*a13(OBJ_XVEL),L
         000036e0     02d0  
     593                    
     594 000036f0     0960          rets
     595                     
     596                    
     597 00003700           gkayhead_hit2
     598 00003700 00000000!         .long   hrt_2_head_hit2_anim,hrt_4_head_hit2_anim               ;0 Bret Hart
     599 00003740 00000000!         .long   rzr_2_head_hit2_anim,rzr_4_head_hit2_anim               ;1 Razor Ramon
     600 00003780 00000000!         .long   und_2_head_hit2_anim,und_4_head_hit2_anim               ;2 Undertaker
     601 000037c0 00000000!         .long   yok_2_head_hit2_anim,yok_4_head_hit2_anim               ;3 Yokozuna
     602 00003800 00000000!         .long   shn_2_head_hit3_anim,shn_4_head_hit3_anim               ;4 Shawn Michaels
     603 00003840 00000000!         .long   bam_2_head_hit2_anim,bam_4_head_hit2_anim               ;5 Bam Bam
     604 00003880 00000000!         .long   dnk_2_head_hit2_anim,dnk_4_head_hit2_anim               ;6 Doink
     605 000038c0 00000000!         .long   dnk_2_head_hit2_anim,dnk_4_head_hit2_anim               ;7 spare
     606 00003900 00000000!         .long   lex_2_head_hit2_anim,lex_4_head_hit2_anim               ;8 Lex Luger
     607 00003940 00000000!         .long   dnk_2_head_hit2_anim,dnk_4_head_hit2_anim               ;9 Referee
     608                    
     609                    ******************************************************************************
     610                    
     611                            .end

 No Errors,  No Warnings
