TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    **************************************************************
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            5/26/94
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "shnseq2.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "mproc.equ"             ;Mproc equates
      19                            .include        "sys.equ"
      20                            .include        "game.equ"
      21                            .include        "plyr.equ"
      22                            .include        "anim.equ"
      23                            .include        "sound.h"
      24                            .include        "shawnimg.h"
      25                            .include        "display.equ"
      26                            .include        "ring.equ"
      27                            .include        "damage.equ"
      28                    
      29                    
      30                    ******************************************************************************
      31                    * EXTERNAL REFERENCES
      32                    
      33                            ;BAM BAM
      34                            .ref    B4YR3A,B3RN3A
      35                    
      36                            ;DOINK
      37                            .ref    D4YR3B,D3RN3B
      38                    
      39                            ;BRET
      40                            .ref    H4YR3A,H3RN3A
      41                    
      42                            ;LEX
      43                            .ref    L4YR3B,L3RN3B
      44                    
      45                            ;RAZOR
      46                            .ref    R4YR3A,R3RN3D
      47                    
      48                            ;SHAWN
      49                            .ref    shn_faceup_getup_anim,shn_faceup_getup2_anim
      50                            .ref    S4YR3A,S3RN3A
      51                    
      52                            ;TAKER
      53                            .ref    U4YR3B,U3RN3A
      54                    
      55                            ;YOKO
      56                            .ref    Y4YR3A,Y3RN3C
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    2

      57                    
      58                            ;MISC
      59                            .ref    HIT_THE_MAT,CALL_MISSES,get_opp_process,get_leap
      60                            .ref    set_target_offsets,start_run_anim,SMALL_BOUNCE
      61                            .ref    start_run_flung,ckzpos,choose_2or4
      62                            .ref    no_bk_xvel,win_announce,grnd_hit,SET_DIR_FACE
      63                            .ref    DO_CROWD_CHEER,check_xvel,tgt_ground,set_tbukl_confine
      64                            .ref    free_toss_check,setup_freetoss
      65                            .ref    hit_nearest,set_tbukl_airmode,shn_2_hiptoss_anim
      66                            .ref    check_raisearm_bit
      67                            .ref    shn_combo_sliding_kicktoss_anim,DO_COMBO_MESS
      68                            .ref    shn_combo_spinkick_anim,shn_4combo_bslam_anim
      69                            .ref    CALL_ANI_AVERAGE_MOVE
      70                            .REF    MOVE_NAME_ANNC
      71                    
      72                    ******************************************************************************
      73                    * SYMBOLS DEFINED IN THIS FILE
      74                    
      75                    ******************************************************************************
      76                    * EQUATES FOR THIS FILE
      77                    
      78                    *****************************************************************************
      79                    *
      80                    * jefy2 NORMAL PUNCH
      81                    
      82 00000000            SUBR   shn_2_punch_anim
      83                    
      84 00000000     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
      85 00000020     8003          .word   ANI_ZEROVELS
      86 00000030     8026          .word   ANI_SETSPEED,100h
      87                    
      88 00000050     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
      89 00000060     805f          .word   ANI_SET_WRESTLER_XFLIP
      90                    
      91                    
      92 00000070                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
      93 000000b0                   WL      1,S2PU3C+FR1
      94 000000e0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
      95 00000120                   WL      1,S2PU3C+FR1
      96 00000150                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
      97 00000190                   WL      1,S2PU3C+FR2
      98 000001c0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
      99                    
     100 00000200     8075          .word   ANI_STARTATTACK,AT_PUNCH,3
     101 00000230                   WL      1,S2PU3C+FR2
     102 00000260     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH,52,91,28,8
     103 000002c0                   WL      3,S2PU3C+FR3
     104 000002f0     8007          .word   ANI_ATTACK_OFF
     105                    
     106 00000300                   WWL     ANI_SLIDE_BACK,30h,-70000h,jefyno_hit
     107 00000360                   WL      ANI_SET_YVEL,30000h
     108 00000390                   WL      3,S2PU3C+FR3
     109 000003c0           jefyno_hit
     110 000003c0                   WL      1,S2PU3C+FR3
     111                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    3

     112                            ;one more tick if blocked, three more if hit, none if missed.
     113 000003f0     8067          .word   ANI_HMBWAIT,3,0,1
     114                    
     115 00000430                   WL      2,S2PU3C+FR4
     116 00000460                   WL      2,S2PU3C+FR5
     117 00000490                   WL      2,S2PU3C+FR7
     118 000004c0                   WL      2,S2PU3C+FR8
     119 000004f0     8002          .word   ANI_SETMODE,MODE_NORMAL
     120 00000510     8049          .word   ANI_END
     121                    
     122                    ************
     123                    *
     124                    * ovxr4 NORMAL PUNCH
     125                    
     126 00000520            SUBR   shn_4_punch_anim
     127                    
     128 00000520     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     129 00000540     8003          .word   ANI_ZEROVELS
     130 00000550     8026          .word   ANI_SETSPEED,100h
     131                    
     132 00000570     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     133 00000580     805f          .word   ANI_SET_WRESTLER_XFLIP
     134                    
     135 00000590                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     136 000005d0                   WL      1,S4PU3D+FR2
     137 00000600                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     138 00000640                   WL      1,S4PU3D+FR2
     139 00000670                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     140 000006b0                   WL      1,S4PU3D+FR3
     141 000006e0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     142                    
     143 00000720     8075          .word   ANI_STARTATTACK,AT_PUNCH,3
     144 00000750                   WL      1,S4PU3D+FR3
     145 00000780     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH,49,85,26,10
     146 000007e0                   WL      3,S4PU3D+FR4
     147 00000810     8007          .word   ANI_ATTACK_OFF
     148                    
     149 00000820                   WWL     ANI_SLIDE_BACK,30h,-70000h,ovxrno_hit
     150                    
     151 00000880                   WL      ANI_SET_YVEL,30000h
     152 000008b0                   WL      3,S4PU3D+FR4
     153                            
     154 000008e0           ovxrno_hit
     155 000008e0                   WL      1,S4PU3D+FR4
     156                    
     157 00000910     8067          .word   ANI_HMBWAIT,3,0,1
     158                    
     159 00000950                   WL      2,S4PU3D+FR5
     160 00000980                   WL      2,S4PU3D+FR6
     161 000009b0                   WL      2,S4PU3D+FR7
     162 000009e0                   WL      2,S4PU3D+FR8
     163 00000a10     8002          .word   ANI_SETMODE,MODE_NORMAL
     164 00000a30     8049          .word   ANI_END
     165                    
     166                    *************
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    4

     167                    *
     168                    * COMBO PUNCH
     169                    
     170 00000a40            SUBR   shn_combo_punch_anim
     171                    
     172 00000a40     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     173 00000a60     8003          .word   ANI_ZEROVELS
     174 00000a70     8026          .word   ANI_SETSPEED,100h
     175 00000a90     8073          .WORD   ANI_CLEAR_COMBO
     176                    
     177 00000aa0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     178 00000ab0     805f          .word   ANI_SET_WRESTLER_XFLIP
     179                    
     180 00000ac0     8075          .word   ANI_STARTATTACK,AT_LEAPING,15
     181 00000af0     8062          .word   ANI_SET_RPTCOUNT,3      ;rpt 2 times
     182                    
     183 00000b10                   WLW     ANI_SET_XVEL,50000h,AM_FACE_REL
     184                            
     185 00000b50                   WL      2,S4PU3D+FR2
     186 00000b80     8072          .word   ANI_INC_COMBO
     187 00000b90           ovxrrpt
     188 00000b90     8061          .word   ANI_CLR_BUTCOUNT
     189 00000ba0     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH2,21,40,62,34 ;mode,x,y,w,h
     190 00000c00                   WL      1,S4MK3A+FR1
     191 00000c30                   WLW     ANI_SET_XVEL,0000h,AM_FACE_REL
     192 00000c70     8007          .word   ANI_ATTACK_OFF
     193 00000c80                   WL      ANI_IFNOTSTATUS2,ovxrmissedc
     194 00000cb0     8072          .word   ANI_INC_COMBO
     195 00000cc0                   WLLL    ANI_SETOPPVELS,0,8000h,0h               ;x,y,z vels
     196 00000d30                   WL      1,S4MK3A+FR1
     197 00000d60                   WL      2,S4MK3A+FR2
     198 00000d90                   WL      2,S4MK3A+FR3
     199 00000dc0     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH2,21,40,62,34 ;mode,x,y,w,h
     200 00000e20                   WL      1,S4MK3A+FR4
     201 00000e50     8007          .word   ANI_ATTACK_OFF
     202 00000e60                   WL      ANI_IFNOTSTATUS2,ovxrmissedc
     203 00000e90     8072          .word   ANI_INC_COMBO
     204 00000ea0                   WLLL    ANI_SETOPPVELS,0,8000h,0h               ;x,y,z vels
     205 00000f10                   WL      1,S4MK3A+FR4
     206 00000f40                   WL      2,S4MK3A+FR5
     207                    
     208 00000f70                   WL      ANI_IFNOTSTATUS2,ovxrmissedc
     209 00000fa0                   WL      ANI_IFBLOCKED,ovxrmissedbc              ;Yes, I hit blocker
     210                    
     211 00000fd0                   WL      2,S4MK3A+FR7
     212                    
     213 00001000     8063          .word   ANI_DEC_RPTCOUNT
     214 00001010                   WL      ANI_IF_RPTCOUNT,ovxrrpt
     215                    
     216                    
     217 00001040                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,ovxrNO_FLYING
     218 00001090                   WL      ANI_CHANGEANIM,shn_combo_flying_kick_anim
     219                    
     220 000010c0           ovxrNO_FLYING
     221 000010c0                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,ovxrNO_SPIN
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    5

     222 00001110                   WL      ANI_CHANGEANIM,shn_combo_knee_anim
     223                    
     224 00001140           ovxrNO_SPIN
     225 00001140                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,ovxrEXIT_PUNCH
     226 00001190                   WL      ANI_CHANGEANIM,shn_combo_spinkick_anim
     227                    
     228 000011c0           ovxrEXIT_PUNCH
     229                    
     230 000011c0     800a          .word   ANI_DETACH
     231 000011d0                   WL      ANI_CODE,DO_COMBO_MESS
     232 00001200     8073          .WORD   ANI_CLEAR_COMBO
     233 00001210     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     234 00001220     8022          .word   ANI_FACEDOWN
     235 00001230     8002          .word   ANI_SETMODE,MODE_NORMAL
     236 00001250     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     237 00001270     8049          .word   ANI_END
     238                    
     239 00001280           ovxrmissedc
     240 00001280                   WL      3,S4MK3A+FR6
     241 000012b0                   WL      3,S4MK3A+FR6
     242 000012e0           ovxrmissedbc
     243 000012e0                   WL      3,S4MK3A+FR7
     244                    
     245 00001310     800a          .word   ANI_DETACH
     246 00001320                   WL      ANI_CODE,DO_COMBO_MESS
     247 00001350     8073          .WORD   ANI_CLEAR_COMBO
     248 00001360                   WL      3,S4MK3A+FR7
     249                    
     250 00001390     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     251 000013a0     8022          .word   ANI_FACEDOWN
     252 000013b0     8002          .word   ANI_SETMODE,MODE_NORMAL
     253 000013d0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     254 000013f0     8049          .word   ANI_END
     255                    
     256                    ************
     257                    *
     258                    * kpiw4 PUSH
     259                    
     260 00001400            SUBR   shn_4_push_anim
     261                    
     262 00001400     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     263 00001420     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
     264 00001440                   WL      ANI_SETFLAG,M_PUSH
     265 00001470     8003          .word   ANI_ZEROVELS
     266 00001480     8026          .word   ANI_SETSPEED,100h
     267 000014a0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     268 000014b0     805f          .word   ANI_SET_WRESTLER_XFLIP
     269                    
     270 000014c0     8075          .word   ANI_STARTATTACK,AT_PUSH,9
     271 000014f0                   WL      3,S4PS3A+FR1
     272 00001520                   WL      3,S4PS3A+FR2
     273 00001550                   WL      3,S4PS3A+FR3
     274 00001580     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     275 000015a0     8006          .word   ANI_ATTACK_ON, AMODE_PUSH,33,85,44,17 ;mode,x,y,w,h
     276 00001600                   WL      3,S4PS3A+FR4
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    6

     277 00001630     8007          .word   ANI_ATTACK_OFF
     278                    
     279 00001640                   WWL     ANI_SLIDE_BACK,40h,-70000h,kpiwno_hit   ;range,vel,addr
     280 000016a0                   WL      15,S4PS3A+FR4
     281 000016d0           kpiwno_hit
     282 000016d0                   WL      3,S4PS3A+FR4
     283                    
     284 00001700                   WL      ANI_IFSTATUS2,kpiwhit
     285                    ;If missed on push, hold a little longer
     286 00001730                   WL      5,S4PS3A+FR4
     287 00001760           kpiwhit
     288 00001760                   WL      4,S4PS3A+FR2
     289 00001790                   WL      4,S4PS3A+FR1
     290                    
     291 000017c0     8002          .word   ANI_SETMODE,MODE_NORMAL
     292 000017e0     8049          .word   ANI_END
     293                    
     294                    *****************************************************************************
     295                    *
     296                    * pszy2 HEADBUTT
     297                    
     298 000017f0            SUBR   shn_2_butt_anim
     299                    
     300 000017f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     301 00001810     8003          .word   ANI_ZEROVELS
     302 00001820     8026          .word   ANI_SETSPEED,100h
     303                    
     304 00001840     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     305 00001850     805f          .word   ANI_SET_WRESTLER_XFLIP
     306                    
     307                    
     308 00001860                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     309 000018a0                   WL      1,S2BC3B+FR2
     310 000018d0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     311 00001910                   WL      1,S2BC3B+FR2
     312 00001940                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     313 00001980                   WL      1,S2BC3B+FR2
     314 000019b0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     315                    
     316 000019f0     8075          .word   ANI_STARTATTACK,AT_HDBUTT,6
     317 00001a20                   WL      3,S2BC3B+FR4
     318 00001a50                   WL      3,S2BC3B+FR5
     319 00001a80     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,40,81,10,12 ;mode,x,y,w,h
     320 00001ae0                   WL      3,S2BC3B+FR6
     321 00001b10     8007          .word   ANI_ATTACK_OFF
     322                    
     323 00001b20                   WWL     ANI_SLIDE_BACK,30h,-70000h,pszyno_hit
     324                    
     325 00001b80                   WL      ANI_SET_YVEL,38000h
     326 00001bb0                   WL      6,S2BC3B+FR6
     327 00001be0           pszyno_hit
     328                    
     329 00001be0     8067          .word   ANI_HMBWAIT,3,0,1
     330 00001c20                   WL      3,S2BC3B+FR7
     331 00001c50                   WL      3,S2BC3B+FR8
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    7

     332 00001c80     8002          .word   ANI_SETMODE,MODE_NORMAL
     333 00001ca0     8049          .word   ANI_END
     334                    
     335                    ************
     336                    *
     337                    * ewtz4 HEADBUTT
     338                    
     339 00001cb0            SUBR   shn_4_butt_anim
     340                    
     341 00001cb0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     342 00001cd0     8003          .word   ANI_ZEROVELS
     343 00001ce0     8026          .word   ANI_SETSPEED,100h
     344                    
     345 00001d00     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     346 00001d10     805f          .word   ANI_SET_WRESTLER_XFLIP
     347                    
     348 00001d20                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     349 00001d60                   WL      1,S4BC3A+FR2
     350 00001d90                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     351 00001dd0                   WL      1,S4BC3A+FR2
     352 00001e00                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     353 00001e40                   WL      1,S4BC3A+FR2
     354 00001e70                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     355                    
     356 00001eb0     8075          .word   ANI_STARTATTACK,AT_HDBUTT,6
     357 00001ee0                   WL      3,S4BC3A+FR4
     358 00001f10                   WL      3,S4BC3A+FR5
     359 00001f40     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,32,91,12,15 ;mode,x,y,w,h
     360 00001fa0                   WL      3,S4BC3A+FR6
     361 00001fd0     8007          .word   ANI_ATTACK_OFF
     362                    
     363 00001fe0                   WWL     ANI_SLIDE_BACK,30h,-70000h,ewtzno_hit
     364                    
     365 00002040                   WL      ANI_SET_YVEL,38000h
     366 00002070                   WL      6,S4BC3A+FR6
     367 000020a0           ewtzno_hit
     368                    
     369 000020a0     8067          .word   ANI_HMBWAIT,3,0,1
     370 000020e0                   WL      3,S4BC3A+FR8
     371 00002110     8002          .word   ANI_SETMODE,MODE_NORMAL
     372 00002130     8049          .word   ANI_END
     373                    
     374                    ************
     375                    *
     376                    * COMBO HEADBUTT
     377                    
     378 00002140            SUBR   shn_combo_butt_anim
     379                    
     380 00002140     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     381 00002160     8003          .word   ANI_ZEROVELS
     382 00002170     8026          .word   ANI_SETSPEED,100h
     383 00002190     8062          .word   ANI_SET_RPTCOUNT,4      ;5 times
     384 000021b0                   WLW     ANI_SET_XVEL,28000h,AM_FACE_REL
     385 000021f0           bnzhbutt_loop
     386 000021f0     8061          .word   ANI_CLR_BUTCOUNT
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    8

     387 00002200                   WL      2,S4BC3A+FR2
     388 00002230     8075          .word   ANI_STARTATTACK,AT_HDBUTT,6
     389 00002260                   WL      2,S4BC3A+FR4
     390 00002290                   WL      2,S4BC3A+FR5
     391                    
     392 000022c0     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,32,71,42,35 ;mode,x,y,w,h
     393 00002320                   WL      1,S4BC3A+FR6
     394 00002350     8007          .word   ANI_ATTACK_OFF
     395                    
     396 00002360                   WL      ANI_IFNOTSTATUS2,bnzhno_hit_c
     397 00002390     8072          .word   ANI_INC_COMBO
     398                    ;       .word   ANI_SET_ATTACH
     399 000023a0                   WLLL    ANI_SETOPPVELS,0,18000h,0h              ;x,y,z vels
     400                    
     401 00002410                   WL      ANI_SET_YVEL,18000h
     402 00002440                   WL      2,S4BC3A+FR6
     403 00002470                   WLW     ANI_SET_XVEL,09000h,AM_FACE_REL
     404 000024b0                   WL      3,S4BC3A+FR6
     405 000024e0                   WL      2,S4BC3A+FR8
     406 00002510     8063          .word   ANI_DEC_RPTCOUNT
     407 00002520                   WL      ANI_IF_RPTCOUNT,bnzhbutt_loop
     408 00002550     800a          .word   ANI_DETACH
     409                    
     410 00002560                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,bnzhNO_BODYSLAM
     411 000025b0                   WL      ANI_CHANGEANIM,shn_4combo_bslam_anim
     412                    
     413 000025e0           bnzhNO_BODYSLAM
     414 000025e0                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,bnzhNO_SLIDING
     415 00002630                   WL      ANI_CHANGEANIM,shn_combo_flying_kick_anim
     416                    
     417 00002660           bnzhNO_SLIDING
     418 00002660                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,bnzhMISSED_IT
     419 000026b0                   WL      ANI_CHANGEANIM,shn_combo_sliding_kicktoss_anim
     420                    
     421 000026e0           bnzhMISSED_IT
     422 000026e0     800a          .word   ANI_DETACH
     423 000026f0                   WL      ANI_CODE,DO_COMBO_MESS
     424 00002720     8073          .WORD   ANI_CLEAR_COMBO
     425 00002730     8002          .word   ANI_SETMODE,MODE_NORMAL
     426 00002750     8049          .word   ANI_END
     427 00002760           bnzhno_hit_c
     428                    
     429 00002760     800a          .word   ANI_DETACH
     430 00002770                   WL      ANI_CODE,DO_COMBO_MESS
     431 000027a0     8073          .WORD   ANI_CLEAR_COMBO
     432 000027b0                   WL      3,S4BC3A+FR8
     433 000027e0     8002          .word   ANI_SETMODE,MODE_NORMAL
     434 00002800     8049          .word   ANI_END
     435                    
     436                    *****************************************************************************
     437                    *
     438                    * yipa2 KICK
     439                    
     440 00002810            SUBR   shn_2_kick_anim
     441                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE    9

     442 00002810     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     443 00002830     8026          .word   ANI_SETSPEED,100h
     444 00002850     8003          .word   ANI_ZEROVELS
     445                    
     446 00002860     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     447 00002870     805f          .word   ANI_SET_WRESTLER_XFLIP
     448                    
     449 00002880                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     450 000028c0                   WL      1,S2KM3A+FR1
     451 000028f0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     452 00002930                   WL      1,S2KM3A+FR1
     453 00002960                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     454 000029a0                   WL      1,S2KM3A+FR2
     455 000029d0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     456                    
     457 00002a10     8075          .word   ANI_STARTATTACK,AT_KICK,5
     458 00002a40                   WL      1,S2KM3A+FR2
     459 00002a70                   WL      2,S2KM3A+FR3
     460 00002aa0                   WL      1,S2KM3A+FR4
     461                    
     462 00002ad0                   WL      ANI_SET_YVEL,20000h
     463                    
     464 00002b00     8006          .word   ANI_ATTACK_ON, AMODE_KICK,27,59,68,20   ;mode,x,y,w,h
     465 00002b60                   WL      3,S2KM3A+FR5
     466 00002b90     8007          .word   ANI_ATTACK_OFF
     467                    
     468 00002ba0                   WWL     ANI_SLIDE_BACK,30h,-70000h,yipano_slide
     469 00002c00                   WL      ANI_SET_YVEL,30000h
     470 00002c30           yipano_slide
     471 00002c30     8067          .word   ANI_HMBWAIT,4,0,2
     472                    
     473 00002c70     800b          .word   ANI_WAITHITGND
     474 00002c80     8003          .word   ANI_ZEROVELS
     475                    
     476 00002c90                   WL      2,S2KM3A+FR5
     477 00002cc0                   WL      3,S2KM3A+FR6
     478 00002cf0                   WL      2,S2KM3A+FR7
     479 00002d20                   WL      3,S2KM3A+FR8
     480 00002d50                   WL      2,S2KM3A+FR9
     481 00002d80     8002          .word   ANI_SETMODE,MODE_NORMAL
     482 00002da0     8049          .word   ANI_END
     483                    
     484                    ************
     485                    *
     486                    * szkh4 KICK
     487                    
     488 00002db0            SUBR   shn_4_kick_anim
     489                    
     490 00002db0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     491 00002dd0     8026          .word   ANI_SETSPEED,100h
     492 00002df0     8003          .word   ANI_ZEROVELS
     493                    
     494 00002e00     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     495 00002e10     805f          .word   ANI_SET_WRESTLER_XFLIP
     496                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   10

     497 00002e20                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     498 00002e60                   WL      1,S4KM3C+FR2
     499 00002e90                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     500 00002ed0                   WL      1,S4KM3C+FR2
     501 00002f00                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     502 00002f40                   WL      1,S4KM3C+FR3
     503 00002f70                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     504                    
     505 00002fb0     8075          .word   ANI_STARTATTACK,AT_KICK,4
     506 00002fe0                   WL      1,S4KM3C+FR3
     507 00003010                   WL      2,S4KM3C+FR4
     508 00003040                   WL      ANI_SET_YVEL,20000h
     509 00003070     8006          .word   ANI_ATTACK_ON, AMODE_KICK,27,59,68,20   ;mode,x,y,w,h
     510 000030d0                   WL      3,S4KM3C+FR5
     511 00003100     8007          .word   ANI_ATTACK_OFF
     512                    
     513 00003110                   WWL     ANI_SLIDE_BACK,30h,-70000h,szkhno_slide
     514 00003170                   WL      ANI_SET_YVEL,30000h
     515 000031a0           szkhno_slide
     516 000031a0     8067          .word   ANI_HMBWAIT,4,0,2
     517                    
     518 000031e0     800b          .word   ANI_WAITHITGND
     519 000031f0     8003          .word   ANI_ZEROVELS
     520 00003200                   WL      2,S4KM3C+FR6
     521 00003230                   WL      3,S4KM3C+FR7
     522 00003260                   WL      2,S4KM3C+FR8
     523 00003290                   WL      3,S4KM3C+FR9
     524 000032c0     8002          .word   ANI_SETMODE,MODE_NORMAL
     525 000032e0     8049          .word   ANI_END
     526                    
     527                    ************
     528                    *
     529                    * uifd4 Jump kick
     530                    
     531 000032f0            SUBR   shn_4_jump_kick_anim
     532                    
     533 000032f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     534 00003310     8026          .word   ANI_SETSPEED,100h
     535 00003330     8003          .word   ANI_ZEROVELS
     536                    
     537 00003340     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     538 00003350     805f          .word   ANI_SET_WRESTLER_XFLIP
     539                    
     540 00003360     8075          .word   ANI_STARTATTACK,AT_LEAPING,12
     541 00003390                   WL      3,S4KI3I+FR1
     542 000033c0                   WL      3,S4KI3I+FR2
     543                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     544 000033f0                   LEAPATOPP 10,999,95,50,90000h,TGT_HEAD,70,100,10
     545 000034a0                   WL      4,S4KI3I+FR3
     546 000034d0                   WL      3,S4KI3I+FR4
     547 00003500                   WL      3,S4KI3I+FR5
     548 00003530     8006          .word   ANI_ATTACK_ON, AMODE_FLYKICK,20,69,46,53        ;mode,x,y,w,h
     549 00003590                   WL      3,S4KI3I+FR6
     550 000035c0     8007          .word   ANI_ATTACK_OFF
     551 000035d0     8028          .word   ANI_ZERO_XZVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   11

     552                    
     553 000035e0                   WWL     ANI_SLIDE_BACK,30h,-70000h,uifdno_slide
     554 00003640                   WL      ANI_SET_YVEL,30000h
     555 00003670           uifdno_slide
     556                    
     557 00003670                   WL      ANI_IFNOTSTATUS2,uifdmissed
     558 000036a0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
     559 000036e0                   WL      ANI_IFBLOCKED,uifdmissedb
     560                    
     561 00003710     801f          .word   ANI_SHAKER,35
     562                    
     563 00003730                   WL      3,S4KI3I+FR7
     564 00003760     800b          .word   ANI_WAITHITGND
     565 00003770     8003          .word   ANI_ZEROVELS
     566 00003780                   WL      ANI_IFBLOCKED,uifdmissedb
     567 000037b0                   WL      ANI_IFNOTSTATUS2,uifdmissed
     568 000037e0     807a          .word   ANI_DRAW_NAME,17
     569 00003800                   WL      ANI_GOTO,uifdhit
     570                    
     571 00003830           uifdmissedb
     572                    ;       WL      3,S4KI3I+FR7
     573                            ;fall through
     574 00003830           uifdmissed
     575 00003830                   WL      3,S4KI3I+FR7
     576                            ;fall through
     577 00003860           uifdhit
     578 00003860                   WL      3,S4KI3I+FR8
     579 00003890                   WL      3,S4KI3I+FR9
     580 000038c0     8015          .word   ANI_OFFSET,-10,3,0
     581 00003900                   WL      3,S4KM3C+FR8
     582 00003930                   WL      3,S4KM3C+FR9
     583                    
     584 00003960     8002          .word   ANI_SETMODE,MODE_NORMAL
     585 00003980     8049          .word   ANI_END
     586                    
     587                    **************
     588                    *
     589                    * COMBO KICK
     590                    
     591 00003990            SUBR   shn_combo_kick_anim
     592                    
     593 00003990     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     594 000039b0     8003          .word   ANI_ZEROVELS
     595 000039c0     8073          .WORD   ANI_CLEAR_COMBO
     596                    
     597 000039d0                   WL      4,S4KM3C+FR2
     598 00003a00     8075          .word   ANI_STARTATTACK,AT_KICK,4
     599 00003a30                   WL      3,S4KM3C+FR3
     600 00003a60                   WL      3,S4KM3C+FR4
     601 00003a90                   WL      ANI_SET_YVEL,20000h
     602 00003ac0     803a          .word   ANI_CLR_STATUS
     603 00003ad0     8072          .WORD   ANI_INC_COMBO
     604 00003ae0     8006          .word   ANI_ATTACK_ON, AMODE_KICK,27,59,68,20   ;mode,x,y,w,h
     605 00003b40                   WL      3,S4KM3C+FR5
     606 00003b70     8007          .word   ANI_ATTACK_OFF
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   12

     607 00003b80                   WL      ANI_IFNOTSTATUS2,uifdmissed_c
     608 00003bb0                   WLLL    ANI_SETOPPVELS,0,10000h,0h              ;x,y,z vels
     609 00003c20     8072          .WORD   ANI_INC_COMBO
     610 00003c30                   WL      3,S4KM3C+FR5
     611                    
     612 00003c60     8062          .word   ANI_SET_RPTCOUNT,3      ;5 times
     613 00003c80           uifdkick_loop
     614 00003c80     8061          .word   ANI_CLR_BUTCOUNT
     615                    
     616 00003c90                   WL      2,S4KM3C+FR2
     617 00003cc0     8075          .word   ANI_STARTATTACK,AT_KICK,4
     618 00003cf0                   WL      1,S4KM3C+FR3
     619 00003d20                   WL      2,S4KM3C+FR4
     620 00003d50                   WL      ANI_SET_YVEL,20000h
     621 00003d80     803a          .word   ANI_CLR_STATUS
     622 00003d90     8006          .word   ANI_ATTACK_ON, AMODE_KICK,27,59,68,20   ;mode,x,y,w,h
     623 00003df0                   WL      1,S4KM3C+FR5
     624 00003e20     8007          .word   ANI_ATTACK_OFF
     625 00003e30                   WL      ANI_IFNOTSTATUS2,uifdmissed_c
     626                    ;       .word   ANI_SET_ATTACH
     627 00003e60                   WLLL    ANI_SETOPPVELS,0,10000h,0h              ;x,y,z vels
     628 00003ed0     8072          .WORD   ANI_INC_COMBO
     629 00003ee0                   WL      2,S4KM3C+FR5
     630 00003f10     8063          .word   ANI_DEC_RPTCOUNT
     631 00003f20                   WL      ANI_IF_RPTCOUNT,uifdkick_loop
     632                    
     633 00003f50                   WLW     ANI_SET_XVEL,18000h,AM_FACE_REL
     634 00003f90     8061          .word   ANI_CLR_BUTCOUNT
     635                    
     636 00003fa0                   WL      2,S4KM3C+FR2
     637 00003fd0     8075          .word   ANI_STARTATTACK,AT_KICK,4
     638 00004000                   WL      1,S4KM3C+FR3
     639 00004030                   WL      2,S4KM3C+FR4
     640 00004060                   WL      ANI_SET_YVEL,20000h
     641 00004090     803a          .word   ANI_CLR_STATUS
     642 000040a0     8006          .word   ANI_ATTACK_ON, AMODE_KICK,27,59,68,20   ;mode,x,y,w,h
     643 00004100                   WL      1,S4KM3C+FR5
     644 00004130     8007          .word   ANI_ATTACK_OFF
     645 00004140                   WL      ANI_IFNOTSTATUS2,uifdmissed_c
     646                    ;       .word   ANI_SET_ATTACH
     647 00004170                   WLLL    ANI_SETOPPVELS,0,10000h,0h              ;x,y,z vels
     648 000041e0     8072          .WORD   ANI_INC_COMBO
     649 000041f0                   WL      2,S4KM3C+FR5
     650                    
     651 00004220                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,uifdNO_SLAMS
     652 00004270                   WL      ANI_CHANGEANIM,shn_4combo_bslam_anim
     653                    
     654 000042a0           uifdNO_SLAMS
     655 000042a0                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,uifdNO_BUTTS
     656 000042f0                   WL      ANI_CHANGEANIM,shn_combo_flying_kick_anim
     657                    
     658 00004320           uifdNO_BUTTS
     659 00004320                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,uifdmissed_c
     660 00004370                   WL      ANI_CHANGEANIM,shn_combo_butt_anim
     661                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   13

     662 000043a0           uifdmissed_c
     663                    
     664 000043a0     800a          .word   ANI_DETACH
     665 000043b0     800b          .word   ANI_WAITHITGND
     666 000043c0     8003          .word   ANI_ZEROVELS
     667 000043d0                   WL      ANI_CODE,DO_COMBO_MESS
     668 00004400     8073          .WORD   ANI_CLEAR_COMBO
     669 00004410                   WL      4-1,S4KM3C+FR6
     670 00004440                   WL      4-1,S4KM3C+FR7
     671 00004470                   WL      4-1,S4KM3C+FR8
     672 000044a0                   WL      3,S4KM3C+FR9
     673 000044d0     8002          .word   ANI_SETMODE,MODE_NORMAL
     674 000044f0     8049          .word   ANI_END
     675                    
     676                    ;************
     677                    ;*
     678                    ;* uifd3 BACKFLIP KICK
     679                    ;
     680                    ;;FIX!!!  MAKE THIS A COOL MOVE 1/12/95
     681                    ;
     682                    ; SUBR  shn_backflip_kick_anim
     683                    ;
     684                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     685                    ;       .word   ANI_ZEROVELS
     686                    ;       .word   ANI_SETSPEED,100h
     687                    ;
     688                    ;       .word   ANI_STARTATTACK,AT_KICK,12
     689                    ;       WL      3,S3KF3B+FR1
     690                    ;       WL      3,S3KF3B+FR2
     691                    ;       WL      1,S3KF3B+FR3
     692                    ;       WLW     ANI_SET_XVEL,-20000h,AM_FACE_REL
     693                    ;       WL      ANI_SET_YVEL,5c000h
     694                    ;       WL      2,S3KF3B+FR3
     695                    ;       .word   ANI_OFFSET,-24,4,0
     696                    ;       WL      3,S3KF3B+FR4
     697                    ;       .word   ANI_ATTACK_ON,AMODE_SHNBFKIK,17,40,47,62
     698                    ;       WL      3,S3KF3B+FR5
     699                    ;       .word   ANI_ATTACK_OFF
     700                    ;       WL      3,S3KF3B+FR6
     701                    ;       WL      3,S3KF3B+FR7
     702                    ;       WL      3,S3KF3B+FR8
     703                    ;       WL      3,S3KF3B+FR9
     704                    ;       WL      3,S3KF3B+FR10
     705                    ;       .word   ANI_WAITHITGND
     706                    ;       .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     707                    ;       .word   ANI_ZEROVELS
     708                    ;       WL      3,S3KF3B+FR11
     709                    ;       WL      3,S3KF3B+FR12
     710                    ;       .word   ANI_FACEDOWN
     711                    ;
     712                    ;       .word   ANI_SETMODE,MODE_NORMAL
     713                    ;       .word   ANI_END
     714                    
     715                    *****************************************************************************
     716                    *
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   14

     717                    * iknr2 STOMP ON FALLEN OPPONENT
     718                    
     719 00004500            SUBR   shn_2_stomp_anim
     720                    
     721 00004500     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
     722 00004520     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     723 00004540     8003          .word   ANI_ZEROVELS
     724 00004550     8026          .word   ANI_SETSPEED,100h
     725                    
     726 00004570                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     727 000045b0                   WL      1,S2MP2A+FR2
     728 000045e0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     729 00004620                   WL      1,S2MP2A+FR2
     730 00004650                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     731 00004690                   WL      1,S2MP2A+FR2
     732 000046c0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     733                    
     734 00004700     8075          .word   ANI_STARTATTACK,AT_STOMP,10
     735                    
     736                            ;if we're not going to hit, do a LEAPAT
     737 00004730     800e          .word   ANI_ATTACK_ON_Z,AMODE_HITCHECK,0,0,-30,5,5,40
     738 000047b0                   WL      1,S2MP2A+FR3
     739 000047e0     8007          .word   ANI_ATTACK_OFF
     740                    
     741 000047f0                   WL      ANI_SET_YVEL,30000h
     742                    
     743 00004820                   WL      ANI_IFSTATUS2,iknrno_leapat
     744                    
     745 00004850     8066          .word   ANI_TARGET,TGT_CHEST,TGT_GROIN,ATM_CLOSEST
     746                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     747 00004890                   LEAPATOPP 12,999,160,140,90000h,TGT_USER,28,0,-50
     748 00004940     8075          .word   ANI_STARTATTACK,AT_STOMP,12
     749 00004970                   WL      ANI_CODE,no_bk_xvel
     750                    
     751 000049a0           iknrno_leapat
     752 000049a0                   WL      3,S2MP2A+FR3
     753 000049d0                   WL      3,S2MP2A+FR4
     754                    
     755 00004a00     800b          .word   ANI_WAITHITGND
     756 00004a10     8003          .word   ANI_ZEROVELS
     757                    
     758 00004a20     8037          .word   ANI_SHAKEALL,1
     759 00004a40     801f          .word   ANI_SHAKER,26
     760                    
     761 00004a60     800e          .word   ANI_ATTACK_ON_Z,AMODE_STOMP,16,-8,-50,27,33,60
     762 00004ae0                   WL      3,S2MP2A+FR5
     763 00004b10     8007          .word   ANI_ATTACK_OFF
     764                    
     765 00004b20     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
     766 00004b60                   WL      ANI_IFSTATUS2,iknrno_miss
     767                    
     768 00004b90                   WL      ANI_CODE,CALL_MISSES
     769                    
     770 00004bc0           iknrno_miss
     771 00004bc0                   WL      4,S2MP2A+FR6
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   15

     772 00004bf0                   WL      4,S2MP2A+FR7
     773 00004c20                   WL      4,S2MP2A+FR8
     774                    
     775 00004c50     8002          .word   ANI_SETMODE,MODE_NORMAL
     776 00004c70     8049          .word   ANI_END
     777                    
     778                    
     779                    *****************************************************************************
     780                    *
     781                    * obti4 STOMP ON FALLEN OPPONENT
     782                    
     783 00004c80            SUBR   shn_4_stomp_anim
     784                    
     785 00004c80     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
     786 00004ca0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     787 00004cc0     8003          .word   ANI_ZEROVELS
     788 00004cd0     8026          .word   ANI_SETSPEED,100h
     789                    
     790 00004cf0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     791 00004d30                   WL      1,S4MP4C+FR2
     792 00004d60                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     793 00004da0                   WL      1,S4MP4C+FR2
     794 00004dd0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     795 00004e10                   WL      1,S4MP4C+FR2
     796 00004e40                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     797                    
     798                            ;if we're not going to hit, do a LEAPAT
     799 00004e80     800e          .word   ANI_ATTACK_ON_Z,AMODE_HITCHECK,0,0,-10,5,5,60
     800 00004f00                   WL      1,S4MP4C+FR3
     801 00004f30     8007          .word   ANI_ATTACK_OFF
     802                    
     803 00004f40                   WL      ANI_IFSTATUS2,obtino_leapat
     804                    
     805 00004f70     8066          .word   ANI_TARGET,TGT_CHEST,TGT_GROIN,ATM_CLOSEST
     806                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     807                    ;       LEAPATOPP 12,999,112,96,90000h,TGT_USER,12,0,45
     808 00004fb0                   LEAPATOPP 12,999,160,140,90000h,TGT_USER,12,0,45
     809 00005060     8075          .word   ANI_STARTATTACK,AT_STOMP,12
     810 00005090                   WL      ANI_CODE,no_bk_xvel
     811                    
     812 000050c0           obtino_leapat
     813 000050c0     8075          .word   ANI_STARTATTACK,AT_STOMP,6
     814 000050f0                   WL      3,S4MP4C+FR3
     815 00005120                   WL      3,S4MP4C+FR4
     816                    
     817 00005150     800b          .word   ANI_WAITHITGND
     818 00005160     8003          .word   ANI_ZEROVELS
     819                    
     820 00005170     8037          .word   ANI_SHAKEALL,1
     821 00005190     801f          .word   ANI_SHAKER,26
     822                    
     823 000051b0     800e          .word   ANI_ATTACK_ON_Z, AMODE_STOMP,-3,-13,-10,44,35,60
     824 00005230                   WL      3,S4MP4C+FR5
     825 00005260     8007          .word   ANI_ATTACK_OFF
     826                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   16

     827 00005270     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
     828 000052b0                   WL      ANI_IFSTATUS2,obtino_miss
     829                    
     830 000052e0                   WL      ANI_CODE,CALL_MISSES
     831                    
     832 00005310           obtino_miss
     833 00005310                   WL      4,S4MP4C+FR6
     834 00005340                   WL      4,S4MP4C+FR7
     835 00005370                   WL      4,S4MP4C+FR8
     836                    
     837 000053a0     8002          .word   ANI_SETMODE,MODE_NORMAL
     838 000053c0     8049          .word   ANI_END
     839                    
     840                    
     841                    *****************************************************************************
     842                    *
     843                    * TURNBUCKLE STOMP
     844                    
     845 000053d0            SUBR   shn_bstomp_anim
     846                    
     847 000053d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_NOCONFINE|MODE_NOGRAVITY
     848 000053f0     8003          .word   ANI_ZEROVELS
     849 00005400     8026          .word   ANI_SETSPEED,100h
     850 00005420     801b          .word   ANI_SETFACING
     851 00005430     805f          .word   ANI_SET_WRESTLER_XFLIP
     852 00005440     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
     853                    
     854 00005460                   WL      4,S4MP4C+FR2
     855                    
     856                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     857 00005490                   LEAPATOPP 35,190,190,190,90000h,TGT_CHEST,30,6,40
     858 00005540     8075          .word   ANI_STARTATTACK,AT_LEAPING,35
     859                    ;       .word   ANI_SETPLYRMODE,MODE_INAIR2
     860 00005570                   WL      ANI_CODE,set_tbukl_airmode
     861 000055a0     800f          .word   ANI_GRAVITY_ON
     862 000055b0     804d          .word   ANI_SHAKECORNER
     863                    
     864 000055c0                   WL      ANI_CODE,check_xvel
     865                    
     866 000055f0                   WL      4,S4MP4C+FR3
     867                    
     868                            ;attack box dimensions depends on opp mode
     869 00005620     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-26,0,-10,82,40,70
     870 000056a0                   WWL     ANI_IFOPPMODE,MODE_ONGROUND,acqfopp_onground
     871 000056e0                   WWL     ANI_IFOPPMODE,MODE_DEAD,acqfopp_onground
     872 00005720     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-26,50,-10,82,40,70
     873                    
     874 000057a0           acqfopp_onground
     875 000057a0                   WL      12,S4MP4C+FR4
     876 000057d0                   WL      ANI_CODE,set_tbukl_confine
     877 00005800     800b          .word   ANI_WAITHITGND
     878 00005810     8003          .word   ANI_ZEROVELS
     879 00005820     8007          .word   ANI_ATTACK_OFF
     880                    
     881 00005830     801f          .word   ANI_SHAKER,30
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   17

     882 00005850     8037          .word   ANI_SHAKEALL,1
     883 00005870                   WL      ANI_CODE,HIT_THE_MAT
     884                    
     885 000058a0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
     886 000058e0                   WL      ANI_IFSTATUS2,acqfhit
     887                    
     888                            ;missed
     889 00005910                   WL      ANI_CODE,CALL_MISSES
     890                    ;       WL      ANI_CODE,tbukl_miss_damage
     891 00005940     800d          .word   ANI_BOUNCE,4
     892 00005960                   WL      ANI_GOTO,acqfcommon
     893                    
     894 00005990           acqfhit
     895                            ;hit.  bounce off.
     896 00005990                   WL      ANI_SET_YVEL,40000h
     897 000059c0                   WLW     ANI_SET_ZVEL,-20000h,AM_ABS
     898 00005a00                   WLW     ANI_SET_XVEL,20000h,AM_FACE_REL
     899                    
     900 00005a40           acqfcommon
     901 00005a40                   WL      2,S4MP4C+FR5
     902 00005a70                   WL      3,S4MP4C+FR6
     903 00005aa0                   WL      4,S4MP4C+FR7
     904 00005ad0     8004          .word   ANI_SETPLYRMODE,MODE_INAIR
     905 00005af0     800b          .word   ANI_WAITHITGND
     906 00005b00     8003          .word   ANI_ZEROVELS
     907 00005b10                   WL      ANI_CODE,SMALL_BOUNCE
     908                    
     909 00005b40                   WL      4,S4MP4C+FR8
     910                    
     911 00005b70     8002          .word   ANI_SETMODE,MODE_NORMAL
     912 00005b90     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     913 00005bb0     8049          .word   ANI_END
     914                    
     915                    *****************************************************************************
     916                    *
     917                    * TURNBUCKLE ELBOW DROP
     918                    
     919              0021  tdkiyoff        equ     33
     920                    
     921 00005bc0            SUBR   shn_belbow_anim
     922                    
     923 00005bc0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_NOCONFINE|MODE_NOGRAVITY
     924 00005be0     8003          .word   ANI_ZEROVELS
     925 00005bf0     8026          .word   ANI_SETSPEED,100h
     926 00005c10     801b          .word   ANI_SETFACING
     927 00005c20     805f          .word   ANI_SET_WRESTLER_XFLIP
     928 00005c30     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
     929                    
     930 00005c50                   WL      3,S4PJ3E+FR4
     931                    
     932                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     933 00005c80                   LEAPATOPP 31,190,190,190,90000h,TGT_CHEST,22,11+tdkiyoff,50
     934 00005d30     8075          .word   ANI_STARTATTACK,AT_LEAPING,31
     935                    ;       .word   ANI_SETPLYRMODE,MODE_INAIR2
     936 00005d60                   WL      ANI_CODE,set_tbukl_airmode
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   18

     937 00005d90     800f          .word   ANI_GRAVITY_ON
     938 00005da0     804d          .word   ANI_SHAKECORNER
     939                    
     940                    ;Check x vel to make sure we aren't going to land on ropes!
     941 00005db0                   WL      ANI_CODE,check_xvel
     942                    
     943 00005de0     8015          .word   ANI_OFFSET,0,tdkiyoff,0
     944 00005e20                   WL      3,S4PJ3E+FR5
     945 00005e50                   WL      3,S4PJ3E+FR6
     946                    
     947 00005e80     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-26,0,-10,82,40,70
     948 00005f00                   WWL     ANI_IFOPPMODE,MODE_ONGROUND,tdkiopp_onground
     949 00005f40                   WWL     ANI_IFOPPMODE,MODE_DEAD,tdkiopp_onground
     950 00005f80     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-26,40,-10,82,40,70
     951                    
     952 00006000           tdkiopp_onground
     953 00006000                   WL      6,S4PJ3E+FR7
     954 00006030                   WL      ANI_CODE,set_tbukl_confine
     955 00006060     800b          .word   ANI_WAITHITGND
     956 00006070     8003          .word   ANI_ZEROVELS
     957 00006080     8007          .word   ANI_ATTACK_OFF
     958                    
     959 00006090     801f          .word   ANI_SHAKER,30
     960 000060b0     8037          .word   ANI_SHAKEALL,1
     961 000060d0                   WL      ANI_CODE,HIT_THE_MAT
     962 00006100     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
     963                    
     964 00006120     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
     965 00006160                   WL      ANI_IFSTATUS2,tdkihit
     966                    
     967                            ;missed
     968 00006190                   WL      ANI_CODE,CALL_MISSES
     969                    ;       WL      ANI_CODE,tbukl_miss_damage
     970 000061c0                   WL      ANI_GOTO,tdkiAVOID_HIT_CALL
     971                    
     972 000061f0           tdkihit
     973 000061f0     807a          .word   ANI_DRAW_NAME,18
     974 00006210                   WL      ANI_CODE,CALL_ANI_AVERAGE_MOVE
     975 00006240           tdkiAVOID_HIT_CALL
     976 00006240     800d          .word   ANI_BOUNCE,5
     977 00006260     8004          .word   ANI_SETPLYRMODE,MODE_INAIR
     978 00006280                   WL      2,S4PJ3E+FR8
     979 000062b0                   WL      4,S4PJ3E+FR9
     980 000062e0     800b          .word   ANI_WAITHITGND
     981 000062f0     8003          .word   ANI_ZEROVELS
     982 00006300                   WL      ANI_CODE,SMALL_BOUNCE
     983                    
     984 00006330                   WL      ANI_CHANGEANIM,shn_faceup_getup2_anim
     985                    
     986                    *****************************************************************************
     987                    *
     988                    * qckr2 FALLING PUNCH
     989                    
     990 00006360            SUBR   shn_2_falling_punch_anim
     991                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   19

     992 00006360     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
     993 00006380     8003          .word   ANI_ZEROVELS
     994 00006390     8026          .word   ANI_SETSPEED,100h
     995                    
     996 000063b0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     997 000063f0                   WL      1,S2PJ3D+FR1
     998 00006420                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     999 00006460                   WL      1,S2PJ3D+FR1
    1000 00006490                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1001 000064d0                   WL      1,S2PJ3D+FR1
    1002 00006500                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1003                    
    1004 00006540                   WL      3,S2PJ3D+FR2
    1005 00006570                   WL      3,S2PJ3D+FR3
    1006 000065a0     8015          .word   ANI_OFFSET,0,64,0
    1007 000065e0                   WL      ANI_CODE,elbow_tgt2
    1008 00006610                   WL      ANI_CODE,tgt_ground
    1009                    ;       LEAPATOPP 20,999,112,96,90000h,TGT_USER,-10,0,-50
    1010 00006640                   LEAPATOPP 20,999,160,140,90000h,TGT_USER,-10,0,-50
    1011                            
    1012 000066f0     8075          .word   ANI_STARTATTACK,AT_LBDROP,10
    1013 00006720                   WL      3,S2PJ3D+FR4
    1014 00006750                   WL      3,S2PJ3D+FR5
    1015                            
    1016 00006780     800e          .word   ANI_ATTACK_ON_Z,AMODE_LBOWDROP,-24,0,-40,26,56,50
    1017 00006800                   WL      1,S2PJ3D+FR6
    1018 00006830     800b          .word   ANI_WAITHITGND
    1019 00006840     8003          .word   ANI_ZEROVELS
    1020 00006850     8007          .word   ANI_ATTACK_OFF
    1021 00006860     8037          .word   ANI_SHAKEALL,1
    1022 00006880     801f          .word   ANI_SHAKER,25
    1023                    
    1024 000068a0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    1025 000068e0                   WL      ANI_IFSTATUS2,qckrhit2
    1026                    
    1027                            ;missed
    1028 00006910                   WL      ANI_CODE,SMALL_BOUNCE
    1029 00006940                   WL      ANI_CODE,CALL_MISSES
    1030 00006970                   WL      ANI_GOTO,qckrcont2
    1031                    
    1032 000069a0           qckrhit2
    1033 000069a0                   WL      ANI_CODE,CALL_ANI_AVERAGE_MOVE
    1034 000069d0                   WL      ANI_CODE,HIT_THE_MAT
    1035 00006a00           qckrcont2
    1036 00006a00     800d          .word   ANI_BOUNCE,4
    1037 00006a20                   WL      4,S2PJ3D+FR7
    1038 00006a50                   WL      4,S2PJ3D+FR8
    1039 00006a80     800c          .word   ANI_XFLIP
    1040 00006a90                   WL      1,S3RL3A+FR6
    1041 00006ac0     800b          .word   ANI_WAITHITGND
    1042 00006ad0     8003          .word   ANI_ZEROVELS
    1043 00006ae0                   WL      ANI_CODE,SMALL_BOUNCE
    1044 00006b10                   WL      4,S3RL3A+FR6
    1045                    
    1046 00006b40                   WL      ANI_CHANGEANIM,shn_faceup_getup_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   20

    1047                    
    1048                    *************************
    1049                    *
    1050                    * zwfx4 FALLING PUNCH
    1051                    
    1052 00006b70            SUBR   shn_4_falling_punch_anim
    1053                    
    1054 00006b70     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1055 00006b90     8003          .word   ANI_ZEROVELS
    1056 00006ba0     8026          .word   ANI_SETSPEED,100h
    1057                    
    1058 00006bc0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1059 00006c00                   WL      1,S4PJ3F+FR1
    1060 00006c30                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1061 00006c70                   WL      1,S4PJ3F+FR1
    1062 00006ca0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1063 00006ce0                   WL      1,S4PJ3F+FR1
    1064 00006d10                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1065                    
    1066 00006d50                   WL      3,S4PJ3F+FR2
    1067 00006d80     8015          .word   ANI_OFFSET,0,71,0
    1068 00006dc0                   WL      ANI_CODE,zwfxset_target
    1069 00006df0                   WL      ANI_CODE,tgt_ground
    1070                    ;       LEAPATOPP 20,999,72,48h,90000h,TGT_USER,19,0,30
    1071 00006e20                   LEAPATOPP 20,999,160,140,90000h,TGT_USER,19,0,30
    1072 00006ed0                   WL      ANI_CODE,zwfxzero_x_4
    1073                    
    1074 00006f00                   WL      3,S4PJ3F+FR3
    1075 00006f30                   WL      3,S4PJ3F+FR4
    1076 00006f60                   WL      3,S4PJ3F+FR5
    1077                            
    1078 00006f90     800e          .word   ANI_ATTACK_ON_Z,AMODE_LBOWDROP,8,2,-10,23,56,50
    1079 00007010                   WL      1,S4PJ3F+FR6
    1080 00007040     800b          .word   ANI_WAITHITGND
    1081 00007050     8003          .word   ANI_ZEROVELS
    1082 00007060     8007          .word   ANI_ATTACK_OFF
    1083 00007070     8037          .word   ANI_SHAKEALL,1
    1084 00007090     801f          .word   ANI_SHAKER,25
    1085                    
    1086 000070b0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    1087 000070f0                   WL      ANI_IFSTATUS2,zwfxhit4
    1088                    
    1089                            ;missed
    1090 00007120                   WL      ANI_CODE,SMALL_BOUNCE
    1091 00007150                   WL      ANI_CODE,CALL_MISSES
    1092 00007180                   WL      ANI_GOTO,zwfxcont4
    1093                    
    1094 000071b0           zwfxhit4
    1095 000071b0                   WL      ANI_CODE,CALL_ANI_AVERAGE_MOVE
    1096 000071e0                   WL      ANI_CODE,HIT_THE_MAT
    1097 00007210           zwfxcont4
    1098 00007210     800d          .word   ANI_BOUNCE,4
    1099 00007230                   WL      4,S4PJ3F+FR7
    1100 00007260                   WL      1,S4PJ3F+FR8
    1101 00007290     800b          .word   ANI_WAITHITGND
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   21

    1102 000072a0     8003          .word   ANI_ZEROVELS
    1103 000072b0                   WL      ANI_CODE,SMALL_BOUNCE
    1104 000072e0                   WL      4,S4PJ3F+FR8
    1105                    
    1106 00007310                   WL      ANI_CHANGEANIM,shn_faceup_getup_anim
    1107                    
    1108                    
    1109 00007340           zwfxset_target
    1110                    
    1111 00007340     0d5f          calla   get_opp_process
         00007350 00000000! 
    1112 00007370     4c0b          move    a0,a11
    1113                    
    1114 00007380     b5a0          move    *a13(CLOSEST_XDIST),a0
         00007390     0370  
    1115 000073a0     0b40          cmpi    040H,a0
         000073b0     ffbf  
    1116 000073c0     c418          jrlt    zwfxdrop
    1117                    
    1118                    ;We are to side of fallen opponent, we must float toward
    1119                    ;his head or his knees
    1120                    
    1121                    ;Take into account my flip as well as my opponents flip!
    1122 000073d0     b5ae          move    *a13(OBJ_CONTROL),a14
         000073e0     0780  
    1123 000073f0     0b8e          andi    M_FLIPH,a14
         00007400 ffffffef  
    1124 00007420     b560          move    *a11(OBJ_CONTROL),a0
         00007430     0780  
    1125 00007440     0b80          andi    M_FLIPH,a0
         00007450 ffffffef  
    1126 00007470     480e          cmp     a0,a14
    1127 00007480     cb06          jrnz    zwfxhead
    1128                    
    1129 00007490     09c0          movi    TGT_KNEES,a0
         000074a0     0003  
    1130 000074b0     0d5f          calla   set_target_offsets
         000074c0 00000000! 
    1131 000074e0     0960          rets
    1132                    
    1133 000074f0           zwfxhead
    1134 000074f0     09c0          movi    TGT_HEAD,a0
         00007500     0000  
    1135 00007510     0d5f          calla   set_target_offsets
         00007520 00000000! 
    1136 00007540     0960          rets
    1137                    
    1138 00007550           zwfxdrop
    1139                    ;Just drop straight down
    1140 00007550     09c0          movi    TGT_CHEST,a0
         00007560     0001  
    1141 00007570     0d5f          calla   set_target_offsets
         00007580 00000000! 
    1142 000075a0     0960          rets
    1143                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   22

    1144                    
    1145                    ;zwfxzero_x_2
    1146                    ;       move    *a13(CLOSEST_XDIST),a0
    1147                    ;       cmpi    32,a0
    1148                    ;       jrgt    zwfxok2                 ;Is he to the side?
    1149                    ;
    1150                    ;;Don't float if dropping straight down
    1151                    ;       clr     a0
    1152                    ;       move    a0,*a13(OBJ_XVEL),L
    1153                    ;zwfxok2        rets
    1154                    
    1155                    
    1156                            ;other scripts in this file use this one, thus the file-scope label
    1157 000075b0           zero_x
    1158 000075b0           zwfxzero_x_4
    1159 000075b0     b5a0          move    *a13(CLOSEST_XDIST),a0
         000075c0     0370  
    1160 000075d0     0b40          cmpi    64,a0
         000075e0     ffbf  
    1161 000075f0     c703          jrgt    zwfxok4                 ;Is he to the side?
    1162                    
    1163                    ;Don't float if dropping straight down
    1164 00007600     5600          clr     a0
    1165 00007610     b20d          move    a0,*a13(OBJ_XVEL),L
         00007620     02d0  
    1166                    
    1167 00007630     0960  zwfxok4 rets
    1168                    
    1169                    *****************************************************************************
    1170                    *
    1171                    * nptt2 KNEE
    1172                    
    1173 00007640            SUBR   shn_2_knee_anim
    1174                    
    1175 00007640     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1176 00007660     8003          .word   ANI_ZEROVELS
    1177 00007670     8026          .word   ANI_SETSPEED,100h
    1178                    
    1179 00007690     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1180 000076a0     805f          .word   ANI_SET_WRESTLER_XFLIP
    1181                    
    1182                    
    1183 000076b0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1184 000076f0                   WL      1,S2NM3A+FR1
    1185 00007720                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1186 00007760                   WL      1,S2NM3A+FR1
    1187 00007790                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1188 000077d0                   WL      1,S2NM3A+FR1
    1189 00007800                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1190                    
    1191 00007840     8075          .word   ANI_STARTATTACK,AT_KNEE,6
    1192 00007870                   WL      3,S2NM3A+FR2
    1193                    
    1194                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1195                    ;       LEAPATOPP 21,999,32,20,90000h,TGT_CHEST,50,80,0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   23

    1196 000078a0                   WL      3,S2NM3A+FR3
    1197                    
    1198 000078d0     8006          .word   ANI_ATTACK_ON,AMODE_KNEE,36,28,38,49    ;mode,x,y,w,h
    1199 00007930                   WL      3,S2NM3A+FR4
    1200 00007960     8007          .word   ANI_ATTACK_OFF
    1201 00007970     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    1202 000079b0                   WWL     ANI_SLIDE_BACK,28h,-70000h,npttno_hit
    1203                    
    1204 00007a10           npttno_hit
    1205 00007a10                   WL      13,S2NM3A+FR5
    1206 00007a40     8028          .word   ANI_ZERO_XZVELS
    1207 00007a50                   WL      3,S2NM3A+FR6
    1208 00007a80                   WL      3,S2NM3A+FR7
    1209 00007ab0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1210 00007ad0     8049          .word   ANI_END
    1211                    
    1212                    ************
    1213                    *
    1214                    * bqkz4 KNEE
    1215                    
    1216 00007ae0            SUBR   shn_4_knee_anim
    1217                    
    1218 00007ae0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1219 00007b00     8003          .word   ANI_ZEROVELS
    1220 00007b10     8026          .word   ANI_SETSPEED,100h
    1221                    
    1222 00007b30     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1223 00007b40     805f          .word   ANI_SET_WRESTLER_XFLIP
    1224                    
    1225 00007b50                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1226 00007b90                   WL      1,S4NM3A+FR2
    1227 00007bc0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1228 00007c00                   WL      1,S4NM3A+FR2
    1229 00007c30                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1230 00007c70                   WL      1,S4NM3A+FR2
    1231 00007ca0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1232                    
    1233 00007ce0     8075          .word   ANI_STARTATTACK,AT_KNEE,6
    1234 00007d10                   WL      3,S4NM3A+FR3
    1235                    
    1236                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1237                    ;       LEAPATOPP 21,999,32,20,90000h,TGT_CHEST,45,80,0
    1238                    
    1239 00007d40     8006          .word   ANI_ATTACK_ON,AMODE_KNEE,11,22,58,60    ;mode,x,y,w,h
    1240 00007da0                   WL      3,S4NM3A+FR4
    1241 00007dd0     8007          .word   ANI_ATTACK_OFF
    1242 00007de0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    1243 00007e20                   WWL     ANI_SLIDE_BACK,28h,-70000h,bqkzno_hit
    1244                    
    1245 00007e80           bqkzno_hit
    1246 00007e80                   WL      13,S4NM3A+FR4
    1247 00007eb0                   WL      3,S4NM3A+FR5
    1248 00007ee0                   WL      3,S4NM3A+FR6
    1249 00007f10                   WL      3,S4NM3A+FR7
    1250 00007f40     8002          .word   ANI_SETMODE,MODE_NORMAL
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   24

    1251 00007f60     8049          .word   ANI_END
    1252                    
    1253                    
    1254 00007f70            SUBR   shn_combo_knee_anim
    1255                    
    1256 00007f70     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1257 00007f90     8003          .word   ANI_ZEROVELS
    1258 00007fa0     8026          .word   ANI_SETSPEED,100h
    1259                    
    1260 00007fc0                   WL      3,S4NM3A+FR2
    1261 00007ff0                   WL      3,S4NM3A+FR3
    1262                    
    1263                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1264 00008020                   LEAPATOPP 21,999,32,20,90000h,TGT_CHEST,45,78,0
    1265                    
    1266 000080d0     8006          .word   ANI_ATTACK_ON,AMODE_BIGKNEE,11,22,58,60 ;mode,x,y,w,h
    1267 00008130                   WL      3,S4NM3A+FR4
    1268 00008160     8007          .word   ANI_ATTACK_OFF
    1269 00008170                   WWL     ANI_SLIDE_BACK,28h,-70000h,bqkzno_hit_c
    1270 000081d0     8072          .WORD   ANI_INC_COMBO
    1271                    
    1272 000081e0           bqkzno_hit_c
    1273 000081e0                   WL      ANI_CODE,DO_COMBO_MESS
    1274 00008210     8073          .WORD   ANI_CLEAR_COMBO
    1275 00008220                   WL      13,S4NM3A+FR4
    1276 00008250                   WL      3,S4NM3A+FR5
    1277 00008280                   WL      3,S4NM3A+FR6
    1278 000082b0                   WL      3,S4NM3A+FR7
    1279 000082e0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1280 00008300     8049          .word   ANI_END
    1281                    
    1282                    
    1283                    *****************************************************************************
    1284                    *
    1285                    * GRAB & FLING OPPONENT (INTO A RUN)
    1286                    
    1287 00008310            SUBR   shn_2_grabfling_anim
    1288                    
    1289 00008310     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1290 00008330     8003          .word   ANI_ZEROVELS
    1291 00008340     8026          .word   ANI_SETSPEED,100h
    1292 00008360     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1293 00008370     805f          .word   ANI_SET_WRESTLER_XFLIP
    1294                    
    1295 00008380     8075          .word   ANI_STARTATTACK,AT_PUPPET,10
    1296 000083b0                   WL      2,S1TT5Z+FR2
    1297 000083e0                   WL      2,S1TT5Z+FR3
    1298 00008410                   WL      ANI_GOTO,dgtacont
    1299                    
    1300 00008440            SUBR   shn_4_grabfling_anim
    1301                    
    1302 00008440     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1303 00008460     8003          .word   ANI_ZEROVELS
    1304 00008470     8026          .word   ANI_SETSPEED,100h
    1305                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   25

    1306 00008490     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1307 000084a0     805f          .word   ANI_SET_WRESTLER_XFLIP
    1308 000084b0     8075          .word   ANI_STARTATTACK,AT_PUPPET,8
    1309                    
    1310 000084e0           dgtacont
    1311                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1312 000084e0                   LEAPATOPP 8,50,20,40,90000h,TGT_CHEST,40,0,25
    1313 00008590                   WL      ANI_SET_YVEL,0000h
    1314 000085c0                   WL      5,S4GF3B+FR1
    1315                    
    1316 000085f0     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET_NOFLAIL,33,56,44,18 ;mode,x,y,w,h
    1317 00008650                   WWL     ANI_WAITHITOPP,6,S4GF3B+FR2
    1318 00008690     8028          .word   ANI_ZERO_XZVELS
    1319 000086a0                   WWL     ANI_WAITHITOPP,2,S4GF3B+FR2
    1320 000086e0     8007          .word   ANI_ATTACK_OFF
    1321 000086f0                   WL      ANI_IFNOTSTATUS2,dgtamissedb
    1322 00008720                   WL      ANI_IFBLOCKED,dgtamissedb
    1323                    
    1324                    ;got him
    1325 00008750     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    1326 00008790                   WL      ANI_CODE,DO_GRUNT
    1327                            .ref    CALL_SETUP
    1328 000087c0                   WL      ANI_CODE,CALL_SETUP
    1329 000087f0     8012          .word   ANI_ATTACHZ,0,0,10              ;x & y don't matter.
    1330 00008830     8050          .word   ANI_SETOPPMODE,MODE_GHOST
    1331 00008850     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    1332                    
    1333                    ; attacker sequence
    1334 00008870                   WWLLW   ANI_SUPERSLAVE2,10,S4GF3B+FR2,dgtapuppet_tbl,0
    1335 000088e0                   WWLLW   ANI_SUPERSLAVE2,6,S4GF3B+FR3,dgtapuppet_tbl,1
    1336 00008950                   WWLLW   ANI_SUPERSLAVE2,4,S4GF3B+FR4,dgtapuppet_tbl,2
    1337 000089c0                   WWLLW   ANI_SUPERSLAVE2,4,S4GF3B+FR5,dgtapuppet_tbl,3
    1338 00008a30                   WWLLW   ANI_SUPERSLAVE2,4,S4GF3B+FR6,dgtapuppet_tbl,4
    1339 00008aa0                   WWLLW   ANI_SUPERSLAVE2,4,S4GF3B+FR7,dgtapuppet_tbl,5
    1340                    
    1341 00008b10                   WL      ANI_SLAVEANIM,dgtastrt_run_tbl
    1342                    
    1343 00008b40     8051          .word   ANI_CLROPPMODE,MODE_GHOST
    1344 00008b60     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    1345 00008b80     800a          .word   ANI_DETACH
    1346 00008b90                   WL      6,S4GF3B+FR8
    1347 00008bc0                   WL      4,S4GF3B+FR10
    1348 00008bf0     8015          .word   ANI_OFFSET,-4,0,0                       ;x,y,z
    1349                    
    1350 00008c30     801b          .word   ANI_SETFACING
    1351 00008c40     8002          .word   ANI_SETMODE,MODE_NORMAL
    1352 00008c60     8049          .word   ANI_END
    1353                    
    1354                    
    1355 00008c70           dgtamissedb
    1356                            .ref    fling_delay
    1357 00008c70                   WL      ANI_CODE,fling_delay
    1358 00008ca0                   WL      ANI_IFNOTSTATUS2,dgtamissed
    1359 00008cd0                   WL      25,S4GF3B+FR3
    1360                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   26

    1361 00008d00           dgtamissed
    1362 00008d00                   WL      ANI_CODE,CALL_MISSES
    1363 00008d30                   WL      6,S4GF3B+FR3
    1364 00008d60                   WL      3,S4GF3B+FR2
    1365 00008d90                   WL      3,S4GF3B+FR1
    1366                    
    1367 00008dc0     8022          .word   ANI_FACEDOWN
    1368 00008dd0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1369 00008df0     8049          .word   ANI_END
    1370                    
    1371                    
    1372 00008e00            SUBR   DO_GRUNT
    1373 00008e00                   WRSNDX  GRABFLING_T1,GRABFLING_T2
    1374 00009140     0960          RETS
    1375                    
    1376 00009150           dgtapuppet_tbl
    1377 00009150 00009270'  .long dgtaBret
    1378 00009170 00009450'  .long dgtaRazor
    1379 00009190 00009630'  .long dgtaTaker
    1380 000091b0 00009810'  .long dgtaYokozuna
    1381 000091d0 000099f0'  .long dgtaShawn
    1382 000091f0 00009bd0'  .long dgtaBamBam
    1383 00009210 00009db0'  .long dgtaDoink
    1384 00009230 00009f90'  .long dgtaAdam
    1385 00009250 00009fb0'  .long dgtaLex
    1386                    
    1387 00009270           dgtaBret
    1388 00009270            LWWW H4YR3A+FR1,53,7,1
    1389 000092c0            LWWW H4YR3A+FR2,49,9,1
    1390 00009310            LWWW H4YR3A+FR3,48,9,1
    1391 00009360            LWWW H4YR3A+FR5,43,11,1
    1392 000093b0            LWWW H3RN3A+FR1,8,5,0
    1393 00009400            LWWW H3RN3A+FR2,-25,8,0
    1394                    
    1395 00009450           dgtaRazor
    1396 00009450            LWWW R4YR3A+FR1,32,17,0
    1397 000094a0            LWWW R4YR3A+FR2,21,20,0
    1398 000094f0            LWWW R4YR3A+FR3,1,11,0
    1399 00009540            LWWW R4YR3A+FR4,4,15,0
    1400 00009590            LWWW R3RN3D+FR10,1,16,0
    1401 000095e0            LWWW R3RN3D+FR11,-20,16,0
    1402                    
    1403 00009630           dgtaTaker
    1404 00009630            LWWW U4YR3B+FR2,34,18,0
    1405 00009680            LWWW U4YR3B+FR3,37,16,0
    1406 000096d0            LWWW U4YR3B+FR4,29,24,0
    1407 00009720            LWWW U4YR3B+FR5,27,24,0
    1408 00009770            LWWW U3RN3A+FR2,-11,15,0
    1409 000097c0            LWWW U3RN3A+FR2,-25,14,0
    1410                    
    1411 00009810           dgtaYokozuna
    1412 00009810            LWWW Y4YR3A+FR1,59,11,1
    1413 00009860            LWWW Y4YR3A+FR4,37,13,1
    1414 000098b0            LWWW Y4YR3A+FR5,32,11,1
    1415 00009900            LWWW Y4YR3A+FR7,5,3,1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   27

    1416 00009950            LWWW Y3RN3C+FR7,10,13,0
    1417 000099a0            LWWW Y3RN3C+FR8,-10,12,0
    1418                    
    1419 000099f0           dgtaShawn
    1420 000099f0            LWWW S4YR3A+FR2,38,5,1
    1421 00009a40            LWWW S4YR3A+FR3,52,-3,1
    1422 00009a90            LWWW S4YR3A+FR5,21,11,1
    1423 00009ae0            LWWW S4YR3A+FR6,19,10,1
    1424 00009b30            LWWW S3RN3A+FR2,8,11,0
    1425 00009b80            LWWW S3RN3A+FR3,-20,11,0
    1426                    
    1427 00009bd0           dgtaBamBam
    1428 00009bd0            LWWW B4YR3A+FR3,37,10,0
    1429 00009c20            LWWW B4YR3A+FR4,39,8,0
    1430 00009c70            LWWW B4YR3A+FR5,42,7,0
    1431 00009cc0            LWWW B4YR3A+FR7,-1,6,0
    1432 00009d10            LWWW B3RN3A+FR1,-14,22,0
    1433 00009d60            LWWW B3RN3A+FR2,-36,22,0
    1434                    
    1435 00009db0           dgtaDoink
    1436 00009db0            LWWW D4YR3B+FR1,64,16,1
    1437 00009e00            LWWW D4YR3B+FR2,60,20,1
    1438 00009e50            LWWW D4YR3B+FR3,47,19,1
    1439 00009ea0            LWWW D4YR3B+FR4,38,20,1
    1440 00009ef0            LWWW D3RN3B+FR3,16,20,0
    1441 00009f40            LWWW D3RN3B+FR4,-15,18,0
    1442                    
    1443 00009f90           dgtaAdam
    1444 00009f90 00000000   .long 0
    1445                    
    1446 00009fb0           dgtaLex
    1447 00009fb0            LWWW L4YR3B+FR1,66,16,1
    1448 0000a000            LWWW L4YR3B+FR2,54,10,1
    1449 0000a050            LWWW L4YR3B+FR3,38,13,1
    1450 0000a0a0            LWWW L4YR3B+FR4,13,11,1
    1451 0000a0f0            LWWW L3RN3B+FR2,-5,19,0
    1452 0000a140            LWWW L3RN3B+FR3,0,13,0
    1453                    
    1454 0000a190           dgtastrt_run_tbl
    1455 0000a190 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    1456 0000a1f0 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    1457 0000a250 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    1458 0000a2b0 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    1459                    
    1460                    
    1461                    *****************************************************************************
    1462                    *
    1463                    * CLIMB UP TURNBUCKLES
    1464                    
    1465 0000a310            SUBR   shn_climb_up_anim
    1466                    
    1467 0000a310     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE
    1468 0000a330     8003          .word   ANI_ZEROVELS
    1469 0000a340     8026          .word   ANI_SETSPEED,100h
    1470 0000a360     807f          .word   ANI_SCROLL_CTRL,SHN_TBUKLY
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   28

    1471 0000a380                   WL      3,S2CT2A+FR4
    1472 0000a3b0                   WL      ANI_CODE,tgt_tbukl
    1473 0000a3e0     8027          .word   ANI_LEAPATPOS,24,200,-12,12,0   ;jxjpticks,dist,xoff,yoff,zoff
    1474 0000a440     8004          .word   ANI_SETPLYRMODE,MODE_INAIR
    1475 0000a460                   WL      6,S2CT2A+FR5
    1476 0000a490                   WL      5,S2CT2A+FR6
    1477 0000a4c0                   WL      5,S2CT2A+FR7
    1478 0000a4f0                   WL      4,S2CT2A+FR8
    1479 0000a520                   WL      4,S2CT2A+FR9
    1480                    
    1481 0000a550     8003          .word   ANI_ZEROVELS
    1482 0000a560     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOGRAVITY
    1483 0000a580     8004          .word   ANI_SETPLYRMODE,MODE_ONTURNBKL
    1484 0000a5a0     801b          .word   ANI_SETFACING
    1485 0000a5b0     804d          .word   ANI_SHAKECORNER
    1486                    
    1487 0000a5c0     8015          .word   ANI_OFFSET,2,0,0                        ;x,y,z
    1488 0000a600     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOGRAVITY
    1489 0000a620     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
    1490 0000a640                   WL      ANI_CODE,tbukl_flip
    1491 0000a670           jxjprepeat
    1492 0000a670                   WL      5,S4SB4B+FR1
    1493 0000a6a0                   WL      ANI_CODE,tbukl_flip
    1494 0000a6d0                   WL      5,S4SB4B+FR2
    1495 0000a700                   WL      ANI_CODE,tbukl_flip
    1496 0000a730                   WL      5,S4SB4B+FR3
    1497 0000a760                   WL      ANI_CODE,tbukl_flip
    1498 0000a790                   WL      5,S4SB4B+FR4
    1499 0000a7c0                   WL      ANI_CODE,tbukl_flip
    1500 0000a7f0                   WL      5,S4SB4B+FR5
    1501 0000a820                   WL      ANI_CODE,tbukl_flip
    1502 0000a850                   WL      5,S4SB4B+FR6
    1503 0000a880                   WL      ANI_CODE,tbukl_flip
    1504 0000a8b0                   WL      5,S4SB4B+FR7
    1505 0000a8e0                   WL      ANI_CODE,tbukl_flip
    1506 0000a910                   WL      5,S4SB4B+FR8
    1507 0000a940                   WL      ANI_CODE,tbukl_flip
    1508 0000a970                   WL      ANI_GOTO,jxjprepeat
    1509                    
    1510                    
    1511                    *****************************************************************************
    1512                    *
    1513                    * CLIMB DOWN TURNBUCKLES
    1514                    
    1515 0000a9a0            SUBR   shn_climb_down_anim
    1516                    
    1517 0000a9a0     8002          .word   ANI_SETMODE,MODE_UNINT | MODE_NOAUTOFLIP | MODE_NOCONFINE | MODE_NOGRAVITY
    1518 0000a9c0     8003          .word   ANI_ZEROVELS
    1519 0000a9d0     8026          .word   ANI_SETSPEED,100h
    1520 0000a9f0     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
    1521                    
    1522 0000aa10                   WL      ANI_CODE,face_inside
    1523                    
    1524 0000aa40     804d          .word   ANI_SHAKECORNER
    1525 0000aa50                   WL      3,S4MP4D+FR1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   29

    1526 0000aa80     8015          .word   ANI_OFFSET,0,15,0
    1527 0000aac0                   WL      3,S4MP4D+FR2
    1528                    
    1529 0000aaf0                   WLW     ANI_SET_XVEL,10000h,AM_FACE_REL
    1530 0000ab30                   WLW     ANI_SET_ZVEL,10000h,AM_ABS
    1531 0000ab70                   WL      ANI_SET_YVEL,20000h
    1532                    
    1533 0000aba0     800f          .word   ANI_GRAVITY_ON
    1534 0000abb0                   WL      8,S4MP4D+FR3
    1535 0000abe0                   WL      1,S4MP4D+FR5
    1536 0000ac10     800b          .word   ANI_WAITHITGND
    1537 0000ac20     8003          .word   ANI_ZEROVELS
    1538                    
    1539 0000ac30                   WL      3,S4MP4D+FR6
    1540 0000ac60                   WL      3,S4MP4D+FR7
    1541 0000ac90                   WL      3,S4MP4D+FR8
    1542                    
    1543 0000acc0     8022          .word   ANI_FACEDOWN
    1544                    
    1545 0000acd0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1546 0000acf0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1547 0000ad10     8049          .word   ANI_END
    1548                    
    1549                    
    1550                    ******************************************************************************
    1551                    * Check to see if opponent is getting in/out of ring, and turn accordingly!
    1552                    *
    1553                    * Rules: If your opponent is inside, always face inside.  If he's outside,
    1554                    *       face in 4 or 6, depending on opp position.
    1555                    
    1556 0000ad20            SUBR   tbukl_flip
    1557                    
    1558 0000ad20     0d5f          calla   get_opp_process         ;closest opponent process
         0000ad30 00000000! 
    1559 0000ad50     b400          move    *a0(INRING),a0          ;0 = in ring, 1 = outside
         0000ad60     0560  
    1560 0000ad70     c001          jruc    ennicont
    1561                    
    1562                    **********
    1563                    * Always face inside
    1564                    
    1565 0000ad80            SUBR   face_inside
    1566 0000ad80     5600          clr     a0
    1567                    
    1568 0000ad90     b5ae  ennicont        move    *a13(OBJ_XPOSINT),a14
         0000ada0     0110  
    1569 0000adb0     0b4e          cmpi    RING_X_CENTER,a14
         0000adc0     fbcd  
    1570 0000add0     c503          jrge    ennionrt
    1571                    
    1572 0000ade0           ennionlft       ;On left turnbuckle
    1573 0000ade0     4c00          move    a0,a0
    1574 0000adf0     ca07          jrz     ennino
    1575 0000ae00     c002          jruc    enniout
    1576                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   30

    1577 0000ae10           ennionrt        ;On right turnbuckle
    1578 0000ae10     4c00          move    a0,a0
    1579 0000ae20     ca14          jrz     enniyes
    1580                    
    1581 0000ae30           enniout ;opponent is outside
    1582 0000ae30     b5ae          move    *a13(NEW_FACING_DIR),a14
         0000ae40     04d0  
    1583 0000ae50     1fae          btst    MOVE_LEFT_BIT,a14
    1584 0000ae60     cb10          jrnz    enniyes
    1585                            ;fall   ennino
    1586                    
    1587 0000ae70           ennino  ;doink is the opposite...
    1588 0000ae70     b5ae          move    *a13(WRESTLERNUM),a14
         0000ae80     0590  
    1589 0000ae90     0b4e          cmpi    W_DOINK,a14
         0000aea0     fff9  
    1590 0000aeb0     ca13          jreq    enniyfx
    1591                    
    1592                            ;so is yoko.
    1593 0000aec0     0b4e          cmpi    W_YOKO,a14
         0000aed0     fffc  
    1594 0000aee0     ca10          jreq    enniyfx
    1595                    
    1596 0000aef0     b5ae  enninfx move    *a13(OBJ_CONTROL),a14
         0000af00     0780  
    1597 0000af10     0b8e          andni   M_FLIPH,a14
         0000af20 00000010  
    1598 0000af40     b1cd          move    a14,*a13(OBJ_CONTROL)
         0000af50     0780  
    1599 0000af60     0960          rets
    1600                    
    1601 0000af70           enniyes ;doink is the opposite...
    1602 0000af70     b5ae          move    *a13(WRESTLERNUM),a14
         0000af80     0590  
    1603 0000af90     0b4e          cmpi    W_DOINK,a14
         0000afa0     fff9  
    1604 0000afb0     caf3          jreq    enninfx
    1605                            
    1606                            ;so is yoko.
    1607 0000afc0     0b4e          cmpi    W_YOKO,a14
         0000afd0     fffc  
    1608 0000afe0     caf0          jreq    enninfx
    1609                    
    1610 0000aff0     b5ae  enniyfx move    *a13(OBJ_CONTROL),a14
         0000b000     0780  
    1611 0000b010     0bae          ori     M_FLIPH,a14
         0000b020 00000010  
    1612 0000b040     b1cd          move    a14,*a13(OBJ_CONTROL)
         0000b050     0780  
    1613 0000b060     0960          rets
    1614                    
    1615                    *****************************************************************************
    1616                    *
    1617                    * kmbw3 FLYING KICK (combo version)
    1618                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   31

    1619 0000b070            SUBR   shn_combo_flying_kick_anim
    1620 0000b070     8028          .word   ANI_ZERO_XZVELS
    1621 0000b080                   WL      ANI_SET_YVEL,44000h
    1622 0000b0b0                   WL      2,S3DC3A+FR4
    1623 0000b0e0     8015          .word   ANI_OFFSET,0,47h,0
    1624 0000b120                   WL      3,S3DC3A+FR5
    1625 0000b150                   WL      7,S3DC3A+FR6
    1626                    
    1627 0000b180     803a          .word   ANI_CLR_STATUS
    1628                    
    1629 0000b190     8006          .word   ANI_ATTACK_ON, AMODE_FLYKICK,23,-42,59,60
    1630 0000b1f0                   WL      3,S3DC3A+FR7
    1631 0000b220     8007          .word   ANI_ATTACK_OFF
    1632                    
    1633 0000b230     8072          .WORD   ANI_INC_COMBO
    1634 0000b240                   WL      ANI_CODE,DO_COMBO_MESS
    1635 0000b270     8073          .WORD   ANI_CLEAR_COMBO
    1636                    
    1637 0000b280                   WL      3,S3DC3A+FR8
    1638 0000b2b0                   WL      3,S3DC3A+FR9
    1639 0000b2e0     800b          .word   ANI_WAITHITGND
    1640 0000b2f0     8003          .word   ANI_ZEROVELS
    1641 0000b300                   WL      ANI_CODE,HIT_THE_MAT
    1642 0000b330     801f          .word   ANI_SHAKER,20
    1643 0000b350                   WL      5,S3DC3A+FR10
    1644 0000b380     800c          .word   ANI_XFLIP
    1645                    
    1646                            ;and now get up
    1647                    
    1648                    ;Getting up, set no_collis
    1649 0000b390     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    1650                    
    1651 0000b3b0                   WL      ANI_CODE,choose_2or4
    1652 0000b3e0                   WL      ANI_IFSTATUS2,getup_in_4
    1653 0000b410                   WL      ANI_GOTO,getup_in_2
    1654                    
    1655                    
    1656                    *****************************************************************************
    1657                    *
    1658                    * jyhp3 FLYING KICK
    1659                    
    1660 0000b440            SUBR   shn_flying_kick_anim
    1661                    
    1662 0000b440     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1663 0000b460     8026          .word   ANI_SETSPEED,100h
    1664 0000b480     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1665 0000b490     805f          .word   ANI_SET_WRESTLER_XFLIP
    1666                    
    1667 0000b4a0                   WL      3,S3DC3A+FR3
    1668                     
    1669                            ;first, if we're holding his head, let him go.
    1670 0000b4d0                   WWL     ANI_IFOPPMODE,~MODE_HEADHELD,jyhpno_hdrel2
    1671 0000b510     800a          .word   ANI_DETACH
    1672 0000b520           jyhpno_hdrel2
    1673                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   32

    1674 0000b520     8075          .word   ANI_STARTATTACK,AT_LEAPING,19
    1675                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1676 0000b550                   LEAPATOPP 18,999,160,65,90000h,TGT_HEAD,30,100,0
    1677 0000b600                   WL      ANI_CODE,no_bk_xvel
    1678                    
    1679 0000b630                   WL      2,S3DC3A+FR4
    1680 0000b660     8015          .word   ANI_OFFSET,0,47h,0
    1681 0000b6a0                   WL      3,S3DC3A+FR5
    1682 0000b6d0                   WL      6,S3DC3A+FR6
    1683                    
    1684 0000b700     8006          .word   ANI_ATTACK_ON, AMODE_FLYKICK,23,-22,49,40
    1685 0000b760                   WL      5,S3DC3A+FR7
    1686 0000b790     8007          .word   ANI_ATTACK_OFF
    1687 0000b7a0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_1,2,2
    1688                    
    1689 0000b7e0                   WL      3,S3DC3A+FR8
    1690 0000b810                   WL      3,S3DC3A+FR9
    1691 0000b840     800b          .word   ANI_WAITHITGND
    1692 0000b850     8003          .word   ANI_ZEROVELS
    1693 0000b860                   WL      ANI_CODE,HIT_THE_MAT
    1694 0000b890     801f          .word   ANI_SHAKER,20
    1695 0000b8b0                   WL      5,S3DC3A+FR10
    1696 0000b8e0     800c          .word   ANI_XFLIP
    1697                    
    1698                            ;and now get up
    1699                    
    1700                    ;Getting up, set no_collis
    1701 0000b8f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    1702                    
    1703 0000b910                   WL      ANI_CODE,choose_2or4
    1704 0000b940                   WL      ANI_IFSTATUS2,getup_in_4
    1705                    
    1706 0000b970           getup_in_2
    1707 0000b970                   WL      3,S3RL3A+FR6
    1708 0000b9a0                   WL      3,S3RL3A+FR7
    1709 0000b9d0                   WL      3,S3RL3A+FR8
    1710                    
    1711 0000ba00                   WL      3,S3GU2A+FR2
    1712 0000ba30                   WL      3,S3GU2A+FR3
    1713 0000ba60                   WL      3,S3GU2A+FR4
    1714 0000ba90                   WL      3,S3GU2A+FR5
    1715 0000bac0                   WL      3,S3GU2A+FR6
    1716 0000baf0                   WL      3,S3GU2A+FR7
    1717                    
    1718 0000bb20                   WL      2,S3GU2A+FR8
    1719 0000bb50     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1720 0000bb60     805f          .word   ANI_SET_WRESTLER_XFLIP
    1721 0000bb70                   WL      2,S3GU2A+FR8
    1722 0000bba0                   WL      4,S3GU2A+FR9
    1723                    
    1724 0000bbd0     8068          .word   ANI_SAFE_TIME,20
    1725                     
    1726 0000bbf0                   WL      ANI_CODE,free_toss_check
    1727 0000bc20                   WL      ANI_IFNOTSTATUS2,jyhpno_freetoss
    1728 0000bc50     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,33,85,44,17
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   33

    1729 0000bcb0                   WL      1,S3GU2A+FR9
    1730 0000bce0     8007          .word   ANI_ATTACK_OFF
    1731 0000bcf0                   WL      ANI_IFNOTSTATUS2,jyhpno_freetoss
    1732                    
    1733                            ;Opponent standing too close -- free toss
    1734 0000bd20                   WL      ANI_CODE,setup_freetoss
    1735 0000bd50                   WL      ANI_CHANGEANIM,shn_4_push_anim
    1736 0000bd80           jyhpno_freetoss
    1737                    
    1738 0000bd80     8021          .word   ANI_FACEUP
    1739 0000bd90     8002          .word   ANI_SETMODE,MODE_NORMAL
    1740 0000bdb0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1741 0000bdd0     8049          .word   ANI_END
    1742                    
    1743                    
    1744 0000bde0           getup_in_4
    1745 0000bde0                   WL      3,S3RL3A+FR4
    1746 0000be10                   WL      3,S3RL3A+FR3
    1747 0000be40                   WL      3,S3RL3A+FR2
    1748                    
    1749 0000be70                   WL      3,S3GU4A+FR2
    1750 0000bea0                   WL      3,S3GU4A+FR3
    1751 0000bed0                   WL      3,S3GU4A+FR4
    1752 0000bf00                   WL      3,S3GU4A+FR5
    1753 0000bf30                   WL      3,S3GU4A+FR6
    1754 0000bf60                   WL      3,S3GU4A+FR7
    1755                    
    1756 0000bf90                   WL      2,S3GU4A+FR8
    1757 0000bfc0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1758 0000bfd0     805f          .word   ANI_SET_WRESTLER_XFLIP
    1759 0000bfe0                   WL      2,S3GU4A+FR8
    1760 0000c010                   WL      4,S3GU4A+FR9
    1761                    
    1762 0000c040     8068          .word   ANI_SAFE_TIME,20
    1763                    
    1764 0000c060                   WL      ANI_CODE,free_toss_check
    1765 0000c090                   WL      ANI_IFNOTSTATUS2,jyhpno_freetoss2
    1766 0000c0c0     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,33,85,44,17
    1767 0000c120                   WL      1,S3GU4A+FR9
    1768 0000c150     8007          .word   ANI_ATTACK_OFF
    1769 0000c160                   WL      ANI_IFNOTSTATUS2,jyhpno_freetoss2
    1770                    
    1771                            ;Opponent standing too close -- free toss
    1772 0000c190                   WL      ANI_CODE,setup_freetoss
    1773 0000c1c0                   WL      ANI_CHANGEANIM,shn_4_push_anim
    1774 0000c1f0           jyhpno_freetoss2
    1775                    
    1776 0000c1f0     8022          .word   ANI_FACEDOWN
    1777 0000c200     8002          .word   ANI_SETMODE,MODE_NORMAL
    1778 0000c220     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1779 0000c240     8049          .word   ANI_END
    1780                    
    1781 0000c250           jyhpckongrnd
    1782 0000c250     b5a1          move    *a13(ANIMODE),a1
         0000c260     0660  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   34

    1783 0000c270     0b81          andni   MODE_STATUS2,a1
         0000c280 00000200  
    1784 0000c2a0     b02d          move    a1,*a13(ANIMODE)
         0000c2b0     0660  
    1785                    
    1786 0000c2c0     0d5f          calla   get_opp_process         ;closest opponent process
         0000c2d0 00000000! 
    1787 0000c2f0     b400          move    *a0(PLYRMODE),a0
         0000c300     05c0  
    1788 0000c310     0b40          cmpi    MODE_ONGROUND,a0
         0000c320     fffb  
    1789 0000c330     ca01          jrz     jyhpinplace
    1790 0000c340     0960          rets
    1791                    
    1792 0000c350           jyhpinplace
    1793 0000c350     b5a1          move    *a13(ANIMODE),a1
         0000c360     0660  
    1794 0000c370     0ba1          ori     MODE_STATUS2,a1
         0000c380 00000200  
    1795 0000c3a0     b02d          move    a1,*a13(ANIMODE)
         0000c3b0     0660  
    1796 0000c3c0     0960          rets
    1797                    
    1798                    ******************************************************************************
    1799                    *
    1800                    * SPECIAL FUNCTIONS
    1801                    
    1802                    **********
    1803                    * If our facings match, go for the knees.  If they differ, go for the chest.
    1804                    * (jump across the centerline)
    1805                    
    1806 0000c3d0           elbow_tgt1
    1807                    
    1808 0000c3d0     0d5f          calla   get_opp_process
         0000c3e0 00000000! 
    1809 0000c400     4c0b          move    a0,a11
    1810                    
    1811 0000c410     b5a0          move    *a13(FACING_DIR),a0
         0000c420     04c0  
    1812 0000c430     b561          move    *a11(FACING_DIR),a1
         0000c440     04c0  
    1813 0000c450     0b80          andi    MOVE_RIGHT|MOVE_LEFT,a0
         0000c460 fffffff3  
    1814 0000c480     0b81          andi    MOVE_RIGHT|MOVE_LEFT,a1
         0000c490 fffffff3  
    1815 0000c4b0     4801          cmp     a0,a1
    1816 0000c4c0     cb06          jrne    bvgghead
    1817                    
    1818 0000c4d0     09c0          movi    TGT_KNEES,a0
         0000c4e0     0003  
    1819 0000c4f0     0d5f          calla   set_target_offsets
         0000c500 00000000! 
    1820 0000c520     0960          rets
    1821                    
    1822 0000c530           bvgghead
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   35

    1823 0000c530     09c0          movi    TGT_CHEST,a0
         0000c540     0001  
    1824 0000c550     0d5f          calla   set_target_offsets
         0000c560 00000000! 
    1825 0000c580     0960          rets
    1826                    
    1827                    
    1828                    **********
    1829                    * just like elbow_tgt1, only backwards (stay on one side of the centerline)
    1830                    *
    1831                    
    1832 0000c590           elbow_tgt2
    1833                    
    1834 0000c590     0d5f          calla   get_opp_process
         0000c5a0 00000000! 
    1835 0000c5c0     4c0b          move    a0,a11
    1836                    
    1837 0000c5d0     b5a0          move    *a13(FACING_DIR),a0
         0000c5e0     04c0  
    1838 0000c5f0     b561          move    *a11(FACING_DIR),a1
         0000c600     04c0  
    1839 0000c610     0b80          andi    MOVE_RIGHT|MOVE_LEFT,a0
         0000c620 fffffff3  
    1840 0000c640     0b81          andi    MOVE_RIGHT|MOVE_LEFT,a1
         0000c650 fffffff3  
    1841 0000c670     4801          cmp     a0,a1
    1842 0000c680     ca06          jreq    fivuhead
    1843                    
    1844 0000c690     09c0          movi    TGT_GROIN,a0
         0000c6a0     0002  
    1845 0000c6b0     0d5f          calla   set_target_offsets
         0000c6c0 00000000! 
    1846 0000c6e0     0960          rets
    1847                    
    1848 0000c6f0           fivuhead
    1849 0000c6f0     09c0          movi    TGT_CHEST,a0
         0000c700     0001  
    1850 0000c710     0d5f          calla   set_target_offsets
         0000c720 00000000! 
    1851 0000c740     0960          rets
    1852                    
    1853                    *****************************************************************************
    1854                    
    1855 0000c750            SUBR   shn_roll_frames
    1856                    
    1857 0000c750     0007          .word   7               ;speed
    1858 0000c760 00050000          .long   50000h          ;z velocity
    1859 0000c780 00000909          .long   10000h*9/255    ;inv multiply (0-255 -> 0-11)
    1860                    
    1861 0000c7a0 00000140!         .long   S3RL3A+FR10     ;0
    1862 0000c7c0 00000020!         .long   S3RL3A+FR1      ;1
    1863 0000c7e0 00000040!         .long   S3RL3A+FR2      ;2
    1864 0000c800 00000060!         .long   S3RL3A+FR3      ;3
    1865 0000c820 00000080!         .long   S3RL3A+FR4      ;4
    1866 0000c840 000000a0!         .long   S3RL3A+FR5      ;5
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   36

    1867 0000c860 000000c0!         .long   S3RL3A+FR6      ;6
    1868 0000c880 000000e0!         .long   S3RL3A+FR7      ;7
    1869 0000c8a0 00000100!         .long   S3RL3A+FR8      ;8
    1870 0000c8c0 00000120!         .long   S3RL3A+FR9      ;9
    1871 0000c8e0 00000000          .long   0,0,0,0,0,0,0
    1872                    
    1873                    ;FIX!!  Make throw out of ring if close to ropes
    1874                    *****************************************************************************
    1875                    *
    1876                    * FLIP/FALL FROM HIPTOSS
    1877                    
    1878 0000c9c0            SUBR   shn_tossed_anim
    1879                    
    1880 0000c9c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1881 0000c9e0     8026          .word   ANI_SETSPEED,100h
    1882                    
    1883 0000ca00                   WL      ANI_CODE,ckzpos
    1884                    
    1885 0000ca30     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    1886                    
    1887 0000ca50     8034          .word   ANI_GETUP,STAY_TIME
    1888 0000ca70                   WL      ANI_CODE,HIT_THE_MAT
    1889 0000caa0                   WLW     ANI_SET_XVEL,20000h,AM_HIT_REL
    1890 0000cae0                   WL      ANI_SET_YVEL,50000h
    1891 0000cb10     8015          .word   ANI_OFFSET,15,0,0       ;x,y,z
    1892                    
    1893 0000cb50                   WL      4,S3CP3B+FR1
    1894 0000cb80                   WL      4,S3CP3B+FR2
    1895 0000cbb0                   WL      4,S3CP3B+FR3
    1896 0000cbe0                   WL      4,S3CP3B+FR4
    1897 0000cc10                   WL      4,S3CP3B+FR5
    1898 0000cc40                   WL      4,S3CP3B+FR6
    1899                    
    1900 0000cc70     800b          .word   ANI_WAITHITGND
    1901 0000cc80                   WL      ANI_CODE,SMALL_BOUNCE
    1902 0000ccb0     8003          .word   ANI_ZEROVELS
    1903 0000ccc0                   WL      4,S3CP3B+FR7
    1904                    
    1905 0000ccf0     8054          .word   ANI_WAITROLL
    1906 0000cd00                   WL      ANI_CHANGEANIM,shn_faceup_getup_anim
    1907                    ;       .word   ANI_END
    1908                    
    1909                    ;FIX!!  Make throw out of ring if close to ropes
    1910                    *****************************************************************************
    1911                    *
    1912                    * FLIP/FALL FROM BAM BAM DUCK TOSS
    1913                    
    1914 0000cd30            SUBR   shn_tossed2_anim
    1915                    
    1916 0000cd30     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1917 0000cd50     8026          .word   ANI_SETSPEED,100h
    1918                    
    1919 0000cd70                   WL      ANI_CODE,ckzpos
    1920                    
    1921 0000cda0                   WLW     ANI_SET_XVEL,60000h,AM_HIT_REL
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   37

    1922 0000cde0                   WL      ANI_SET_YVEL,30000h
    1923 0000ce10     8015          .word   ANI_OFFSET,20,20,0                      ;x,y,z
    1924 0000ce50                   WL      4,S3OS3X+FR8
    1925 0000ce80     800b          .word   ANI_WAITHITGND
    1926 0000ce90     8003          .word   ANI_ZEROVELS
    1927 0000cea0                   WL      ANI_CODE,HIT_THE_MAT
    1928 0000ced0     8037          .word   ANI_SHAKEALL,2
    1929 0000cef0     801f          .word   ANI_SHAKER,30
    1930 0000cf10     8034          .word   ANI_GETUP,STAY_TIME
    1931 0000cf30     8038          .word   ANI_DAMAGE,D_HIPTOSS
    1932                    
    1933 0000cf50                   WL      4,S3OS3X+FR9
    1934 0000cf80                   WL      4,S3OS3X+FR10
    1935                    
    1936 0000cfb0                   WLW     ANI_SET_XVEL,20000h,AM_HIT_REL
    1937 0000cff0                   WL      ANI_SET_YVEL,50000h
    1938 0000d020     8015          .word   ANI_OFFSET,15,0,0       ;x,y,z
    1939                    
    1940 0000d060                   WL      4,S3CP3B+FR1
    1941 0000d090                   WL      4,S3CP3B+FR2
    1942 0000d0c0                   WL      4,S3CP3B+FR3
    1943 0000d0f0                   WL      4,S3CP3B+FR4
    1944 0000d120                   WL      4,S3CP3B+FR5
    1945 0000d150                   WL      4,S3CP3B+FR6
    1946                    
    1947 0000d180     800b          .word   ANI_WAITHITGND
    1948 0000d190                   WL      ANI_CODE,SMALL_BOUNCE
    1949 0000d1c0     8003          .word   ANI_ZEROVELS
    1950 0000d1d0                   WL      4,S3CP3B+FR7
    1951                    
    1952 0000d200     8054          .word   ANI_WAITROLL
    1953 0000d210                   WL      ANI_CHANGEANIM,shn_faceup_getup_anim
    1954                    ;       .word   ANI_END
    1955                    
    1956                    *****************************************************************************
    1957                    *
    1958                    
    1959 0000d240            SUBR   shn_knockdwn_anim
    1960                    
    1961 0000d240     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1962 0000d260     8003          .word   ANI_ZEROVELS
    1963 0000d270     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    1964 0000d290     8026          .word   ANI_SETSPEED,100h
    1965 0000d2b0     800c          .word   ANI_XFLIP
    1966                     
    1967                    
    1968 0000d2c0                   WL      2,S3GU4A+FR9
    1969 0000d2f0                   WL      2,S3GU4A+FR6
    1970 0000d320                   WL      2,S3GU4A+FR4
    1971 0000d350                   WL      ANI_SET_YVEL,39000h
    1972                    
    1973 0000d380                   WL      3,S3CP3B+FR2
    1974 0000d3b0     805e          .word   ANI_DEBRIS,100,1,0,8,0          ;%chance, tbl index, x,y,z off
    1975 0000d410                   WL      3,S3CP3B+FR3
    1976 0000d440                   WL      3,S3CP3B+FR4
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   38

    1977 0000d470                   WL      3,S3CP3B+FR5
    1978 0000d4a0                   WL      3,S3CP3B+FR6
    1979 0000d4d0                   WL      6,S3CP3B+FR7
    1980                    
    1981                            .ref    am_I_dead
    1982 0000d500                   WL      ANI_CODE,am_I_dead
    1983                    ;If I'm dead, goto fall back
    1984 0000d530                   WL      ANI_IFNOTSTATUS2,psugnodead
    1985                    
    1986 0000d560     8004          .word   ANI_SETPLYRMODE,MODE_DEAD
    1987 0000d580     8049          .word   ANI_END
    1988                    
    1989 0000d590           psugnodead
    1990                    
    1991 0000d590     8054          .word   ANI_WAITROLL
    1992 0000d5a0                   WL      ANI_CHANGEANIM,shn_faceup_getup_anim
    1993                    
    1994                    *
    1995 0000d5d0            SUBR   shn_climbthru_side_anim
    1996                    
    1997 0000d5d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE | MODE_NOGRAVITY|MODE_NOCOLLIS
    1998 0000d5f0     8026          .word   ANI_SETSPEED,100h
    1999 0000d610     8003          .word   ANI_ZEROVELS
    2000                    
    2001 0000d620                   WL      ANI_CODE,SET_DIR_FACE
    2002 0000d650     801b          .word   ANI_SETFACING
    2003 0000d660     805f          .WORD   ANI_SET_WRESTLER_XFLIP
    2004                    
    2005 0000d670                   WL      3,S3CR3A+FR1
    2006 0000d6a0     8015          .word   ANI_OFFSET,0,10,0       ;*****
    2007 0000d6e0                   WL      3,S3CR3A+FR2
    2008 0000d710     8015          .word   ANI_OFFSET,5,16,0       ;*****
    2009 0000d750                   WL      3,S3CR3A+FR3
    2010 0000d780     8015          .word   ANI_OFFSET,5,16,0       ;*****
    2011                    
    2012 0000d7c0     807b          .word   ANI_SET_IDIOT
    2013 0000d7d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOCOLLIS 
    2014                            ;now jump off...
    2015 0000d7f0                   WL      ANI_SET_YVEL,40000h
    2016 0000d820                   WWL     ANI_SETLONG,OBJ_GRAVITY,0E000h
    2017                    
    2018 0000d860                   WLW     ANI_SET_XVEL,54000h,AM_FACE_REL
    2019 0000d8a0     8029          .word   ANI_ROPE_Z,R_TOP,RZ_HIGH
    2020 0000d8d0     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_HIGH
    2021 0000d900     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_HIGH
    2022                    
    2023 0000d930     8025          .word   ANI_BENDROPE,2
    2024 0000d950     8025          .word   ANI_BENDROPE,-1
    2025                    
    2026 0000d970                   WL      3,S3CR3A+FR4
    2027 0000d9a0     800b          .word   ANI_WAITHITGND
    2028 0000d9b0                   WWL     ANI_SETLONG,OBJ_GRAVITY,GRAVITY
    2029                    
    2030 0000d9f0     8029          .word   ANI_ROPE_Z,R_TOP,RZ_NORM
    2031 0000da20     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_NORM
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   39

    2032 0000da50     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_NORM
    2033                    
    2034                    ;       .WORD   ANI_XFLIP
    2035 0000da80     8003          .word   ANI_ZEROVELS
    2036                    
    2037 0000da90     8015          .word   ANI_OFFSET,5,0,0        ;*****
    2038                            
    2039 0000dad0                   WL      3,S4MP4D+FR6
    2040 0000db00                   WL      3,S4MP4D+FR8
    2041                    
    2042                    ;       WL      3,S2CT2A+FR8
    2043                    ;       .WORD   ANI_XFLIP
    2044                    
    2045                    ;       WL      3,S2CT2A+FR9
    2046                    ;       WL      3,S2CT2A+FR10
    2047                    ;       WL      3,S2CT2A+FR11
    2048                    ;       WL      3,S2CT2A+FR12
    2049                    
    2050 0000db30     8022          .word   ANI_FACEDOWN
    2051                    
    2052 0000db40     8080          .word   ANI_CLEAR_CLIMB
    2053 0000db50     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    2054 0000db70     8049          .word   ANI_END
    2055                    
    2056                    
    2057                    *****************************************************************************
    2058                    
    2059 0000db80            SUBR   shn_climbin_side_anim
    2060                    
    2061 0000db80     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    2062 0000dba0     8026          .word   ANI_SETSPEED,100h
    2063 0000dbc0     8003          .word   ANI_ZEROVELS
    2064                    
    2065 0000dbd0                   WL      ANI_CODE,SET_DIR_FACE
    2066 0000dc00     801b          .word   ANI_SETFACING
    2067 0000dc10     805f          .WORD   ANI_SET_WRESTLER_XFLIP
    2068                    
    2069                            ;jump in
    2070 0000dc20                   WL      1,S4MP4D+FR1
    2071                    
    2072 0000dc50                   WWL     ANI_SETLONG,OBJ_GRAVITY,0E000h
    2073 0000dc90                   WL      ANI_CODE,yzgyset_trgt
    2074                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2075 0000dcc0     8027          .word   ANI_LEAPATPOS,14h,200,0,0,0     ;yzgyticks,dist,xoff,yoff,zoff
    2076 0000dd20                   WL      20,S4MP4D+FR1
    2077 0000dd50     800b          .word   ANI_WAITHITGND
    2078 0000dd60     8003          .word   ANI_ZEROVELS
    2079 0000dd70                   WWL     ANI_SETLONG,OBJ_GRAVITY,GRAVITY
    2080                    ;       WL      2,S4MP4D+FR2
    2081                    ;       WL      2,S4MP4D+FR3
    2082                    ;       WL      2,S4MP4D+FR4
    2083                    ;       WL      2,S4MP4D+FR5
    2084                    
    2085 0000ddb0                   WL      3,S4MP4D+FR6
    2086                    ;       WL      2,S4MP4D+FR7
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   40

    2087 0000dde0                   WL      3,S4MP4D+FR8
    2088                    
    2089 0000de10     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE | MODE_NOGRAVITY|MODE_NOCOLLIS
    2090 0000de30                   WL      2,S3CR3A+FR1
    2091 0000de60     8015          .word   ANI_OFFSET,0,10,0       ;*****
    2092 0000dea0                   WL      2,S3CR3A+FR2
    2093 0000ded0     8015          .word   ANI_OFFSET,5,16,0       ;*****
    2094 0000df10                   WL      2,S3CR3A+FR3
    2095 0000df40     8015          .word   ANI_OFFSET,5,16,0       ;*****
    2096 0000df80                   WL      2,S3CR3A+FR4
    2097                    
    2098 0000dfb0     8025          .word   ANI_BENDROPE,2
    2099 0000dfd0     8025          .word   ANI_BENDROPE,-1
    2100                    
    2101 0000dff0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOCOLLIS 
    2102 0000e010                   WLW     ANI_SET_XVEL,50000h,AM_FACE_REL
    2103 0000e050     800b          .word   ANI_WAITHITGND
    2104 0000e060     8003          .word   ANI_ZEROVELS
    2105                    
    2106 0000e070     800c          .WORD   ANI_XFLIP
    2107 0000e080                   WL      3,S2CT2A+FR8
    2108                    ;       WL      3,S2CT2A+FR9
    2109                    ;       WL      3,S2CT2A+FR10
    2110                    ;       WL      3,S2CT2A+FR11
    2111                    ;       WL      3,S2CT2A+FR12
    2112 0000e0b0     800c          .WORD   ANI_XFLIP
    2113                    
    2114                    ;       WL      ANI_CODE,clr_climb
    2115 0000e0c0     8080          .word   ANI_CLEAR_CLIMB
    2116                    
    2117                            ;done
    2118                    
    2119 0000e0d0     8029          .word   ANI_ROPE_Z,R_TOP,RZ_NORM
    2120 0000e100     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_NORM
    2121 0000e130     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_NORM
    2122                    
    2123 0000e160     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    2124 0000e180     8049          .word   ANI_END
    2125                    
    2126 0000e190           yzgyset_trgt
    2127 0000e190     09c0          movi    RING_X_CENTER-0f8h-60,a0                ;Jump onto left side apron
         0000e1a0     02fe  
    2128 0000e1b0     b5ae          move    *a13(OBJ_XPOSINT),a14
         0000e1c0     0110  
    2129 0000e1d0     0b4e          cmpi    RING_X_CENTER,a14
         0000e1e0     fbcd  
    2130 0000e1f0     c402          jrlt    yzgyonlft
    2131                    ;On right side
    2132 0000e200     09c0          movi    RING_X_CENTER+0f8h+60,a0                ;Jump onto right side apron
         0000e210     0566  
    2133 0000e220           yzgyonlft
    2134 0000e220     b00d          move    a0,*a13(TGT_XOFF)
         0000e230     02a0  
    2135                    
    2136 0000e240     09c0          movi    RING_Z_CENTER,a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   41

         0000e250     04a0  
    2137 0000e260     b00d          move    a0,*a13(TGT_ZOFF)
         0000e270     02c0  
    2138                    
    2139 0000e280     09c0          movi    MAT_Y,a0
         0000e290     003e  
    2140 0000e2a0     b00d          move    a0,*a13(TGT_YOFF)
         0000e2b0     02b0  
    2141                    
    2142 0000e2c0     0960          rets
    2143                    
    2144                    
    2145                    *****************************************************************************
    2146                    
    2147 0000e2d0            SUBR   shn_climbthru_bot_anim
    2148                    
    2149 0000e2d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    2150 0000e2f0     8026          .word   ANI_SETSPEED,100h
    2151 0000e310     8003          .word   ANI_ZEROVELS
    2152                    
    2153                    ;Must rotate toward ropes!
    2154                    ;Do a different sequence
    2155                    
    2156                            ;lie down
    2157 0000e320                   WL      ANI_CODE,urjmckspin
    2158 0000e350                   WL      3,S3GU2A+FR9
    2159 0000e380                   WL      3,S3GU2A+FR8
    2160 0000e3b0                   WL      3,S3GU2A+FR7
    2161 0000e3e0                   WL      3,S3GU2A+FR6
    2162 0000e410                   WL      3,S3GU2A+FR5
    2163 0000e440                   WL      3,S3GU2A+FR4
    2164 0000e470                   WL      3,S3GU2A+FR2
    2165                    
    2166                            ;roll over once
    2167 0000e4a0                   WLW     ANI_SET_ZVEL,0A8000h,AM_ABS
    2168                    
    2169 0000e4e0                   WL      3,S3RL3A+FR1
    2170 0000e510                   WL      3,S3RL3A+FR2
    2171 0000e540                   WL      3,S3RL3A+FR3
    2172 0000e570                   WL      3,S3RL3A+FR4
    2173 0000e5a0                   WL      3,S3RL3A+FR5
    2174 0000e5d0                   WL      3,S3RL3A+FR6
    2175 0000e600     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOSHADOW|MODE_NO
    2176                    
    2177 0000e620     807b          .word   ANI_SET_IDIOT
    2178                            ;climb through
    2179 0000e630     800c          .WORD   ANI_XFLIP
    2180 0000e640                   WL      ANI_CODE,NOT_IN_RING
    2181 0000e670     8015          .word   ANI_OFFSET,20,-37h,0                    ;x,y,z
    2182 0000e6b0                   WL      3,S4KI3Q+FR5
    2183 0000e6e0                   WL      3,S4KI3Q+FR4
    2184 0000e710                   WL      3,S4KI3Q+FR3
    2185 0000e740     800c          .WORD   ANI_XFLIP
    2186                    
    2187 0000e750     8021          .word   ANI_FACEUP
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   42

    2188 0000e760     8080          .word   ANI_CLEAR_CLIMB
    2189 0000e770     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    2190 0000e790     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2191 0000e7b0     8049          .word   ANI_END
    2192                                                   
    2193 0000e7c0           urjmckspin
    2194 0000e7c0     b5ae          move    *a13(FACING_DIR),a14
         0000e7d0     04c0  
    2195 0000e7e0     1fee          btst    0,a14
    2196 0000e7f0     cb08          jrnz    urjmfaceup
    2197                    
    2198 0000e800     b5a0          move    *a13(ANIMODE),a0
         0000e810     0660  
    2199 0000e820     0ba0          ori     MODE_STATUS2,a0
         0000e830 00000200  
    2200 0000e850     b00d          move    a0,*a13(ANIMODE)
         0000e860     0660  
    2201 0000e870     0960          RETS
    2202 0000e880           urjmfaceup
    2203 0000e880     b5a0          move    *a13(ANIMODE),a0
         0000e890     0660  
    2204 0000e8a0     0b80          ANDI    0FFFFH-MODE_STATUS2,a0
         0000e8b0 ffff0200  
    2205 0000e8d0     b00d          move    a0,*a13(ANIMODE)
         0000e8e0     0660  
    2206 0000e8f0     0960          rets
    2207                    
    2208 0000e900           NOT_IN_RING
    2209 0000e900     1820          MOVK    1,A0
    2210 0000e910     b00d          MOVE    A0,*A13(INRING)
         0000e920     0560  
    2211 0000e930     0960          RETS
    2212                    
    2213                    *****************************************************************************
    2214                    
    2215 0000e940            SUBR   shn_climbin_bot_anim
    2216                    
    2217 0000e940     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    2218 0000e960     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2219 0000e980     8026          .word   ANI_SETSPEED,100h
    2220 0000e9a0     8003          .word   ANI_ZEROVELS
    2221                    
    2222                            ;climb in
    2223 0000e9b0     8010          .word   ANI_GRAVITY_OFF
    2224 0000e9c0     800c          .WORD   ANI_XFLIP
    2225 0000e9d0                   WL      3,S4KI3Q+FR3
    2226 0000ea00                   WL      3,S4KI3Q+FR4
    2227 0000ea30                   WL      3,S4KI3Q+FR5
    2228 0000ea60     8015          .word   ANI_OFFSET,-20,37h,-60
    2229                    
    2230                            ;roll
    2231 0000eaa0     800c          .word   ANI_XFLIP
    2232 0000eab0                   WLW     ANI_SET_ZVEL,-70000h,AM_ABS
    2233 0000eaf0     8016          .word   ANI_FRICTION,3000h
    2234 0000eb10                   WL      3,S3RL3A+FR6
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   43

    2235 0000eb40                   WL      3,S3RL3A+FR5
    2236 0000eb70                   WL      3,S3RL3A+FR4
    2237 0000eba0                   WL      3,S3RL3A+FR3
    2238 0000ebd0                   WL      3,S3RL3A+FR2
    2239 0000ec00                   WL      3,S3RL3A+FR1
    2240 0000ec30     8003          .word   ANI_ZEROVELS
    2241 0000ec40     800f          .word   ANI_GRAVITY_ON
    2242                    
    2243                            ;get up
    2244 0000ec50                   WL      3,S3GU2A+FR2
    2245 0000ec80                   WL      3,S3GU2A+FR3
    2246 0000ecb0                   WL      3,S3GU2A+FR4
    2247 0000ece0                   WL      3,S3GU2A+FR5
    2248 0000ed10                   WL      3,S3GU2A+FR6
    2249 0000ed40                   WL      3,S3GU2A+FR7
    2250 0000ed70                   WL      3,S3GU2A+FR8
    2251 0000eda0                   WL      3,S3GU2A+FR9
    2252                    
    2253                    ;       WL      ANI_CODE,clr_climb
    2254 0000edd0     8080          .word   ANI_CLEAR_CLIMB
    2255                    
    2256 0000ede0     8022          .WORD   ANI_FACEDOWN
    2257 0000edf0     8003          .word   ANI_ZEROVELS
    2258 0000ee00     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    2259 0000ee20     8049          .word   ANI_END
    2260                    
    2261                    
    2262                    *****************************************************************************
    2263                    
    2264 0000ee30            SUBR   shn_climbthru_top_anim
    2265                    
    2266 0000ee30     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    2267 0000ee50     8026          .word   ANI_SETSPEED,100h
    2268 0000ee70     8003          .word   ANI_ZEROVELS
    2269                    
    2270                            ;lie down
    2271 0000ee80                   WL      ANI_CODE,cswgset_zvel1
    2272 0000eeb0                   WL      ANI_IFSTATUS2,cswgdir4
    2273                    ;Facing cswg2
    2274 0000eee0                   WL      3,S1TT5Z+FR2
    2275 0000ef10                   WL      3,S1TT5Z+FR3
    2276                            
    2277 0000ef40           cswgdir4
    2278 0000ef40                   WL      3,S3GU4A+FR9
    2279 0000ef70                   WL      3,S3GU4A+FR8
    2280 0000efa0                   WL      3,S3GU4A+FR7
    2281 0000efd0                   WL      3,S3GU4A+FR6
    2282 0000f000                   WL      3,S3GU4A+FR5
    2283 0000f030                   WL      3,S3GU4A+FR4
    2284 0000f060                   WL      3,S3GU4A+FR3
    2285 0000f090                   WL      3,S3GU4A+FR2
    2286                    
    2287                            ;roll over once
    2288 0000f0c0                   WL      ANI_CODE,cswgset_zvel2
    2289 0000f0f0                   WL      3,S3RL3A+FR10
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   44

    2290 0000f120                   WL      3,S3RL3A+FR9
    2291 0000f150     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOSHADOW|MODE_NO
    2292 0000f170                   WL      3,S3RL3A+FR8
    2293 0000f1a0                   WL      3,S3RL3A+FR7
    2294 0000f1d0                   WL      3,S3RL3A+FR6
    2295                    
    2296 0000f200     807b          .word   ANI_SET_IDIOT
    2297                            ;climb through
    2298 0000f210     8003          .word   ANI_ZEROVELS
    2299 0000f220     800c          .WORD   ANI_XFLIP
    2300 0000f230                   WL      3,S3DC3A+FR7
    2301 0000f260                   WL      3,S3DC3A+FR6
    2302 0000f290                   WL      3,S3DC3A+FR5
    2303 0000f2c0     8015          .word   ANI_OFFSET,0,-61,0
    2304 0000f300     800c          .WORD   ANI_XFLIP
    2305                    
    2306 0000f310     8028          .word   ANI_ZERO_XZVELS
    2307                    
    2308 0000f320     8022          .WORD   ANI_FACEDOWN
    2309 0000f330     8080          .word   ANI_CLEAR_CLIMB
    2310 0000f340     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    2311 0000f360     8049          .word   ANI_END
    2312                    
    2313 0000f370           cswgset_zvel1
    2314 0000f370     b5ae          move    *a13(FACING_DIR),a14
         0000f380     04c0  
    2315 0000f390     1fee          btst    0,a14
    2316 0000f3a0     ca08          jrz     cswgfacedwn
    2317 0000f3b0     b5a0          move    *a13(ANIMODE),a0
         0000f3c0     0660  
    2318 0000f3d0     0b80          ANDI    0FFFFH-MODE_STATUS2,a0
         0000f3e0 ffff0200  
    2319 0000f400     b00d          move    a0,*a13(ANIMODE)
         0000f410     0660  
    2320 0000f420     0960          rets
    2321                    
    2322 0000f430           cswgfacedwn
    2323 0000f430     b5a0          move    *a13(ANIMODE),a0
         0000f440     0660  
    2324 0000f450     0ba0          ori     MODE_STATUS2,a0
         0000f460 00000200  
    2325 0000f480     b00d          move    a0,*a13(ANIMODE)
         0000f490     0660  
    2326 0000f4a0     0960          rets
    2327                    
    2328 0000f4b0           cswgset_zvel2
    2329 0000f4b0     09e0          movi    -50000h,a0
         0000f4c0 fffb0000  
    2330 0000f4e0     b20d          move    a0,*a13(OBJ_ZVEL),L
         0000f4f0     0310  
    2331 0000f500     0960          rets
    2332                    
    2333                    
    2334                    *****************************************************************************
    2335                    ;Zombies use this to roll through the top without standing back up.
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   45

    2336                    
    2337 0000f510            SUBR   shn_rollthru_top_anim
    2338                    
    2339 0000f510     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOSHADOW|MODE_NO
    2340                    
    2341                            ;roll over once
    2342 0000f530                   WLW     ANI_SET_ZVEL,-50000h,AM_ABS
    2343 0000f570                   WL      3,S3RL3A+FR10
    2344 0000f5a0                   WL      3,S3RL3A+FR9
    2345                    
    2346 0000f5d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOSHADOW|MODE_NO
    2347 0000f5f0                   WL      3,S3RL3A+FR8
    2348 0000f620                   WL      3,S3RL3A+FR7
    2349 0000f650                   WL      3,S3RL3A+FR6
    2350                    
    2351                            ;climb through
    2352 0000f680     8003          .word   ANI_ZEROVELS
    2353 0000f690     800c          .WORD   ANI_XFLIP
    2354 0000f6a0                   WL      3,S3DC3A+FR7
    2355 0000f6d0                   WL      3,S3DC3A+FR6
    2356 0000f700                   WL      3,S3DC3A+FR5
    2357 0000f730     8015          .word   ANI_OFFSET,0,-61,0
    2358 0000f770     800c          .WORD   ANI_XFLIP
    2359                    
    2360 0000f780     8028          .word   ANI_ZERO_XZVELS
    2361                    
    2362 0000f790     8022          .word   ANI_FACEDOWN
    2363 0000f7a0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2364 0000f7c0     8049          .word   ANI_END
    2365                    
    2366                    *****************************************************************************
    2367                    
    2368 0000f7d0            SUBR   shn_climbin_top_anim
    2369                    
    2370 0000f7d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    2371 0000f7f0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2372 0000f810     8026          .word   ANI_SETSPEED,100h
    2373 0000f830     8003          .word   ANI_ZEROVELS
    2374                    
    2375                            ;climb in
    2376 0000f840     8015          .word   ANI_OFFSET,0,61,0
    2377 0000f880                   WL      3,S3DC3A+FR5
    2378 0000f8b0                   WL      3,S3DC3A+FR6
    2379 0000f8e0                   WL      3,S3DC3A+FR7
    2380 0000f910     800c          .WORD   ANI_XFLIP
    2381                    
    2382                            ;roll over
    2383 0000f920                   WL      ANI_CODE,mncgset_zvel2
    2384 0000f950                   WL      3,S3RL3A+FR7    
    2385 0000f980                   WL      3,S3RL3A+FR8
    2386 0000f9b0                   WL      3,S3RL3A+FR9
    2387 0000f9e0                   WL      3,S3RL3A+FR10
    2388                    
    2389 0000fa10     8003          .word   ANI_ZEROVELS
    2390                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   46

    2391                            ;get up
    2392 0000fa20                   WL      3,S3GU4A+FR2
    2393 0000fa50                   WL      3,S3GU4A+FR3
    2394 0000fa80                   WL      3,S3GU4A+FR4
    2395 0000fab0                   WL      3,S3GU4A+FR5
    2396 0000fae0                   WL      3,S3GU4A+FR6
    2397 0000fb10                   WL      3,S3GU4A+FR7
    2398 0000fb40                   WL      3,S3GU4A+FR8
    2399 0000fb70                   WL      3,S3GU4A+FR9
    2400                    
    2401                    ;       WL      ANI_CODE,clr_climb
    2402 0000fba0     8080          .word   ANI_CLEAR_CLIMB
    2403                    
    2404 0000fbb0     8022          .WORD   ANI_FACEDOWN
    2405 0000fbc0     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    2406 0000fbe0     8049          .word   ANI_END
    2407                    
    2408                    
    2409 0000fbf0           mncgset_zvel2
    2410 0000fbf0     09e0          movi    50000h,a0
         0000fc00 00050000  
    2411 0000fc20     b20d          move    a0,*a13(OBJ_ZVEL),L
         0000fc30     0310  
    2412 0000fc40     0960          rets
    2413                    
    2414                    ****************************************************************************
    2415                    *
    2416                    * PIN OPPONENT AND RAISE ARM IN VICTORY
    2417                    
    2418                    ;Need to have this guy walk toward fallen opponent so he
    2419                    ;can get closer!
    2420                    
    2421                    ;This pin must be started only when opponent is on the ground!
    2422                    
    2423 0000fc50            SUBR   shn_2_pin_anim
    2424                    
    2425 0000fc50     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    2426 0000fc70     8003          .word   ANI_ZEROVELS
    2427 0000fc80     8026          .word   ANI_SETSPEED,100h
    2428                    
    2429                    ;Rotate!
    2430 0000fca0                   WL      3,S1TT5Z+FR2    ;2.5
    2431 0000fcd0                   WL      3,S1TT5Z+FR3    ;3.5
    2432                    
    2433 0000fd00            SUBR   shn_4_pin_anim
    2434                    
    2435 0000fd00     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    2436 0000fd20     8003          .word   ANI_ZEROVELS
    2437 0000fd30     8026          .word   ANI_SETSPEED,100h
    2438                    
    2439                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2440 0000fd50                   LEAPATOPP 25,999,80h,50h,90000h,TGT_CHEST|TGT_GROUND,0,57,-15
    2441 0000fe00                   WL      ANI_CODE,hit_nearest
    2442                    
    2443 0000fe30                   WL      3,S3PN5C+FR1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   47

    2444 0000fe60     8015          .word   ANI_OFFSET,0,31,0                       ;x,y,z
    2445 0000fea0                   WL      18,S3PN5C+FR2
    2446 0000fed0                   WL      4,S3PN5C+FR3
    2447                    ;       .word   ANI_WAITHITGND
    2448                    ;       .word   ANI_ATTACK_ON_Z, AMODE_STOMP,-40,-8,0,76,20,30 ;mode,x,y,z,w,h,d
    2449 0000ff00     8003          .word   ANI_ZEROVELS
    2450                    
    2451 0000ff10                   WL      3,S3PN5C+FR7
    2452 0000ff40                   WL      ANI_CODE,DO_CROWD_CHEER
    2453                    
    2454                    ;       .word   ANI_ATTACK_OFF
    2455 0000ff70                   WL      ANI_CODE,grnd_hit
    2456 0000ffa0                   WL      ANI_CODE,HIT_THE_MAT
    2457 0000ffd0     8037          .word   ANI_SHAKEALL,2
    2458 0000fff0     800d          .word   ANI_BOUNCE,4
    2459 00010010                   WL      3,S3PN5C+FR7
    2460 00010040     800b          .word   ANI_WAITHITGND
    2461 00010050                   WL      ANI_CODE,SMALL_BOUNCE
    2462                    
    2463 00010080                   WL      4,S3PN5C+FR7
    2464 000100b0                   WL      ANI_CODE,win_announce
    2465                    ;       .word   ANI_SET_ATTACH
    2466                    ;       .word   ANI_ATTACHZ,0,0,10              ;x & y don't matter.
    2467 000100e0                   WL      40,S3PN5C+FR7
    2468                    
    2469 00010110     802a          .word   ANI_LOOP
    2470                    
    2471                    ;Do another ground hit on opponent
    2472 00010120                   WL      ANI_CODE,grnd_hit
    2473                    
    2474 00010150                   WL      ANI_SET_YVEL,42000h
    2475 00010180                   WLW     ANI_SET_ZVEL,22000h,AM_ABS
    2476 000101c0                   WL      4,S3GU4A+FR4
    2477 000101f0                   WL      4,S3GU4A+FR5
    2478 00010220                   WL      4,S3GU4A+FR6
    2479 00010250                   WL      4,S3GU4A+FR7
    2480 00010280     800b          .word   ANI_WAITHITGND
    2481 00010290     8003          .word   ANI_ZEROVELS
    2482 000102a0                   WL      4,S3GU4A+FR8
    2483 000102d0                   WL      4,S3GU4A+FR9
    2484                    
    2485 00010300           gpleraise
    2486 00010300                   WL      5,S4SW4A+FR1
    2487 00010330                   WL      5,S4SW4A+FR2
    2488 00010360                   WL      5,S4SW4A+FR3
    2489 00010390                   WL      5,S4SW4A+FR4
    2490 000103c0                   WL      5,S4SW4A+FR5
    2491 000103f0                   WL      5,S4SW4A+FR6
    2492 00010420                   WL      5,S4SW4A+FR7
    2493 00010450                   WL      5,S4SW4A+FR8
    2494 00010480                   WL      5,S4SW4A+FR9
    2495 000104b0           gplefloop       WL      1000,S4SW4A+FR10
    2496 000104e0                   WL      ANI_GOTO,gplefloop
    2497                    
    2498 00010510     8022          .word   ANI_FACEDOWN
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   48

    2499 00010520     8002          .word   ANI_SETMODE,MODE_NORMAL
    2500 00010540     8049          .word   ANI_END
    2501                    
    2502                    ******************************************************************************
    2503                    * RAISE ARM IN VICTORY FROM A STANCE
    2504                    
    2505 00010550            SUBR   shn_2_raise_arm_anim
    2506                    
    2507 00010550     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    2508 00010570     8003          .word   ANI_ZEROVELS
    2509 00010580     8026          .word   ANI_SETSPEED,100h
    2510                    
    2511 000105a0                   WL      ANI_CODE,DO_CROWD_CHEER
    2512 000105d0                   WL      ANI_CODE,win_announce
    2513                    
    2514 00010600                   WL      3,S1TT5Z+FR2    ;2.5
    2515 00010630                   WL      3,S1TT5Z+FR3    ;3.5
    2516 00010660                   WL      ANI_GOTO,gplecont
    2517                    
    2518 00010690            SUBR   shn_4_raise_arm_anim
    2519                    
    2520 00010690     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    2521 000106b0     8003          .word   ANI_ZEROVELS
    2522 000106c0     8026          .word   ANI_SETSPEED,100h
    2523                    
    2524 000106e0                   WL      ANI_CODE,DO_CROWD_CHEER
    2525 00010710                   WL      ANI_CODE,win_announce
    2526                    
    2527 00010740           gplecont        WL      5,S4SW4A+FR1
    2528 00010770                   WL      5,S4SW4A+FR2
    2529 000107a0                   WL      5,S4SW4A+FR3
    2530 000107d0                   WL      5,S4SW4A+FR4
    2531 00010800                   WL      5,S4SW4A+FR5
    2532 00010830                   WL      5,S4SW4A+FR6
    2533 00010860                   WL      5,S4SW4A+FR7
    2534 00010890                   WL      5,S4SW4A+FR8
    2535 000108c0                   WL      5,S4SW4A+FR9
    2536                    
    2537                    
    2538 000108f0     8062          .word   ANI_SET_RPTCOUNT,-4     ;set count to rnd from 0 to 4
    2539 00010910           gplelp0 WL      55,S4SW4A+FR10
    2540 00010940     8063          .word   ANI_DEC_RPTCOUNT
    2541 00010950                   WL      ANI_IF_RPTCOUNT,gplelp0
    2542                    
    2543 00010980                   WL      ANI_CODE,check_raisearm_bit
    2544 000109b0                   WL      ANI_IFSTATUS2,gplewakeup
    2545                    
    2546                            ;don't wake up.
    2547 000109e0     8062          .word   ANI_SET_RPTCOUNT,1000
    2548 00010a00                   WL      ANI_GOTO,gplelp0
    2549                    
    2550                            ;5,4,2,1 leaves the sequence.
    2551 00010a30           gplewakeup      WL      4,S4SW4A+FR5
    2552 00010a60                   WL      4,S4SW4A+FR4
    2553 00010a90                   WL      4,S4SW4A+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   49

    2554 00010ac0                   WL      4,S4SW4A+FR1
    2555                    
    2556 00010af0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2557 00010b10     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2558 00010b30     8022          .word   ANI_FACEDOWN
    2559 00010b40     8049          .word   ANI_END
    2560                    
    2561                    *****************************************************************************
    2562                    
    2563                    ;Leap up onto nearest turnbuckle.  Call with ANI_CODE to set offsets
    2564                    ; before doing the ANI_LEAPATPOS.
    2565                    
    2566 00010b50            SUBR   tgt_tbukl
    2567                    
    2568                            ;figure out which one to climb.
    2569 00010b50     09e0          movi    vln_right_rope,a0
         00010b60 00000000! 
    2570 00010b80     b5ae          move    *a13(OBJ_XPOSINT),a14
         00010b90     0110  
    2571 00010ba0     0b4e          cmpi    RING_X_CENTER,a14
         00010bb0     fbcd  
    2572 00010bc0     c703          jrgt    cipuright
    2573 00010bd0     09e0          movi    vln_left_rope,a0
         00010be0 00000000! 
    2574 00010c00           cipuright
    2575                    
    2576 00010c00     9401          move    *a0+,a1,W               ;X
    2577 00010c10     9402          move    *a0+,a2,W               ;Z
    2578 00010c20     0be2          subi    16,a2
         00010c30     ffef  
    2579 00010c40     09c3          movi    MAT_Y+80,a3             ;Y
         00010c50     008e  
    2580                    
    2581 00010c60     b02d          move    a1,*a13(TGT_XOFF)
         00010c70     02a0  
    2582 00010c80     b04d          move    a2,*a13(TGT_ZOFF)
         00010c90     02c0  
    2583 00010ca0     b06d          move    a3,*a13(TGT_YOFF)
         00010cb0     02b0  
    2584                    
    2585 00010cc0     0960          rets
    2586                    
    2587                    *****************************************************************************
    2588                    *
    2589                    * htaq4 SLAP
    2590                    
    2591 00010cd0            SUBR   shn_2_slap_anim
    2592                    
    2593 00010cd0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2594 00010cf0     8003          .word   ANI_ZEROVELS
    2595 00010d00     8026          .word   ANI_SETSPEED,100h
    2596                    
    2597 00010d20     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2598 00010d30     805f          .word   ANI_SET_WRESTLER_XFLIP
    2599                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   50

    2600 00010d40     8075          .word   ANI_STARTATTACK,AT_LEAPING,17
    2601 00010d70                   WL      2,S1TT5Z+FR2    ;2.5
    2602 00010da0                   WL      2,S1TT5Z+FR3    ;3.5
    2603                    
    2604 00010dd0            SUBR   shn_4_slap_anim
    2605                    
    2606 00010dd0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2607 00010df0     8003          .word   ANI_ZEROVELS
    2608 00010e00     8026          .word   ANI_SETSPEED,100h
    2609                    
    2610 00010e20     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2611 00010e30     805f          .word   ANI_SET_WRESTLER_XFLIP
    2612                    
    2613 00010e40     8075          .word   ANI_STARTATTACK,AT_LEAPING,15
    2614 00010e70                   WL      3,S4PT3B+FR1
    2615                    
    2616                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2617 00010ea0                   LEAPATOPP 0eh,999,4ah,50,90000h,TGT_HEAD,76,110,30
    2618                    
    2619 00010f50                   WL      4,S4PT3B+FR2
    2620 00010f80                   WL      4,S4PT3B+FR3
    2621 00010fb0                   WL      3,S4PT3B+FR4
    2622 00010fe0                   WL      3,S4PT3B+FR5
    2623                    
    2624 00011010     8006          .word   ANI_ATTACK_ON, AMODE_BACKHAND,31,44,55,47       ;mode,x,y,w,h
    2625 00011070                   WL      3,S4PT3B+FR6
    2626                    
    2627 000110a0     8007          .word   ANI_ATTACK_OFF
    2628                    
    2629 000110b0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    2630 000110f0                   WWL     ANI_SLIDE_BACK,30h,-70000h,htaqno_hit2
    2631                    
    2632 00011150                   WL      ANI_SET_YVEL,40000h
    2633 00011180                   WL      10,S4PT3B+FR6
    2634 000111b0           htaqno_hit2
    2635 000111b0     800b          .word   ANI_WAITHITGND
    2636 000111c0     8003          .word   ANI_ZEROVELS
    2637                    
    2638                    
    2639 000111d0                   WL      8,S4PT3B+FR6
    2640 00011200                   WL      3,S4PT3B+FR7
    2641 00011230                   WL      3,S4PT3B+FR8
    2642 00011260                   WL      3,S4PT3B+FR9
    2643                    
    2644 00011290     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2645 000112a0     8022          .word   ANI_FACEDOWN
    2646 000112b0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2647 000112d0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2648 000112f0     8049          .word   ANI_END
    2649                    
    2650                    
    2651                    *****************************************************************************
    2652                    *
    2653                    * gcxz4 pummel - MK style
    2654                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   51

    2655 00011300            SUBR   shn_2_pummel_anim
    2656                    
    2657 00011300     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2658 00011320     8003          .word   ANI_ZEROVELS
    2659 00011330     8026          .word   ANI_SETSPEED,100h
    2660                    
    2661 00011350     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2662 00011360     805f          .word   ANI_SET_WRESTLER_XFLIP
    2663                    
    2664 00011370     8075          .word   ANI_STARTATTACK,AT_PUNCH,5
    2665 000113a0                   WL      1,S1TT5Z+FR2
    2666 000113d0                   WL      1,S1TT5Z+FR3
    2667                    
    2668 00011400            SUBR   shn_4_pummel_anim
    2669                    
    2670 00011400     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2671 00011420     8003          .word   ANI_ZEROVELS
    2672 00011430     8026          .word   ANI_SETSPEED,100h
    2673                    
    2674 00011450     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2675 00011460     805f          .word   ANI_SET_WRESTLER_XFLIP
    2676                    
    2677 00011470     8075          .word   ANI_STARTATTACK,AT_PUNCH,3
    2678 000114a0     8062          .word   ANI_SET_RPTCOUNT,3      ;rpt 2 times
    2679                    
    2680                    ;       ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2681                    ;       LEAPATOPP 05h,999,4ah,50,90000h,TGT_HEAD,65,90,10
    2682                    ;       WL      ANI_SET_YVEL,0h
    2683                    
    2684 000114c0                   WL      3,S4PU3D+FR2
    2685 000114f0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    2686 00011530           gcxzrpt
    2687 00011530     8061          .word   ANI_CLR_BUTCOUNT
    2688 00011540     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH2,21,80,42,14 ;mode,x,y,w,h
    2689 000115a0                   WL      3,S4MK3A+FR1
    2690 000115d0     8007          .word   ANI_ATTACK_OFF
    2691 000115e0                   WL      3,S4MK3A+FR2
    2692 00011610                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,gcxzex
    2693 00011660                   WL      3,S4MK3A+FR3
    2694 00011690     8061          .word   ANI_CLR_BUTCOUNT
    2695 000116a0     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH2,21,80,42,14 ;mode,x,y,w,h
    2696 00011700                   WL      3,S4MK3A+FR4
    2697 00011730     8007          .word   ANI_ATTACK_OFF
    2698 00011740                   WL      3,S4MK3A+FR5
    2699 00011770                   WL      3,S4MK3A+FR6
    2700                    
    2701 000117a0                   WWL     ANI_SLIDE_BACK,30h,-70000h,gcxzno_hit2
    2702 00011800                   WL      ANI_SET_YVEL,40000h
    2703 00011830                   WL      3,S4MK3A+FR6
    2704 00011860     800b          .word   ANI_WAITHITGND
    2705 00011870     8003          .word   ANI_ZEROVELS
    2706 00011880                   WL      ANI_GOTO,gcxzmissed
    2707 000118b0           gcxzno_hit2
    2708 000118b0                   WL      ANI_IFNOTSTATUS2,gcxzmissed
    2709 000118e0                   WL      ANI_IFBLOCKED,gcxzmissedb               ;Yes, I hit blocker
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   52

    2710                    
    2711                    ;       .word   ANI_SET_ATTACH
    2712                    ;       WLLL    ANI_SETOPPVELS,18000h,18000h,0h         ;x,y,z vels
    2713                    
    2714 00011910                   WL      3,S4MK3A+FR7
    2715                    
    2716 00011940                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,2,gcxzex
    2717 00011990     8063          .word   ANI_DEC_RPTCOUNT
    2718 000119a0                   WL      ANI_IF_RPTCOUNT,gcxzrpt
    2719 000119d0     807a          .word   ANI_DRAW_NAME,32
    2720                    
    2721                            .ref    shn_4_hiptoss_anim
    2722 000119f0                   WL      ANI_CHANGEANIM,shn_4_hiptoss_anim
    2723                    
    2724 00011a20           gcxzex
    2725 00011a20     8015          .word   ANI_OFFSET,15,0,0
    2726 00011a60                   WL      ANI_CHANGEANIM,shn_4_butt_anim
    2727                    
    2728 00011a90     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2729 00011aa0     8022          .word   ANI_FACEDOWN
    2730 00011ab0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2731 00011ad0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2732 00011af0     8049          .word   ANI_END
    2733                    
    2734 00011b00           gcxzmissedb
    2735 00011b00                   WLLL    ANI_SETOPPVELS,50000h,18000h,0h         ;x,y,z vels
    2736 00011b70                   WL      2,S4MK3A+FR7
    2737 00011ba0           gcxzmissed
    2738                    
    2739 00011ba0                   WL      2,S4MK3A+FR7
    2740                    
    2741 00011bd0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2742 00011be0     8022          .word   ANI_FACEDOWN
    2743 00011bf0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2744 00011c10     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2745 00011c30     8049          .word   ANI_END
    2746                    
    2747                    *****************************************************************************
    2748                    *
    2749                    * GET BUCKED OFF A PINNED OPPONENT
    2750                    
    2751 00011c40            SUBR   shn_buckoff_anim
    2752                    
    2753                            .ref    set_buckoff_vels
    2754                    
    2755 00011c40     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_NOCOLLIS
    2756 00011c60     8026          .word   ANI_SETSPEED,100h
    2757 00011c80     8003          .word   ANI_ZEROVELS
    2758                    
    2759 00011c90                   WL      4,S3PN5C+FR7
    2760 00011cc0                   WL      1,S3PN5C+FR3
    2761 00011cf0                   WL      ANI_CODE,set_buckoff_vels
    2762 00011d20     800b          .word   ANI_WAITHITGND
    2763 00011d30     8003          .word   ANI_ZEROVELS
    2764                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 10:58:13 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

routine punches and kicks                                            PAGE   53

    2765 00011d40                   WL      4,S3PN5C+FR7
    2766                    
    2767                            ;now stand up
    2768 00011d70                   WL      ANI_SET_YVEL,42000h
    2769 00011da0                   WLW     ANI_SET_ZVEL,22000h,AM_ABS
    2770 00011de0                   WL      4,S3GU4A+FR4
    2771 00011e10                   WL      4,S3GU4A+FR5
    2772 00011e40                   WL      4,S3GU4A+FR6
    2773 00011e70                   WL      4,S3GU4A+FR7
    2774 00011ea0     800b          .word   ANI_WAITHITGND
    2775 00011eb0     8003          .word   ANI_ZEROVELS
    2776 00011ec0                   WL      4,S3GU4A+FR8
    2777 00011ef0                   WL      4,S3GU4A+FR9
    2778                    
    2779 00011f20     8022          .word   ANI_FACEDOWN
    2780                    
    2781 00011f30     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2782 00011f50     8002          .word   ANI_SETMODE,MODE_NORMAL
    2783 00011f70     8049          .word   ANI_END
    2784                    
    2785                    ******************************************************************************
    2786                    
    2787                            .end

 No Errors,  No Warnings
