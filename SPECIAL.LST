TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    **************************************************************
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            5/18/94
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "special.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "mproc.equ"             ;Mproc equates
      19                            .include        "display.equ"           ;Display proc equates
      20                            .include        "gsp.equ"               ;Gsp asm equates
      21                            .include        "sys.equ"
      22                            .include        "game.equ"
      23                            .include        "plyr.equ"
      24                            .include        "anim.equ"
      25                            .include        "audit.equ"
      26                            .include        "sound.h"
      27                            .include        "ring.equ"
      28                            .include        "lifebar.h"
      29                            .include        "miscimg.glo"
      30                            .include        "special.equ"
      31                    
      32                            .include        "fontsimg.glo"
      33                            .include        "bgndtbl.glo"
      34                            .include        "imgtbl.glo"
      35                            .INCLUDE        "SWEAT.EQU"
      36                    
      37                    
      38                    ******************************************************************************
      39                    * EXTERNAL REFERENCES
      40                    
      41                            .ref    BAKMODS,message_palette,triple_sound,HALT,no_debris
      42                            .ref    announce_rnd_winner,pal_set,octopus2,ZERO_BITS,pal_find
      43                            .ref    RNDRNG0,CREATE_DISQUAL,pal_getf,GENERIC_DISPLAY,NUM_OPPS
      44                            .ref    PCNT,RNDPER,print_string_C2,ROLLING_COUNT,RNDRNGS
      45                            .ref    BGND_UD1,process_ptrs,mess_objid,setup_message,osgemd_ascii
      46                            .ref    dufus_msg_on,reduce_bog
      47                            .ref    ring_out_on
      48                            .ref    _switch_addr
      49                            .ref    match_cnt
      50                    
      51                    ******************************************************************************
      52                    * SYMBOLS DEFINED IN THIS FILE
      53                    
      54              0000  SHOW_DAMAGE_POINTS      equ     0
      55                    
      56                    ******************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                    * VARIABLES
      58                    
      59 00000000                   .bss    impact_params   ,32*8 * NUM_WRES        ;
      60                    
      61 00000000                   BSSX    WHICH_SKIRT_PAL,16
      62                    
      63 00000000                   BSSX    plyr1_objlist,  32      ;collideable objects on P1's side
      64 00000000                   BSSX    plyr2_objlist,  32      ; P2's side
      65 00000000                   BSSX    neutral_objlist,32      ;neutral collideable
      66 00000000                   BSSX    debris_count,   16      ;active debris processes
      67                    
      68                    ******************************************************************************
      69                    * EQUATES FOR THIS FILE
      70                    
      71 00000000                   STRUCTPD
      72 00000000                   LONG    ANIM
      73 00000000                   LONG    XVAL
      74 00000000                   LONG    YVAL
      75 00000000                   WORD    ZVAL
      76 00000000                   LONG    XVEL
      77 00000000                   LONG    YVEL
      78 00000000                   WORD    FLAGS
      79 00000000                   LONG    PROC
      80 00000000                   LONG    PALLET
      81 00000000                   LONG    STAR_TBL
      82                    
      83                    *****************************************************************************
      84                    *
      85                    * a10=index into offsets table
      86                    
      87 00000000            SUBR   create_dizzy_proc
      88                    
      89 00000000     b5a0          move    *a13(STARS_FLAG),a0
         00000010     07f0  
      90 00000020     cb36          jrnz    cqtnx
      91                    
      92 00000030                   CREATE0 dizzy_proc
      93 000000a0     4c09          move    a0,a9
      94 000000b0     b3a9          move    a13,*a9(PROC),L
         000000c0     01c0  
      95                    
      96 000000d0     1820          movk    1,a0
      97 000000e0     b00d          move    a0,*a13(STARS_FLAG)
         000000f0     07f0  
      98                    
      99 00000100     b5a8          move    *a13(WRESTLERNUM),a8
         00000110     0590  
     100 00000120                   X128    a8
     101 00000130     0b28          addi    cqtndizzy_offsets,a8
         00000140 000003a0' 
     102 00000160                   X32     a10
     103 00000170     4148          add     a10,a8
     104 00000180     9501          move    *a8+,a1                 ;x offset
     105 00000190     b5a0          move    *a13(OBJ_XPOSINT),a0
         000001a0     0110  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

     106                    
     107 000001b0     b5ae          move    *a13(OBJ_CONTROL),a14
         000001c0     0780  
     108 000001d0     1f6e          btst    B_FLIPH,a14
     109 000001e0     ca01          jrz     cqtnno_flip
     110 000001f0     03a1          neg     a1
     111 00000200           cqtnno_flip
     112 00000200     4020          add     a1,a0
     113 00000210     2600          sll     16,a0
     114 00000220     b209          move    a0,*a9(XVAL),L
         00000230     0120  
     115                    
     116 00000240     09c0          movi    Y_SCALE_MULTIPLIER,a0
         00000250     3566  
     117 00000260     b5a1          move    *a13(OBJ_ZPOSINT),a1
         00000270     0150  
     118 00000280     5e01          mpyu    a0,a1
     119 00000290     b5a0          move    *a13(OBJ_YPOSINT),a0
         000002a0     0130  
     120 000002b0     850e          move    *a8,a14                 ;y offset
     121 000002c0     41c0          add     a14,a0
     122 000002d0     2600          sll     16,a0
     123 000002e0     4401          sub     a0,a1
     124 000002f0     b229          move    a1,*a9(YVAL),L
         00000300     0140  
     125                    
     126                    ;       move    *a13(OBJ_PRIORITY),a0
     127 00000310     b5a0          move    *a13(OBJ_ZPOSINT),a0
         00000320     0150  
     128 00000330     0ba0          ori     1000h,a0
         00000340 00001000  
     129                    
     130                    ;The stars for laying on ground guy, appear in front of other guy also!
     131                    ;No easy solution for this problem...
     132                    
     133 00000360     1020          inc     a0
     134 00000370     b009          move    a0,*a9(ZVAL)
         00000380     0160  
     135                    
     136 00000390           cqtnx
     137 00000390     0960          rets
     138                    
     139                    
     140                    ;               stand, lying
     141 000003a0           cqtndizzy_offsets
     142                    ;               stand, on stomach, on back,?,?
     143                    
     144 000003a0     0006          .word   6,6dh, 0,0, 0,0, 0,0                    ;0 Bret Hart
     145 00000420     0002          .word   2,73h, 0,0, 0,0, 0,0                    ;1 Razor Ramon
     146 000004a0     0019          .word   19h,74h, 0,0, 0,0, 0,0                  ;2 Undertaker
     147 00000520     000a          .word   10,6dh, 0,0, 0,0, 0,0                   ;3 Yokozuna
     148 000005a0     fffb          .word   -5,6bh, 0,0, 0,0, 0,0                   ;4 Shawn Michaels
     149 00000620     0005          .word   5,116, 0,0, 0,0, 0,0                    ;5 Bam Bam
     150 000006a0     0007          .word   7,116, 2eh,30h, 30h,20h, 0,0            ;6 Doink
     151 00000720     0007          .word   7,116, 0,0, 0,0, 0,0                    ;7 Spare
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

     152 000007a0     0007          .word   7,116, 0,0, 0,0, 0,0                    ;8 Lex Luger
     153 00000820     0007          .word   7,116, 0,0, 0,0, 0,0                    ;9 Referee
     154                    
     155                    
     156                    *****************************************************************************
     157                    
     158 000008a0            SUBRP  dizzy_proc
     159                    
     160 000008a0     b7a0          move    *a13(PROC),a0,L
         000008b0     01c0  
     161 000008c0     b400          move    *a0(WRESTLERNUM),a0
         000008d0     0590  
     162 000008e0                   X32     a0
     163 000008f0     0b20          addi    gqdjstar_art,a0
         00000900 00000d30' 
     164 00000920     860a          move    *a0,a10,L
     165 00000930     b34d          move    a10,*a13(STAR_TBL),L
         00000940     0200  
     166                    
     167                    
     168 00000950     954b          move    *a10+,a11               ;tick count
     169 00000960     9742          move    *a10+,a2,L              ;* image
     170                    
     171 00000970     b7a0          move    *a13(XVAL),a0,L         ;x val
         00000980     0120  
     172 00000990     b7a1          move    *a13(YVAL),a1,L         ;y val
         000009a0     0140  
     173 000009b0     b5a3          move    *a13(ZVAL),a3           ;z val
         000009c0     0160  
     174 000009d0     09e4          movi    DMAWNZ|M_3D,a4          ;DMA flags
         000009e0 00008102  
     175 00000a00     56a5          clr     a5                      ;OID
     176 00000a10     56c6          clr     a6                      ;x vel
     177 00000a20     56e7          clr     a7                      ;y vel
     178 00000a30     0d5f          calla   BEGINOBJ
         00000a40 00000000! 
     179                    
     180 00000a60     b7a9          move    *a13(PROC),a9,L
         00000a70     01c0  
     181 00000a80           gqdjloop
     182 00000a80                   SLEEPK  1
     183 00000ac0     b520          move    *a9(STARS_FLAG),a0
         00000ad0     07f0  
     184 00000ae0     ca1e          jrz     gqdjdie
     185                    
     186                    ;If stars are on for grounded opponent, swap ZPOS based on nearest opponent
     187 00000af0     b520          move    *a9(PLYRMODE),a0
         00000b00     05c0  
     188 00000b10     0b40          cmpi    MODE_ONGROUND,a0
         00000b20     fffb  
     189 00000b30     cb0f          jrnz    gqdjnock
     190                    
     191 00000b40     b520          move    *a9(NEW_FACING_DIR),a0
         00000b50     04d0  
     192 00000b60     1fe0          btst    MOVE_UP_BIT,a0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

     193 00000b70     cb06          jrnz    gqdjfront
     194                    ;Stars should be lower Z than wrestlers
     195 00000b80     b5a0          move    *a13(ZVAL),a0           ;z val
         00000b90     0160  
     196 00000ba0     1420          subk    1,a0
     197 00000bb0     b008          move    a0,*a8(OZPOS)
         00000bc0     00d0  
     198 00000bd0     c005          jruc    gqdjnock
     199 00000be0           gqdjfront
     200                    ;Stars should be higher Z than wrestlers
     201 00000be0     b5a0          move    *a13(ZVAL),a0           ;z val
         00000bf0     0160  
     202 00000c00     1020          addk    1,a0
     203 00000c10     b008          move    a0,*a8(OZPOS)
         00000c20     00d0  
     204                    
     205 00000c30           gqdjnock
     206                    
     207 00000c30     3f8b          dsj     a11,gqdjloop
     208 00000c40           gqdjcnt
     209 00000c40     954b          move    *a10+,a11
     210 00000c50     cb03          jrnz    gqdjok
     211                    
     212                    ;       movi    gqdjdizzy_anim,a10              ;repeat
     213 00000c60     b7aa          move    *a13(STAR_TBL),a10,L
         00000c70     0200  
     214                    
     215 00000c80     c0fb          jruc    gqdjcnt
     216 00000c90           gqdjok
     217 00000c90     9740          move    *a10+,a0,L
     218 00000ca0     0d3f          callr   change_image_local
         00000cb0     0672  
     219 00000cc0     c0db          jruc    gqdjloop
     220                    
     221                    
     222 00000cd0           gqdjdie
     223 00000cd0     0d5f          calla   DELOBJA8
         00000ce0 00000000! 
     224 00000d00                   DIE
     225                    
     226                    
     227 00000d30           gqdjstar_art
     228 00000d30 00000e70'         .long   gqdjhdizzy_anim         ;0 Bret Hart
     229 00000d50 00000fa0'         .long   gqdjrdizzy_anim         ;1 Razor Ramon
     230 00000d70 00001190'         .long   gqdjudizzy_anim         ;2 Undertaker
     231 00000d90 000012c0'         .long   gqdjydizzy_anim         ;3 Yokozuna
     232 00000db0 00001480'         .long   gqdjsdizzy_anim         ;4 Shawn Michaels
     233 00000dd0 00001670'         .long   gqdjbdizzy_anim         ;5 Bam Bam
     234 00000df0 000017a0'         .long   gqdjddizzy_anim         ;6 Doink
     235 00000e10 00000000          .long   0                       ;7 spare
     236 00000e30 000018d0'         .long   gqdjldizzy_anim         ;8 Lex Luger
     237 00000e50 00000000          .long   0                       ;9 Referee
     238                    
     239 00000e70           gqdjhdizzy_anim
     240 00000e70                   WL      4,STARS01
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

     241 00000ea0                   WL      4,STARS02
     242 00000ed0                   WL      4,STARS03
     243 00000f00                   WL      4,STARS04
     244 00000f30                   WL      4,STARS05
     245 00000f60                   WL      4,STARS06
     246 00000f90     0000          .word   0
     247                    
     248 00000fa0           gqdjrdizzy_anim
     249 00000fa0                   WL      5,RAZDIZ201
     250 00000fd0                   WL      5,RAZDIZ202
     251 00001000                   WL      5,RAZDIZ203
     252 00001030                   WL      5,RAZDIZ204
     253 00001060                   WL      5,RAZDIZ205
     254 00001090                   WL      5,RAZDIZ206
     255 000010c0                   WL      5,RAZDIZ207
     256 000010f0                   WL      5,RAZDIZ208
     257 00001120                   WL      5,RAZDIZ209
     258 00001150                   WL      5,RAZDIZ210
     259 00001180     0000          .word   0
     260                    
     261 00001190           gqdjudizzy_anim
     262 00001190                   WL      5,UNDZ01
     263 000011c0                   WL      5,UNDZ02
     264 000011f0                   WL      5,UNDZ03
     265 00001220                   WL      5,UNDZ04
     266 00001250                   WL      5,UNDZ05
     267 00001280                   WL      5,UNDZ06
     268 000012b0     0000          .word   0
     269                    
     270 000012c0           gqdjydizzy_anim
     271 000012c0                   WL      5,YKDZ01
     272 000012f0                   WL      5,YKDZ02
     273 00001320                   WL      5,YKDZ03
     274 00001350                   WL      5,YKDZ04
     275 00001380                   WL      5,YKDZ05
     276 000013b0                   WL      5,YKDZ06
     277 000013e0                   WL      5,YKDZ07
     278 00001410                   WL      5,YKDZ08
     279 00001440                   WL      5,YKDZ09
     280 00001470     0000          .word   0
     281                    
     282 00001480           gqdjsdizzy_anim
     283 00001480                   WL      4,SHNDIZ01
     284 000014b0                   WL      4,SHNDIZ02
     285 000014e0                   WL      4,SHNDIZ03
     286 00001510                   WL      4,SHNDIZ04
     287 00001540                   WL      4,SHNDIZ05
     288 00001570                   WL      4,SHNDIZ06
     289 000015a0                   WL      4,SHNDIZ07
     290 000015d0                   WL      4,SHNDIZ08
     291 00001600                   WL      4,SHNDIZ09
     292 00001630                   WL      4,SHNDIZ10
     293 00001660     0000          .word   0
     294                    
     295 00001670           gqdjbdizzy_anim
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

     296 00001670                   WL      5,BMDZ01
     297 000016a0                   WL      5,BMDZ02
     298 000016d0                   WL      5,BMDZ03
     299 00001700                   WL      5,BMDZ04
     300 00001730                   WL      5,BMDZ05
     301 00001760                   WL      5,BMDZ06
     302 00001790     0000          .word   0
     303                    
     304 000017a0           gqdjddizzy_anim
     305 000017a0                   WL      4,STARS01
     306 000017d0                   WL      4,STARS02
     307 00001800                   WL      4,STARS03
     308 00001830                   WL      4,STARS04
     309 00001860                   WL      4,STARS05
     310 00001890                   WL      4,STARS06
     311 000018c0     0000          .word   0
     312                    
     313 000018d0           gqdjldizzy_anim
     314 000018d0                   WL      4,STARS01
     315 00001900                   WL      4,STARS02
     316 00001930                   WL      4,STARS03
     317 00001960                   WL      4,STARS04
     318 00001990                   WL      4,STARS05
     319 000019c0                   WL      4,STARS06
     320 000019f0     0000          .word   0
     321                    
     322                    
     323                    *****************************************************************************
     324                    
     325                    ;For Bam fire head butt
     326                    ;For Taker club to head
     327 00001a00            SUBR   create_impact
     328                    
     329                            ;quit if no_debris is set
     330 00001a00     05ae          move    @no_debris,a14
         00001a10 00000000! 
     331 00001a30     cb21          jrnz    fmcorets
     332 00001a40     05ae          move    @reduce_bog,a14
         00001a50 00000000! 
     333 00001a70     cb1d          jrnz    fmcorets
     334                    
     335 00001a80                   PUSH    a1,a4,a7,a10,a11
     336 00001aa0     b7aa          move    *a13(WHOIHIT),a10,L
         00001ab0     0500  
     337 00001ac0     b540          move    *a10(WRESTLERNUM),a0
         00001ad0     0590  
     338 00001ae0     24a0          sll     5,a0
     339 00001af0     0b20          addi    fmcooffset_t,a0
         00001b00 00001c60' 
     340 00001b20     860b          move    *a0,a11,L
     341 00001b30                   CREATE  DEBRIS_PID,fmcoexplosions
     342 00001bb0                   CREATE  DEBRIS_PID,fmcoexplosions2
     343 00001c30                   PULL    a1,a4,a7,a10,a11
     344                    
     345 00001c50     0960  fmcorets        rets
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

     346                    
     347 00001c60           fmcooffset_t
     348 00001c60 00640000          .long   [100,0]         ;0      (Bret)
     349 00001c80 006c0000          .long   [108,0]         ;1      (Razor)
     350 00001ca0 006c0000          .long   [108,0]         ;2      (Taker)
     351 00001cc0 00690000          .long   [105,0]         ;3      (Yoko)
     352 00001ce0 00500000          .long   [80,0]          ;4      (Shawn)
     353 00001d00 00690000          .long   [105,0]         ;5      (Bam Bam)
     354 00001d20 00600000          .long   [96,0]          ;6      (Doink)
     355 00001d40 00690000          .long   [105,0]         ;7      (spare)
     356 00001d60 005a0000          .long   [90,0]          ;8      (Lex)
     357                    
     358                    ;For Bam fire super kick
     359                    ;For Taker fire super kick
     360 00001d80            SUBR   create_impact2
     361                    
     362                            ;quit if no_debris is set
     363 00001d80     05ae          move    @no_debris,a14
         00001d90 00000000! 
     364 00001db0     cbe9          jrnz    fmcorets
     365 00001dc0     05ae          move    @reduce_bog,a14
         00001dd0 00000000! 
     366 00001df0     cbe5          jrnz    fmcorets
     367                    
     368 00001e00                   PUSH    a1,a4,a7,a10,a11
     369 00001e20     b7aa          move    *a13(WHOIHIT),a10,L
         00001e30     0500  
     370 00001e40     09eb          movi    [38h,13h],a11
         00001e50 00380013  
     371 00001e70                   CREATE  DEBRIS_PID,fmcoexplosions
     372 00001ef0                   CREATE  DEBRIS_PID,fmcoexplosions2
     373 00001f70                   PULL    a1,a4,a7,a10,a11
     374                    
     375 00001f90     0960          rets
     376                    
     377                    ;For Taker explosion for pin
     378 00001fa0            SUBR   create_impact5
     379                    
     380                            ;quit if no_debris is set
     381 00001fa0     05ae          move    @no_debris,a14
         00001fb0 00000000! 
     382 00001fd0     cbc7          jrnz    fmcorets
     383 00001fe0     05ae          move    @reduce_bog,a14
         00001ff0 00000000! 
     384 00002010     cbc3          jrnz    fmcorets
     385                    
     386 00002020                   PUSH    a1,a4,a7,a10,a11
     387 00002040     b7aa          move    *a13(WHOIHIT),a10,L
         00002050     0500  
     388 00002060     09eb          movi    [10,1h],a11
         00002070 000a0001  
     389 00002090                   CREATE  DEBRIS_PID,fmcoexplosions
     390 00002110                   CREATE  DEBRIS_PID,fmcoexplosions2
     391 00002190                   CREATE  DEBRIS_PID,fmcoexplosions2
     392 00002210                   PULL    a1,a4,a7,a10,a11
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     393                    
     394 00002230     0960          rets
     395                    
     396                    ;For Bam fire punches to head
     397 00002240            SUBR   create_impact3
     398                    
     399                            ;quit if no_debris is set
     400 00002240     05ae          move    @no_debris,a14
         00002250 00000000! 
     401 00002270     cb9d          jrnz    fmcorets
     402 00002280     05ae          move    @reduce_bog,a14
         00002290 00000000! 
     403 000022b0     cb99          jrnz    fmcorets
     404                    
     405 000022c0                   PUSH    a1,a4,a7,a10,a11
     406 000022e0     b7aa          move    *a13(WHOIHIT),a10,L
         000022f0     0500  
     407 00002300     09eb          movi    [58h,0],a11
         00002310 00580000  
     408 00002330                   CREATE  DEBRIS_PID,fmcoexplosions
     409 000023b0                   PULL    a1,a4,a7,a10,a11
     410                    
     411 000023d0     0960          rets
     412                    
     413                    ;For Yoko salt to face
     414 000023e0            SUBR   create_impact_salt
     415                    
     416 000023e0                   PUSH    a1,a4,a7,a10,a11
     417 00002400     4daa          move    a13,a10
     418 00002410     09eb          movi    [38h,0],a11
         00002420 00380000  
     419 00002440                   CREATE  DEBRIS_PID,explosions_salt
     420 000024c0                   PULL    a1,a4,a7,a10,a11
     421                    
     422 000024e0     0960          rets
     423                    
     424                    ;For Taker uppercut
     425 000024f0            SUBR   create_impact4
     426                    
     427                            ;quit if no_debris is set
     428 000024f0     05ae          move    @no_debris,a14
         00002500 00000000! 
     429 00002520     cb00          jrnz    fmcorets
         00002530     ff71  
     430 00002540     05ae          move    @reduce_bog,a14
         00002550 00000000! 
     431 00002570     cb00          jrnz    fmcorets
         00002580     ff6c  
     432                    
     433 00002590                   PUSH    a1,a4,a7,a10,a11
     434 000025b0     b7aa          move    *a13(WHOIHIT),a10,L
         000025c0     0500  
     435 000025d0     09eb          movi    [58h,0],a11
         000025e0 00580000  
     436 00002600                   CREATE  DEBRIS_PID,fmcohead_fountain
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   10

     437                    ;Don't allow other debris to come out and bog us down!
     438 00002680     1820          movk    1,a0
     439 00002690     0580          move    a0,@no_debris
         000026a0 00000000! 
     440 000026c0                   PULL    a1,a4,a7,a10,a11
     441                    
     442 000026e0     0960          rets
     443                    
     444                    ;For Bam flying kick to face
     445 000026f0            SUBR   create_impact_flykick
     446                    
     447                            ;quit if no_debris is set
     448 000026f0     05ae          move    @no_debris,a14
         00002700 00000000! 
     449 00002720     cb00          jrnz    fmcorets
         00002730     ff51  
     450 00002740     05ae          move    @reduce_bog,a14
         00002750 00000000! 
     451 00002770     cb00          jrnz    fmcorets
         00002780     ff4c  
     452                    
     453 00002790                   PUSH    a1,a4,a7,a10,a11
     454 000027b0     b7aa          move    *a13(WHOIHIT),a10,L
         000027c0     0500  
     455 000027d0     09eb          movi    [58h,0],a11
         000027e0 00580000  
     456 00002800                   CREATE  DEBRIS_PID,fmcohead_fountain_kick
     457                    ;Don't allow other debris to come out and bog us down!
     458 00002880     1820          movk    1,a0
     459 00002890     0580          move    a0,@no_debris
         000028a0 00000000! 
     460 000028c0                   PULL    a1,a4,a7,a10,a11
     461                    
     462 000028e0     0960          rets
     463                    
     464 000028f0           fmcohead_fountain_kick
     465                    ;For Taker uppercut fountain
     466 000028f0     b541          move    *a10(DEBRIS_X),a1
         00002900     0b10  
     467 00002910     cb07          jrnz    fmcocont_k
     468                    
     469 00002920     5600          clr     a0              ;okay, a0 IS always zero after a wakeup,
     470 00002930     0580          move    a0,@no_debris   ; but it's bad karma to count on it.
         00002940 00000000! 
     471 00002960                   DIE
     472                    
     473 00002990           fmcocont_k
     474 00002990                   CREATE  DEBRIS_PID,impact_proc2
     475 00002a10     4c09          move    a0,a9
     476                    
     477 00002a20     09e0          movi    XPLODE_P,a0
         00002a30 00000000! 
     478 00002a50     b209          move    a0,*a9(PALLET),L
         00002a60     01e0  
     479                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   11

     480 00002a70     0d3f          callr   fmcostuff_it
         00002a80     0024  
     481                    
     482 00002a90                   SLEEPK  2
     483 00002ad0     c0e1          jruc    fmcohead_fountain_kick
     484                    
     485 00002ae0           fmcohead_fountain
     486                    ;For Taker uppercut fountain
     487 00002ae0     b541          move    *a10(DEBRIS_X),a1
         00002af0     0b10  
     488 00002b00     cb07          jrnz    fmcocont
     489                    
     490 00002b10     5600          clr     a0              ;okay, a0 IS always zero after a wakeup,
     491 00002b20     0580          move    a0,@no_debris   ; but it's bad karma to count on it.
         00002b30 00000000! 
     492 00002b50                   DIE
     493                    
     494 00002b80           fmcocont
     495 00002b80                   CREATE  DEBRIS_PID,impact_proc2
     496 00002c00     4c09          move    a0,a9
     497                    
     498 00002c10     09e0          movi    BLUEEX_P,a0
         00002c20 00000000! 
     499 00002c40     b209          move    a0,*a9(PALLET),L
         00002c50     01e0  
     500                    
     501 00002c60     0d3f          callr   fmcostuff_it
         00002c70     0005  
     502                    
     503 00002c80                   SLEEPK  2
     504                    
     505 00002cc0     c0e1          jruc    fmcohead_fountain
     506                    
     507 00002cd0           fmcostuff_it
     508 00002cd0     1960          movk    11,a0
     509                    
     510 00002ce0     0d5f          calla   RNDRNG0
         00002cf0 00000000! 
     511 00002d10     24a0          sll     5,a0
     512 00002d20     0b20          addi    fmcoexp_tbl,a0
         00002d30 000049c0' 
     513 00002d50     8600          move    *a0,a0,L
     514                    
     515 00002d60     b209          move    a0,*a9(ANIM),L          ;animation
         00002d70     0100  
     516                    
     517 00002d80     09e4          movi    DMAWNZ|M_3D,a4          ;DMA flags
         00002d90 00008102  
     518                    
     519 00002db0     b541          move    *a10(DEBRIS_X),a1
         00002dc0     0b10  
     520 00002dd0     b540          move    *a10(OBJ_XPOSINT),a0
         00002de0     0110  
     521                    
     522 00002df0     b54e          move    *a10(OBJ_CONTROL),a14
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   12

         00002e00     0780  
     523 00002e10     1f6e          btst    B_FLIPH,a14
     524 00002e20     ca04          jrz     fmcono_flip2
     525 00002e30     03a1          neg     a1
     526 00002e40     0ba4          ori     M_FLIPH,a4              ;flip image
         00002e50 00000010  
     527 00002e70           fmcono_flip2
     528 00002e70     4020          add     a1,a0
     529 00002e80     2600          sll     16,a0
     530 00002e90     b209          move    a0,*a9(XVAL),L
         00002ea0     0120  
     531 00002eb0     b089          move    a4,*a9(FLAGS)           ;DMA flags
         00002ec0     01b0  
     532                    
     533 00002ed0     09c0          movi    Y_SCALE_MULTIPLIER,a0
         00002ee0     3566  
     534 00002ef0     b543          move    *a10(OBJ_ZPOSINT),a3
         00002f00     0150  
     535 00002f10     5e03          mpyu    a0,a3
     536 00002f20     b540          move    *a10(OBJ_YPOSINT),a0
         00002f30     0130  
     537                    
     538 00002f40     b54e          move    *A10(DEBRIS_Y),a14
         00002f50     0b20  
     539 00002f60     41c0          add     a14,a0
     540 00002f70     2600          sll     16,a0
     541 00002f80     4403          sub     a0,a3
     542 00002f90     b269          move    a3,*a9(YVAL),L
         00002fa0     0140  
     543                    
     544 00002fb0     b540          move    *a10(OBJ_ZPOSINT),a0
         00002fc0     0150  
     545 00002fd0     0ba0          ori     1000h,a0
         00002fe0 00001000  
     546 00003000     b54e          move    *a10(INRING),a14
         00003010     0560  
     547 00003020     ca07          jrz     fmcoinring2
     548 00003030     0b60          cmpi    [015ach,0],a0
         00003040 ea53ffff  
     549 00003060     c703          jrgt    fmcoinring2
     550 00003070     0d00          subi    [01e5h,0],a0            ;below mat
         00003080 fe1affff  
     551 000030a0           fmcoinring2
     552 000030a0     4c02          move    a0,a2
     553 000030b0     05a1          move    @HCOUNT,a1
         000030c0 c00001c0  
     554 000030e0     1fe1          btst    0,a1
     555 000030f0     ca02          jrz     fmcook2
     556 00003100     0b02          addi    5h,a2
         00003110     0005  
     557 00003120           fmcook2
     558 00003120     b049          move    a2,*a9(ZVAL)
         00003130     0160  
     559                    
     560 00003140     09e0          movi    20000h,a0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   13

         00003150 00020000  
     561 00003170     0d5f          calla   RNDRNG0
         00003180 00000000! 
     562 000031a0     0d00          subi    10000h,a0
         000031b0 fffeffff  
     563 000031d0     b209          move    a0,*a9(XVEL),L
         000031e0     0170  
     564                    
     565 000031f0     09e0          movi    20000h,a0
         00003200 00020000  
     566 00003220     0d5f          calla   RNDRNG0
         00003230 00000000! 
     567 00003250     0d00          subi    10000h,a0
         00003260 fffeffff  
     568 00003280     b209          move    a0,*a9(YVEL),L
         00003290     0190  
     569 000032a0     0960          rets
     570                    
     571                    
     572                    ;For Yoko salt bucket
     573 000032b0            SUBR   create_bucket_salt
     574                    
     575                            ;quit if no_debris is set
     576 000032b0     05ae          move    @no_debris,a14
         000032c0 00000000! 
     577 000032e0     cb00          jrnz    fmcorets
         000032f0     fe95  
     578 00003300     05ae          move    @reduce_bog,a14
         00003310 00000000! 
     579 00003330     cb00          jrnz    fmcorets
         00003340     fe90  
     580                    
     581 00003350                   PUSH    a1,a4,a7,a10,a11
     582                    ;       move    *a13(WHOIHIT),a10,L
     583                    
     584                    ;       movi    [58h,0],a11
     585                    
     586 00003370     4daa          move    a13,a10
     587 00003380                   CREATE  DEBRIS_PID,fmcosalt_from_bucket
     588                    ;Don't allow other debris to come out and bog us down!
     589                    ;       movk    1,a0
     590                    ;       move    a0,@no_debris
     591 00003400                   PULL    a1,a4,a7,a10,a11
     592                    
     593 00003420     0960          rets
     594                    
     595 00003430           fmcosalt_from_bucket
     596                    ;For Taker uppercut fountain
     597 00003430     b541          move    *a10(DEBRIS_X),a1
         00003440     0b10  
     598 00003450     cb06          jrnz    fmcoconts
     599                    
     600 00003460     0581          move    a1,@no_debris
         00003470 00000000! 
     601                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   14

     602 00003490                   DIE
     603                    
     604 000034c0           fmcoconts
     605 000034c0                   CREATE  DEBRIS_PID,impact_proc2
     606 00003540     4c09          move    a0,a9
     607                    
     608 00003550     1860          movk    3,a0
     609 00003560     0d5f          calla   RNDRNG0
         00003570 00000000! 
     610 00003590     24a0          sll     5,a0
     611 000035a0     0b20          addi    fmcosalt_exp_tbl,a0
         000035b0 00004b40' 
     612 000035d0     8600          move    *a0,a0,L
     613                    
     614 000035e0     b209          move    a0,*a9(ANIM),L          ;animation
         000035f0     0100  
     615                    
     616 00003600     09e0          movi    SALTTR_P,a0
         00003610 00000000! 
     617 00003630     b209          move    a0,*a9(PALLET),L
         00003640     01e0  
     618                    
     619 00003650     09e4          movi    DMAWNZ|M_3D,a4          ;DMA flags
         00003660 00008102  
     620                    
     621 00003680     b541          move    *a10(DEBRIS_X),a1
         00003690     0b10  
     622 000036a0     b540          move    *a10(OBJ_XPOSINT),a0
         000036b0     0110  
     623                    
     624 000036c0     b54e          move    *a10(OBJ_CONTROL),a14
         000036d0     0780  
     625 000036e0     1f6e          btst    B_FLIPH,a14
     626 000036f0     ca04          jrz     fmcono_flip2s
     627 00003700     03a1          neg     a1
     628 00003710     0ba4          ori     M_FLIPH,a4              ;flip image
         00003720 00000010  
     629 00003740           fmcono_flip2s
     630 00003740     4020          add     a1,a0
     631 00003750     2600          sll     16,a0
     632 00003760     b209          move    a0,*a9(XVAL),L
         00003770     0120  
     633 00003780     b089          move    a4,*a9(FLAGS)           ;DMA flags
         00003790     01b0  
     634                    
     635 000037a0     09c0          movi    Y_SCALE_MULTIPLIER,a0
         000037b0     3566  
     636 000037c0     b543          move    *a10(OBJ_ZPOSINT),a3
         000037d0     0150  
     637 000037e0     5e03          mpyu    a0,a3
     638 000037f0     b540          move    *a10(OBJ_YPOSINT),a0
         00003800     0130  
     639                    
     640 00003810     b54e          move    *A10(DEBRIS_Y),a14
         00003820     0b20  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   15

     641 00003830     41c0          add     a14,a0
     642 00003840     2600          sll     16,a0
     643 00003850     4403          sub     a0,a3
     644 00003860     b269          move    a3,*a9(YVAL),L
         00003870     0140  
     645                    
     646 00003880     b540          move    *a10(OBJ_ZPOSINT),a0
         00003890     0150  
     647 000038a0     0ba0          ori     1000h,a0
         000038b0 00001000  
     648 000038d0     b54e          move    *a10(INRING),a14
         000038e0     0560  
     649 000038f0     ca07          jrz     fmcoinring2s
     650 00003900     0b60          cmpi    [015ach,0],a0
         00003910 ea53ffff  
     651 00003930     c703          jrgt    fmcoinring2s
     652 00003940     0d00          subi    [01e5h,0],a0            ;below mat
         00003950 fe1affff  
     653 00003970           fmcoinring2s
     654 00003970     4c02          move    a0,a2
     655 00003980     05a1          move    @HCOUNT,a1
         00003990 c00001c0  
     656 000039b0     1fe1          btst    0,a1
     657 000039c0     ca02          jrz     fmcook2s
     658 000039d0     0b02          addi    5h,a2
         000039e0     0005  
     659 000039f0           fmcook2s
     660 000039f0     b049          move    a2,*a9(ZVAL)
         00003a00     0160  
     661                    
     662                    
     663 00003a10     09e0          movi    20000h,a0
         00003a20 00020000  
     664 00003a40     0d5f          calla   RNDRNG0
         00003a50 00000000! 
     665 00003a70     0d00          subi    10000h,a0
         00003a80 fffeffff  
     666 00003aa0     b209          move    a0,*a9(XVEL),L
         00003ab0     0170  
     667                    
     668 00003ac0     09e0          movi    20000h,a0
         00003ad0 00020000  
     669 00003af0     0d5f          calla   RNDRNG0
         00003b00 00000000! 
     670 00003b20     0d00          subi    10000h,a0
         00003b30 fffeffff  
     671 00003b50     b209          move    a0,*a9(YVEL),L
         00003b60     0190  
     672                    
     673 00003b70                   SLEEPK  2
     674                    
     675 00003bb0     c087          jruc    fmcosalt_from_bucket
     676                    
     677                    *****************************************************************************
     678                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   16

     679 00003bc0           fmcoexplosions2
     680 00003bc0                   SLEEPK  1
     681 00003c00           fmcoexplosions
     682                    
     683                            ;if there's too much debris already, don't do anything.
     684 00003c00     05ae          move    @debris_count,a14
         00003c10 00000770- 
     685 00003c30     0b4e          cmpi    DEBRIS_MAX,a14
         00003c40     ffe1  
     686 00003c50     c500          jrge    fmcodie
         00003c60     009e  
     687                    
     688                            ;increment global debris count
     689 00003c70     05ae          move    @debris_count,a14
         00003c80 00000770- 
     690 00003ca0     102e          inc     a14
     691 00003cb0     058e          move    a14,@debris_count
         00003cc0 00000770- 
     692                    
     693 00003ce0     ed60          movx    a11,a0
     694 00003cf0     b00d          move    a0,*a13(PDATA)          ;x
         00003d00     0100  
     695 00003d10     ef60          movy    a11,a0
     696 00003d20     2e00          srl     16,a0
     697 00003d30     b00d          move    a0,*a13(PDATA+16)       ;y
         00003d40     0110  
     698                    
     699 00003d50     188b          movk    4,a11
     700 00003d60     b740          move    *a10(WHOHITME),a0,L
         00003d70     04e0  
     701 00003d80     b400          MOVE    *A0(COMBO_COUNT),A0
         00003d90     0af0  
     702 00003da0     ca01          JRZ     fmcolp
     703 00003db0     182b          movk    1,a11
     704 00003dc0           fmcolp
     705 00003dc0                   CREATE  DEBRIS_PID,impact_proc
     706 00003e40     4c09          move    a0,a9
     707                    
     708 00003e50     1960          movk    11,a0
     709 00003e60     0d5f          calla   RNDRNG0
         00003e70 00000000! 
     710 00003e90     24a0          sll     5,a0
     711 00003ea0     0b20          addi    fmcoexp_tbl,a0
         00003eb0 000049c0' 
     712 00003ed0     8600          move    *a0,a0,L
     713                    
     714 00003ee0     b209          move    a0,*a9(ANIM),L          ;animation
         00003ef0     0100  
     715                    
     716 00003f00     b740          move    *a10(WHOHITME),a0,L
         00003f10     04e0  
     717 00003f20     b400          move    *a0(WRESTLERNUM),a0
         00003f30     0590  
     718 00003f40     24a0          sll     5,a0
     719 00003f50     0b20          addi    fmcopal_t,a0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   17

         00003f60 00004680' 
     720 00003f80     8600          move    *a0,a0,L
     721 00003f90     b209          move    a0,*a9(PALLET),L
         00003fa0     01e0  
     722                    
     723 00003fb0     09e4          movi    DMAWNZ|M_3D,a4          ;DMA flags
         00003fc0 00008102  
     724                    
     725 00003fe0     b5a1          move    *a13(PDATA),a1          ;x
         00003ff0     0100  
     726                    
     727 00004000     b540          move    *a10(OBJ_XPOSINT),a0
         00004010     0110  
     728                    
     729 00004020     b54e          move    *a10(OBJ_CONTROL),a14
         00004030     0780  
     730 00004040     1f6e          btst    B_FLIPH,a14
     731 00004050     ca04          jrz     fmcono_flip
     732 00004060     03a1          neg     a1
     733 00004070     0ba4          ori     M_FLIPH,a4              ;flip image
         00004080 00000010  
     734 000040a0           fmcono_flip
     735 000040a0     4020          add     a1,a0
     736 000040b0     4c02          move    a0,a2
     737                    
     738 000040c0     09c0          movi    30,a0
         000040d0     001e  
     739 000040e0     0d5f          calla   RNDRNG0
         000040f0 00000000! 
     740 00004110     0be0          subi    15,a0
         00004120     fff0  
     741 00004130     4002          add     a0,a2
     742                    
     743 00004140     2602          sll     16,a2
     744 00004150     b249          move    a2,*a9(XVAL),L
         00004160     0120  
     745                    
     746 00004170     b089          move    a4,*a9(FLAGS)           ;DMA flags
         00004180     01b0  
     747                    
     748 00004190     09c0          movi    Y_SCALE_MULTIPLIER,a0
         000041a0     3566  
     749 000041b0     b543          move    *a10(OBJ_ZPOSINT),a3
         000041c0     0150  
     750 000041d0     5e03          mpyu    a0,a3
     751 000041e0     b540          move    *a10(OBJ_YPOSINT),a0
         000041f0     0130  
     752 00004200     b5ae          move    *a13(PDATA+16),a14      ;y
         00004210     0110  
     753 00004220     41c0          add     a14,a0                  ;<--- get from table
     754                    
     755 00004230     4c02          move    a0,a2
     756                    
     757 00004240     09c0          movi    20,a0
         00004250     0014  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   18

     758 00004260     0d5f          calla   RNDRNG0
         00004270 00000000! 
     759 00004290     0be0          subi    10,a0
         000042a0     fff5  
     760 000042b0     4002          add     a0,a2
     761                    
     762 000042c0     2602          sll     16,a2
     763 000042d0     4443          sub     a2,a3
     764 000042e0     b269          move    a3,*a9(YVAL),L
         000042f0     0140  
     765                    
     766                    ;       movi    02480H,a0
     767                    
     768 00004300     b540          move    *a10(OBJ_ZPOSINT),a0
         00004310     0150  
     769 00004320     0ba0          ori     1000h,a0
         00004330 00001000  
     770 00004350     b54e          move    *a10(INRING),a14
         00004360     0560  
     771 00004370     ca07          jrz     fmcoinring
     772 00004380     0b60          cmpi    [015ach,0],a0
         00004390 ea53ffff  
     773 000043b0     c703          jrgt    fmcoinring
     774 000043c0     0d00          subi    [01e5h,0],a0            ;below mat
         000043d0 fe1affff  
     775 000043f0           fmcoinring
     776 000043f0     4c02          move    a0,a2
     777 00004400     05a1          move    @HCOUNT,a1
         00004410 c00001c0  
     778 00004430     1fe1          btst    0,a1
     779 00004440     ca02          jrz     fmcook
     780 00004450     0b02          addi    5h,a2
         00004460     0005  
     781 00004470           fmcook
     782 00004470     b049          move    a2,*a9(ZVAL)
         00004480     0160  
     783                    
     784                    
     785                    ;       movi    8000h,a0
     786                    ;       calla   RNDRNG0
     787                    ;       subi    4000h,a0
     788                    ;
     789                    ;       move    *a10(OBJ_XVEL),a1,L
     790                    ;       add     a1,a0
     791                    
     792 00004490     5600          clr     a0
     793 000044a0     b209          move    a0,*a9(XVEL),L
         000044b0     0170  
     794                    
     795 000044c0     09e0          movi    10000h,a0
         000044d0 00010000  
     796 000044f0     0d5f          calla   RNDRNG0
         00004500 00000000! 
     797 00004520     0d00          subi    8000h,a0
         00004530 ffff7fff  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   19

     798                    
     799                    ;       move    *a10(OBJ_YVEL),a1,L
     800                    ;       add     a1,a0
     801                    
     802 00004550     5600          clr     a0
     803 00004560     b209          move    a0,*a9(YVEL),L
         00004570     0190  
     804                    
     805 00004580                   SLEEPK  4
     806                    
     807 000045c0     0d8b          dsj     a11,fmcolp
         000045d0     ff7e  
     808                    
     809                            ;decrement global debris count
     810 000045e0     05ae          move    @debris_count,a14
         000045f0 00000770- 
     811 00004610     142e          dec     a14
     812 00004620     058e          move    a14,@debris_count
         00004630 00000770- 
     813                    
     814 00004650           fmcodie DIE
     815                    
     816 00004680 00000000! fmcopal_t       .long   XPLODE_P        ;0      (Bret)
     817 000046a0 00000000!         .long   XPLODE_P        ;1      (Razor)
     818 000046c0 00000000!         .long   BLUEEX_P        ;2      (Taker)
     819 000046e0 00000000!         .long   XPLODE_P        ;3      (Yoko)
     820 00004700 00000000!         .long   XPLODE_P        ;4      (Shawn)
     821 00004720 00000000!         .long   XPLODE_P        ;5      (Bam Bam)
     822 00004740 00000000!         .long   XPLODE_P        ;6      (Doink)
     823 00004760 00000000!         .long   XPLODE_P        ;7      spare
     824 00004780 00000000!         .long   XPLODE_P        ;8      (Lex)
     825                    
     826                    
     827                    ****************************************************************************
     828                    * a11 = * impact parameters
     829                    
     830 000047a0            SUBR   impact_proc2
     831 000047a0     4d49          move    a10,a9
     832                    
     833 000047b0     0d3f          callr   begin_ani
         000047c0     0288  
     834 000047d0           fmcoloop0
     835 000047d0                   SLEEPK  1
     836                    
     837 00004810                   JSRP    special_ani
     838 00004880     c0f4          jruc    fmcoloop0
     839                    
     840                    *****************************************************************************
     841                    * a11 = * impact parameters
     842                    
     843 00004890            SUBR   impact_proc
     844 00004890     4d49          move    a10,a9
     845                    
     846 000048a0     0d3f          callr   begin_ani
         000048b0     0279  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   20

     847 000048c0           fmcoloop
     848 000048c0                   SLEEPK  1
     849 00004900     b720          move    *a9(OBJ_XVEL),a0,L
         00004910     02d0  
     850 00004920     b208          move    a0,*a8(OXVEL),L
         00004930     0020  
     851                    
     852 00004940                   JSRP    special_ani
     853 000049b0     c0f0          jruc    fmcoloop
     854                    
     855                    
     856                    
     857                    ;;;* A1=PID, A7=PC, A8,A9,A10,A11 Passed parameters
     858                    
     859                    ;       movi    sp_firehit_anim,a10
     860                    ;       callr   begin_ani
     861                    ;
     862                    ;       SLEEPK  1
     863                    ;       callr   special_ani
     864                    
     865                    
     866                    ;sp_d200_anim
     867                    ;;Will be damage point value!
     868                    ;       WL      30,FIREHIT01
     869                    ;       .word   0
     870                    ;
     871                    ;
     872                    ;sp_firehit_anim
     873                    ;       WL      4,FIREHIT01
     874                    ;       WL      4,FIREHIT02
     875                    ;       WL      4,FIREHIT03
     876                    ;       WL      4,FIREHIT04
     877                    ;       .word   0
     878                    
     879                    
     880 000049c0           fmcoexp_tbl
     881 000049c0 000053e0'         .long   fmcosp_explode_a1_anim
     882 000049e0 000055a0'         .long   fmcosp_explode_a2_anim
     883 00004a00 00005760'         .long   fmcosp_explode_a3_anim
     884 00004a20 00005760'         .long   fmcosp_explode_a4_anim
     885 00004a40 00005920'         .long   fmcosp_explode_b1_anim
     886 00004a60 00005ae0'         .long   fmcosp_explode_b2_anim
     887 00004a80 00005ca0'         .long   fmcosp_explode_b3_anim
     888 00004aa0 00005ca0'         .long   fmcosp_explode_b4_anim
     889 00004ac0 00005e60'         .long   fmcosp_explode_c1_anim
     890 00004ae0 00006020'         .long   fmcosp_explode_c2_anim
     891 00004b00 000061e0'         .long   fmcosp_explode_c3_anim
     892 00004b20 000061e0'         .long   fmcosp_explode_c4_anim
     893                    
     894 00004b40           fmcosalt_exp_tbl
     895 00004b40 00004bc0'         .long   fmcosp_salt_exp1_anim
     896 00004b60 00004db0'         .long   fmcosp_salt_exp2_anim
     897 00004b80 00004fd0'         .long   fmcosp_salt_exp3_anim
     898 00004ba0 000051c0'         .long   fmcosp_salt_exp4_anim
     899                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   21

     900 00004bc0           fmcosp_salt_exp1_anim
     901 00004bc0                   WL      4,SALTA01
     902 00004bf0                   WL      4,SALTA02
     903 00004c20                   WL      4,SALTA03
     904 00004c50                   WL      4,SALTA04
     905 00004c80                   WL      4,SALTA05
     906 00004cb0                   WL      4,SALTA06
     907 00004ce0                   WL      4,SALTA07
     908 00004d10                   WL      4,SALTA08
     909 00004d40                   WL      4,SALTA09
     910 00004d70                   WL      4,SALTA10
     911 00004da0     0000          .word   0
     912 00004db0           fmcosp_salt_exp2_anim
     913 00004db0                   WL      4,SALTB01
     914 00004de0                   WL      4,SALTB02
     915 00004e10                   WL      4,SALTB03
     916 00004e40                   WL      4,SALTB04
     917 00004e70                   WL      4,SALTB05
     918 00004ea0                   WL      4,SALTB06
     919 00004ed0                   WL      4,SALTB07
     920 00004f00                   WL      4,SALTB08
     921 00004f30                   WL      4,SALTB09
     922 00004f60                   WL      4,SALTB10
     923 00004f90                   WL      4,SALTB11
     924 00004fc0     0000          .word   0
     925 00004fd0           fmcosp_salt_exp3_anim
     926 00004fd0                   WL      3,SALTA01
     927 00005000                   WL      3,SALTA02
     928 00005030                   WL      3,SALTA03
     929 00005060                   WL      3,SALTA04
     930 00005090                   WL      3,SALTA05
     931 000050c0                   WL      3,SALTA06
     932 000050f0                   WL      3,SALTA07
     933 00005120                   WL      3,SALTA08
     934 00005150                   WL      3,SALTA09
     935 00005180                   WL      3,SALTA10
     936 000051b0     0000          .word   0
     937 000051c0           fmcosp_salt_exp4_anim
     938 000051c0                   WL      3,SALTB01
     939 000051f0                   WL      3,SALTB02
     940 00005220                   WL      3,SALTB03
     941 00005250                   WL      3,SALTB04
     942 00005280                   WL      3,SALTB05
     943 000052b0                   WL      3,SALTB06
     944 000052e0                   WL      3,SALTB07
     945 00005310                   WL      3,SALTB08
     946 00005340                   WL      3,SALTB09
     947 00005370                   WL      3,SALTB10
     948 000053a0                   WL      3,SALTB11
     949 000053d0     0000          .word   0
     950 000053e0           fmcosp_explode_a1_anim
     951 000053e0                   WL      4,XPLODA01
     952 00005410                   WL      4,XPLODA03
     953 00005440                   WL      4,XPLODA04
     954 00005470                   WL      4,XPLODA05
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   22

     955 000054a0                   WL      4,XPLODA06
     956 000054d0                   WL      4,XPLODA07
     957 00005500                   WL      4,XPLODA08
     958 00005530                   WL      4,XPLODA09
     959 00005560                   WL      4,XPLODA10
     960 00005590     0000          .word   0
     961 000055a0           fmcosp_explode_a2_anim
     962 000055a0                   WL      2,XPLODA01
     963 000055d0                   WL      2,XPLODA03
     964 00005600                   WL      2,XPLODA04
     965 00005630                   WL      2,XPLODA05
     966 00005660                   WL      2,XPLODA06
     967 00005690                   WL      2,XPLODA07
     968 000056c0                   WL      2,XPLODA08
     969 000056f0                   WL      2,XPLODA09
     970 00005720                   WL      2,XPLODA10
     971 00005750     0000          .word   0
     972 00005760           fmcosp_explode_a3_anim
     973 00005760           fmcosp_explode_a4_anim
     974 00005760                   WL      3,XPLODA01
     975 00005790                   WL      3,XPLODA03
     976 000057c0                   WL      3,XPLODA04
     977 000057f0                   WL      3,XPLODA05
     978 00005820                   WL      3,XPLODA06
     979 00005850                   WL      3,XPLODA07
     980 00005880                   WL      3,XPLODA08
     981 000058b0                   WL      3,XPLODA09
     982 000058e0                   WL      3,XPLODA10
     983 00005910     0000          .word   0
     984                    
     985                    
     986 00005920           fmcosp_explode_b1_anim
     987 00005920                   WL      4,XPLODB01
     988 00005950                   WL      4,XPLODB03
     989 00005980                   WL      4,XPLODB04
     990 000059b0                   WL      4,XPLODB05
     991 000059e0                   WL      4,XPLODB06
     992 00005a10                   WL      4,XPLODB07
     993 00005a40                   WL      4,XPLODB08
     994 00005a70                   WL      4,XPLODB09
     995 00005aa0                   WL      4,XPLODB10
     996 00005ad0     0000          .word   0
     997 00005ae0           fmcosp_explode_b2_anim
     998 00005ae0                   WL      2,XPLODB01
     999 00005b10                   WL      2,XPLODB03
    1000 00005b40                   WL      2,XPLODB04
    1001 00005b70                   WL      2,XPLODB05
    1002 00005ba0                   WL      2,XPLODB06
    1003 00005bd0                   WL      2,XPLODB07
    1004 00005c00                   WL      2,XPLODB08
    1005 00005c30                   WL      2,XPLODB09
    1006 00005c60                   WL      2,XPLODB10
    1007 00005c90     0000          .word   0
    1008 00005ca0           fmcosp_explode_b3_anim
    1009 00005ca0           fmcosp_explode_b4_anim
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   23

    1010 00005ca0                   WL      3,XPLODB01
    1011 00005cd0                   WL      3,XPLODB03
    1012 00005d00                   WL      3,XPLODB04
    1013 00005d30                   WL      3,XPLODB05
    1014 00005d60                   WL      3,XPLODB06
    1015 00005d90                   WL      3,XPLODB07
    1016 00005dc0                   WL      3,XPLODB08
    1017 00005df0                   WL      3,XPLODB09
    1018 00005e20                   WL      3,XPLODB10
    1019 00005e50     0000          .word   0
    1020                    
    1021 00005e60           fmcosp_explode_c1_anim
    1022 00005e60                   WL      4,XPLODC01
    1023 00005e90                   WL      4,XPLODC03
    1024 00005ec0                   WL      4,XPLODC04
    1025 00005ef0                   WL      4,XPLODC05
    1026 00005f20                   WL      4,XPLODC06
    1027 00005f50                   WL      4,XPLODC07
    1028 00005f80                   WL      4,XPLODC08
    1029 00005fb0                   WL      4,XPLODC09
    1030 00005fe0                   WL      4,XPLODC10
    1031 00006010     0000          .word   0
    1032 00006020           fmcosp_explode_c2_anim
    1033 00006020                   WL      2,XPLODC01
    1034 00006050                   WL      2,XPLODC03
    1035 00006080                   WL      2,XPLODC04
    1036 000060b0                   WL      2,XPLODC05
    1037 000060e0                   WL      2,XPLODC06
    1038 00006110                   WL      2,XPLODC07
    1039 00006140                   WL      2,XPLODC08
    1040 00006170                   WL      2,XPLODC09
    1041 000061a0                   WL      2,XPLODC10
    1042 000061d0     0000          .word   0
    1043                    
    1044 000061e0           fmcosp_explode_c3_anim
    1045 000061e0           fmcosp_explode_c4_anim
    1046 000061e0                   WL      3,XPLODC01
    1047 00006210                   WL      3,XPLODC03
    1048 00006240                   WL      3,XPLODC04
    1049 00006270                   WL      3,XPLODC05
    1050 000062a0                   WL      3,XPLODC06
    1051 000062d0                   WL      3,XPLODC07
    1052 00006300                   WL      3,XPLODC08
    1053 00006330                   WL      3,XPLODC09
    1054 00006360                   WL      3,XPLODC10
    1055 00006390     0000          .word   0
    1056                    
    1057                    
    1058                    *****************************************************************************
    1059                    
    1060 000063a0           explosions_salt
    1061                    
    1062 000063a0                   SLEEPK  5
    1063                    
    1064 000063e0     ed60          movx    a11,a0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   24

    1065 000063f0     b00d          move    a0,*a13(PDATA)          ;x
         00006400     0100  
    1066 00006410     ef60          movy    a11,a0
    1067 00006420     2e00          srl     16,a0
    1068 00006430     b00d          move    a0,*a13(PDATA+16)       ;y
         00006440     0110  
    1069                    
    1070 00006450     18cb          movk    6,a11
    1071 00006460           igrwlp
    1072 00006460                   CREATE  DEBRIS_PID,impact_proc
    1073 000064e0     4c09          move    a0,a9
    1074                    
    1075 000064f0     1860          movk    3,a0
    1076 00006500     0d5f          calla   RNDRNG0
         00006510 00000000! 
    1077 00006530     24a0          sll     5,a0
    1078 00006540     0b20          addi    igrwsalt_exp_tbl,a0
         00006550 00006c50' 
    1079 00006570     8600          move    *a0,a0,L
    1080                    
    1081 00006580     b209          move    a0,*a9(ANIM),L          ;animation
         00006590     0100  
    1082                    
    1083 000065a0     09e0          movi    SMOKE_P,a0
         000065b0 00000000! 
    1084 000065d0     b209          move    a0,*a9(PALLET),L
         000065e0     01e0  
    1085 000065f0     09e4          movi    DMAWNZ|M_3D,a4          ;DMA flags
         00006600 00008102  
    1086 00006620     b5a1          move    *a13(PDATA),a1          ;x
         00006630     0100  
    1087 00006640     b540          move    *a10(OBJ_XPOSINT),a0
         00006650     0110  
    1088 00006660     b54e          move    *a10(OBJ_CONTROL),a14
         00006670     0780  
    1089 00006680     1f6e          btst    B_FLIPH,a14
    1090 00006690     ca04          jrz     igrwno_flip
    1091 000066a0     03a1          neg     a1
    1092 000066b0     0ba4          ori     M_FLIPH,a4              ;flip image
         000066c0 00000010  
    1093 000066e0           igrwno_flip
    1094 000066e0     4020          add     a1,a0
    1095 000066f0     4c02          move    a0,a2
    1096                    
    1097 00006700     09c0          movi    30,a0
         00006710     001e  
    1098 00006720     0d5f          calla   RNDRNG0
         00006730 00000000! 
    1099 00006750     0be0          subi    15,a0
         00006760     fff0  
    1100 00006770     4002          add     a0,a2
    1101                    
    1102 00006780     2602          sll     16,a2
    1103 00006790     b249          move    a2,*a9(XVAL),L
         000067a0     0120  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   25

    1104                    
    1105 000067b0     b089          move    a4,*a9(FLAGS)           ;DMA flags
         000067c0     01b0  
    1106                    
    1107 000067d0     09c0          movi    Y_SCALE_MULTIPLIER,a0
         000067e0     3566  
    1108 000067f0     b543          move    *a10(OBJ_ZPOSINT),a3
         00006800     0150  
    1109 00006810     5e03          mpyu    a0,a3
    1110 00006820     b540          move    *a10(OBJ_YPOSINT),a0
         00006830     0130  
    1111 00006840     b5ae          move    *a13(PDATA+16),a14      ;y
         00006850     0110  
    1112 00006860     41c0          add     a14,a0                  ;<--- get from table
    1113                    
    1114 00006870     4c02          move    a0,a2
    1115                    
    1116 00006880     09c0          movi    20,a0
         00006890     0014  
    1117 000068a0     0d5f          calla   RNDRNG0
         000068b0 00000000! 
    1118 000068d0     0be0          subi    10,a0
         000068e0     fff5  
    1119 000068f0     4002          add     a0,a2
    1120                    
    1121 00006900     2602          sll     16,a2
    1122 00006910     4443          sub     a2,a3
    1123 00006920     b269          move    a3,*a9(YVAL),L
         00006930     0140  
    1124                    
    1125                    ;       movi    02480H,a0
    1126                    
    1127 00006940     b540          move    *a10(OBJ_ZPOSINT),a0
         00006950     0150  
    1128 00006960     0ba0          ori     1000h,a0
         00006970 00001000  
    1129 00006990     b54e          move    *a10(INRING),a14
         000069a0     0560  
    1130 000069b0     ca07          jrz     igrwinring
    1131 000069c0     0b60          cmpi    [015ach,0],a0
         000069d0 ea53ffff  
    1132 000069f0     c703          jrgt    igrwinring
    1133 00006a00     0d00          subi    [01e5h,0],a0            ;below mat
         00006a10 fe1affff  
    1134 00006a30           igrwinring
    1135 00006a30     4c02          move    a0,a2
    1136 00006a40     05a1          move    @HCOUNT,a1
         00006a50 c00001c0  
    1137 00006a70     1fe1          btst    0,a1
    1138 00006a80     ca02          jrz     igrwok
    1139 00006a90     0b02          addi    5h,a2
         00006aa0     0005  
    1140 00006ab0           igrwok
    1141 00006ab0     b049          move    a2,*a9(ZVAL)
         00006ac0     0160  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   26

    1142                    
    1143                    
    1144                    ;       movi    8000h,a0
    1145                    ;       calla   RNDRNG0
    1146                    ;       subi    4000h,a0
    1147                    ;
    1148                    ;       move    *a10(OBJ_XVEL),a1,L
    1149                    ;       add     a1,a0
    1150                    
    1151 00006ad0     5600          clr     a0
    1152 00006ae0     b209          move    a0,*a9(XVEL),L
         00006af0     0170  
    1153                    
    1154 00006b00     09e0          movi    10000h,a0
         00006b10 00010000  
    1155 00006b30     0d5f          calla   RNDRNG0
         00006b40 00000000! 
    1156 00006b60     0d00          subi    8000h,a0
         00006b70 ffff7fff  
    1157                    
    1158                    ;       move    *a10(OBJ_YVEL),a1,L
    1159                    ;       add     a1,a0
    1160                    
    1161 00006b90     5600          clr     a0
    1162 00006ba0     b209          move    a0,*a9(YVEL),L
         00006bb0     0190  
    1163                    
    1164 00006bc0                   SLEEPK  3
    1165                    
    1166 00006c00     0d8b          dsj     a11,igrwlp
         00006c10     ff84  
    1167                    
    1168 00006c20                   DIE
    1169                    
    1170 00006c50           igrwsalt_exp_tbl
    1171 00006c50 00006cd0'         .long   igrwsalt_exp1_anim
    1172 00006c70 00006e90'         .long   igrwsalt_exp2_anim
    1173 00006c90 00006cd0'         .long   igrwsalt_exp1_anim
    1174 00006cb0 00006e90'         .long   igrwsalt_exp2_anim
    1175                    
    1176 00006cd0           igrwsalt_exp1_anim
    1177 00006cd0                   WL      4,SMOKE01
    1178 00006d00                   WL      4,SMOKE03
    1179 00006d30                   WL      4,SMOKE04
    1180 00006d60                   WL      4,SMOKE05
    1181 00006d90                   WL      4,SMOKE06
    1182 00006dc0                   WL      4,SMOKE07
    1183 00006df0                   WL      4,SMOKE08
    1184 00006e20                   WL      4,SMOKE09
    1185 00006e50                   WL      4,SMOKE10
    1186 00006e80     0000          .word   0
    1187 00006e90           igrwsalt_exp2_anim
    1188 00006e90                   WL      4,SMOKEB01
    1189 00006ec0                   WL      4,SMOKEB03
    1190 00006ef0                   WL      4,SMOKEB04
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   27

    1191 00006f20                   WL      4,SMOKEB05
    1192 00006f50                   WL      4,SMOKEB06
    1193 00006f80                   WL      4,SMOKEB07
    1194 00006fb0                   WL      4,SMOKEB08
    1195 00006fe0                   WL      4,SMOKEB09
    1196 00007010                   WL      4,SMOKEB10
    1197 00007040     0000          .word   0
    1198                    *****************************************************************************
    1199                    
    1200 00007050            SUBRP  begin_ani
    1201                    
    1202                    
    1203 00007050     b7aa          move    *a13(ANIM),a10,L        ;* animation
         00007060     0100  
    1204 00007070     b7a0          move    *a13(PALLET),a0,L       ;Obj pal
         00007080     01e0  
    1205 00007090     4e00          move    a0,b0
    1206                    
    1207 000070a0     b7a0          move    *a13(XVAL),a0,L         ;x val
         000070b0     0120  
    1208 000070c0     b7a1          move    *a13(YVAL),a1,L         ;y val
         000070d0     0140  
    1209 000070e0     b5a3          move    *a13(ZVAL),a3           ;z val
         000070f0     0160  
    1210 00007100     b5a4          move    *a13(FLAGS),a4          ;DMA flags
         00007110     01b0  
    1211 00007120     56a5          clr     a5                      ;OID
    1212 00007130     b7a6          move    *a13(XVEL),a6,L         ;x vel
         00007140     0170  
    1213 00007150     b7a7          move    *a13(YVEL),a7,L         ;y vel
         00007160     0190  
    1214                    
    1215 00007170     954b          move    *a10+,a11               ;tick count
    1216 00007180     9742          move    *a10+,a2,L              ;* image
    1217                    
    1218 00007190     0d5f          calla   BEGINOBJP
         000071a0 00000000! 
    1219                    
    1220 000071c0     0960          rets
    1221                    
    1222                    *****************************************************************************
    1223                    
    1224 000071d0            SUBRP  special_ani
    1225                    
    1226 000071d0     142b          dec     a11
    1227 000071e0     cb16          jrnz    ngvlcont
    1228                    
    1229 000071f0     954b          move    *a10+,a11               ;tick count
    1230 00007200     ca17          jrz     ngvldie
    1231 00007210     9740          move    *a10+,a0,L              ;* image
    1232                    
    1233 00007220     b208          move    a0,*a8(OIMG),L
         00007230     0170  
    1234 00007240     ba08          move    *a0(0),*a8(OSIZE),L
         00007250     0000  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   28

         00007260     0130  
    1235 00007270     ba08          move    *a0(ISAG),*a8(OSAG),L
         00007280     0040  
         00007290     0110  
    1236                    
    1237 000072a0     b401          move    *a0(IANIOFFX),a1
         000072b0     0020  
    1238                    ;;;     add     a10,a1                          ;add in X ani-offset (if any)
    1239 000072c0     b028          move    a1,*a8(ODXOFF)                  ;display x offset
         000072d0     0220  
    1240                    
    1241 000072e0     b401          move    *a0(IANIOFFY),a1
         000072f0     0030  
    1242                    ;;;     add     a11,a1                          ;add in Y pos & ani-offset
    1243 00007300     b028          move    a1,*a8(ODYOFF)                  ;display y offset
         00007310     0230  
    1244                    
    1245 00007320     bc08          movb    *a0(ICTRL+7),*a8(OCTRL+7)       ;Write 5 z comp bits + bits pp
         00007330     0067  
         00007340     00f7  
    1246 00007350           ngvlcont
    1247 00007350                   RETP
    1248                    
    1249                    
    1250                    
    1251 00007380           ngvldie
    1252 00007380     0d5f          calla   DELOBJA8
         00007390 00000000! 
    1253 000073b0                   DIE
    1254                    
    1255                    *****************************************************************************
    1256                    * a0 = * image
    1257                    * a8 = * object
    1258                    
    1259 000073e0            SUBRP  change_image_local
    1260                    
    1261 000073e0     b208          move    a0,*a8(OIMG),L
         000073f0     0170  
    1262 00007400     ba08          move    *a0(0),*a8(OSIZE),L
         00007410     0000  
         00007420     0130  
    1263 00007430     ba08          move    *a0(ISAG),*a8(OSAG),L
         00007440     0040  
         00007450     0110  
    1264                    
    1265 00007460     b401          move    *a0(IANIOFFX),a1
         00007470     0020  
    1266 00007480     b028          move    a1,*a8(ODXOFF)                  ;display x offset
         00007490     0220  
    1267                    
    1268 000074a0     b401          move    *a0(IANIOFFY),a1
         000074b0     0030  
    1269 000074c0     b028          move    a1,*a8(ODYOFF)                  ;display y offset
         000074d0     0230  
    1270                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   29

    1271 000074e0     bc08          movb    *a0(ICTRL+7),*a8(OCTRL+7)       ;Write 5 z comp bits + bits pp
         000074f0     0067  
         00007500     00f7  
    1272 00007510     0960          rets
    1273                    
    1274                    
    1275                    
    1276                    *****************************************************************************
    1277                    
    1278 00007520            SUBR   init_special_objlist
    1279                    
    1280 00007520     5600          clr     a0
    1281 00007530     0780          move    a0,@plyr1_objlist,L
         00007540 00000710- 
    1282 00007560     0780          move    a0,@plyr2_objlist,L
         00007570 00000730- 
    1283 00007590     0780          move    a0,@neutral_objlist,L
         000075a0 00000750- 
    1284                    
    1285 000075c0     0960          rets
    1286                    
    1287                    
    1288                    *****************************************************************************
    1289                    ;
    1290                    ; a0 = * process
    1291                    
    1292 000075d0           insert_special_objlist
    1293                    
    1294 000075d0     09e1          movi    neutral_objlist,a1
         000075e0 00000750- 
    1295 00007600     b5ae          move    *a13(SP_PLYR_SIDE),a14  ;( p1=0, p2=1, neutral=-1 )
         00007610     0220  
    1296 00007620     ce08          jrn     dvtxok
    1297 00007630     09e1          movi    plyr1_objlist,a1
         00007640 00000710- 
    1298 00007660     4dce          move    a14,a14
    1299 00007670     ca03          jrz     dvtxok
    1300 00007680     09e1          movi    plyr2_objlist,a1
         00007690 00000730- 
    1301 000076b0           dvtxok
    1302 000076b0     ba20          move    *a1(0),*a0(SP_NEXT),L   ;update next link
         000076c0     0000  
         000076d0     0160  
    1303 000076e0     8201          move    a0,*a1,L                ;insert at head of list
    1304                    
    1305 000076f0     0960          rets
    1306                    
    1307                    
    1308                    *****************************************************************************
    1309                    ;
    1310                    ; a0 = * process
    1311                    
    1312 00007700            SUBR   delete_special_objlist
    1313                    
    1314 00007700     09e1          movi    neutral_objlist,a1      ;prev
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   30

         00007710 00000750- 
    1315 00007730     b40e          move    *a0(SP_PLYR_SIDE),a14   ;( p1=0, p2=1, neutral=-1 )
         00007740     0220  
    1316 00007750     ce08          jrn     zmsyok
    1317 00007760     09e1          movi    plyr1_objlist,a1        ;prev
         00007770 00000710- 
    1318 00007790     4dce          move    a14,a14
    1319 000077a0     ca03          jrz     zmsyok
    1320 000077b0     09e1          movi    plyr2_objlist,a1        ;prev
         000077c0 00000730- 
    1321 000077e0           zmsyok
    1322                    
    1323                    
    1324 000077e0     8622          move    *a1,a2,L                ;cur
    1325 000077f0     ca10          jrz     zmsyempty
    1326                    
    1327 00007800     4840          cmp     a2,a0
    1328 00007810     cb04          jrne    zmsyno_match
    1329                    
    1330 00007820     ba41          move    *a2(SP_NEXT),*a1(0),L   ;unlink
         00007830     0160  
         00007840     0000  
    1331 00007850     0960          rets
    1332                    
    1333 00007860           zmsyno_match
    1334                    
    1335 00007860     4c41          move    a2,a1                   ;prev
    1336 00007870     b642          move    *a2(SP_NEXT),a2,L       ;cur
         00007880     0160  
    1337 00007890     ca06          jrz     zmsyempty
    1338                    
    1339 000078a0     4840          cmp     a2,a0
    1340 000078b0     cbfa          jrne    zmsyno_match
    1341                    
    1342 000078c0     ba41          move    *a2(SP_NEXT),*a1(SP_NEXT),L     ;unlink
         000078d0     0160  
         000078e0     0160  
    1343                    
    1344 000078f0     0960          rets
    1345                    
    1346 00007900           zmsyempty
    1347                    ;       .if DEBUG
    1348                    ;       LOCKUP
    1349                    ;       .endif
    1350 00007900     0960          rets
    1351                    
    1352                    
    1353                    *****************************************************************************
    1354                    
    1355 00007910            SUBR   doink_pie
    1356                    
    1357 00007910     b36d          move    a11,*a13(SP_WRESPROC),L
         00007920     0200  
    1358 00007930     b96d          move    *a11(PLYR_SIDE),*a13(SP_PLYR_SIDE)
         00007940     05b0  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   31

         00007950     0220  
    1359                    
    1360 00007960     4da0          move    a13,a0
    1361 00007970     0d3f          callr   insert_special_objlist  ;insert into collis list
         00007980     ffc4  
    1362                    
    1363 00007990     0d3f          callr   sp_create_obj
         000079a0     0322  
    1364 000079b0     0d3f          callr   sp_create_shadow
         000079c0     0335  
    1365                    
    1366 000079d0     b7a8          move    *a13(SP_OBJ),a8,L
         000079e0     0230  
    1367                    
    1368 000079f0     09e1          movi    [86,0],a1
         00007a00 00560000  
    1369 00007a20     09e2          movi    [6,0],a2                ;x-vel
         00007a30 00060000  
    1370 00007a50     b760          move    *a11(OBJ_XPOS),a0,L
         00007a60     0100  
    1371 00007a70     b56e          move    *a11(OBJ_CONTROL),a14
         00007a80     0780  
    1372 00007a90     1f6e          btst    B_FLIPH,a14
    1373 00007aa0     ca09          jrz     qufsno_flip
    1374                    
    1375 00007ab0     b5ae          move    *a13(SP_OBJCONTROL),a14
         00007ac0     0180  
    1376 00007ad0     0bae          ori     M_FLIPH,a14
         00007ae0 00000010  
    1377 00007b00     b1cd          move    a14,*a13(SP_OBJCONTROL)
         00007b10     0180  
    1378                    
    1379 00007b20     03a1          neg     a1
    1380 00007b30     03a2          neg     a2
    1381 00007b40           qufsno_flip
    1382 00007b40     4020          add     a1,a0
    1383 00007b50     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         00007b60     0100  
    1384 00007b70     b24d          move    a2,*a13(SP_OBJ_XVEL),L
         00007b80     03a0  
    1385                    
    1386                    
    1387                    
    1388 00007b90     bb6d          move    *a11(OBJ_ZPOS),*a13(SP_OBJ_ZPOS),L
         00007ba0     0140  
         00007bb0     0140  
    1389                    
    1390 00007bc0     b760          move    *a11(OBJ_YPOS),a0,L
         00007bd0     0120  
    1391 00007be0     0b20          addi    [97,0],a0
         00007bf0 00610000  
    1392 00007c10     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         00007c20     0120  
    1393                    
    1394 00007c30     b96d          move    *a11(INRING),*a13(SP_INRING)
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   32

         00007c40     0560  
         00007c50     0350  
    1395                    
    1396 00007c60     b560          move    *a11(GROUND_Y),a0
         00007c70     0570  
    1397 00007c80     2600          sll     16,a0
    1398 00007c90     b20d          move    a0,*a13(SP_GROUND_Y),L
         00007ca0     0360  
    1399                    
    1400 00007cb0     5600          clr     a0
    1401 00007cc0     b20d          move    a0,*a13(SP_GRAVITY),L
         00007cd0     0380  
    1402 00007ce0     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00007cf0     03e0  
    1403 00007d00     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         00007d10     03c0  
    1404 00007d20     b00d          move    a0,*a13(SP_DIE)
         00007d30     01f0  
    1405                    
    1406 00007d40     09e0          movi    pie_anim,a0
         00007d50 00011990' 
    1407 00007d70     0d3f          callr   sp_change_anim
         00007d80     03ad  
    1408                    
    1409 00007d90           qufslp
    1410                    
    1411 00007d90     0d3f          callr   sp_velocity_add
         00007da0     030a  
    1412 00007db0     0d3f          callr   sp_update_pos
         00007dc0     0333  
    1413                    
    1414 00007dd0                   SLEEPK  1
    1415                    
    1416 00007e10     0d3f          callr   sp_animate
         00007e20     03af  
    1417                    
    1418 00007e30     b5a0          move    *a13(SP_DIE),a0
         00007e40     01f0  
    1419 00007e50     cb0f          jrnz    qufsdie
    1420                    
    1421 00007e60     05a0          move    @WORLDTLX+16,a0         ;world x int
         00007e70 00000010! 
    1422 00007e90     0b00          addi    200,a0                  ;center of screen
         00007ea0     00c8  
    1423 00007eb0     b5a1          move    *a13(SP_OBJ_XPOSINT),a1
         00007ec0     0110  
    1424 00007ed0     4420          sub     a1,a0
    1425 00007ee0     0380          abs     a0
    1426 00007ef0     0b40          cmpi    256,a0  ;off screen by 56 pixels
         00007f00     feff  
    1427 00007f10     c4e7          jrlt    qufslp
    1428                    
    1429                    
    1430 00007f20     4da0          move    a13,a0
    1431 00007f30     0d3f          callr   delete_special_objlist
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   33

         00007f40     ff7b  
    1432                    
    1433 00007f50           qufsdie
    1434 00007f50     b7a0          move    *a13(SP_OBJ),a0,L
         00007f60     0230  
    1435 00007f70     0d5f          calla   DELOBJ
         00007f80 00000000! 
    1436                    
    1437 00007fa0     b7a0          move    *a13(SP_SHADOW_OBJ),a0,L
         00007fb0     0250  
    1438 00007fc0     0d5f          calla   DELOBJ
         00007fd0 00000000! 
    1439                    
    1440 00007ff0                   DIE
    1441                    
    1442                    
    1443                    *****************************************************************************
    1444                    
    1445 00008020            SUBR   bam_fireball
    1446                    
    1447 00008020     b36d          move    a11,*a13(SP_WRESPROC),L
         00008030     0200  
    1448 00008040     b96d          move    *a11(PLYR_SIDE),*a13(SP_PLYR_SIDE)
         00008050     05b0  
         00008060     0220  
    1449                    
    1450 00008070     4da0          move    a13,a0
    1451 00008080     0d3f          callr   insert_special_objlist  ;insert into collis list
         00008090     ff53  
    1452                    
    1453 000080a0     0d3f          callr   sp_create_obj
         000080b0     02b1  
    1454 000080c0     0d3f          callr   sp_create_shadow
         000080d0     02c4  
    1455                    
    1456 000080e0     b7a8          move    *a13(SP_OBJ),a8,L
         000080f0     0230  
    1457                    
    1458 00008100     09e1          movi    [86,0],a1
         00008110 00560000  
    1459 00008130     09e2          movi    [6,0],a2                ;x-vel
         00008140 00060000  
    1460 00008160     b760          move    *a11(OBJ_XPOS),a0,L
         00008170     0100  
    1461 00008180     b56e          move    *a11(OBJ_CONTROL),a14
         00008190     0780  
    1462 000081a0     1f6e          btst    B_FLIPH,a14
    1463 000081b0     ca09          jrz     cjouno_flip
    1464                    
    1465 000081c0     b5ae          move    *a13(SP_OBJCONTROL),a14
         000081d0     0180  
    1466 000081e0     0bae          ori     M_FLIPH,a14
         000081f0 00000010  
    1467 00008210     b1cd          move    a14,*a13(SP_OBJCONTROL)
         00008220     0180  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   34

    1468                    
    1469 00008230     03a1          neg     a1
    1470 00008240     03a2          neg     a2
    1471 00008250           cjouno_flip
    1472 00008250     4020          add     a1,a0
    1473 00008260     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         00008270     0100  
    1474 00008280     b24d          move    a2,*a13(SP_OBJ_XVEL),L
         00008290     03a0  
    1475                    
    1476                    
    1477                    
    1478 000082a0     bb6d          move    *a11(OBJ_ZPOS),*a13(SP_OBJ_ZPOS),L
         000082b0     0140  
         000082c0     0140  
    1479                    
    1480 000082d0     b760          move    *a11(OBJ_YPOS),a0,L
         000082e0     0120  
    1481 000082f0     0b20          addi    [97,0],a0
         00008300 00610000  
    1482 00008320     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         00008330     0120  
    1483                    
    1484 00008340     b96d          move    *a11(INRING),*a13(SP_INRING)
         00008350     0560  
         00008360     0350  
    1485                    
    1486 00008370     b560          move    *a11(GROUND_Y),a0
         00008380     0570  
    1487 00008390     2600          sll     16,a0
    1488 000083a0     b20d          move    a0,*a13(SP_GROUND_Y),L
         000083b0     0360  
    1489                    
    1490 000083c0     5600          clr     a0
    1491 000083d0     b20d          move    a0,*a13(SP_GRAVITY),L
         000083e0     0380  
    1492 000083f0     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00008400     03e0  
    1493 00008410     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         00008420     03c0  
    1494 00008430     b00d          move    a0,*a13(SP_DIE)
         00008440     01f0  
    1495                    
    1496 00008450     09e0          movi    fireball_anim,a0
         00008460 00010450' 
    1497 00008480     0d3f          callr   sp_change_anim
         00008490     033c  
    1498                    
    1499 000084a0           cjoulp
    1500                    
    1501 000084a0     0d3f          callr   sp_velocity_add
         000084b0     0299  
    1502 000084c0     0d3f          callr   sp_update_pos
         000084d0     02c2  
    1503                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   35

    1504 000084e0                   SLEEPK  1
    1505                    
    1506 00008520     0d3f          callr   sp_animate
         00008530     033e  
    1507                    
    1508 00008540     b5a0          move    *a13(SP_DIE),a0
         00008550     01f0  
    1509 00008560     cb0f          jrnz    cjoudie
    1510                    
    1511 00008570     05a0          move    @WORLDTLX+16,a0         ;world x int
         00008580 00000010! 
    1512 000085a0     0b00          addi    200,a0                  ;center of screen
         000085b0     00c8  
    1513 000085c0     b5a1          move    *a13(SP_OBJ_XPOSINT),a1
         000085d0     0110  
    1514 000085e0     4420          sub     a1,a0
    1515 000085f0     0380          abs     a0
    1516 00008600     0b40          cmpi    256,a0  ;off screen by 56 pixels
         00008610     feff  
    1517 00008620     c4e7          jrlt    cjoulp
    1518                    
    1519                    
    1520 00008630     4da0          move    a13,a0
    1521 00008640     0d3f          callr   delete_special_objlist
         00008650     ff0a  
    1522                    
    1523 00008660           cjoudie
    1524 00008660     b7a0          move    *a13(SP_OBJ),a0,L
         00008670     0230  
    1525 00008680     0d5f          calla   DELOBJ
         00008690 00000000! 
    1526                    
    1527 000086b0     b7a0          move    *a13(SP_SHADOW_OBJ),a0,L
         000086c0     0250  
    1528 000086d0     0d5f          calla   DELOBJ
         000086e0 00000000! 
    1529                    
    1530 00008700                   DIE
    1531                    
    1532                    
    1533                    
    1534                    *****************************************************************************
    1535                    
    1536 00008730            SUBR   und_spirit_pull
    1537                    ;Old spirits
    1538 00008730     5600          clr     a0
    1539 00008740     c001          jruc    uzifcont
    1540                    
    1541 00008750            SUBR   und_spirit_push
    1542                    ;New reaper
    1543 00008750     1820          movk    1,a0
    1544 00008760     b00d  uzifcont        move    a0,*a13(SP_ID)
         00008770     0440  
    1545                    
    1546 00008780     b36d          move    a11,*a13(SP_WRESPROC),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   36

         00008790     0200  
    1547 000087a0     b96d          move    *a11(PLYR_SIDE),*a13(SP_PLYR_SIDE)
         000087b0     05b0  
         000087c0     0220  
    1548                    
    1549 000087d0     4da0          move    a13,a0
    1550 000087e0     0d3f          callr   insert_special_objlist  ;insert into collis list
         000087f0     fedd  
    1551                    
    1552 00008800     0d3f          callr   sp_create_obj
         00008810     023b  
    1553                    
    1554 00008820     b7a8          move    *a13(SP_OBJ),a8,L
         00008830     0230  
    1555                    
    1556 00008840     b5ae          move    *a13(SP_ID),a14
         00008850     0440  
    1557 00008860     cb10          jrnz    uzifreap
    1558                    ;Old spirit
    1559 00008870     09e1          movi    [32,0],a1
         00008880 00200000  
    1560 000088a0     09e2          movi    [7,0],a2                ;x-vel
         000088b0 00070000  
    1561 000088d0     09e3          movi    [36h,0],a3
         000088e0 00360000  
    1562 00008900     09e4          movi    spirit_anim,a4
         00008910 00010610' 
    1563 00008930     09e9          movi    spirit_anim,a9
         00008940 00010610' 
    1564 00008960     c00f          jruc    uzifcont2
    1565 00008970           uzifreap
    1566                    ;Reaper
    1567 00008970     09e1          movi    [2,0],a1
         00008980 00020000  
    1568 000089a0     09e2          movi    [4,0],a2                ;x-vel
         000089b0 00040000  
    1569 000089d0     09e3          movi    [2eh,0],a3
         000089e0 002e0000  
    1570 00008a00     09e4          movi    reaper_grow,a4
         00008a10 00010b50' 
    1571 00008a30     09e9          movi    reaper_anim,a9
         00008a40 00010ce0' 
    1572 00008a60           uzifcont2
    1573 00008a60     b760          move    *a11(OBJ_XPOS),a0,L
         00008a70     0100  
    1574 00008a80     b56e          move    *a11(OBJ_CONTROL),a14
         00008a90     0780  
    1575 00008aa0     1f6e          btst    B_FLIPH,a14
    1576 00008ab0     ca09          jrz     uzifno_flip
    1577                    
    1578 00008ac0     b5ae          move    *a13(SP_OBJCONTROL),a14
         00008ad0     0180  
    1579 00008ae0     0bae          ori     M_FLIPH,a14
         00008af0 00000010  
    1580 00008b10     b1cd          move    a14,*a13(SP_OBJCONTROL)
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   37

         00008b20     0180  
    1581                    
    1582 00008b30     03a1          neg     a1
    1583 00008b40     03a2          neg     a2
    1584 00008b50           uzifno_flip
    1585 00008b50     4020          add     a1,a0
    1586 00008b60     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         00008b70     0100  
    1587 00008b80     b24d          move    a2,*a13(SP_OBJ_XVEL),L
         00008b90     03a0  
    1588                    
    1589 00008ba0     bb6d          move    *a11(OBJ_ZPOS),*a13(SP_OBJ_ZPOS),L
         00008bb0     0140  
         00008bc0     0140  
    1590                    
    1591 00008bd0     b760          move    *a11(OBJ_YPOS),a0,L
         00008be0     0120  
    1592 00008bf0     4060          add     a3,a0
    1593 00008c00     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         00008c10     0120  
    1594                    
    1595 00008c20     b96d          move    *a11(INRING),*a13(SP_INRING)
         00008c30     0560  
         00008c40     0350  
    1596                    
    1597 00008c50     b560          move    *a11(GROUND_Y),a0
         00008c60     0570  
    1598 00008c70     2600          sll     16,a0
    1599 00008c80     b20d          move    a0,*a13(SP_GROUND_Y),L
         00008c90     0360  
    1600                    
    1601 00008ca0     5600          clr     a0
    1602 00008cb0     b20d          move    a0,*a13(SP_GRAVITY),L
         00008cc0     0380  
    1603 00008cd0     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00008ce0     03e0  
    1604 00008cf0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         00008d00     03c0  
    1605 00008d10     b00d          move    a0,*a13(SP_DIE)
         00008d20     01f0  
    1606                    
    1607 00008d30     4c80          move    a4,a0
    1608 00008d40     0d3f          callr   sp_change_anim
         00008d50     02b0  
    1609                    
    1610 00008d60           uziflp
    1611                    
    1612                    
    1613                    
    1614 00008d60     0d3f          callr   sp_velocity_add
         00008d70     020d  
    1615                    
    1616                    ;       callr   sp_update_pos
    1617                    ;sp_update_pos
    1618                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   38

    1619 00008d80     b7a8          move    *a13(SP_OBJ),a8,L
         00008d90     0230  
    1620                    
    1621 00008da0     b7a0          move    *a13(SP_OBJ_ZPOS),a0,L
         00008db0     0140  
    1622 00008dc0     0ba0          ori     [01000h,0],a0
         00008dd0 10000000  
    1623 00008df0     b5ae          move    *a13(SP_INRING),a14
         00008e00     0350  
    1624 00008e10     ca07          jrz     uzifinring
    1625 00008e20     0b60          cmpi    [015ach,0],a0
         00008e30 ea53ffff  
    1626 00008e50     c703          jrgt    uzifinring
    1627 00008e60     0d00          subi    [01e5h,0],a0            ;below mat
         00008e70 fe1affff  
    1628 00008e90           uzifinring
    1629 00008e90     b208          move    a0,*a8(OZVAL),L
         00008ea0     00c0  
    1630                    
    1631 00008eb0     bba8          move    *a13(SP_OBJ_XPOS),*a8(OXVAL),L  ;object
         00008ec0     0100  
         00008ed0     0080  
    1632                    
    1633 00008ee0     09c0          movi    Y_SCALE_MULTIPLIER,a0
         00008ef0     3566  
    1634 00008f00     b5a1          move    *a13(SP_OBJ_ZPOSINT),a1
         00008f10     0150  
    1635 00008f20     5e01          mpyu    a0,a1
    1636 00008f30     4c22          move    a1,a2
    1637 00008f40     b7a0          move    *a13(SP_OBJ_YPOS),a0,L
         00008f50     0120  
    1638 00008f60     4401          sub     a0,a1
    1639 00008f70     b228          move    a1,*a8(OYVAL),L
         00008f80     00a0  
    1640                    
    1641                    
    1642 00008f90     b5a7          move    *a13(SP_OBJCONTROL),a7  ;flip bits & pixel ops
         00008fa0     0180  
    1643 00008fb0     0b87          andi    0111111b,a7
         00008fc0 ffffffc0  
    1644 00008fe0     0546          setf    6,0,0
    1645 00008ff0     b0e8          move    a7,*a8(OCTRL)                   ;Write 6 low bits
         00009000     00f0  
    1646 00009010     0570          setf    16,1,0
    1647                    
    1648 00009020                   SLEEPK  1
    1649                    
    1650 00009060     4d20          move    a9,a0
    1651 00009070     0d3f          callr   sp_animate
         00009080     0289  
    1652                    
    1653 00009090     b5a0          move    *a13(SP_DIE),a0
         000090a0     01f0  
    1654 000090b0     cb0f          jrnz    uzifdie
    1655                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   39

    1656 000090c0     05a0          move    @WORLDTLX+16,a0         ;world x int
         000090d0 00000010! 
    1657 000090f0     0b00          addi    200,a0                  ;center of screen
         00009100     00c8  
    1658 00009110     b5a1          move    *a13(SP_OBJ_XPOSINT),a1
         00009120     0110  
    1659 00009130     4420          sub     a1,a0
    1660 00009140     0380          abs     a0
    1661 00009150     0b40          cmpi    256,a0  ;off screen by 56 pixels
         00009160     feff  
    1662 00009170     c4be          jrlt    uziflp
    1663                    
    1664 00009180     4da0          move    a13,a0
    1665 00009190     0d3f          callr   delete_special_objlist
         000091a0     fe55  
    1666 000091b0           uzifdie
    1667                    
    1668 000091b0     b7a0          move    *a13(SP_OBJ),a0,L
         000091c0     0230  
    1669 000091d0     0d5f          calla   DELOBJ
         000091e0 00000000! 
    1670                    
    1671                    ;       move    *a13(SP_SHADOW_OBJ),a0,L
    1672                    ;       calla   DELOBJ
    1673                    
    1674 00009200                   DIE
    1675                    
    1676                    *****************************************************************************
    1677                    * Yoko salt toss
    1678                    *
    1679 00009230            SUBR   yok_salt_spray
    1680                     
    1681 00009230     1840          movk    2,a0
    1682 00009240     b00d          move    a0,*a13(SP_ID)
         00009250     0440  
    1683                    
    1684 00009260     b36d          move    a11,*a13(SP_WRESPROC),L
         00009270     0200  
    1685 00009280     b96d          move    *a11(PLYR_SIDE),*a13(SP_PLYR_SIDE)
         00009290     05b0  
         000092a0     0220  
    1686                    
    1687 000092b0     4da0          move    a13,a0
    1688 000092c0     0d3f          callr   insert_special_objlist  ;insert into collis list
         000092d0     fe2f  
    1689                    
    1690 000092e0     0d3f          callr   sp_create_obj
         000092f0     018d  
    1691                    
    1692 00009300     b7a8          move    *a13(SP_OBJ),a8,L
         00009310     0230  
    1693                    
    1694                    ;Salt
    1695 00009320     09e1          movi    [36h,0],a1
         00009330 00360000  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   40

    1696 00009350     09e2          movi    [7,0h],a2               ;x-vel
         00009360 00070000  
    1697 00009380     09e3          movi    [5bh,0],a3
         00009390 005b0000  
    1698 000093b0     09e4          movi    salt_grow,a4
         000093c0 000107a0' 
    1699 000093e0     09e9          movi    salt_anim,a9
         000093f0 00010870' 
    1700                    
    1701 00009410     b760          move    *a11(OBJ_XPOS),a0,L
         00009420     0100  
    1702 00009430     b56e          move    *a11(OBJ_CONTROL),a14
         00009440     0780  
    1703 00009450     1f6e          btst    B_FLIPH,a14
    1704 00009460     ca09          jrz     zedpno_flip
    1705                    
    1706 00009470     b5ae          move    *a13(SP_OBJCONTROL),a14
         00009480     0180  
    1707 00009490     0bae          ori     M_FLIPH,a14
         000094a0 00000010  
    1708 000094c0     b1cd          move    a14,*a13(SP_OBJCONTROL)
         000094d0     0180  
    1709                    
    1710 000094e0     03a1          neg     a1
    1711 000094f0     03a2          neg     a2
    1712 00009500           zedpno_flip
    1713 00009500     4020          add     a1,a0
    1714 00009510     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         00009520     0100  
    1715 00009530     b24d          move    a2,*a13(SP_OBJ_XVEL),L
         00009540     03a0  
    1716                    
    1717 00009550     bb6d          move    *a11(OBJ_ZPOS),*a13(SP_OBJ_ZPOS),L
         00009560     0140  
         00009570     0140  
    1718                    
    1719 00009580     b760          move    *a11(OBJ_YPOS),a0,L
         00009590     0120  
    1720 000095a0     4060          add     a3,a0
    1721 000095b0     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         000095c0     0120  
    1722                    
    1723 000095d0     b96d          move    *a11(INRING),*a13(SP_INRING)
         000095e0     0560  
         000095f0     0350  
    1724                    
    1725 00009600     b560          move    *a11(GROUND_Y),a0
         00009610     0570  
    1726 00009620     2600          sll     16,a0
    1727 00009630     b20d          move    a0,*a13(SP_GROUND_Y),L
         00009640     0360  
    1728                    
    1729 00009650     09c0          movi    4800h,a0
         00009660     4800  
    1730 00009670     b20d          move    a0,*a13(SP_GRAVITY),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   41

         00009680     0380  
    1731 00009690     09e0          movi    30000h,a0
         000096a0 00030000  
    1732 000096c0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         000096d0     03c0  
    1733 000096e0     5600          clr     a0
    1734 000096f0     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00009700     03e0  
    1735 00009710     b00d          move    a0,*a13(SP_DIE)
         00009720     01f0  
    1736                    
    1737 00009730     4c80          move    a4,a0
    1738 00009740     0d3f          callr   sp_change_anim
         00009750     0210  
    1739 00009760           zedplp
    1740 00009760     0d3f          callr   sp_velocity_add
         00009770     016d  
    1741                    
    1742                    ;       callr   sp_update_pos
    1743                    ;sp_update_pos
    1744                    
    1745 00009780     b7a8          move    *a13(SP_OBJ),a8,L
         00009790     0230  
    1746                    
    1747 000097a0     b7a0          move    *a13(SP_OBJ_ZPOS),a0,L
         000097b0     0140  
    1748 000097c0     0ba0          ori     [01000h,0],a0
         000097d0 10000000  
    1749 000097f0     b5ae          move    *a13(SP_INRING),a14
         00009800     0350  
    1750 00009810     ca07          jrz     zedpinring
    1751 00009820     0b60          cmpi    [015ach,0],a0
         00009830 ea53ffff  
    1752 00009850     c703          jrgt    zedpinring
    1753 00009860     0d00          subi    [01e5h,0],a0            ;below mat
         00009870 fe1affff  
    1754 00009890           zedpinring
    1755 00009890     b208          move    a0,*a8(OZVAL),L
         000098a0     00c0  
    1756                    
    1757 000098b0     bba8          move    *a13(SP_OBJ_XPOS),*a8(OXVAL),L  ;object
         000098c0     0100  
         000098d0     0080  
    1758                    
    1759 000098e0     09c0          movi    Y_SCALE_MULTIPLIER,a0
         000098f0     3566  
    1760 00009900     b5a1          move    *a13(SP_OBJ_ZPOSINT),a1
         00009910     0150  
    1761 00009920     5e01          mpyu    a0,a1
    1762 00009930     4c22          move    a1,a2
    1763 00009940     b7a0          move    *a13(SP_OBJ_YPOS),a0,L
         00009950     0120  
    1764 00009960     4401          sub     a0,a1
    1765 00009970     b228          move    a1,*a8(OYVAL),L
         00009980     00a0  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   42

    1766                    
    1767                    
    1768 00009990     b5a7          move    *a13(SP_OBJCONTROL),a7  ;flip bits & pixel ops
         000099a0     0180  
    1769 000099b0     0b87          andi    0111111b,a7
         000099c0 ffffffc0  
    1770 000099e0     0546          setf    6,0,0
    1771 000099f0     b0e8          move    a7,*a8(OCTRL)                   ;Write 6 low bits
         00009a00     00f0  
    1772 00009a10     0570          setf    16,1,0
    1773                    
    1774 00009a20                   SLEEPK  1
    1775                    
    1776 00009a60     4d20          move    a9,a0
    1777 00009a70     0d3f          callr   sp_animate
         00009a80     01e9  
    1778                    
    1779 00009a90     b5a0          move    *a13(SP_DIE),a0
         00009aa0     01f0  
    1780 00009ab0     cb0c          jrnz    zedpdie
    1781                    
    1782 00009ac0     05a0          move    @WORLDTLX+16,a0         ;world x int
         00009ad0 00000010! 
    1783 00009af0     0b00          addi    200,a0                  ;center of screen
         00009b00     00c8  
    1784 00009b10     b5a1          move    *a13(SP_OBJ_XPOSINT),a1
         00009b20     0110  
    1785 00009b30     4420          sub     a1,a0
    1786 00009b40     0380          abs     a0
    1787 00009b50     0b40          cmpi    256,a0  ;off screen by 56 pixels
         00009b60     feff  
    1788 00009b70     c4be          jrlt    zedplp
    1789                    
    1790 00009b80           zedpdie
    1791                    ;       cmpi    2,a0
    1792                    ;;Already taken off list?
    1793                    ;       jrnz    zedpdie2
    1794 00009b80     4da0          move    a13,a0
    1795 00009b90     0d3f          callr   delete_special_objlist
         00009ba0     fdb5  
    1796                    ;zedpdie2
    1797                    
    1798 00009bb0     b7a0          move    *a13(SP_OBJ),a0,L
         00009bc0     0230  
    1799 00009bd0     0d5f          calla   DELOBJ
         00009be0 00000000! 
    1800                    
    1801 00009c00                   DIE
    1802                    
    1803                    *****************************************************************************
    1804                    
    1805 00009c30            SUBR   react_bloodnguts_gen
    1806                    
    1807 00009c30     b36d          move    a11,*a13(SP_WRESPROC),L
         00009c40     0200  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   43

    1808                    
    1809 00009c50           kbezasdf
    1810 00009c50     09c8          movi    3,a8
         00009c60     0003  
    1811 00009c70           kbezloop
    1812 00009c70     09c9          movi    2,a9
         00009c80     0002  
    1813 00009c90           kbezloop2
    1814 00009c90                   CREATE  DEBRIS_PID,react_blood
    1815 00009d10                   push    a13
    1816 00009d20     4daa          move    a13,a10
    1817 00009d30     4c0d          move    a0,a13
    1818                    
    1819 00009d40     b36d          move    a11,*a13(SP_WRESPROC),L
         00009d50     0200  
    1820                    
    1821 00009d60     bb6d          move    *a11(OBJ_XPOS),*a13(SP_OBJ_XPOS),L
         00009d70     0100  
         00009d80     0100  
    1822 00009d90     bb6d          move    *a11(OBJ_ZPOS),*a13(SP_OBJ_ZPOS),L
         00009da0     0140  
         00009db0     0140  
    1823 00009dc0     b760          move    *a11(OBJ_YPOS),a0,L
         00009dd0     0120  
    1824 00009de0     0b20          addi    [90,0],a0
         00009df0 005a0000  
    1825 00009e10     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         00009e20     0120  
    1826                    
    1827 00009e30     b96d          move    *a11(INRING),*a13(SP_INRING)
         00009e40     0560  
         00009e50     0350  
    1828                    
    1829 00009e60     b560          move    *a11(GROUND_Y),a0
         00009e70     0570  
    1830 00009e80     2600          sll     16,a0
    1831 00009e90     b20d          move    a0,*a13(SP_GROUND_Y),L
         00009ea0     0360  
    1832                    
    1833 00009eb0                   pull    a13
    1834                    
    1835 00009ec0     0d89          dsj     a9,kbezloop2
         00009ed0     ffdb  
    1836                    
    1837 00009ee0                   SLEEPK  2
    1838                    
    1839 00009f20     0d88          dsj     a8,kbezloop
         00009f30     ffd3  
    1840                    
    1841 00009f40                   SLEEP   2*60
    1842                    
    1843 00009f90                   DIE
    1844                    
    1845                    
    1846 00009fc0            SUBR   react_blood
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   44

    1847                    
    1848                    
    1849 00009fc0     5600          clr     a0
    1850 00009fd0     b20d          move    a0,*a13(SP_SHADOW_OBJ),L
         00009fe0     0250  
    1851                    
    1852 00009ff0     09e0          movi    GRAVITY*2,a0
         0000a000 00010000  
    1853 0000a020     b20d          move    a0,*a13(SP_GRAVITY),L
         0000a030     0380  
    1854                    
    1855 0000a040     09e0          movi    DMAWNZ,a0               ;DMA flags
         0000a050 00008002  
    1856 0000a070     b00d          move    a0,*a13(SP_OBJCONTROL)
         0000a080     0180  
    1857                    
    1858                    
    1859 0000a090     5600          clr     a0                              ;x pos
    1860 0000a0a0     5621          clr     a1                              ;y pos
    1861 0000a0b0     09e2          movi    PINSHAD1,a2                     ;* image
         0000a0c0 00000000! 
    1862 0000a0e0     09c3          movi    150,a3                          ;z pos
         0000a0f0     0096  
    1863 0000a100     09e4          movi    DMAWNZ,a4                       ;DMA flags
         0000a110 00008002  
    1864 0000a130     56a5          clr     a5                              ;object ID
    1865 0000a140     56c6          clr     a6                              ;x vel
    1866 0000a150     56e7          clr     a7                              ;y vel
    1867 0000a160     0d5f          calla   BEGINOBJ
         0000a170 00000000! 
    1868 0000a190     b30d          move    a8,*a13(SP_OBJ),L
         0000a1a0     0230  
    1869                    
    1870                    
    1871                    ;       clr     a0                              ;x pos
    1872                    ;       clr     a1                              ;y pos
    1873                    ;       movi    PINSHAD1,a2                     ;* image
    1874                    ;       movi    149,a3                          ;z pos
    1875                    ;       movi    DMAWNZ,a4                       ;DMA flags
    1876                    ;       clr     a5                              ;object ID
    1877                    ;       clr     a6                              ;x vel
    1878                    ;       clr     a7                              ;y vel
    1879                    ;       calla   BEGINOBJ
    1880                    ;       move    a8,*a13(SP_SHADOW_OBJ),L
    1881                    
    1882                    
    1883 0000a1b0     09e0          movi    [4,0],a0
         0000a1c0 00040000  
    1884 0000a1e0     0d5f          calla   RNDRNG0
         0000a1f0 00000000! 
    1885                    
    1886                    
    1887                    
    1888 0000a210     b20d          move    a0,*a13(SP_OBJ_XVEL),L
         0000a220     03a0  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   45

    1889 0000a230     c107          jrp     kbezno_xflip
    1890                    
    1891 0000a240     b5a0          move    *a13(SP_OBJCONTROL),a0
         0000a250     0180  
    1892 0000a260     0ba0          ori     M_FLIPH,a0
         0000a270 00000010  
    1893 0000a290     b00d          move    a0,*a13(SP_OBJCONTROL)
         0000a2a0     0180  
    1894 0000a2b0           kbezno_xflip
    1895                    
    1896                    
    1897 0000a2b0     09e0          movi    [2,0],a0
         0000a2c0 00020000  
    1898 0000a2e0     0d5f          calla   RNDRNGS
         0000a2f0 00000000! 
    1899 0000a310     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         0000a320     03e0  
    1900                    
    1901 0000a330     09e0          movi    [4,0],a0
         0000a340 00040000  
    1902 0000a360     0d5f          calla   RNDRNGS
         0000a370 00000000! 
    1903 0000a390     0b20          addi    [8,0],a0
         0000a3a0 00080000  
    1904 0000a3c0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000a3d0     03c0  
    1905                    
    1906                    
    1907                    
    1908 0000a3e0     b7a8          move    *a13(SP_OBJ),a8,L
         0000a3f0     0230  
    1909                    
    1910 0000a400     09e0          movi    flame_anim,a0
         0000a410 000102f0' 
    1911 0000a430     0d5f          calla   sp_change_anim
         0000a440 0000b860' 
    1912                    
    1913 0000a460     5600          clr     a0
    1914 0000a470     b00d          move    a0,*a13(SP_DIE)
         0000a480     01f0  
    1915                    
    1916 0000a490     09c0          movi    60*3,a0
         0000a4a0     00b4  
    1917 0000a4b0     b00d          move    a0,*a13(SP_LIFESPAN)
         0000a4c0     01e0  
    1918                    
    1919 0000a4d0           kbezlp1
    1920 0000a4d0     0d3f          callr   sp_velocity_add
         0000a4e0     0096  
    1921 0000a4f0     0d3f          callr   sp_update_pos
         0000a500     00bf  
    1922                    
    1923 0000a510                   SLEEPK  2
    1924                    
    1925                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   46

    1926 0000a550     b7a0          move    *a13(SP_OBJ_XVEL),a0,L
         0000a560     03a0  
    1927 0000a570     b7a1          move    *a13(SP_OBJ_YVEL),a1,L
         0000a580     03c0  
    1928 0000a590     0d3f          callr   calc_veldir
         0000a5a0     0879  
    1929                    
    1930 0000a5b0                   X32     a0
    1931 0000a5c0     0b20          addi    flame_table_A,a0
         0000a5d0 00013790' 
    1932 0000a5f0     8602          move    *a0,a2,L
    1933                    
    1934 0000a600     b248          move    a2,*a8(OIMG),L
         0000a610     0170  
    1935                    
    1936 0000a620     b640          move    *a2(ICMAP),a0,L         ;Get *palette
         0000a630     0070  
    1937 0000a640     0d5f          calla   pal_getf
         0000a650 00000000! 
    1938 0000a670     b208          move    a0,*a8(OPAL),L          ;Set palette & constant
         0000a680     0150  
    1939                    
    1940 0000a690     ba48          move    *a2(0),*a8(OSIZE),L
         0000a6a0     0000  
         0000a6b0     0130  
    1941 0000a6c0     ba48          move    *a2(ISAG),*a8(OSAG),L
         0000a6d0     0040  
         0000a6e0     0110  
    1942                    
    1943 0000a6f0     b848          move    *a2(IANIOFFX),*a8(ODXOFF)
         0000a700     0020  
         0000a710     0220  
    1944 0000a720     b848          move    *a2(IANIOFFY),*a8(ODYOFF)
         0000a730     0030  
         0000a740     0230  
    1945                    
    1946 0000a750     bc48          movb    *a2(ICTRL+7),*a8(OCTRL+7)       ;Write 5 z comp bits + bits pp
         0000a760     0067  
         0000a770     00f7  
    1947                    
    1948                    
    1949                    ;;      callr   sp_animate
    1950                    
    1951                    ;       move    *a13(SP_LIFESPAN),a0
    1952                    ;       dec     a0
    1953                    ;       jrz     kbezdie
    1954                    ;       move    a0,*a13(SP_LIFESPAN)
    1955                    
    1956                    ;       move    *a13(SP_DIE),a0
    1957                    ;       jrz     kbezlp1
    1958                    
    1959 0000a780     b7a1          move    *a13(SP_OBJ_YPOS),a1,L
         0000a790     0120  
    1960 0000a7a0     b7ae          move    *a13(SP_GROUND_Y),a14,L
         0000a7b0     0360  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   47

    1961 0000a7c0     482e          cmp     a1,a14
    1962 0000a7d0     c6cf          jrle    kbezlp1
    1963                    
    1964 0000a7e0     b3cd          move    a14,*a13(SP_OBJ_YPOS),L
         0000a7f0     0120  
    1965                    
    1966 0000a800     09e0          movi    flame_splat_anim,a0
         0000a810 0000fc80' 
    1967 0000a830     0d5f          calla   sp_change_anim
         0000a840 0000b860' 
    1968 0000a860     0d3f          callr   sp_update_pos
         0000a870     0088  
    1969                    
    1970 0000a880           kbezlp2
    1971                    ;       callr   sp_update_pos
    1972                    
    1973 0000a880                   SLEEPK  2
    1974                    
    1975 0000a8c0     0d3f          callr   sp_animate
         0000a8d0     0104  
    1976                    
    1977 0000a8e0     b5a0          move    *a13(SP_DIE),a0
         0000a8f0     01f0  
    1978 0000a900     caf7          jrz     kbezlp2
    1979                    
    1980 0000a910           kbezdie
    1981 0000a910     b7a0          move    *a13(SP_OBJ),a0,L
         0000a920     0230  
    1982 0000a930     0d5f          calla   DELOBJ
         0000a940 00000000! 
    1983                    
    1984                    ;       move    *a13(SP_SHADOW_OBJ),a0,L
    1985                    ;       calla   DELOBJ
    1986                    
    1987 0000a960                   DIE
    1988                    
    1989                    *****************************************************************************
    1990                    
    1991 0000a990            SUBR   special_hit
    1992                    
    1993 0000a990                   PUSH    a13
    1994 0000a9a0                   PUSH    a8
    1995                    
    1996 0000a9b0     4ccd          move    a6,a13
    1997                    
    1998 0000a9c0     4da0          move    a13,a0
    1999 0000a9d0     0d3f          callr   delete_special_objlist
         0000a9e0     fcd1  
    2000 0000a9f0     b5ae          move    *a13(SP_ID),a14
         0000aa00     0440  
    2001 0000aa10     24ae          sll     5,a14
    2002 0000aa20     0b2e          addi    oracsplat_tbl,a14
         0000aa30 0000ab70' 
    2003 0000aa50     87c0          move    *a14,a0,L
    2004 0000aa60     0d3f          callr   sp_change_anim
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   48

         0000aa70     00de  
    2005                    
    2006 0000aa80                   PULL    a13
    2007                    
    2008 0000aa90     4da0          move    a13,a0
    2009 0000aaa0     0d3f          callr   delete_special_objlist
         0000aab0     fcc4  
    2010 0000aac0     b5ae          move    *a13(SP_ID),a14
         0000aad0     0440  
    2011 0000aae0     24ae          sll     5,a14
    2012 0000aaf0     0b2e          addi    oracsplat_tbl,a14
         0000ab00 0000ab70' 
    2013 0000ab20     87c0          move    *a14,a0,L
    2014 0000ab30     0d3f          callr   sp_change_anim
         0000ab40     00d1  
    2015                    
    2016 0000ab50                   PULL    a13
    2017 0000ab60     0960          rets
    2018                    
    2019 0000ab70           oracsplat_tbl
    2020 0000ab70 00011010'         .long   spiritsplat_anim
    2021 0000ab90 00011330'         .long   reapersplat_anim
    2022 0000abb0 00011580'         .long   saltsplat_anim
    2023                    
    2024                    
    2025                    
    2026                    *****************************************************************************
    2027                    
    2028 0000abd0           sp_create_obj
    2029                    
    2030                    
    2031 0000abd0     5600          clr     a0                              ;x pos
    2032 0000abe0     5621          clr     a1                              ;y pos
    2033 0000abf0     09e2          movi    PINSHAD1,a2                     ;* image
         0000ac00 00000000! 
    2034 0000ac20     09c3          movi    150,a3                          ;z pos
         0000ac30     0096  
    2035 0000ac40     09e4          movi    DMAWNZ,a4                       ;DMA flags
         0000ac50 00008002  
    2036 0000ac70     b08d          move    a4,*a13(SP_OBJCONTROL)
         0000ac80     0180  
    2037 0000ac90     56a5          clr     a5                              ;object ID
    2038 0000aca0     56c6          clr     a6                              ;x vel
    2039 0000acb0     56e7          clr     a7                              ;y vel
    2040 0000acc0     0d5f          calla   BEGINOBJ
         0000acd0 00000000! 
    2041 0000acf0     b30d          move    a8,*a13(SP_OBJ),L
         0000ad00     0230  
    2042                    
    2043 0000ad10     0960          rets
    2044                    
    2045                    *****************************************************************************
    2046                    
    2047 0000ad20           sp_create_shadow
    2048                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   49

    2049 0000ad20     5600          clr     a0                              ;x pos
    2050 0000ad30     5621          clr     a1                              ;y pos
    2051 0000ad40     09e2          movi    PINSHAD1,a2                     ;* image
         0000ad50 00000000! 
    2052 0000ad70     09c3          movi    149,a3                          ;z pos
         0000ad80     0095  
    2053 0000ad90     09e4          movi    DMAWNZ,a4                       ;DMA flags
         0000ada0 00008002  
    2054 0000adc0     56a5          clr     a5                              ;object ID
    2055 0000add0     56c6          clr     a6                              ;x vel
    2056 0000ade0     56e7          clr     a7                              ;y vel
    2057 0000adf0     0d5f          calla   BEGINOBJ
         0000ae00 00000000! 
    2058 0000ae20     b30d          move    a8,*a13(SP_SHADOW_OBJ),L
         0000ae30     0250  
    2059                    
    2060 0000ae40     0960          rets
    2061                    
    2062                    *****************************************************************************
    2063                    
    2064 0000ae50           sp_velocity_add
    2065                    
    2066 0000ae50     b7a1          move    *a13(SP_OBJ_XPOS),a1,L
         0000ae60     0100  
    2067 0000ae70     b7a0          move    *a13(SP_OBJ_XVEL),a0,L
         0000ae80     03a0  
    2068 0000ae90     4001          add     a0,a1
    2069 0000aea0     b22d          move    a1,*a13(SP_OBJ_XPOS),L
         0000aeb0     0100  
    2070                    
    2071 0000aec0     b7a1          move    *a13(SP_OBJ_YPOS),a1,L
         0000aed0     0120  
    2072 0000aee0     b7a0          move    *a13(SP_OBJ_YVEL),a0,L
         0000aef0     03c0  
    2073 0000af00     b7ae          move    *a13(SP_GRAVITY),a14,L
         0000af10     0380  
    2074 0000af20     45c0          sub     a14,a0
    2075 0000af30     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000af40     03c0  
    2076 0000af50     4001          add     a0,a1
    2077 0000af60     b22d          move    a1,*a13(SP_OBJ_YPOS),L
         0000af70     0120  
    2078                    
    2079 0000af80     b7a1          move    *a13(SP_OBJ_ZPOS),a1,L
         0000af90     0140  
    2080 0000afa0     b7a0          move    *a13(SP_OBJ_ZVEL),a0,L
         0000afb0     03e0  
    2081 0000afc0     4001          add     a0,a1
    2082 0000afd0     b22d          move    a1,*a13(SP_OBJ_ZPOS),L
         0000afe0     0140  
    2083 0000aff0     0960          rets
    2084                    
    2085                    
    2086                    *****************************************************************************
    2087                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   50

    2088 0000b000           sp_standard_bounce
    2089                    
    2090 0000b000     b7a0          move    *a13(SP_OBJ_YVEL),a0,L
         0000b010     03c0  
    2091 0000b020     c10c          jrp     axpook
    2092                    
    2093 0000b030     b7a1          move    *a13(SP_OBJ_YPOS),a1,L
         0000b040     0120  
    2094 0000b050     b7ae          move    *a13(SP_GROUND_Y),a14,L
         0000b060     0360  
    2095                    
    2096 0000b070     482e          cmp     a1,a14
    2097 0000b080     c606          jrle    axpook
    2098                    
    2099 0000b090     b3cd          move    a14,*a13(SP_OBJ_YPOS),L
         0000b0a0     0120  
    2100                    
    2101 0000b0b0     2be0          sra     1,a0
    2102 0000b0c0     03a0          neg     a0
    2103 0000b0d0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000b0e0     03c0  
    2104 0000b0f0           axpook
    2105 0000b0f0     0960          rets
    2106                    
    2107                    
    2108                    *****************************************************************************
    2109                    
    2110 0000b100           sp_update_pos
    2111                    
    2112 0000b100     b7a8          move    *a13(SP_OBJ),a8,L
         0000b110     0230  
    2113 0000b120     b7a9          move    *a13(SP_SHADOW_OBJ),a9,L
         0000b130     0250  
    2114                    
    2115 0000b140     b7a0          move    *a13(SP_OBJ_ZPOS),a0,L
         0000b150     0140  
    2116 0000b160     0ba0          ori     [01000h,0],a0
         0000b170 10000000  
    2117 0000b190     b5ae          move    *a13(SP_INRING),a14
         0000b1a0     0350  
    2118 0000b1b0     ca07          jrz     pmrninring
    2119 0000b1c0     0b60          cmpi    [015ach,0],a0
         0000b1d0 ea53ffff  
    2120 0000b1f0     c703          jrgt    pmrninring
    2121 0000b200     0d00          subi    [01e5h,0],a0            ;below mat
         0000b210 fe1affff  
    2122 0000b230           pmrninring
    2123 0000b230     b208          move    a0,*a8(OZVAL),L
         0000b240     00c0  
    2124 0000b250     b209          move    a0,*a9(OZVAL),L
         0000b260     00c0  
    2125                    
    2126                    
    2127 0000b270     bba8          move    *a13(SP_OBJ_XPOS),*a8(OXVAL),L  ;object
         0000b280     0100  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   51

         0000b290     0080  
    2128 0000b2a0     bba9          move    *a13(SP_OBJ_XPOS),*a9(OXVAL),L  ;shadow
         0000b2b0     0100  
         0000b2c0     0080  
    2129                    
    2130 0000b2d0     09c0          movi    Y_SCALE_MULTIPLIER,a0
         0000b2e0     3566  
    2131 0000b2f0     b5a1          move    *a13(SP_OBJ_ZPOSINT),a1
         0000b300     0150  
    2132 0000b310     5e01          mpyu    a0,a1
    2133 0000b320     4c22          move    a1,a2
    2134 0000b330     b7a0          move    *a13(SP_OBJ_YPOS),a0,L
         0000b340     0120  
    2135 0000b350     4401          sub     a0,a1
    2136 0000b360     b228          move    a1,*a8(OYVAL),L
         0000b370     00a0  
    2137                    
    2138 0000b380     b7a0          move    *a13(SP_GROUND_Y),a0,L
         0000b390     0360  
    2139 0000b3a0     4402          sub     a0,a2
    2140 0000b3b0     b249          move    a2,*a9(OYVAL),L
         0000b3c0     00a0  
    2141                    
    2142 0000b3d0     b520          move    *a9(OXPOS),a0
         0000b3e0     0090  
    2143 0000b3f0     0b80          andni   1,a0
         0000b400 00000001  
    2144 0000b420     05a1          move    @PCNT,a1
         0000b430 00000000! 
    2145 0000b450     0b81          andi    1,a1
         0000b460 fffffffe  
    2146 0000b480     5420          or      a1,a0
    2147 0000b490     b521          move    *a9(OYPOS),a1
         0000b4a0     00b0  
    2148 0000b4b0     0b81          andi    1,a1
         0000b4c0 fffffffe  
    2149 0000b4e0     5620          xor     a1,a0
    2150 0000b4f0     b009          move    a0,*a9(OXPOS)           ;shake shadow
         0000b500     0090  
    2151                    
    2152                    
    2153 0000b510     b5a7          move    *a13(SP_OBJCONTROL),a7  ;flip bits & pixel ops
         0000b520     0180  
    2154 0000b530     0b87          andi    0111111b,a7
         0000b540 ffffffc0  
    2155 0000b560     0546          setf    6,0,0
    2156 0000b570     b0e8          move    a7,*a8(OCTRL)                   ;Write 6 low bits
         0000b580     00f0  
    2157 0000b590     0570          setf    16,1,0
    2158                    
    2159 0000b5a0     0960          rets
    2160                    
    2161                    
    2162 0000b5b0           sp_update_pos_single
    2163                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   52

    2164 0000b5b0     b7a8          move    *a13(SP_OBJ),a8,L
         0000b5c0     0230  
    2165                    
    2166 0000b5d0     b7a0          move    *a13(SP_OBJ_ZPOS),a0,L
         0000b5e0     0140  
    2167 0000b5f0     0ba0          ori     [01000h,0],a0
         0000b600 10000000  
    2168 0000b620     b5ae          move    *a13(SP_INRING),a14
         0000b630     0350  
    2169 0000b640     ca07          jrz     pmrninring2
    2170 0000b650     0b60          cmpi    [015ach,0],a0
         0000b660 ea53ffff  
    2171 0000b680     c703          jrgt    pmrninring2
    2172 0000b690     0d00          subi    [01e5h,0],a0            ;below mat
         0000b6a0 fe1affff  
    2173 0000b6c0           pmrninring2
    2174 0000b6c0     b208          move    a0,*a8(OZVAL),L
         0000b6d0     00c0  
    2175                    
    2176 0000b6e0     bba8          move    *a13(SP_OBJ_XPOS),*a8(OXVAL),L  ;object
         0000b6f0     0100  
         0000b700     0080  
    2177                    
    2178 0000b710     09c0          movi    Y_SCALE_MULTIPLIER,a0
         0000b720     3566  
    2179 0000b730     b5a1          move    *a13(SP_OBJ_ZPOSINT),a1
         0000b740     0150  
    2180 0000b750     5e01          mpyu    a0,a1
    2181 0000b760     4c22          move    a1,a2
    2182 0000b770     b7a0          move    *a13(SP_OBJ_YPOS),a0,L
         0000b780     0120  
    2183 0000b790     4401          sub     a0,a1
    2184 0000b7a0     b228          move    a1,*a8(OYVAL),L
         0000b7b0     00a0  
    2185                    
    2186 0000b7c0     b5a7          move    *a13(SP_OBJCONTROL),a7  ;flip bits & pixel ops
         0000b7d0     0180  
    2187 0000b7e0     0b87          andi    0111111b,a7
         0000b7f0 ffffffc0  
    2188 0000b810     0546          setf    6,0,0
    2189 0000b820     b0e8          move    a7,*a8(OCTRL)                   ;Write 6 low bits
         0000b830     00f0  
    2190 0000b840     0570          setf    16,1,0
    2191                    
    2192 0000b850     0960          rets
    2193                    
    2194                    *****************************************************************************
    2195                    
    2196                    
    2197 0000b860            SUBR   sp_change_anim
    2198                    
    2199 0000b860     b20d          move    a0,*a13(SP_ANIBASE),L
         0000b870     0190  
    2200 0000b880     b20d          move    a0,*a13(SP_ANIPC),L
         0000b890     01b0  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   53

    2201 0000b8a0     1820          movk    1,a0
    2202 0000b8b0     b00d          move    a0,*a13(SP_ANICNT)
         0000b8c0     01d0  
    2203 0000b8d0     b7a8          move    *a13(SP_OBJ),a8,L
         0000b8e0     0230  
    2204 0000b8f0     0d3f          callr   sp_animate
         0000b900     0001  
    2205 0000b910     0960          rets
    2206                    
    2207                    
    2208 0000b920            SUBRP  sp_animate
    2209                    
    2210 0000b920     b5a0          move    *a13(SP_DIE),a0
         0000b930     01f0  
    2211 0000b940     cb2f          jrnz    _exit
    2212                    
    2213 0000b950     b5a0          move    *a13(SP_ANICNT),a0
         0000b960     01d0  
    2214 0000b970     1420          dec     a0
    2215 0000b980     b00d          move    a0,*a13(SP_ANICNT)
         0000b990     01d0  
    2216 0000b9a0     c729          jrgt    _exit
    2217                    
    2218 0000b9b0           next_command
    2219 0000b9b0     b7a4          move    *a13(SP_ANIPC),a4,L
         0000b9c0     01b0  
    2220 0000b9d0     9480          move    *a4+,a0
    2221 0000b9e0     ce26          jrn     rhetcommand
    2222                    
    2223 0000b9f0     b00d          move    a0,*a13(SP_ANICNT)
         0000ba00     01d0  
    2224 0000ba10     9682          move    *a4+,a2,L
    2225                    
    2226 0000ba20     b701          move    *a8(OIMG),a1,L
         0000ba30     0170  
    2227                    
    2228 0000ba40     b621          move    *a1(ICMAP),a1,L         ;* old palette
         0000ba50     0070  
    2229 0000ba60     b248          move    a2,*a8(OIMG),L          ;new image
         0000ba70     0170  
    2230 0000ba80     b640          move    *a2(ICMAP),a0,L         ;Get *palette
         0000ba90     0070  
    2231 0000baa0     4801          cmp     a0,a1
    2232 0000bab0     ca07          jreq    rhetno_change
    2233                    
    2234                    ;do this only if palette has changed!!!
    2235 0000bac0     b640          move    *a2(ICMAP),a0,L         ;Get *palette
         0000bad0     0070  
    2236 0000bae0     0d5f          calla   pal_getf
         0000baf0 00000000! 
    2237 0000bb10     b208          move    a0,*a8(OPAL),L          ;Set palette & constant
         0000bb20     0150  
    2238                    
    2239 0000bb30           rhetno_change
    2240 0000bb30     ba48          move    *a2(0),*a8(OSIZE),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   54

         0000bb40     0000  
         0000bb50     0130  
    2241 0000bb60     ba48          move    *a2(ISAG),*a8(OSAG),L
         0000bb70     0040  
         0000bb80     0110  
    2242                    
    2243 0000bb90     b848          move    *a2(IANIOFFX),*a8(ODXOFF)
         0000bba0     0020  
         0000bbb0     0220  
    2244 0000bbc0     b848          move    *a2(IANIOFFY),*a8(ODYOFF)
         0000bbd0     0030  
         0000bbe0     0230  
    2245                    
    2246 0000bbf0     bc48          movb    *a2(ICTRL+7),*a8(OCTRL+7)       ;Write 5 z comp bits + bits pp
         0000bc00     0067  
         0000bc10     00f7  
    2247                    
    2248                    ;       setf    6,0,0
    2249                    ;       move    a7,*a8(OCTRL)                   ;Write 6 low bits
    2250                    ;       setf    16,1,0
    2251                    
    2252 0000bc20     b28d          move    a4,*a13(SP_ANIPC),L
         0000bc30     01b0  
    2253                    
    2254 0000bc40           _exit
    2255 0000bc40     0960          rets
    2256                    
    2257 0000bc50           rhetcommand
    2258 0000bc50     0b80          andi    0ffh,a0
         0000bc60 ffffff00  
    2259                    
    2260                            ;TEMP!
    2261                            .if DEBUG
    2262                            TEST    a0
    2263                            jrn     rheterrlo
    2264                            cmpi    14,a0
    2265                            jrgt    rheterrhi
    2266                            jruc    rhetok0
    2267                    rheterrlo       LOCKUP
    2268                            nop
    2269                    rheterrhi       LOCKUP
    2270                            nop
    2271                    rhetok0 .endif
    2272                            ;!PMET
    2273                    
    2274 0000bc80                   X32     a0
    2275 0000bc90     0b20          addi    rhetani_commands,a0
         0000bca0 0000bce0' 
    2276 0000bcc0     8600          move    *a0,a0,L
    2277 0000bcd0     0160          jump    a0
    2278                    
    2279 0000bce0           rhetani_commands
    2280 0000bce0 0000bec0'         .long   _asp_zip        ;0
    2281 0000bd00 0000bef0'         .long   _asp_end        ;1
    2282 0000bd20 0000bf20'         .long   _asp_die        ;2
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   55

    2283 0000bd40 0000bf60'         .long   _asp_repeat     ;3
    2284 0000bd60 0000bfa0'         .long   _asp_goto       ;4
    2285 0000bd80 0000bfe0'         .long   _asp_collbox    ;5
    2286 0000bda0 0000c160'         .long   _asp_zerovels   ;6
    2287 0000bdc0 0000c210'         .long   _asp_add_yvel   ;7
    2288 0000bde0 0000c2b0'         .long   _asp_setword    ;8
    2289 0000be00 0000c380'         .long   _asp_setlong    ;9
    2290 0000be20 0000c450'         .long   _asp_code       ;10
    2291 0000be40 0000c4b0'         .long   _asp_waitnegyvel ;11
    2292 0000be60 0000c590'         .long   _asp_zeroyvel   ;12
    2293 0000be80 0000c600'         .long   _asp_waithitgnd ;13
    2294 0000bea0 0000c740'         .long   _asp_set_grav   ;14
    2295                    
    2296                    ********
    2297 0000bec0           _asp_zip        ;0
    2298                    
    2299 0000bec0     b28d          move    a4,*a13(SP_ANIPC),L
         0000bed0     01b0  
    2300 0000bee0     c0ac          jruc    next_command
    2301                    
    2302                    ********
    2303 0000bef0           _asp_end        ;1
    2304                    
    2305 0000bef0     b28d          move    a4,*a13(SP_ANIPC),L
         0000bf00     01b0  
    2306 0000bf10     c0a9          jruc    next_command
    2307                    
    2308                    ********
    2309 0000bf20           _asp_die        ;2
    2310                    
    2311 0000bf20     1840          movk    2,a0
    2312 0000bf30     b00d          move    a0,*a13(SP_DIE)
         0000bf40     01f0  
    2313 0000bf50     0960          rets
    2314                    
    2315                    ********
    2316 0000bf60           _asp_repeat     ;3
    2317                    
    2318 0000bf60     bbad          move    *a13(SP_ANIBASE),*a13(SP_ANIPC),L
         0000bf70     0190  
         0000bf80     01b0  
    2319 0000bf90     c0a1          jruc    next_command
    2320                    
    2321                    ********
    2322 0000bfa0           _asp_goto       ;4
    2323                    
    2324 0000bfa0     ba8d          move    *a4(0),*a13(SP_ANIPC),L
         0000bfb0     0000  
         0000bfc0     01b0  
    2325 0000bfd0     c09d          jruc    next_command
    2326                    
    2327                    ********
    2328 0000bfe0           _asp_collbox    ;5
    2329                    
    2330 0000bfe0     4c8e          move    a4,a14
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   56

    2331 0000bff0     0b0e          addi    6*10h,a14               ;6 words
         0000c000     0060  
    2332 0000c010     b3cd          move    a14,*a13(SP_ANIPC),L
         0000c020     01b0  
    2333                    
    2334 0000c030     b88d          move    *a4(0),*a13(SP_XOFF)
         0000c040     0000  
         0000c050     0290  
    2335 0000c060     b88d          move    *a4(10h),*a13(SP_WIDTH)
         0000c070     0010  
         0000c080     02a0  
    2336                    
    2337 0000c090     b88d          move    *a4(20h),*a13(SP_YOFF)
         0000c0a0     0020  
         0000c0b0     02b0  
    2338 0000c0c0     b88d          move    *a4(30h),*a13(SP_HEIGHT)
         0000c0d0     0030  
         0000c0e0     02c0  
    2339                    
    2340 0000c0f0     b88d          move    *a4(40h),*a13(SP_ZOFF)
         0000c100     0040  
         0000c110     02d0  
    2341 0000c120     b88d          move    *a4(50h),*a13(SP_DEPTH)
         0000c130     0050  
         0000c140     02e0  
    2342                    
    2343 0000c150     c085          jruc    next_command
    2344                    
    2345                    ********
    2346 0000c160           _asp_zerovels   ;6
    2347                    
    2348 0000c160     5600          clr     a0
    2349 0000c170     b20d          move    a0,*a13(SP_OBJ_XVEL),L
         0000c180     03a0  
    2350 0000c190     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000c1a0     03c0  
    2351 0000c1b0     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         0000c1c0     03e0  
    2352                    
    2353 0000c1d0     b28d          move    a4,*a13(SP_ANIPC),L
         0000c1e0     01b0  
    2354 0000c1f0     c000          jruc    next_command
         0000c200     ff7a  
    2355                    
    2356                    ********
    2357 0000c210           _asp_add_yvel   ;7
    2358                    
    2359 0000c210     9680          move    *a4+,a0,L
    2360 0000c220     b28d          move    a4,*a13(SP_ANIPC),L
         0000c230     01b0  
    2361                    
    2362 0000c240     b7a1          move    *a13(SP_OBJ_YVEL),a1,L
         0000c250     03c0  
    2363 0000c260     4001          add     a0,a1
    2364 0000c270     b22d          move    a1,*a13(SP_OBJ_YVEL),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   57

         0000c280     03c0  
    2365                    
    2366 0000c290     c000          jruc    next_command
         0000c2a0     ff70  
    2367                    
    2368                    ********
    2369 0000c2b0           _asp_setword    ;8
    2370                    
    2371 0000c2b0                   STRUCT  0
    2372 0000c2b0                   WORD    avdbPDOFF
    2373 0000c2b0                   WORD    avdbWORD
    2374 0000c2b0                   LABEL   avdbSIZE
    2375                    
    2376 0000c2b0     4c8e          move    a4,a14
    2377 0000c2c0     0b0e          addi    avdbSIZE,a14
         0000c2d0     0020  
    2378 0000c2e0     b3cd          move    a14,*a13(SP_ANIPC),L
         0000c2f0     01b0  
    2379                    
    2380 0000c300     b480          move    *a4(avdbPDOFF),a0
         0000c310     0000  
    2381 0000c320     41a0          add     a13,a0
    2382 0000c330     b481          move    *a4(avdbWORD),a1
         0000c340     0010  
    2383 0000c350     8020          move    a1,*a0
    2384                    
    2385 0000c360     c000          jruc    next_command
         0000c370     ff63  
    2386                    
    2387                    
    2388                    ********
    2389 0000c380           _asp_setlong    ;9
    2390                    
    2391 0000c380                   STRUCT  0
    2392 0000c380                   WORD    fkxlPDOFF
    2393 0000c380                   LONG    fkxlLONG
    2394 0000c380                   LABEL   fkxlSIZE
    2395                    
    2396 0000c380     4c8e          move    a4,a14
    2397 0000c390     0b0e          addi    fkxlSIZE,a14
         0000c3a0     0030  
    2398 0000c3b0     b3cd          move    a14,*a13(SP_ANIPC),L
         0000c3c0     01b0  
    2399                    
    2400 0000c3d0     b480          move    *a4(fkxlPDOFF),a0
         0000c3e0     0000  
    2401 0000c3f0     41a0          add     a13,a0
    2402 0000c400     b681          move    *a4(fkxlLONG),a1,L
         0000c410     0010  
    2403 0000c420     8220          move    a1,*a0,L
    2404                    
    2405 0000c430     c000          jruc    next_command
         0000c440     ff56  
    2406                    
    2407                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   58

    2408                    ********
    2409 0000c450           _asp_code       ;10
    2410                    
    2411 0000c450     9680          move    *a4+,a0,L
    2412 0000c460     b28d          move    a4,*a13(SP_ANIPC),L
         0000c470     01b0  
    2413 0000c480     0920          call    a0
    2414 0000c490     c000          jruc    next_command
         0000c4a0     ff50  
    2415                    
    2416                    ********
    2417 0000c4b0           _asp_waitnegyvel ;11
    2418                    
    2419 0000c4b0     b7a0          move    *a13(SP_OBJ_YVEL),a0,L
         0000c4c0     03c0  
    2420 0000c4d0     c107          jrp     dapqwait
    2421                    
    2422 0000c4e0     5600          clr     a0
    2423 0000c4f0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000c500     03c0  
    2424                    
    2425 0000c510     b28d          move    a4,*a13(SP_ANIPC),L
         0000c520     01b0  
    2426 0000c530     c000          jruc    next_command
         0000c540     ff46  
    2427                    
    2428 0000c550           dapqwait
    2429 0000c550     1820          movk    1,a0
    2430 0000c560     b00d          move    a0,*a13(SP_ANICNT)      ;# ticks to hold cur frame
         0000c570     01d0  
    2431 0000c580     0960          rets
    2432                    
    2433                    ********
    2434 0000c590           _asp_zeroyvel   ;12
    2435                    
    2436 0000c590     5600          clr     a0
    2437 0000c5a0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000c5b0     03c0  
    2438                    
    2439 0000c5c0     b28d          move    a4,*a13(SP_ANIPC),L
         0000c5d0     01b0  
    2440 0000c5e0     c000          jruc    next_command
         0000c5f0     ff3b  
    2441                    
    2442                    ********
    2443 0000c600           _asp_waithitgnd ;13
    2444                    
    2445 0000c600     b7a0          move    *a13(SP_OBJ_YVEL),a0,L  ;must have down velocity
         0000c610     03c0  
    2446 0000c620     c10d          jrp     efmkno_gnd
    2447                    
    2448 0000c630     b5a0          move    *a13(SP_OBJ_YPOSINT),a0
         0000c640     0130  
    2449 0000c650     b5a1          move    *a13(SP_GROUND_Y+10h),a1
         0000c660     0370  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   59

    2450 0000c670     4820          cmp     a1,a0                   ;a0-a1
    2451 0000c680     c707          jrgt    efmkno_gnd
    2452                    
    2453 0000c690     2601          sll     16,a1
    2454 0000c6a0     b22d          move    a1,*a13(SP_OBJ_YPOS),L
         0000c6b0     0120  
    2455                    
    2456 0000c6c0     b28d          move    a4,*a13(SP_ANIPC),L
         0000c6d0     01b0  
    2457 0000c6e0     c000          jruc    next_command
         0000c6f0     ff2b  
    2458 0000c700           efmkno_gnd
    2459 0000c700     1820          movk    1,a0
    2460 0000c710     b00d          move    a0,*a13(SP_ANICNT)
         0000c720     01d0  
    2461 0000c730     0960          rets
    2462                    
    2463                    ********
    2464 0000c740           _asp_set_grav   ;14
    2465                    
    2466 0000c740     9680          move    *a4+,a0,L
    2467 0000c750     b28d          move    a4,*a13(SP_ANIPC),L
         0000c760     01b0  
    2468 0000c770     b20d          move    a0,*a13(SP_GRAVITY),L
         0000c780     0380  
    2469                    
    2470 0000c790     c000          jruc    next_command
         0000c7a0     ff20  
    2471                    
    2472                    
    2473                    ********
    2474 0000c7b0           blade_anim
    2475 0000c7b0                   WL      3,BLADE01
    2476 0000c7e0                   WL      3,BLADE02
    2477 0000c810                   WL      3,BLADE03
    2478 0000c840                   WL      3,BLADE04
    2479 0000c870                   WL      3,BLADE05
    2480 0000c8a0                   WL      3,BLADE06
    2481 0000c8d0                   WL      3,BLADE07
    2482 0000c900                   WL      3,BLADE08
    2483 0000c930                   WL      3,BLADE09
    2484 0000c960                   WL      3,BLADE10
    2485 0000c990     8003          .word   ASP_REPEAT
    2486                    
    2487 0000c9a0           chain_anim
    2488 0000c9a0                   WL      4,CHAIN01
    2489 0000c9d0                   WL      4,CHAIN02
    2490 0000ca00                   WL      4,CHAIN03
    2491 0000ca30                   WL      4,CHAIN04
    2492 0000ca60                   WL      4,CHAIN05
    2493 0000ca90                   WL      4,CHAIN06
    2494 0000cac0     8003          .word   ASP_REPEAT
    2495                    
    2496 0000cad0           bladeR_anim
    2497 0000cad0                   WL      3,BLADE04
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   60

    2498 0000cb00                   WL      3,BLADE03
    2499 0000cb30                   WL      3,BLADE02
    2500 0000cb60                   WL      3,BLADE01
    2501 0000cb90                   WL      3,BLADE10
    2502 0000cbc0                   WL      3,BLADE09
    2503 0000cbf0                   WL      3,BLADE08
    2504 0000cc20                   WL      3,BLADE07
    2505 0000cc50                   WL      3,BLADE06
    2506 0000cc80                   WL      3,BLADE05
    2507 0000ccb0     8003          .word   ASP_REPEAT
    2508                    
    2509 0000ccc0           star_anim
    2510 0000ccc0                   WL      3,STAR01
    2511 0000ccf0                   WL      3,STAR02
    2512 0000cd20                   WL      3,STAR03
    2513 0000cd50                   WL      3,STAR04
    2514 0000cd80                   WL      3,STAR05
    2515 0000cdb0                   WL      3,STAR06
    2516 0000cde0                   WL      3,STAR07
    2517 0000ce10                   WL      3,STAR08
    2518 0000ce40                   WL      3,STAR09
    2519 0000ce70                   WL      3,STAR10
    2520 0000cea0                   WL      3,STAR11
    2521 0000ced0                   WL      3,STAR12
    2522 0000cf00                   WL      3,STAR13
    2523 0000cf30                   WL      3,STAR14
    2524 0000cf60     8003          .word   ASP_REPEAT
    2525                    
    2526 0000cf70           dbell_anim
    2527 0000cf70                   WL      3,DBELL01
    2528 0000cfa0                   WL      3,DBELL02
    2529 0000cfd0                   WL      3,DBELL03
    2530 0000d000                   WL      3,DBELL04
    2531 0000d030                   WL      3,DBELL05
    2532 0000d060                   WL      3,DBELL06
    2533 0000d090                   WL      3,DBELL07
    2534 0000d0c0                   WL      3,DBELL08
    2535 0000d0f0                   WL      3,DBELL09
    2536 0000d120                   WL      3,DBELL10
    2537 0000d150                   WL      3,DBELL11
    2538 0000d180                   WL      3,DBELL12
    2539 0000d1b0                   WL      3,DBELL13
    2540 0000d1e0                   WL      3,DBELL14
    2541 0000d210                   WL      3,DBELL15
    2542 0000d240     8003          .word   ASP_REPEAT
    2543                    
    2544 0000d250           lamb_anim
    2545 0000d250                   WL      3,LAMB01
    2546 0000d280                   WL      3,LAMB02
    2547 0000d2b0                   WL      3,LAMB03
    2548 0000d2e0                   WL      3,LAMB04
    2549 0000d310                   WL      3,LAMB05
    2550 0000d340                   WL      3,LAMB06
    2551 0000d370                   WL      3,LAMB07
    2552 0000d3a0                   WL      3,LAMB08
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   61

    2553 0000d3d0                   WL      3,LAMB09
    2554 0000d400                   WL      3,LAMB10
    2555 0000d430                   WL      3,LAMB11
    2556 0000d460                   WL      3,LAMB12
    2557 0000d490                   WL      3,LAMB13
    2558 0000d4c0                   WL      3,LAMB14
    2559 0000d4f0                   WL      3,LAMB15
    2560 0000d520     8003          .word   ASP_REPEAT
    2561                    
    2562 0000d530           fish1_anim
    2563 0000d530                   WL      2,FISHF01
    2564 0000d560                   WL      2,FISHF02
    2565 0000d590                   WL      2,FISHF03
    2566 0000d5c0                   WL      2,FISHF04
    2567 0000d5f0                   WL      2,FISHF05
    2568 0000d620                   WL      2,FISHF04
    2569 0000d650                   WL      2,FISHF03
    2570 0000d680                   WL      2,FISHF02
    2571 0000d6b0     8003          .word   ASP_REPEAT
    2572                    
    2573 0000d6c0           fish2_anim
    2574 0000d6c0                   WL      3,FISHT01
    2575 0000d6f0                   WL      3,FISHT02
    2576 0000d720                   WL      3,FISHT03
    2577 0000d750                   WL      3,FISHT04
    2578 0000d780                   WL      3,FISHT05
    2579 0000d7b0                   WL      3,FISHT06
    2580 0000d7e0                   WL      3,FISHT07
    2581 0000d810                   WL      3,FISHT08
    2582 0000d840                   WL      3,FISHT09
    2583 0000d870                   WL      3,FISHT10
    2584 0000d8a0                   WL      3,FISHT11
    2585 0000d8d0                   WL      3,FISHT12
    2586 0000d900                   WL      3,FISHT13
    2587 0000d930                   WL      3,FISHT14
    2588 0000d960                   WL      3,FISHT15
    2589 0000d990     8003          .word   ASP_REPEAT
    2590                    
    2591 0000d9a0           turkey_anim
    2592 0000d9a0                   WL      4,TURKEY1
    2593 0000d9d0                   WL      4,TURKEY2
    2594 0000da00                   WL      4,TURKEY3
    2595 0000da30                   WL      4,TURKEY4
    2596 0000da60                   WL      4,TURKEY5
    2597 0000da90                   WL      4,TURKEY6
    2598 0000dac0                   WL      4,TURKEY7
    2599 0000daf0                   WL      4,TURKEY8
    2600 0000db20     8003          .word   ASP_REPEAT
    2601                    
    2602                    
    2603                    *******
    2604 0000db30           bat_anim
    2605 0000db30                   WWL     ASP_SETLONG,SP_HITGND_CODE,rkvobat_bounce
    2606 0000db70     8008          .word   ASP_SETWORD,SP_LIFESPAN,150
    2607 0000dba0                   WL      ASP_CODE,rkvochoose_anim
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   62

    2608                    
    2609 0000dbd0           batLR_anim
    2610 0000dbd0                   WL      ASP_CODE,rkvofliponx
    2611 0000dc00                   WL      1,BATSD01
    2612 0000dc30     800d          .word   ASP_WAITHITGND
    2613 0000dc40                   WWL     ASP_SETLONG,SP_GRAVITY,04000h
    2614 0000dc80                   WL      ASP_CODE,rkvoset_yvel
    2615 0000dcb0           rkvobl1
    2616 0000dcb0                   WL      2,BATSD01
    2617 0000dce0                   WL      7,BATSD02
    2618 0000dd10                   WL      2,BATSD03
    2619 0000dd40                   WL      2,BATSD04
    2620 0000dd70                   WL      2,BATSD05
    2621 0000dda0     800b          .word   ASP_WAITNEGYVEL
    2622 0000ddb0                   WL      ASP_ADD_YVEL,048000h
    2623 0000dde0                   WL      ASP_GOTO,rkvobl1
    2624                    
    2625 0000de10           rkvofliponx
    2626 0000de10     b7a0          move    *a13(SP_OBJ_XVEL),a0,L
         0000de20     03a0  
    2627 0000de30     c107          jrp     rkvonoflip
    2628 0000de40     b5a0          move    *a13(SP_OBJCONTROL),a0
         0000de50     0180  
    2629 0000de60     0bc0          xori    M_FLIPH,a0
         0000de70 00000010  
    2630 0000de90     b00d          move    a0,*a13(SP_OBJCONTROL)
         0000dea0     0180  
    2631 0000deb0           rkvonoflip
    2632 0000deb0     0960          rets
    2633                    
    2634 0000dec0           rkvochoose_anim
    2635 0000dec0     b7a0          move    *a13(SP_OBJ_YVEL),a0,L
         0000ded0     03c0  
    2636 0000dee0     2be0          sra     1,a0
    2637 0000def0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000df00     03c0  
    2638                    
    2639 0000df10     b7a0          move    *a13(SP_OBJ_XVEL),a0,L
         0000df20     03a0  
    2640 0000df30     0380          abs     a0
    2641 0000df40     0b60          cmpi    0c000h,a0
         0000df50 ffff3fff  
    2642 0000df70     c705          jrgt    rkvofall_through                ;to left/right bat
    2643                    
    2644 0000df80     09e0          movi    batU_anim,a0
         0000df90 0000dfe0' 
    2645 0000dfb0     b20d          move    a0,*a13(SP_ANIPC),L
         0000dfc0     01b0  
    2646                    
    2647 0000dfd0           rkvofall_through
    2648 0000dfd0     0960          rets
    2649                    
    2650                    
    2651                    
    2652                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   63

    2653 0000dfe0           batU_anim
    2654 0000dfe0                   WL      1,BATBK01
    2655 0000e010     800d          .word   ASP_WAITHITGND
    2656 0000e020                   WWL     ASP_SETLONG,SP_GRAVITY,04000h
    2657 0000e060                   WL      ASP_CODE,rkvoset_yvel
    2658 0000e090           rkvobl2
    2659 0000e090                   WL      2,BATBK01
    2660 0000e0c0                   WL      7,BATBK02
    2661 0000e0f0                   WL      2,BATBK03
    2662 0000e120                   WL      2,BATBK04
    2663 0000e150                   WL      2,BATBK05
    2664 0000e180     800b          .word   ASP_WAITNEGYVEL
    2665 0000e190                   WL      ASP_ADD_YVEL,048000h
    2666 0000e1c0                   WL      ASP_GOTO,rkvobl2
    2667                    
    2668 0000e1f0           rkvoset_yvel
    2669 0000e1f0     09c0          movi    4000h,a0
         0000e200     4000  
    2670 0000e210     0d5f          calla   RNDRNGS
         0000e220 00000000! 
    2671 0000e240     0b20          addi    048000h,a0
         0000e250 00048000  
    2672 0000e270     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000e280     03c0  
    2673                    
    2674 0000e290     0960          rets
    2675                    
    2676                    
    2677 0000e2a0           rkvobat_bounce
    2678 0000e2a0     b7a0          move    *a13(SP_OBJ_YVEL),a0,L
         0000e2b0     03c0  
    2679 0000e2c0     c10b          jrp     rkvook
    2680                    
    2681 0000e2d0     b7a1          move    *a13(SP_OBJ_YPOS),a1,L
         0000e2e0     0120  
    2682 0000e2f0     b7ae          move    *a13(SP_GROUND_Y),a14,L
         0000e300     0360  
    2683                    
    2684 0000e310     482e          cmp     a1,a14
    2685 0000e320     c605          jrle    rkvook
    2686                    
    2687 0000e330     b3cd          move    a14,*a13(SP_OBJ_YPOS),L
         0000e340     0120  
    2688                    
    2689 0000e350     5600          clr     a0
    2690 0000e360     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0000e370     03c0  
    2691 0000e380           rkvook
    2692                    
    2693 0000e380     0960          rets
    2694                    
    2695                    
    2696                    
    2697                    *******
    2698 0000e390           skull_anim
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   64

    2699 0000e390                   WL      3,SKULL01
    2700 0000e3c0                   WL      3,SKULL02
    2701 0000e3f0                   WL      3,SKULL03
    2702 0000e420                   WL      3,SKULL04
    2703 0000e450                   WL      3,SKULL05
    2704 0000e480                   WL      3,SKULL06
    2705 0000e4b0                   WL      3,SKULL07
    2706 0000e4e0                   WL      3,SKULL08
    2707 0000e510                   WL      3,SKULL09
    2708 0000e540                   WL      3,SKULL10
    2709 0000e570                   WL      3,SKULL11
    2710 0000e5a0                   WL      3,SKULL12
    2711 0000e5d0                   WL      3,SKULL13
    2712 0000e600     8003          .word   ASP_REPEAT
    2713                    
    2714 0000e610           bone_anim
    2715 0000e610                   WL      3,BONE01
    2716 0000e640                   WL      3,BONE02
    2717 0000e670                   WL      3,BONE03
    2718 0000e6a0                   WL      3,BONE04
    2719 0000e6d0                   WL      3,BONE05
    2720 0000e700                   WL      3,BONE06
    2721 0000e730                   WL      3,BONE07
    2722 0000e760                   WL      3,BONE08
    2723 0000e790                   WL      3,BONE09
    2724 0000e7c0                   WL      3,BONE10
    2725 0000e7f0                   WL      3,BONE11
    2726 0000e820                   WL      3,BONE12
    2727 0000e850                   WL      3,BONE13
    2728 0000e880                   WL      3,BONE14
    2729 0000e8b0                   WL      3,BONE15
    2730 0000e8e0     8003          .word   ASP_REPEAT
    2731                    
    2732 0000e8f0           bone2_anim
    2733 0000e8f0                   WL      ASP_CODE,sexpchoose_anim
    2734                    
    2735 0000e920           boneR_anim
    2736 0000e920                   WL      2,BONEB15
    2737 0000e950                   WL      2,BONEB14
    2738 0000e980                   WL      2,BONEB13
    2739 0000e9b0                   WL      2,BONEB12
    2740 0000e9e0                   WL      2,BONEB11
    2741 0000ea10                   WL      2,BONEB10
    2742 0000ea40                   WL      2,BONEB09
    2743 0000ea70                   WL      2,BONEB08
    2744 0000eaa0                   WL      2,BONEB07
    2745 0000ead0                   WL      2,BONEB06
    2746 0000eb00                   WL      2,BONEB05
    2747 0000eb30                   WL      2,BONEB04
    2748 0000eb60                   WL      2,BONEB03
    2749 0000eb90                   WL      2,BONEB02
    2750 0000ebc0                   WL      2,BONEB01
    2751 0000ebf0     8003          .word   ASP_REPEAT
    2752                    
    2753 0000ec00           sexpchoose_anim
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   65

    2754 0000ec00     b7a0          move    *a13(SP_OBJ_XVEL),a0,L
         0000ec10     03a0  
    2755 0000ec20     c105          jrp     sexpfall_through
    2756                    
    2757 0000ec30     09e0          movi    boneL_anim,a0
         0000ec40 0000ec90' 
    2758 0000ec60     b20d          move    a0,*a13(SP_ANIPC),L
         0000ec70     01b0  
    2759                    
    2760 0000ec80           sexpfall_through
    2761 0000ec80     0960          rets
    2762                    
    2763 0000ec90           boneL_anim
    2764 0000ec90                   WL      2,BONEB01
    2765 0000ecc0                   WL      2,BONEB02
    2766 0000ecf0                   WL      2,BONEB03
    2767 0000ed20                   WL      2,BONEB04
    2768 0000ed50                   WL      2,BONEB05
    2769 0000ed80                   WL      2,BONEB06
    2770 0000edb0                   WL      2,BONEB07
    2771 0000ede0                   WL      2,BONEB08
    2772 0000ee10                   WL      2,BONEB09
    2773 0000ee40                   WL      2,BONEB10
    2774 0000ee70                   WL      2,BONEB11
    2775 0000eea0                   WL      2,BONEB12
    2776 0000eed0                   WL      2,BONEB13
    2777 0000ef00                   WL      2,BONEB14
    2778 0000ef30                   WL      2,BONEB15
    2779 0000ef60     8003          .word   ASP_REPEAT
    2780                    
    2781                    *******
    2782                    
    2783 0000ef70           heart_anim
    2784 0000ef70                   WL      3,HART01
    2785 0000efa0                   WL      3,HART02
    2786 0000efd0                   WL      3,HART03
    2787 0000f000                   WL      3,HART04
    2788 0000f030                   WL      3,HART05
    2789 0000f060                   WL      3,HART06
    2790 0000f090                   WL      3,HART07
    2791 0000f0c0                   WL      3,HART08
    2792 0000f0f0                   WL      3,HART09
    2793 0000f120                   WL      3,HART10
    2794 0000f150                   WL      3,HART11
    2795 0000f180                   WL      3,HART12
    2796 0000f1b0                   WL      3,HART13
    2797 0000f1e0                   WL      3,HART14
    2798 0000f210                   WL      3,HART15
    2799 0000f240     8003          .word   ASP_REPEAT
    2800                    
    2801                    
    2802 0000f250           glasses_anim
    2803 0000f250                   WL      3,BGLAS01
    2804 0000f280                   WL      3,BGLAS02
    2805 0000f2b0                   WL      3,BGLAS03
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   66

    2806 0000f2e0                   WL      3,BGLAS04
    2807 0000f310                   WL      3,BGLAS05
    2808 0000f340                   WL      3,BGLAS06
    2809 0000f370                   WL      3,BGLAS07
    2810 0000f3a0                   WL      3,BGLAS08
    2811 0000f3d0                   WL      3,BGLAS09
    2812 0000f400                   WL      3,BGLAS10
    2813 0000f430                   WL      3,BGLAS11
    2814 0000f460                   WL      3,BGLAS12
    2815 0000f490                   WL      3,BGLAS13
    2816 0000f4c0                   WL      3,BGLAS14
    2817 0000f4f0                   WL      3,BGLAS15
    2818 0000f520     8003          .word   ASP_REPEAT
    2819 0000f530           glasses1_anim
    2820 0000f530                   WL      4,BGLAS01
    2821 0000f560                   WL      4,BGLAS02
    2822 0000f590                   WL      4,BGLAS03
    2823 0000f5c0                   WL      4,BGLAS04
    2824 0000f5f0                   WL      4,BGLAS05
    2825 0000f620                   WL      4,BGLAS06
    2826 0000f650                   WL      4,BGLAS07
    2827 0000f680                   WL      4,BGLAS08
    2828 0000f6b0                   WL      4,BGLAS09
    2829 0000f6e0                   WL      4,BGLAS10
    2830 0000f710                   WL      4,BGLAS11
    2831 0000f740                   WL      4,BGLAS12
    2832 0000f770                   WL      4,BGLAS13
    2833 0000f7a0                   WL      4,BGLAS14
    2834 0000f7d0                   WL      4,BGLAS15
    2835 0000f800     8003          .word   ASP_REPEAT
    2836                    
    2837 0000f810           glasses2_anim
    2838 0000f810                   WL      2,BGLAS05
    2839 0000f840                   WL      2,BGLAS06
    2840 0000f870                   WL      2,BGLAS07
    2841 0000f8a0                   WL      2,BGLAS08
    2842 0000f8d0                   WL      2,BGLAS09
    2843 0000f900                   WL      2,BGLAS10
    2844 0000f930                   WL      2,BGLAS11
    2845 0000f960                   WL      2,BGLAS12
    2846 0000f990                   WL      2,BGLAS13
    2847 0000f9c0                   WL      2,BGLAS14
    2848 0000f9f0                   WL      2,BGLAS15
    2849 0000fa20                   WL      2,BGLAS01
    2850 0000fa50                   WL      2,BGLAS02
    2851 0000fa80                   WL      2,BGLAS03
    2852 0000fab0                   WL      2,BGLAS04
    2853 0000fae0     8003          .word   ASP_REPEAT
    2854                    
    2855 0000faf0           tombbit_anim
    2856 0000faf0                   WL      4,TPIE01
    2857 0000fb20                   WL      4,TPIE02
    2858 0000fb50                   WL      4,TPIE03
    2859 0000fb80                   WL      4,TPIE04
    2860 0000fbb0                   WL      4,TPIE05
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   67

    2861 0000fbe0                   WL      4,TPIE06
    2862 0000fc10                   WL      4,TPIE07
    2863 0000fc40                   WL      4,TPIE08
    2864 0000fc70     8003          .word   ASP_REPEAT
    2865                    
    2866 0000fc80           flame_splat_anim
    2867 0000fc80                   WL      4,BLDHIT1
    2868 0000fcb0                   WL      4,BLDHIT2
    2869 0000fce0                   WL      4,BLDHIT3
    2870 0000fd10                   WL      4,BLDHIT4
    2871 0000fd40     8002          .word   ASP_DIE
    2872 0000fd50                   WL      8,FLAMEA08
    2873 0000fd80                   WL      8,FLAMEA09
    2874 0000fdb0                   WL      8,FLAMEA10
    2875 0000fde0     8002          .word   ASP_DIE
    2876                    
    2877                    
    2878                    
    2879 0000fdf0           jrklmisc_anims
    2880 0000fdf0 0000fe50'         .long   ball_anim
    2881 0000fe10 000102f0'         .long   flame_anim
    2882 0000fe30 00010450'         .long   fireball_anim
    2883                    
    2884 0000fe50           ball_anim
    2885 0000fe50                   WL      3,BALL01
    2886 0000fe80                   WL      3,BALL02
    2887 0000feb0                   WL      3,BALL03
    2888 0000fee0                   WL      3,BALL04
    2889 0000ff10                   WL      3,BALL05
    2890 0000ff40                   WL      3,BALL06
    2891 0000ff70                   WL      3,BALL07
    2892 0000ffa0                   WL      3,BALL08
    2893 0000ffd0                   WL      3,BALL09
    2894 00010000                   WL      3,BALL10
    2895 00010030                   WL      3,BALL11
    2896 00010060                   WL      3,BALL12
    2897 00010090                   WL      3,BALL13
    2898 000100c0                   WL      3,BALL14
    2899 000100f0                   WL      3,BALL15
    2900 00010120     8003          .word   ASP_REPEAT
    2901                    
    2902 00010130           ex_anima1       ;0
    2903 00010130                   WL      4,XPLODA01
    2904 00010160                   WL      4,XPLODA03
    2905 00010190                   WL      4,XPLODA04
    2906 000101c0                   WL      4,XPLODA05
    2907 000101f0                   WL      4,XPLODA06
    2908 00010220                   WL      4,XPLODA07
    2909 00010250                   WL      4,XPLODA08
    2910 00010280                   WL      4,XPLODA09
    2911 000102b0                   WL      4,XPLODA10
    2912 000102e0     8002          .word   ASP_DIE
    2913                    
    2914 000102f0           flame_anim
    2915 000102f0                   WL      8,FLAMEA01
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   68

    2916 00010320                   WL      8,FLAMEA02
    2917 00010350                   WL      8,FLAMEA03
    2918 00010380                   WL      8,FLAMEA04
    2919 000103b0                   WL      8,FLAMEA05
    2920 000103e0                   WL      8,FLAMEA06
    2921 00010410                   WL      8,FLAMEA07
    2922 00010440     8003          .word   ASP_REPEAT
    2923                    
    2924                    
    2925 00010450           fireball_anim
    2926                    
    2927 00010450     8005          .word   ASP_COLLBOX,-10,20,-8,16,-10,20 ;xoff,width,yoff,height,zoff,depth
    2928 000104c0           jrkllp
    2929 000104c0                   WL      4,FIREBALL1
    2930 000104f0                   WL      4,FIREBALL2
    2931 00010520                   WL      4,FIREBALL3
    2932 00010550                   WL      4,FIREBALL4
    2933 00010580                   WL      4,FIREBALL5
    2934 000105b0                   WL      4,FIREBALL6
    2935 000105e0                   WL      ASP_GOTO,jrkllp
    2936                    
    2937 00010610           spirit_anim
    2938                    
    2939 00010610     8005          .word   ASP_COLLBOX,0,10,-8,16,-10,20   ;xoff,width,yoff,height,zoff,depth
    2940 00010680           jrkllp2
    2941 00010680                   WL      3,GHOST01
    2942 000106b0                   WL      3,GHOST02
    2943 000106e0                   WL      3,GHOST03
    2944 00010710                   WL      3,GHOST04
    2945 00010740                   WL      3,GHOST05
    2946 00010770                   WL      ASP_GOTO,jrkllp2
    2947                    
    2948                    
    2949 000107a0           salt_grow
    2950                    
    2951 000107a0     8005          .word   ASP_COLLBOX,0,10,-8,16,-1000,20 ;xoff,width,yoff,height,zoff,depth
    2952 00010810                   WL      1,SALT01
    2953 00010840                   WL      ASP_CODE,jrklset_xv
    2954 00010870           salt_anim
    2955 00010870     8005          .word   ASP_COLLBOX,0,10,-8,16,-40,80   ;xoff,width,yoff,height,zoff,depth
    2956 000108e0                   WL      20,SALT01
    2957 00010910     8006          .word   ASP_ZEROVELS
    2958 00010920                   WL      ASP_SET_GRAV,0h
    2959                    ;Turn collisions off
    2960 00010950     8005          .word   ASP_COLLBOX,0,10,-8,16,-1000,20 ;xoff,width,yoff,height,zoff,depth
    2961 000109c0                   WL      4,SALT02
    2962 000109f0                   WL      4,SALT03
    2963 00010a20                   WL      4,SALT04
    2964 00010a50                   WL      4,SALT05
    2965 00010a80                   WL      4,SALT06
    2966 00010ab0                   WL      4,SALT07
    2967 00010ae0                   WL      4,SALT08
    2968 00010b10                   WL      4,SALT09
    2969 00010b40     8002          .word   ASP_DIE
    2970                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   69

    2971                    
    2972                    
    2973 00010b50           reaper_grow
    2974                    
    2975 00010b50     8005          .word   ASP_COLLBOX,0,10,-8,16,-1000,20 ;xoff,width,yoff,height,zoff,depth
    2976 00010bc0                   WL      1,RPR01
    2977 00010bf0                   WL      1,RPR02
    2978 00010c20                   WL      1,RPR03
    2979 00010c50                   WL      1,RPR04
    2980 00010c80                   WL      1,RPR05
    2981 00010cb0                   WL      ASP_CODE,jrklset_xv
    2982 00010ce0           reaper_anim
    2983 00010ce0                   WL      3,REPRFL01
    2984 00010d10                   WL      3,REPRFL02
    2985 00010d40     8005          .word   ASP_COLLBOX,0,10,-8,16,-10,20   ;xoff,width,yoff,height,zoff,depth
    2986 00010db0           jrkllp3
    2987 00010db0                   WL      3,REPRFL03
    2988 00010de0                   WL      3,REPRFL04
    2989 00010e10                   WL      3,REPRFL05
    2990 00010e40                   WL      3,REPRFL06
    2991 00010e70                   WL      3,REPRFL07
    2992 00010ea0                   WL      3,REPRFL08
    2993 00010ed0                   WL      3,REPRFL01
    2994 00010f00                   WL      3,REPRFL02
    2995 00010f30                   WL      ASP_GOTO,jrkllp3
    2996 00010f60           jrklset_xv
    2997 00010f60     09e0          movi    [7,0],a0                ;x-vel
         00010f70 00070000  
    2998 00010f90     b5ae          move    *a13(SP_OBJCONTROL),a14
         00010fa0     0180  
    2999 00010fb0     1f6e          btst    B_FLIPH,a14
    3000 00010fc0     ca01          jrz     jrklno_flip
    3001 00010fd0     03a0          neg     a0
    3002 00010fe0           jrklno_flip
    3003 00010fe0     b20d          move    a0,*a13(SP_OBJ_XVEL),L
         00010ff0     03a0  
    3004 00011000     0960          rets
    3005                    
    3006 00011010            SUBR   spiritsplat_anim
    3007                    
    3008 00011010     8006          .word   ASP_ZEROVELS
    3009 00011020                   WL      3,GHOHIT01
    3010 00011050                   WL      3,GHOHIT02
    3011 00011080                   WL      3,GHOHIT03
    3012 000110b0                   WL      3,GHOHIT04
    3013 000110e0                   WL      3,GHOHIT05
    3014 00011110                   WL      3,GHOHIT06
    3015 00011140                   WL      3,GHOHIT07
    3016 00011170                   WL      3,GHOHIT08
    3017 000111a0                   WL      3,GHOHIT09
    3018 000111d0                   WL      3,GHOHIT10
    3019 00011200                   WL      3,GHOHIT11
    3020 00011230                   WL      3,GHOHIT12
    3021 00011260                   WL      3,GHOHIT13
    3022 00011290                   WL      3,GHOHIT14
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   70

    3023 000112c0                   WL      3,GHOHIT15
    3024 000112f0                   WL      3,GHOHIT16
    3025 00011320     8002          .word   ASP_DIE
    3026                    
    3027 00011330            SUBR   reapersplat_anim
    3028                    
    3029 00011330     8006          .word   ASP_ZEROVELS
    3030 00011340                   WL      3,REPRMS01
    3031 00011370                   WL      3,REPRMS02
    3032 000113a0                   WL      3,REPRMS03
    3033 000113d0                   WL      3,REPRMS04
    3034 00011400                   WL      3,REPRMS05
    3035 00011430                   WL      3,REPRMS06
    3036 00011460                   WL      3,REPRMS07
    3037 00011490     8002          .word   ASP_DIE
    3038                    
    3039                    
    3040 000114a0            SUBR   firesplat_anim
    3041                    
    3042 000114a0     8006          .word   ASP_ZEROVELS
    3043 000114b0                   WL      4,CLOBHIT01
    3044 000114e0                   WL      4,CLOBHIT02
    3045 00011510                   WL      4,CLOBHIT03
    3046 00011540                   WL      4,CLOBHIT04
    3047 00011570     8002          .word   ASP_DIE
    3048                    
    3049 00011580            SUBR   saltsplat_anim
    3050                    
    3051                    ;       .word   ASP_ZEROVELS
    3052 00011580                   WL      ASP_SET_GRAV,0h
    3053                    ;Turn collisions off
    3054 000115b0     8005          .word   ASP_COLLBOX,0,10,-8,16,-1000,20 ;xoff,width,yoff,height,zoff,depth
    3055 00011620                   WL      4,SALT02
    3056 00011650                   WL      4,SALT03
    3057 00011680                   WL      2,SALT04
    3058 000116b0                   WL      ASP_CODE,jrkladjust_vels
    3059                    ;       .word   ASP_ZEROVELS
    3060                    ;       WL      ASP_ADD_YVEL,-20000h
    3061 000116e0                   WL      2,SALT04
    3062 00011710                   WL      3,SALT05
    3063 00011740                   WL      ASP_CODE,jrkladjust_vels
    3064 00011770                   WL      ASP_ADD_YVEL,-20000h
    3065 000117a0                   WL      3,SALT06
    3066 000117d0                   WL      3,SALT07
    3067 00011800     8006          .word   ASP_ZEROVELS
    3068 00011810                   WL      ASP_ADD_YVEL,-20000h
    3069 00011840                   WL      3,SALT08
    3070 00011870                   WL      3,SALT09
    3071 000118a0     8002          .word   ASP_DIE
    3072                    
    3073 000118b0           jrkladjust_vels
    3074 000118b0     b7a0          move    *a13(SP_OBJ_XVEL),a0,L
         000118c0     03a0  
    3075 000118d0     2be0          sra     1,a0
    3076 000118e0     b20d          move    a0,*a13(SP_OBJ_XVEL),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   71

         000118f0     03a0  
    3077 00011900     09e0          movi    -20000h,a0
         00011910 fffe0000  
    3078 00011930     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         00011940     03c0  
    3079 00011950     5600          clr     a0
    3080 00011960     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00011970     03e0  
    3081 00011980     0960          rets
    3082                    
    3083                    
    3084                    ********
    3085                    
    3086 00011990           pie_anim
    3087                    
    3088 00011990     8005          .word   ASP_COLLBOX,-10,20,-8,16,-10,20 ;xoff,width,yoff,height,zoff,depth
    3089 00011a00           colplp
    3090                    ;;;     WL      99,PIE03
    3091                    
    3092 00011a00                   WL      4,BGBAT01
    3093 00011a30                   WL      4,BGBAT02
    3094 00011a60                   WL      4,BGBAT03
    3095 00011a90                   WL      4,BGBAT04
    3096 00011ac0                   WL      4,BGBAT05
    3097 00011af0                   WL      ASP_GOTO,colplp
    3098                    
    3099                    
    3100 00011b20            SUBR   piesplat_anim
    3101                    
    3102 00011b20     8006          .word   ASP_ZEROVELS
    3103 00011b30                   WL      4,PIE05
    3104 00011b60                   WL      4,PIE06
    3105 00011b90                   WL      4,PIE07
    3106 00011bc0                   WL      4,PIE08
    3107 00011bf0     8002          .word   ASP_DIE
    3108                    
    3109                    ********
    3110                    
    3111 00011c00           pin_animC1
    3112 00011c00                   WL      1,PIN15
    3113 00011c30                   WL      1,PIN14
    3114 00011c60                   WL      1,PIN13
    3115 00011c90                   WL      1,PIN12
    3116 00011cc0                   WL      1,PIN11
    3117 00011cf0                   WL      1,PIN10
    3118 00011d20                   WL      1,PIN09
    3119 00011d50                   WL      1,PIN08
    3120 00011d80                   WL      1,PIN07
    3121 00011db0                   WL      1,PIN06
    3122 00011de0                   WL      1,PIN05
    3123 00011e10                   WL      1,PIN04
    3124 00011e40                   WL      1,PIN03
    3125 00011e70                   WL      1,PIN02
    3126 00011ea0                   WL      1,PIN01
    3127 00011ed0     8003          .word   ASP_REPEAT
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   72

    3128                    
    3129 00011ee0           pin_animC2
    3130 00011ee0                   WL      2,PIN15
    3131 00011f10                   WL      2,PIN14
    3132 00011f40                   WL      2,PIN13
    3133 00011f70                   WL      2,PIN12
    3134 00011fa0                   WL      2,PIN11
    3135 00011fd0                   WL      2,PIN10
    3136 00012000                   WL      2,PIN09
    3137 00012030                   WL      2,PIN08
    3138 00012060                   WL      2,PIN07
    3139 00012090                   WL      2,PIN06
    3140 000120c0                   WL      2,PIN05
    3141 000120f0                   WL      2,PIN04
    3142 00012120                   WL      2,PIN03
    3143 00012150                   WL      2,PIN02
    3144 00012180                   WL      2,PIN01
    3145 000121b0     8003          .word   ASP_REPEAT
    3146                    
    3147 000121c0           pin_animC3
    3148 000121c0                   WL      3,PIN15
    3149 000121f0                   WL      3,PIN14
    3150 00012220                   WL      3,PIN13
    3151 00012250                   WL      3,PIN12
    3152 00012280                   WL      3,PIN11
    3153 000122b0                   WL      3,PIN10
    3154 000122e0                   WL      3,PIN09
    3155 00012310                   WL      3,PIN08
    3156 00012340                   WL      3,PIN07
    3157 00012370                   WL      3,PIN06
    3158 000123a0                   WL      3,PIN05
    3159 000123d0                   WL      3,PIN04
    3160 00012400                   WL      3,PIN03
    3161 00012430                   WL      3,PIN02
    3162 00012460                   WL      3,PIN01
    3163 00012490     8003          .word   ASP_REPEAT
    3164                    
    3165 000124a0           pin_animA1
    3166 000124a0                   WL      1,PIN01
    3167 000124d0                   WL      1,PIN02
    3168 00012500                   WL      1,PIN03
    3169 00012530                   WL      1,PIN04
    3170 00012560                   WL      1,PIN05
    3171 00012590                   WL      1,PIN06
    3172 000125c0                   WL      1,PIN07
    3173 000125f0                   WL      1,PIN08
    3174 00012620                   WL      1,PIN09
    3175 00012650                   WL      1,PIN10
    3176 00012680                   WL      1,PIN11
    3177 000126b0                   WL      1,PIN12
    3178 000126e0                   WL      1,PIN13
    3179 00012710                   WL      1,PIN14
    3180 00012740                   WL      1,PIN15
    3181 00012770     8003          .word   ASP_REPEAT
    3182                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   73

    3183 00012780           pin_animA2
    3184 00012780                   WL      2,PIN01
    3185 000127b0                   WL      2,PIN02
    3186 000127e0                   WL      2,PIN03
    3187 00012810                   WL      2,PIN04
    3188 00012840                   WL      2,PIN05
    3189 00012870                   WL      2,PIN06
    3190 000128a0                   WL      2,PIN07
    3191 000128d0                   WL      2,PIN08
    3192 00012900                   WL      2,PIN09
    3193 00012930                   WL      2,PIN10
    3194 00012960                   WL      2,PIN11
    3195 00012990                   WL      2,PIN12
    3196 000129c0                   WL      2,PIN13
    3197 000129f0                   WL      2,PIN14
    3198 00012a20                   WL      2,PIN15
    3199 00012a50     8003          .word   ASP_REPEAT
    3200                    
    3201 00012a60           pin_animA3
    3202 00012a60                   WL      3,PIN01
    3203 00012a90                   WL      3,PIN02
    3204 00012ac0                   WL      3,PIN03
    3205 00012af0                   WL      3,PIN04
    3206 00012b20                   WL      3,PIN05
    3207 00012b50                   WL      3,PIN06
    3208 00012b80                   WL      3,PIN07
    3209 00012bb0                   WL      3,PIN08
    3210 00012be0                   WL      3,PIN09
    3211 00012c10                   WL      3,PIN10
    3212 00012c40                   WL      3,PIN11
    3213 00012c70                   WL      3,PIN12
    3214 00012ca0                   WL      3,PIN13
    3215 00012cd0                   WL      3,PIN14
    3216 00012d00                   WL      3,PIN15
    3217 00012d30     8003          .word   ASP_REPEAT
    3218                    
    3219                    
    3220                    *****************************************************************************
    3221                    *
    3222                    * args:
    3223                    *       a0 = X-VEL (LONG)
    3224                    *       a1 = Y-VEL (LONG)
    3225                    *
    3226                    * ret:
    3227                    *       a0 = angle 0=0d(U) 9=45d(UR) 18=90d(R) 27=135d(DR) 36=180d(D)
    3228                    *
    3229                    
    3230 00012d40            SUBR   calc_veldir
    3231                    
    3232 00012d40     0380          abs     a0
    3233                    
    3234 00012d50     4c2e          move    a1,a14
    3235 00012d60     038e          abs     a14
    3236 00012d70     540e          or      a0,a14
    3237 00012d80     ca1f          jrz     atnjdone
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   74

    3238                    
    3239 00012d90     09e2          movi    atnjposx_posy,a2
         00012da0 00012f90' 
    3240                    
    3241 00012dc0     4c21          move    a1,a1           ;y-vel
    3242 00012dd0     c103          jrp     atnjpos_yvel
    3243                    
    3244 00012de0     09e2          movi    atnjposx_negy,a2
         00012df0 00013390' 
    3245                    
    3246 00012e10           atnjpos_yvel
    3247 00012e10     0381          abs     a1
    3248                    
    3249 00012e20     4dc3          move    a14,a3          ;x+y vel < 8 ?
    3250 00012e30     2da3          srl     16+3,a3
    3251 00012e40     ca05          jrz     atnjnot_max
    3252                    
    3253 00012e50           atnjovr
    3254 00012e50     2fe0          srl     1,a0
    3255 00012e60     2fe1          srl     1,a1
    3256 00012e70     2fe3          srl     1,a3
    3257 00012e80     cbfc          jrnz    atnjovr         ;< 8 now?
    3258 00012e90     c007          jruc    atnjrange_ok
    3259                    
    3260 00012ea0           atnjnot_max
    3261 00012ea0     1dae          btst    18,a14          ;bit 2 of int set (=4) ?
    3262 00012eb0     cb05          jrnz    atnjrange_ok
    3263                    
    3264 00012ec0           atnjundr
    3265 00012ec0     2420          sll     1,a0
    3266 00012ed0     2421          sll     1,a1
    3267 00012ee0     242e          sll     1,a14
    3268 00012ef0     1dae          btst    18,a14          ;bit 2 of int set (=4) ?
    3269 00012f00     cafb          jrz     atnjundr
    3270                    
    3271                    
    3272 00012f10           atnjrange_ok
    3273                    ;;      addi    08000h,a0       ;round up
    3274 00012f10     2e00          srl     16,a0   ;x
    3275                    
    3276                    ;;      addi    08000h,a1       ;round up
    3277 00012f20     2e01          srl     16,a1   ;y
    3278                    
    3279                    ;atnjagain
    3280                    ;       cmpi    8,a0            ;do this before losing fractional
    3281                    ;       jrge    atnjtohi
    3282                    ;       cmpi    8,a1
    3283                    ;       jrlt    atnjok1
    3284                    ;
    3285                    ;atnjtohi
    3286                    ;       srl     1,a0
    3287                    ;       srl     1,a1
    3288                    ;       jruc    atnjagain
    3289                    ;atnjok1
    3290                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   75

    3291 00012f30                   X8      a1      ;y*8
    3292 00012f40     4020          add     a1,a0   ;+x
    3293 00012f50                   X16     a0      ;16 bit word
    3294 00012f60     4040          add     a2,a0
    3295 00012f70     8400          move    *a0,a0
    3296                    
    3297 00012f80           atnjdone
    3298 00012f80     0960          rets
    3299                    
    3300 00012f90           atnjposx_posy
    3301                    ;X              0  1  2  3  4  5  6  7
    3302                    
    3303 00012f90     0012          .word   18,18,18,18,18,18,18,18 ;0
    3304                    
    3305 00013010     000d          .word   13,09,13,14,15,16,16,16 ;1
    3306                    
    3307 00013090     0009          .word   09,05,09,11,13,14,14,15 ;2
    3308                    
    3309 00013110     0004          .word   04,04,07,09,11,12,13,13 ;3
    3310                    
    3311 00013190     0000          .word   00,03,05,07,09,10,11,12 ;4
    3312                    
    3313 00013210     0000          .word   00,02,04,06,08,09,10,11 ;5
    3314                    
    3315 00013290     0000          .word   00,02,04,06,07,08,09,10 ;6
    3316                    
    3317 00013310     0000          .word   00,02,03,05,06,07,08,09 ;7      Y
    3318                    
    3319                    
    3320 00013390           atnjposx_negy
    3321                    ;X              0  1  2  3  4  5  6  7
    3322                    
    3323 00013390     0012          .word   18,18,18,18,18,18,18,18 ; 0
    3324                    
    3325 00013410     0017          .word   23,27,23,22,21,20,20,20 ;-1
    3326                    
    3327 00013490     001c          .word   28,31,27,25,23,22,22,21 ;-2
    3328                    
    3329 00013510     0021          .word   33,32,29,27,25,24,23,23 ;-3
    3330                    
    3331 00013590     0024          .word   36,33,31,29,27,26,25,24 ;-4
    3332                    
    3333 00013610     0024          .word   36,34,32,30,28,27,26,25 ;-5
    3334                    
    3335 00013690     0024          .word   36,34,32,31,29,28,27,26 ;-6
    3336                    
    3337 00013710     0024          .word   36,34,33,31,30,29,28,27 ;-7     Y
    3338                    
    3339                    
    3340                    *****************************************************************************
    3341                    
    3342 00013790           flame_table_A
    3343                    
    3344 00013790 00000000!         .long   BLOOD01                 ;0      (  0d UP)
    3345 000137b0 00000000!         .long   BLOOD01         ;1      (  5d)
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   76

    3346 000137d0 00000000!         .long   BLOOD01         ;2      ( 10d)
    3347 000137f0 00000000!         .long   BLOOD01         ;3      ( 15d)
    3348 00013810 00000000!         .long   BLOOD02         ;4      ( 20d)
    3349 00013830 00000000!         .long   BLOOD02         ;5      ( 25d)
    3350 00013850 00000000!         .long   BLOOD02         ;6      ( 30d)
    3351 00013870 00000000!         .long   BLOOD03         ;7      ( 35d)
    3352 00013890 00000000!         .long   BLOOD03         ;8      ( 40d)
    3353 000138b0 00000000!         .long   BLOOD03         ;9      ( 45d UP-RIGHT)
    3354 000138d0 00000000!         .long   BLOOD03         ;10     ( 50d)
    3355 000138f0 00000000!         .long   BLOOD04         ;11     ( 55d)
    3356 00013910 00000000!         .long   BLOOD04         ;12     ( 60d)
    3357 00013930 00000000!         .long   BLOOD04         ;13     ( 65d)
    3358 00013950 00000000!         .long   BLOOD05         ;14     ( 70d)
    3359 00013970 00000000!         .long   BLOOD05         ;15     ( 75d)
    3360 00013990 00000000!         .long   BLOOD05         ;16     ( 80d)
    3361 000139b0 00000000!         .long   BLOOD06         ;17     ( 85d)
    3362 000139d0 00000000!         .long   BLOOD06         ;18     ( 90d RIGHT)
    3363                    
    3364 000139f0 00000000!         .long   BLOOD06         ;19     (95d)
    3365 00013a10 00000000!         .long   BLOOD06         ;20     (100d)
    3366 00013a30 00000000!         .long   BLOOD07         ;21     (105d)
    3367 00013a50 00000000!         .long   BLOOD07         ;22     (110d)
    3368 00013a70 00000000!         .long   BLOOD07         ;23     (115d)
    3369 00013a90 00000000!         .long   BLOOD08         ;24     (120d)
    3370 00013ab0 00000000!         .long   BLOOD08         ;25     (125d)
    3371 00013ad0 00000000!         .long   BLOOD08         ;26     (130d)
    3372 00013af0 00000000!         .long   BLOOD08         ;27     (135d DOWN-RIGHT)
    3373 00013b10 00000000!         .long   BLOOD09         ;28     (140d)
    3374 00013b30 00000000!         .long   BLOOD09         ;29     (145d)
    3375 00013b50 00000000!         .long   BLOOD09         ;30     (150d)
    3376 00013b70 00000000!         .long   BLOOD10         ;31     (155d)
    3377 00013b90 00000000!         .long   BLOOD10         ;32     (160d)
    3378 00013bb0 00000000!         .long   BLOOD10         ;33     (165d)
    3379 00013bd0 00000000!         .long   BLOOD11         ;34     (170d)
    3380 00013bf0 00000000!         .long   BLOOD11         ;35     (175d)
    3381 00013c10 00000000!         .long   BLOOD11         ;36     (180d DOWN)
    3382                    
    3383                    *****************************************************************************
    3384                    
    3385 00013c30                   STRUCT  0
    3386                    
    3387 00013c30                   WORD    DB_LOOP
    3388 00013c30                   WORD    DB_COUNT
    3389 00013c30                   WORD    DB_SLEEP
    3390                    
    3391 00013c30                   WORD    DB_RXOFF
    3392 00013c30                   WORD    DB_RYOFF
    3393 00013c30                   WORD    DB_RZOFF
    3394                    
    3395 00013c30                   LONG    DB_XVEL
    3396 00013c30                   LONG    DB_YVEL
    3397 00013c30                   LONG    DB_ZVEL
    3398                    
    3399 00013c30                   LONG    DB_RXVEL
    3400 00013c30                   LONG    DB_RYVEL
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   77

    3401 00013c30                   LONG    DB_RZVEL
    3402                    
    3403 00013c30                   LONG    DB_GRAVITY
    3404                    
    3405 00013c30                   WORD    DB_LIFESPAN
    3406 00013c30                   WORD    DB_RLIFESPAN
    3407                    
    3408                    
    3409 00013c30                   STRUCTPD
    3410 00013c30                   WORD    chnfANIM
    3411                    
    3412                    ; a8 = * arguments
    3413                    ; a11 = * wrestler proc
    3414                    
    3415 00013c30            SUBR   react_debris
    3416                    
    3417                    
    3418 00013c30     b500          move    *a8(0),a0               ;%chance of generating debris
         00013c40     0000  
    3419 00013c50     0d5f          calla   RNDPER
         00013c60 00000000! 
    3420 00013c80     c270          jrls    chnfdie
    3421                    
    3422                            ;if there's too much debris already, don't do anything.
    3423 00013c90     05ae          move    @debris_count,a14
         00013ca0 00000770- 
    3424 00013cc0     0b4e          cmpi    DEBRIS_MAX,a14
         00013cd0     ffe1  
    3425 00013ce0     c56a          jrge    chnfdie
    3426                    
    3427                            ;increment global debris count
    3428 00013cf0     05ae          move    @debris_count,a14
         00013d00 00000770- 
    3429 00013d20     102e          inc     a14
    3430 00013d30     058e          move    a14,@debris_count
         00013d40 00000770- 
    3431                    
    3432 00013d60     b56a          move    *a11(WRESTLERNUM),a10           ;table index
         00013d70     0590  
    3433 00013d80     24aa          SLL     5,A10
    3434 00013d90     0b2a          ADDI    WHICH_DEBRIS_SOUND,A10,L
         00013da0 000143c0' 
    3435 00013dc0     874a          MOVE    *A10,A10,L
    3436 00013dd0     9540          MOVE    *A10+,A0
    3437 00013de0     ca0a          JRZ     NO_SOUND_AT_ALL
    3438 00013df0     0d5f          CALLA   RNDRNG0
         00013e00 00000000! 
    3439 00013e20           DONT_WORRY_ABOUT_RANDOM
    3440 00013e20     2480          SLL     4,A0
    3441 00013e30     400a          ADD     A0,A10
    3442 00013e40     8540          MOVE    *A10,A0
    3443 00013e50     ca03          JRZ     NO_SOUND_AT_ALL
    3444 00013e60     0d5f          CALLA   triple_sound
         00013e70 00000000! 
    3445 00013e90           NO_SOUND_AT_ALL
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   78

    3446                    
    3447 00013e90     b50a          move    *a8(010h),a10           ;table index
         00013ea0     0010  
    3448 00013eb0                   X32     a10
    3449 00013ec0     0b2a          addi    chnfdebris_table,a10
         00013ed0 00014680' 
    3450 00013ef0     874a          move    *a10,a10,L
    3451                    
    3452 00013f00     0b08          addi    20h,a8                  ;* x,y,z off
         00013f10     0020  
    3453                    
    3454 00013f20     b549          move    *a10(DB_LOOP),a9        ;loop count
         00013f30     0000  
    3455 00013f40           chnflp1
    3456 00013f40     b540          move    *a10(DB_COUNT),a0       ;# per loop
         00013f50     0010  
    3457 00013f60           chnflp2
    3458                    
    3459 00013f60                   PUSH    a0
    3460 00013f70     09c0          movi    7,a0
         00013f80     0007  
    3461 00013f90     0d5f          calla   RNDRNG0
         00013fa0 00000000! 
    3462 00013fc0                   X32     a0
    3463                    
    3464 00013fd0     b56e          move    *a11(WRESTLERNUM),a14
         00013fe0     0590  
    3465 00013ff0     0b4e          cmpi    2,a14
         00014000     fffd  
    3466 00014010     cb11          jrnz    chnfnot_und
    3467 00014020     b761          move    *a11(ANIBASE),a1,L
         00014030     0670  
    3468                            .ref    und_4_pin2_anim
    3469 00014040     0b61          cmpi    und_4_pin2_anim,a1
         00014050 ffffffff! 
    3470 00014070     cb0b          jrnz    chnfnot_und
    3471 00014080     098f          mmtm    sp,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a14
         00014090     7fe2  
    3472 000140a0     09c0          movi    0cfh,a0                 ;bat sound
         000140b0     00cf  
    3473 000140c0     0d5f          calla   triple_sound
         000140d0 00000000! 
    3474 000140f0     09af          mmfm    sp,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a14
         00014100     47fe  
    3475 00014110     09c0          movi    8*32,a0
         00014120     0100  
    3476                    
    3477 00014130           chnfnot_und
    3478 00014130                   X32     a14
    3479 00014140     0b2e          addi    debris_anims,a14
         00014150 000160b0' 
    3480 00014170     87ce          move    *a14,a14,L
    3481 00014180     41c0          add     a14,a0
    3482 00014190     ba0d          move    *a0(0),*a13(chnfANIM),L
         000141a0     0000  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   79

         000141b0     0100  
    3483                    
    3484 000141c0                   CREATE  DEBRIS_PID,react_debris2
    3485                    
    3486 00014240     bba0          move    *a13(chnfANIM),*a0(SP_ANIMPTR),L        ;&anim
         00014250     0100  
         00014260     0400  
    3487 00014270                   PULL    a0
    3488 00014280     0d80          dsj     a0,chnflp2
         00014290     ffcc  
    3489                    
    3490 000142a0     b540          move    *a10(DB_SLEEP),a0       ;sleep cnt
         000142b0     0020  
    3491 000142c0     ca03          jrz     chnfskp
    3492 000142d0     0d5f          calla   PRCSLP
         000142e0 00000000! 
    3493 00014300           chnfskp
    3494 00014300     0d89          dsj     a9,chnflp1
         00014310     ffc2  
    3495                    
    3496 00014320           chnfexit
    3497                            ;decrement global debris count
    3498 00014320     05ae          move    @debris_count,a14
         00014330 00000770- 
    3499 00014350     142e          dec     a14
    3500 00014360     058e          move    a14,@debris_count
         00014370 00000770- 
    3501                    
    3502 00014390           chnfdie DIE
    3503                    
    3504 000143c0           WHICH_DEBRIS_SOUND
    3505 000143c0 00014530'         .long   BRET_DEBRIS
    3506 000143e0 00014650'         .long   RAZOR_DEBRIS
    3507 00014400 000145f0'         .long   TAKER_DEBRIS
    3508 00014420 000144e0'         .long   YOKO_DEBRIS
    3509 00014440 00014530'         .long   SHAWN_DEBRIS
    3510 00014460 00014560'         .long   BAM_DEBRIS
    3511 00014480 000145c0'         .long   DOINK_DEBRIS
    3512 000144a0 00000000          .long   0
    3513 000144c0 00014650'         .long   LEX_DEBRIS
    3514                    
    3515                    ;BRET_DEBRIS
    3516                    ;       .WORD   0
    3517 000144e0           YOKO_DEBRIS
    3518 000144e0     0003          .WORD   3,0d9h,0dah,0dbh,0dch
    3519 00014530           BRET_DEBRIS
    3520 00014530           SHAWN_DEBRIS
    3521 00014530     0001          .WORD   1,0d7h,0d8h
    3522 00014560           BAM_DEBRIS
    3523 00014560     0004          .WORD   4,09dh,09eh,09fh,0a0h,0a1h
    3524 000145c0           DOINK_DEBRIS
    3525 000145c0     0001          .WORD   1,04EH,04FH
    3526 000145f0           TAKER_DEBRIS
    3527 000145f0     0004          .WORD   4,09dh,09eh,09fh,0a0h,0a1h
    3528 00014650           LEX_DEBRIS
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   80

    3529 00014650           RAZOR_DEBRIS
    3530 00014650     0001          .WORD   1,0cdh,0c6h
    3531                    
    3532 00014680           chnfdebris_table
    3533 00014680 00014780'         .long   chnfdb0
    3534 000146a0 000148e0'         .long   chnfdb1
    3535 000146c0 00014a40'         .long   chnfdb2
    3536 000146e0 00014ba0'         .long   chnfdb3
    3537 00014700 00014d00'         .long   chnfdb4
    3538 00014720 00014e60'         .long   chnfdb5
    3539 00014740 00014fc0'         .long   chnfdb6
    3540 00014760 00015120'         .long   chnfdb7
    3541                    
    3542                    
    3543 00014780           chnfdb0 ;standing - hit to body 1
    3544 00014780     0003          .word   3,1,2                           ;loop count, # per loop, sleep cnt
    3545 000147b0     0000          .word   0,20,0                          ;random +/- x,y,z pos offs
    3546 000147e0 fffe0000          .long   -020000h,050000h, 000000h       ;initial x,y,z vel
    3547 00014840 00018000          .long   018000h, 010000h, 010000h       ;random +/- x,y,z vel
    3548 000148a0 00008000          .long   GRAVITY                         ;gravity value
    3549 000148c0     003c          .word   60,5                            ;lifespan, +/- rand
    3550                    
    3551 000148e0           chnfdb1 ;onground - hit to body 1
    3552 000148e0     0002          .word   2,2,4                           ;loop count, # per loop, sleep cnt
    3553 00014910     0014          .word   20,0,0                          ;random +/- x,y,z pos offs
    3554 00014940 00000000          .long   000000h, 080000h, 000000h       ;initial x,y,z vel
    3555 000149a0 00020000          .long   020000h, 020000h, 020000h       ;random +/- x,y,z vel
    3556 00014a00 00008000          .long   GRAVITY                         ;gravity value
    3557 00014a20     0046          .word   70,5                            ;lifespan, +/- rand
    3558                    
    3559 00014a40           chnfdb2 ;standing - hit to head 1
    3560 00014a40     0002          .word   2,1,3                           ;loop count, # per loop, sleep cnt
    3561 00014a70     0000          .word   0,5,0                           ;random +/- x,y,z pos offs
    3562 00014aa0 fffd0000          .long   -030000h,050000h, 000000h       ;initial x,y,z vel
    3563 00014b00 00018000          .long   018000h, 010000h, 010000h       ;random +/- x,y,z vel
    3564 00014b60 00008000          .long   GRAVITY                         ;gravity value
    3565 00014b80     003c          .word   60,5                            ;lifespan, +/- rand
    3566                    
    3567 00014ba0           chnfdb3 ;standing - hit to head 2
    3568 00014ba0     0001          .word   1,1,0                           ;loop count, # per loop, sleep cnt
    3569 00014bd0     0000          .word   0,5,0                           ;random +/- x,y,z pos offs
    3570 00014c00 fffd0000          .long   -030000h,050000h, 000000h       ;initial x,y,z vel
    3571 00014c60 00018000          .long   018000h, 010000h, 010000h       ;random +/- x,y,z vel
    3572 00014cc0 00008000          .long   GRAVITY                         ;gravity value
    3573 00014ce0     003c          .word   60,5                            ;lifespan, +/- rand
    3574                    
    3575 00014d00           chnfdb4 ;Doink earslap squish
    3576 00014d00     0002          .word   2,3,2                           ;loop count, # per loop, sleep cnt
    3577 00014d30     0014          .word   20,0,0                          ;random +/- x,y,z pos offs
    3578 00014d60 00000000          .long   000000h, 080000h, 000000h       ;initial x,y,z vel
    3579 00014dc0 00020000          .long   020000h, 020000h, 020000h       ;random +/- x,y,z vel
    3580 00014e20 00008000          .long   GRAVITY                         ;gravity value
    3581 00014e40     0046          .word   70,5                            ;lifespan, +/- rand
    3582                    
    3583 00014e60           chnfdb5 ;BAM POGO head slammed into ground
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   81

    3584 00014e60     0002          .word   2,2,3                           ;loop count, # per loop, sleep cnt
    3585 00014e90     000a          .word   10,10,0                         ;random +/- x,y,z pos offs
    3586 00014ec0 00000000          .long   000000h, 080000h, 000000h       ;initial x,y,z vel
    3587 00014f20 00020000          .long   020000h, 020000h, 020000h       ;random +/- x,y,z vel
    3588 00014f80 00008000          .long   GRAVITY                         ;gravity value
    3589 00014fa0     0046          .word   70,5                            ;lifespan, +/- rand
    3590                    
    3591 00014fc0           chnfdb6 ;BAM BAM fire head butt - Comes from Bam Bam attack sequence!
    3592 00014fc0     0002          .word   2,1,3                           ;loop count, # per loop, sleep cnt
    3593 00014ff0     0000          .word   0,5,0                           ;random +/- x,y,z pos offs
    3594 00015020 fffd0000          .long   -030000h,050000h, 000000h       ;initial x,y,z vel
    3595 00015080 00018000          .long   018000h, 010000h, 010000h       ;random +/- x,y,z vel
    3596 000150e0 00008000          .long   GRAVITY                         ;gravity value
    3597 00015100     003c          .word   60,5                            ;lifespan, +/- rand
    3598                    
    3599 00015120           chnfdb7 ;onground - Taker pins me with hand
    3600 00015120     0008          .word   8,2,4                           ;loop count, # per loop, sleep cnt
    3601 00015150     000f          .word   15,0,0                          ;random +/- x,y,z pos offs
    3602 00015180 00000000          .long   000000h, 040000h, 000000h       ;initial x,y,z vel
    3603 000151e0 00020000          .long   020000h, 020000h, 020000h       ;random +/- x,y,z vel
    3604 00015240 00008000          .long   GRAVITY                         ;gravity value
    3605 00015260     0046          .word   70,5                            ;lifespan, +/- rand
    3606                    
    3607                    
    3608                    *****************************************************************************
    3609                    ; a8 = * x,y,z off
    3610                    ; a10 = * debris table
    3611                    ; a11 = * wrestler proc
    3612                    
    3613 00015280            SUBR   react_debris2
    3614                    
    3615                            ;if there's too much debris already, don't do anything.
    3616 00015280     05ae          move    @debris_count,a14
         00015290 00000770- 
    3617 000152b0     0b4e          cmpi    DEBRIS_MAX,a14
         000152c0     ffe1  
    3618 000152d0     c500          jrge    mvtsdie
         000152e0     00a8  
    3619                    
    3620                            ;increment global debris count
    3621 000152f0     05ae          move    @debris_count,a14
         00015300 00000770- 
    3622 00015320     102e          inc     a14
    3623 00015330     058e          move    a14,@debris_count
         00015340 00000770- 
    3624                    
    3625 00015360     b36d          move    a11,*a13(SP_WRESPROC),L
         00015370     0200  
    3626 00015380     b96d          move    *a11(PLYR_SIDE),*a13(SP_PLYR_SIDE)
         00015390     05b0  
         000153a0     0220  
    3627                    
    3628 000153b0     b540          move    *a10(DB_RXOFF),a0               ;+/- xoff
         000153c0     0030  
    3629 000153d0     ca03          jrz     mvtsskp0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   82

    3630 000153e0     0d5f          calla   RNDRNGS
         000153f0 00000000! 
    3631 00015410     8501  mvtsskp0        move    *a8,a1                          ;xoff
    3632 00015420     4001          add     a0,a1
    3633                    
    3634 00015430     b56e          move    *a11(OBJ_CONTROL),a14
         00015440     0780  
    3635 00015450     1f6e          btst    B_FLIPH,a14
    3636 00015460     ca01          jrz     mvtsno_flip1
    3637 00015470     03a1          neg     a1
    3638 00015480           mvtsno_flip1
    3639 00015480     b560          move    *a11(OBJ_XPOSINT),a0
         00015490     0110  
    3640 000154a0     4020          add     a1,a0
    3641 000154b0     2600          sll     16,a0
    3642 000154c0     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         000154d0     0100  
    3643                    
    3644                    
    3645 000154e0     b540          move    *a10(DB_RYOFF),a0               ;+/- yoff
         000154f0     0040  
    3646 00015500     ca03          jrz     mvtsskp1
    3647 00015510     0d5f          calla   RNDRNGS
         00015520 00000000! 
    3648 00015540     b501  mvtsskp1        move    *a8(010h),a1                    ;yoff
         00015550     0010  
    3649 00015560     4001          add     a0,a1
    3650 00015570     b560          move    *a11(OBJ_YPOSINT),a0
         00015580     0130  
    3651 00015590     4020          add     a1,a0
    3652 000155a0     2600          sll     16,a0
    3653 000155b0     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         000155c0     0120  
    3654                    
    3655                    
    3656 000155d0     b540          move    *a10(DB_RZOFF),a0               ;+/- zoff
         000155e0     0050  
    3657 000155f0     ca03          jrz     mvtsskp2
    3658 00015600     0d5f          calla   RNDRNGS
         00015610 00000000! 
    3659 00015630     b501  mvtsskp2        move    *a8(020h),a1                    ;zoff
         00015640     0020  
    3660 00015650     4001          add     a0,a1
    3661 00015660     b560          move    *a11(OBJ_ZPOSINT),a0
         00015670     0150  
    3662 00015680     4020          add     a1,a0
    3663 00015690     2600          sll     16,a0
    3664 000156a0     b20d          move    a0,*a13(SP_OBJ_ZPOS),L
         000156b0     0140  
    3665                    
    3666                    
    3667 000156c0     b96d          move    *a11(INRING),*a13(SP_INRING)
         000156d0     0560  
         000156e0     0350  
    3668                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   83

    3669                    
    3670                    
    3671 000156f0     b560          move    *a11(GROUND_Y),a0
         00015700     0570  
    3672 00015710     2600          sll     16,a0
    3673 00015720     b20d          move    a0,*a13(SP_GROUND_Y),L
         00015730     0360  
    3674                    
    3675 00015740     5600          clr     a0
    3676 00015750     b20d          move    a0,*a13(SP_SHADOW_OBJ),L
         00015760     0250  
    3677                    
    3678 00015770     bb4d          move    *a10(DB_GRAVITY),*a13(SP_GRAVITY),L
         00015780     0120  
         00015790     0380  
    3679                    
    3680 000157a0     0d3f          callr   sp_create_obj
         000157b0     f541  
    3681 000157c0     0d3f          callr   sp_create_shadow
         000157d0     f554  
    3682                    
    3683 000157e0     b7a8          move    *a13(SP_OBJ),a8,L
         000157f0     0230  
    3684                    
    3685                    
    3686 00015800     b740          move    *a10(DB_RXVEL),a0,L
         00015810     00c0  
    3687 00015820     ca03          jrz     mvtsskp3
    3688 00015830     0d5f          calla   RNDRNGS
         00015840 00000000! 
    3689 00015860     b741  mvtsskp3        move    *a10(DB_XVEL),a1,L
         00015870     0060  
    3690 00015880     4001          add     a0,a1
    3691 00015890     b56e          move    *a11(OBJ_CONTROL),a14
         000158a0     0780  
    3692 000158b0     1f6e          btst    B_FLIPH,a14
    3693 000158c0     ca01          jrz     mvtsno_flip2                    ;flip relative
    3694 000158d0     03a1          neg     a1
    3695 000158e0           mvtsno_flip2
    3696 000158e0     b22d          move    a1,*a13(SP_OBJ_XVEL),L
         000158f0     03a0  
    3697                    
    3698                    
    3699 00015900     b740          move    *a10(DB_RZVEL),a0,L
         00015910     0100  
    3700 00015920     ca03          jrz     mvtsskp4
    3701 00015930     0d5f          calla   RNDRNGS
         00015940 00000000! 
    3702 00015960     b741  mvtsskp4        move    *a10(DB_ZVEL),a1,L
         00015970     00a0  
    3703 00015980     4001          add     a0,a1
    3704 00015990     b22d          move    a1,*a13(SP_OBJ_ZVEL),L
         000159a0     03e0  
    3705                    
    3706                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   84

    3707 000159b0     b740          move    *a10(DB_RYVEL),a0,L
         000159c0     00e0  
    3708 000159d0     ca03          jrz     mvtsskp5
    3709 000159e0     0d5f          calla   RNDRNGS
         000159f0 00000000! 
    3710 00015a10     b741  mvtsskp5        move    *a10(DB_YVEL),a1,L
         00015a20     0080  
    3711 00015a30     4001          add     a0,a1
    3712 00015a40     b22d          move    a1,*a13(SP_OBJ_YVEL),L
         00015a50     03c0  
    3713                    
    3714                    
    3715 00015a60     09e0          movi    sp_standard_bounce,a0
         00015a70 0000b000' 
    3716 00015a90     b20d          move    a0,*a13(SP_HITGND_CODE),L
         00015aa0     0420  
    3717                    
    3718 00015ab0     b7a8          move    *a13(SP_OBJ),a8,L
         00015ac0     0230  
    3719                    
    3720 00015ad0     5600          clr     a0
    3721 00015ae0     b00d          move    a0,*a13(SP_DIE)
         00015af0     01f0  
    3722                    
    3723 00015b00     b540          move    *a10(DB_RLIFESPAN),a0
         00015b10     0150  
    3724 00015b20     ca03          jrz     mvtsskp6
    3725 00015b30     0d5f          calla   RNDRNGS
         00015b40 00000000! 
    3726 00015b60     b541  mvtsskp6        move    *a10(DB_LIFESPAN),a1
         00015b70     0140  
    3727 00015b80     4001          add     a0,a1
    3728 00015b90     b02d          move    a1,*a13(SP_LIFESPAN)
         00015ba0     01e0  
    3729                    
    3730 00015bb0     b7a0          move    *a13(SP_ANIMPTR),a0,L   ;& anim
         00015bc0     0400  
    3731 00015bd0     0d5f          calla   sp_change_anim
         00015be0 0000b860' 
    3732                    
    3733 00015c00           mvtslp
    3734 00015c00     0d3f          callr   sp_velocity_add
         00015c10     f523  
    3735                    
    3736 00015c20     b7a0          move    *a13(SP_HITGND_CODE),a0,L
         00015c30     0420  
    3737 00015c40     0920          call    a0
    3738 00015c50     0d3f          callr   sp_update_pos
         00015c60     f549  
    3739                    
    3740 00015c70                   SLEEP   1
    3741                    
    3742 00015cc0     0d3f          callr   sp_animate
         00015cd0     f5c4  
    3743                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   85

    3744 00015ce0     b5a0          move    *a13(SP_LIFESPAN),a0
         00015cf0     01e0  
    3745 00015d00     1420          dec     a0
    3746 00015d10     ca05          jrz     mvtsdie
    3747 00015d20     b00d          move    a0,*a13(SP_LIFESPAN)
         00015d30     01e0  
    3748                    
    3749 00015d40     b5a0          move    *a13(SP_DIE),a0
         00015d50     01f0  
    3750 00015d60     cae9          jrz     mvtslp
    3751                    
    3752 00015d70           mvtsdie
    3753 00015d70     b7a0          move    *a13(SP_OBJ),a0,L
         00015d80     0230  
    3754 00015d90     0d5f          calla   DELOBJ
         00015da0 00000000! 
    3755                    
    3756 00015dc0     b7a0          move    *a13(SP_SHADOW_OBJ),a0,L
         00015dd0     0250  
    3757 00015de0     0d5f          calla   DELOBJ
         00015df0 00000000! 
    3758                    
    3759                            ;decrement global debris count
    3760 00015e10     05ae          move    @debris_count,a14
         00015e20 00000770- 
    3761 00015e40     142e          dec     a14
    3762 00015e50     058e          move    a14,@debris_count
         00015e60 00000770- 
    3763                    
    3764 00015e80                   DIE
    3765                    
    3766                    
    3767 00015eb0           mvtspin_anims
    3768 00015eb0 00011c00'         .long   pin_animC1      ;0
    3769 00015ed0 00011ee0'         .long   pin_animC2      ;1
    3770 00015ef0 00011ee0'         .long   pin_animC2      ;2
    3771 00015f10 000121c0'         .long   pin_animC3      ;3
    3772 00015f30 000121c0'         .long   pin_animC3      ;4
    3773 00015f50 00011ee0'         .long   pin_animC2      ;5
    3774 00015f70 00011ee0'         .long   pin_animC2      ;6
    3775 00015f90 00011c00'         .long   pin_animC1      ;7
    3776                    
    3777 00015fb0 000124a0'         .long   pin_animA1      ;0
    3778 00015fd0 00012780'         .long   pin_animA2      ;1
    3779 00015ff0 00012780'         .long   pin_animA2      ;2
    3780 00016010 00012a60'         .long   pin_animA3      ;3
    3781 00016030 00012a60'         .long   pin_animA3      ;4
    3782 00016050 00012780'         .long   pin_animA2      ;5
    3783 00016070 00012780'         .long   pin_animA2      ;6
    3784 00016090 000124a0'         .long   pin_animA1      ;7
    3785                    
    3786                    
    3787                    
    3788                    
    3789 000160b0           debris_anims
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   86

    3790 000160b0 000161d0'         .long   mvtsbret_debris_anims   ;0
    3791 000160d0 000162d0'         .long   mvtsrazor_debris_anims  ;1
    3792 000160f0 000163d0'         .long   mvtstaker_debris_anims  ;2
    3793 00016110 000164f0'         .long   mvtsyoko_debris_anims   ;3
    3794 00016130 000165f0'         .long   mvtsshawn_debris_anims  ;4
    3795 00016150 000166f0'         .long   mvtsbam_debris_anims    ;5
    3796 00016170 000167f0'         .long   mvtsdoink_debris_anims  ;6
    3797 00016190 000167f0'         .long   mvtsdoink_debris_anims  ;7
    3798 000161b0 000168f0'         .long   mvtslex_debris_anims    ;8
    3799                    
    3800                    ***
    3801 000161d0           mvtsbret_debris_anims
    3802 000161d0 0000ef70'         .long   heart_anim      ;0
    3803 000161f0 0000f250'         .long   glasses_anim    ;1
    3804 00016210 0000f530'         .long   glasses1_anim   ;2
    3805 00016230 0000f810'         .long   glasses2_anim   ;3
    3806 00016250 0000ef70'         .long   heart_anim      ;4
    3807 00016270 0000ef70'         .long   heart_anim      ;5
    3808 00016290 0000ef70'         .long   heart_anim      ;6
    3809 000162b0 0000ef70'         .long   heart_anim      ;7
    3810                    ***
    3811 000162d0           mvtsrazor_debris_anims
    3812 000162d0 0000c9a0'         .long   chain_anim      ;0
    3813 000162f0 0000cad0'         .long   bladeR_anim     ;1
    3814 00016310 0000c7b0'         .long   blade_anim      ;2
    3815 00016330 0000cad0'         .long   bladeR_anim     ;3
    3816 00016350 0000c7b0'         .long   blade_anim      ;4
    3817 00016370 0000cad0'         .long   bladeR_anim     ;5
    3818 00016390 0000c7b0'         .long   blade_anim      ;6
    3819 000163b0 0000cad0'         .long   bladeR_anim     ;7
    3820                    ***
    3821 000163d0           mvtstaker_debris_anims
    3822 000163d0 0000db30'         .long   bat_anim        ;0
    3823 000163f0 0000db30'         .long   bat_anim        ;1
    3824 00016410 0000e390'         .long   skull_anim      ;2
    3825 00016430 0000e610'         .long   bone_anim       ;3
    3826 00016450 0000db30'         .long   bat_anim        ;4
    3827 00016470 0000db30'         .long   bat_anim        ;5
    3828 00016490 0000e390'         .long   skull_anim      ;6
    3829 000164b0 0000e8f0'         .long   bone2_anim      ;7
    3830                    ;Special bats only for a pin
    3831 000164d0 0000db30'         .long   bat_anim        ;8
    3832                    ***
    3833 000164f0           mvtsyoko_debris_anims
    3834 000164f0 0000d250'         .long   lamb_anim       ;0
    3835 00016510 0000d530'         .long   fish1_anim      ;1
    3836 00016530 0000d6c0'         .long   fish2_anim      ;2
    3837 00016550 0000d250'         .long   lamb_anim       ;3
    3838 00016570 0000d530'         .long   fish1_anim      ;4
    3839 00016590 0000d6c0'         .long   fish2_anim      ;5
    3840 000165b0 0000d9a0'         .long   turkey_anim     ;6
    3841 000165d0 0000d530'         .long   fish1_anim      ;7
    3842                    ***
    3843 000165f0           mvtsshawn_debris_anims
    3844 000165f0 0000ef70'         .long   heart_anim      ;4
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   87

    3845 00016610 0000ef70'         .long   heart_anim      ;5
    3846 00016630 0000ef70'         .long   heart_anim      ;6
    3847 00016650 0000ef70'         .long   heart_anim      ;7
    3848 00016670 0000ef70'         .long   heart_anim      ;7
    3849 00016690 0000ef70'         .long   heart_anim      ;7
    3850 000166b0 0000ef70'         .long   heart_anim      ;7
    3851 000166d0 0000ef70'         .long   heart_anim      ;7
    3852                    ***
    3853 000166f0           mvtsbam_debris_anims
    3854 000166f0 00010130'         .long   ex_anima1       ;0
    3855 00016710 00010130'         .long   ex_anima1       ;0
    3856 00016730 00010130'         .long   ex_anima1       ;0
    3857 00016750 00010130'         .long   ex_anima1       ;0
    3858 00016770 00010130'         .long   ex_anima1       ;0
    3859 00016790 00010130'         .long   ex_anima1       ;0
    3860 000167b0 00010130'         .long   ex_anima1       ;0
    3861 000167d0 00010130'         .long   ex_anima1       ;0
    3862                    
    3863                    ***
    3864 000167f0           mvtsdoink_debris_anims
    3865 000167f0 00011ee0'         .long   pin_animC2      ;0
    3866 00016810 00012780'         .long   pin_animA2      ;1
    3867 00016830 000121c0'         .long   pin_animC3      ;2
    3868 00016850 0000fe50'         .long   ball_anim       ;3
    3869 00016870 0000fe50'         .long   ball_anim       ;4
    3870 00016890 00012780'         .long   pin_animA2      ;5
    3871 000168b0 000121c0'         .long   pin_animC3      ;6
    3872 000168d0 00012a60'         .long   pin_animA3      ;7
    3873                    ***
    3874 000168f0           mvtslex_debris_anims
    3875 000168f0 0000cf70'         .long   dbell_anim      ;0
    3876 00016910 0000ccc0'         .long   star_anim       ;1
    3877 00016930 0000cf70'         .long   dbell_anim      ;2
    3878 00016950 0000ccc0'         .long   star_anim       ;3
    3879 00016970 0000cf70'         .long   dbell_anim      ;4
    3880 00016990 0000ccc0'         .long   star_anim       ;5
    3881 000169b0 0000cf70'         .long   dbell_anim      ;6
    3882 000169d0 0000ccc0'         .long   star_anim       ;7
    3883                    
    3884                    *****************************************************************************
    3885                    
    3886                    ; a8 = * arguments
    3887                    ; a11 = * wrestler proc
    3888                    
    3889                    
    3890 000169f0            SUBR   und_tombbits2
    3891                    
    3892 000169f0     05ae          move    @no_debris,a14
         00016a00 00000000! 
    3893 00016a20     cb31          jrnz    ntrfno_bab
    3894 00016a30     05ae          move    @reduce_bog,a14
         00016a40 00000000! 
    3895 00016a60     cb2d          jrnz    ntrfno_bab
    3896                    
    3897 00016a70     1889          movk    4,a9
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   88

    3898 00016a80           ntrflp2
    3899 00016a80     09ea          movi    ntrftmb_debris2,a10
         00016a90 00017170' 
    3900 00016ab0     09e8          movi    ntrfxyz_off2,a8
         00016ac0 00016fe0' 
    3901 00016ae0                   CREATE  DEBRIS_PID,react_debris2
    3902 00016b60     09ee          movi    tombbit_anim,a14
         00016b70 0000faf0' 
    3903 00016b90     b3c0          move    a14,*a0(SP_ANIMPTR),L   ;&anim
         00016ba0     0400  
    3904                    
    3905 00016bb0     09ea          movi    ntrftmb_debris2,a10
         00016bc0 00017170' 
    3906 00016be0     09e8          movi    ntrfxyz_off2,a8
         00016bf0 00016fe0' 
    3907 00016c10                   CREATE  DEBRIS_PID,react_debris2
    3908 00016c90     09ee          movi    tombbit_anim,a14
         00016ca0 0000faf0' 
    3909 00016cc0     b3c0          move    a14,*a0(SP_ANIMPTR),L   ;&anim
         00016cd0     0400  
    3910                    
    3911 00016ce0                   SLEEPK  1
    3912 00016d20     0d89          dsj     a9,ntrflp2
         00016d30     ffd4  
    3913 00016d40           ntrfno_bab
    3914 00016d40                   DIE
    3915                    
    3916                    
    3917 00016d70            SUBR   und_tombbits
    3918                          
    3919 00016d70     05ae          move    @no_debris,a14
         00016d80 00000000! 
    3920 00016da0     cbf9          jrnz    ntrfno_bab
    3921 00016db0     05ae          move    @reduce_bog,a14
         00016dc0 00000000! 
    3922 00016de0     cbf5          jrnz    ntrfno_bab
    3923                    
    3924 00016df0     1869          movk    3,a9
    3925 00016e00           ntrflp
    3926 00016e00     09ea          movi    ntrftmb_debris,a10
         00016e10 00017010' 
    3927 00016e30     09e8          movi    ntrfxyz_off,a8
         00016e40 00016fb0' 
    3928 00016e60                   CREATE  DEBRIS_PID,react_debris2
    3929 00016ee0     09ee          movi    tombbit_anim,a14
         00016ef0 0000faf0' 
    3930 00016f10     b3c0          move    a14,*a0(SP_ANIMPTR),L   ;&anim
         00016f20     0400  
    3931                    
    3932 00016f30                   SLEEPK  1
    3933 00016f70     3f09          dsj     a9,ntrflp
    3934                    
    3935 00016f80                   DIE
    3936                    
    3937                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   89

    3938 00016fb0     005b  ntrfxyz_off .word       91,97,0
    3939 00016fe0     003a  ntrfxyz_off2 .word      58,8,0
    3940                    
    3941 00017010           ntrftmb_debris
    3942 00017010     0002          .word   2,3,2                           ;loop count, # per loop, sleep cnt
    3943 00017040     0014          .word   20,0,0                          ;random +/- x,y,z pos offs
    3944 00017070 00000000          .long   000000h, 050000h, 000000h       ;initial x,y,z vel
    3945 000170d0 00020000          .long   020000h, 020000h, 020000h       ;random +/- x,y,z vel
    3946 00017130 00008000          .long   GRAVITY                         ;gravity value
    3947 00017150     003c          .word   60,5                            ;lifespan, +/- rand
    3948                    
    3949                    
    3950 00017170           ntrftmb_debris2
    3951 00017170     0003          .word   3,3,1                           ;loop count, # per loop, sleep cnt
    3952 000171a0     0014          .word   20,0,0                          ;random +/- x,y,z pos offs
    3953 000171d0 00000000          .long   000000h, 050000h, 000000h       ;initial x,y,z vel
    3954 00017230 00010000          .long   010000h, 020000h, 010000h       ;random +/- x,y,z vel
    3955 00017290 00008000          .long   GRAVITY                         ;gravity value
    3956 000172b0     001e          .word   30,5                            ;lifespan, +/- rand
    3957                    
    3958                    
    3959                    *****************************************************************************
    3960                    
    3961              0020  BELOW   .EQU    16*2
    3962              0078  NEXT    .EQU    60*2
    3963                    
    3964 000172d0 00000000          .long   0,0,NEXT
    3965 00017330           TEXT_LIST
    3966                            ;software & design
    3967 00017330 000186b0'         .long   ogloLINESD,0,BELOW
    3968 00017390 00018750'         .long   ogloLINESD1,0,BELOW
    3969 000173f0 000187c0'         .long   ogloLINESD2,0,BELOW
    3970 00017450 00018830'         .long   ogloLINESD3,0,BELOW
    3971 000174b0 000188a0'         .long   ogloLINESD4,0,BELOW
    3972 00017510 00018910'         .long   ogloLINESD5,0,NEXT
    3973                    
    3974                            ;art & design
    3975 00017570 000189e0'         .long   ogloLINEAD,0,BELOW
    3976 000175d0 00018a50'         .long   ogloLINEAD1,0,BELOW
    3977 00017630 00018ab0'         .long   ogloLINEAD2,0,BELOW
    3978 00017690 00018b10'         .long   ogloLINEAD3,0,BELOW
    3979 000176f0 00018b80'         .long   ogloLINEAD4,0,NEXT
    3980                    
    3981                            ;music & sound
    3982 00017750 00018bf0'         .long   ogloLINEMS,0,BELOW
    3983 000177b0 00018cb0'         .long   ogloLINEMS1,0,NEXT
    3984                    
    3985                            ;hardware design
    3986 00017810 00018d30'         .long   ogloLINEHD,0,BELOW
    3987 00017870 00018dc0'         .long   ogloLINEHD1,0,BELOW
    3988 000178d0 00018e40'         .long   ogloLINEHD2,0,BELOW
    3989 00017930 00018eb0'         .long   ogloLINEHD3,0,BELOW
    3990 00017990 00018f30'         .long   ogloLINEHD4,0,BELOW
    3991 000179f0 00018fb0'         .long   ogloLINEHD5,0,NEXT
    3992                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   90

    3993                            ;art tools
    3994 00017a50 00019010'         .long   ogloLINEAT,0,BELOW
    3995 00017ab0 00019090'         .long   ogloLINEAT1,0,BELOW
    3996 00017b10 00019100'         .long   ogloLINEAT2,0,BELOW
    3997 00017b70 00019170'         .long   ogloLINEAT3,0,BELOW
    3998 00017bd0 000191d0'         .long   ogloLINEAT4,0,NEXT
    3999                    
    4000                            ;hardware support
    4001 00017c30 00019250'         .long   ogloLINEHS,0,BELOW
    4002 00017c90 000192e0'         .long   ogloLINEHS1,0,BELOW
    4003 00017cf0 00019330'         .long   ogloLINEHS2,0,BELOW
    4004 00017d50 000193c0'         .long   ogloLINEHS3,0,BELOW
    4005 00017db0 00019410'         .long   ogloLINEHS4,0,NEXT
    4006                    
    4007                            ;sound system
    4008 00017e10 00019480'         .long   ogloLINESS,0,BELOW
    4009 00017e70 00019510'         .long   ogloLINESS1,0,BELOW
    4010 00017ed0 00019570'         .long   ogloLINESS2,0,NEXT
    4011                    
    4012                            ;game testers
    4013 00017f30 000195d0'         .long   ogloLINEGT,0,BELOW
    4014 00017f90 00019640'         .long   ogloLINEGT1,0,BELOW
    4015 00017ff0 000196c0'         .long   ogloLINEGT2,0,NEXT
    4016                    
    4017                            ;special thanks
    4018 00018050 00019740'         .long   ogloLINEST,0,BELOW
    4019 000180b0 000197c0'         .long   ogloLINEST1,0,BELOW
    4020 00018110 00019830'         .long   ogloLINEST2,0,BELOW
    4021 00018170 000198a0'         .long   ogloLINEST3,0,BELOW
    4022 000181d0 000198f0'         .long   ogloLINEST4,0,BELOW
    4023 00018230 00019970'         .long   ogloLINEST5,0,BELOW
    4024 00018290 000199b0'         .long   ogloLINEST6,0,BELOW
    4025 000182f0 00019a20'         .long   ogloLINEST7,0,BELOW
    4026 00018350 00019a90'         .long   ogloLINEST8,0,BELOW
    4027 000183b0 00019b10'         .long   ogloLINEST9,0,BELOW
    4028 00018410 00019b60'         .long   ogloLINEST10,0,NEXT
    4029                    
    4030                            ;more special thanks
    4031 00018470 00019c00'         .long   ogloLINECP,0,BELOW
    4032 000184d0 00019cb0'         .long   ogloLINECP1,0,BELOW
    4033 00018530 00019d30'         .long   ogloLINECP2,0,BELOW
    4034 00018590 00019da0'         .long   ogloLINECP3,0,BELOW+280
    4035                    
    4036                    ;       .long   ogloLINECP4,0,BELOW
    4037                    ;       .long   ogloLINECP5,0,BELOW
    4038                    ;       .long   ogloLINECP6,0,BELOW
    4039                    ;       .long   ogloLINECP7,0,BELOW+280
    4040                    ;       .long   ogloLINECP8,0,BELOW
    4041                    ;       .long   ogloLINECP9,0,BELOW
    4042                    ;       .long   ogloLINECP10,0,BELOW+280
    4043 000185f0 ffffffff          .long   -1
    4044                    
    4045 00018610           ogloSETUP_LINE
    4046 00018610                   JAM_STR osgemd_ascii,10,0,200,-30,RUBYPAL,print_string_C2
    4047                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   91

    4048 000186b0           ogloLINESD
    4049 000186b0       53          .byte   "SOFTWARE & DESIGN",0,0
    4050 00018750                   .even
    4051 00018750           ogloLINESD1
    4052 00018750       4d          .byte   "MARK TURMELL",0,0
    4053 000187c0                   .even
    4054 000187c0           ogloLINESD2
    4055 000187c0       4a          .byte   "JASON SKILES",0,0
    4056 00018830                   .even
    4057 00018830           ogloLINESD3
    4058 00018830       4a          .byte   "JAMIE RIVETT",0,0
    4059 000188a0                   .even
    4060 000188a0           ogloLINESD4
    4061 000188a0       4a          .byte   "JAKE SIMPSON",0,0
    4062 00018910                   .even
    4063 00018910           ogloLINESD5
    4064 00018910       53          .byte   "SHAWN LIPTAK",0,0
    4065 00018980                   .even
    4066 00018980           ogloLINESD6
    4067 00018980       4d          .byte   "MIKE LYNCH",0,0
    4068 000189e0                   .even
    4069                    
    4070 000189e0           ogloLINEAD
    4071 000189e0       41          .byte   "ART & DESIGN",0,0
    4072 00018a50                   .even
    4073 00018a50           ogloLINEAD1
    4074 00018a50       53          .byte   "SAL DIVITA",0,0
    4075 00018ab0                   .even
    4076 00018ab0           ogloLINEAD2
    4077 00018ab0       4a          .byte   "JOSH TSUI",0,0
    4078 00018b10                   .even
    4079 00018b10           ogloLINEAD3
    4080 00018b10       45          .byte   "EUGENE GEER",0,0
    4081 00018b80                   .even
    4082 00018b80           ogloLINEAD4
    4083 00018b80       54          .byte   "TONY GOSKIE",0,0
    4084 00018bf0                   .even
    4085                    
    4086 00018bf0           ogloLINEMS
    4087 00018bf0       4d          .byte   "MUSIC & SOUND EFFECTS",0,0
    4088 00018cb0                   .even
    4089 00018cb0           ogloLINEMS1
    4090 00018cb0       43          .byte   "CHRIS GRANNER",0,0
    4091 00018d30                   .even
    4092                    
    4093 00018d30           ogloLINEHD
    4094 00018d30       48          .byte   "HARDWARE DESIGN",0,0
    4095 00018dc0                   .even
    4096 00018dc0           ogloLINEHD1
    4097 00018dc0       4d          .byte   "MARK LOFFREDO",0,0
    4098 00018e40                   .even
    4099 00018e40           ogloLINEHD2
    4100 00018e40       43          .byte   "CARY MEDNICK",0,0
    4101 00018eb0                   .even
    4102 00018eb0           ogloLINEHD3
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   92

    4103 00018eb0       53          .byte   "STEVE CORRELL",0,0
    4104 00018f30                   .even
    4105 00018f30           ogloLINEHD4
    4106 00018f30       4a          .byte   "JOE KALINOWSKI",0,0
    4107 00018fb0                   .even
    4108 00018fb0           ogloLINEHD5
    4109 00018fb0       4a          .byte   "JOHN LOWES",0,0
    4110 00019010                   .even
    4111                    
    4112                    
    4113 00019010           ogloLINEAT
    4114 00019010       41          .string "ARTWORK TOOLS",0,0
    4115 00019090                   .even
    4116 00019090           ogloLINEAT1
    4117 00019090       57          .string "WARREN DAVIS",0,0
    4118 00019100                   .even
    4119 00019100           ogloLINEAT2
    4120 00019100       53          .string "SHAWN LIPTAK",0,0
    4121 00019170                   .even
    4122 00019170           ogloLINEAT3
    4123 00019170       54          .string "TODD ALLEN",0,0
    4124 000191d0                   .even
    4125 000191d0           ogloLINEAT4
    4126 000191d0       41          .string "ALIAS RESEARCH",0,0
    4127 00019250                   .even
    4128                    
    4129                    
    4130 00019250           ogloLINEHS
    4131 00019250       48          .byte   "HARDWARE SUPPORT",0,0
    4132 000192e0                   .even
    4133 000192e0           ogloLINEHS1
    4134 000192e0       50          .byte   "PAT COX",0,0
    4135 00019330                   .even
    4136 00019330           ogloLINEHS2
    4137 00019330       53          .byte   "SHERIDAN OURSLER",0,0
    4138 000193c0                   .even
    4139 000193c0           ogloLINEHS3
    4140 000193c0       41          .byte   "AL LASKO",0,0
    4141 00019410                   .even
    4142 00019410           ogloLINEHS4
    4143 00019410       4a          .byte   "JEFF PETERS",0,0
    4144 00019480                   .even
    4145                    
    4146                    
    4147 00019480           ogloLINESS
    4148 00019480       44          .byte   "DCS SOUND SYSTEM",0,0
    4149 00019510                   .even
    4150 00019510           ogloLINESS1
    4151 00019510       4d          .byte   "MATT BOOTY",0,0
    4152 00019570                   .even
    4153 00019570           ogloLINESS2
    4154 00019570       45          .byte   "ED KEENAN",0,0
    4155 000195d0                   .even
    4156                    
    4157 000195d0           ogloLINEGT
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   93

    4158 000195d0       47          .byte   "GAME TESTERS",0,0
    4159 00019640                   .even
    4160 00019640           ogloLINEGT1
    4161 00019640       45          .byte   "EDDIE FERRIER",0,0
    4162 000196c0                   .even
    4163 000196c0           ogloLINEGT2
    4164 000196c0       4d          .byte   "MIKE VINIKOUR",0,0
    4165 00019740                   .even
    4166                    
    4167 00019740           ogloLINEST
    4168 00019740       53          .byte   "SPECIAL THANKS",0,0
    4169 000197c0                   .even
    4170 000197c0           ogloLINEST1
    4171 000197c0       4a          .byte   "JOHN TOBIAS",0,0
    4172 00019830                   .even
    4173 00019830           ogloLINEST2
    4174 00019830       4d          .byte   "MARK PENACHO",0,0
    4175 000198a0                   .even
    4176 000198a0           ogloLINEST3
    4177 000198a0       45          .byte   "ED BOON",0,0
    4178 000198f0                   .even
    4179 000198f0           ogloLINEST4
    4180 000198f0       45          .byte   "EUGENE JARVIS",0,0
    4181 00019970                   .even
    4182 00019970           ogloLINEST5
    4183 00019970       4c          .byte   "L.E.D.",0,0
    4184 000199b0                   .even
    4185 000199b0           ogloLINEST6
    4186 000199b0       47          .byte   "GEORGE PETRO",0,0
    4187 00019a20                   .even
    4188 00019a20           ogloLINEST7
    4189 00019a20       4a          .byte   "JEFF JOHNSON",0,0
    4190 00019a90                   .even
    4191 00019a90           ogloLINEST8
    4192 00019a90       4a          .byte   "JOHN NEWCOMER",0,0
    4193 00019b10                   .even
    4194 00019b10           ogloLINEST9
    4195 00019b10       4a          .byte   "JON HEY",0,0
    4196 00019b60                   .even
    4197 00019b60           ogloLINEST10
    4198 00019b60       4d          .byte   "MIDWAY MANAGEMENT",0,0
    4199 00019c00                   .even
    4200                    
    4201 00019c00           ogloLINECP
    4202 00019c00       41          .byte   "A SPECIAL THANK YOU",0,0
    4203 00019cb0                   .even
    4204 00019cb0           ogloLINECP1
    4205 00019cb0       43          .BYTE   "CATHY SIMPSON",0,0
    4206 00019d30                   .EVEN
    4207 00019d30           ogloLINECP2
    4208 00019d30       43          .BYTE   "CRISTY TSUI",0,0
    4209 00019da0                   .EVEN
    4210 00019da0           ogloLINECP3
    4211 00019da0       57          .BYTE   "WEI LIN GEER",0,0
    4212 00019e10                   .EVEN
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   94

    4213                    
    4214                    ;ogloLINECP8
    4215                    ;       .BYTE   "ZIPPER & KASHA",0,0
    4216                    ;       .EVEN
    4217                    ;ogloLINECP9
    4218                    ;       .BYTE   "KRALOR   EMP TASS & EVIL",0,0
    4219                    ;       .EVEN
    4220                    ;ogloLINECP10
    4221                    ;       .BYTE   "AND ALL THE CSERVE GUYS",0,0
    4222                    ;       .EVEN
    4223                    
    4224                    
    4225 00019e10           oglohstd_mod
    4226 00019e10 00000000!         .long   slateBMOD
    4227 00019e30     0000          .word   0,0
    4228 00019e50 00000000          .long   0
    4229                    
    4230                    ;oglotitle_mod
    4231                    ;       .long   LAVAPGBMOD
    4232                    ;       .word   0,0
    4233 00019e70 00000000          .long   0
    4234                    
    4235              0120  ogloLIST_START  .equ PDATA+20H
    4236                    
    4237 00019e90            SUBR   CREATE_TEXT_LINE
    4238 00019e90                   JSRP    GENERIC_DISPLAY
    4239 00019f00     09e8          MOVI    TEXT_LIST,A8
         00019f10 00017330' 
    4240                    
    4241 00019f30     09ca          MOVI    TYPTEXT+1,A10
         00019f40     0701  
    4242 00019f50                   CREATE0 ck_octopus2
    4243                    
    4244 00019fc0     09e2          MOVI    ogloSETUP_LINE,A2
         00019fd0 00018610' 
    4245 00019ff0     0d5f          CALLA   setup_message
         0001a000 00000000! 
    4246 0001a020           small_loop
    4247 0001a020     9704          MOVE    *A8+,A4,L
    4248 0001a030     1024          INC     A4
    4249 0001a040     ca2a          JRZ     LAST_ONE
    4250 0001a050     1424          DEC     A4
    4251 0001a060     058a          MOVE    A10,@mess_objid
         0001a070 00000000! 
    4252 0001a090     09e3          MOVI    GOLD,A3
         0001a0a0 00000000! 
    4253 0001a0c0     b500          MOVE    *A8(-040H),A0
         0001a0d0     ffc0  
    4254 0001a0e0     0b40          CMPI    NEXT,A0
         0001a0f0     ff87  
    4255 0001a100     cb03          JRNE    PAL_IS_SET
    4256 0001a110     09e3          MOVI    RUBYPAL,A3
         0001a120 00000000! 
    4257 0001a140           PAL_IS_SET
    4258 0001a140     0783          MOVE    A3,@message_palette,L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   95

         0001a150 00000000! 
    4259 0001a170     0d5f          CALLA   print_string_C2
         0001a180 00000000! 
    4260 0001a1a0     09c9          MOVI    179,A9
         0001a1b0     00b3  
    4261 0001a1c0                   CREATE  MESSAGE_PID,MAKE_TEXT_MOVE
    4262                    
    4263 0001a240     9705          MOVE    *A8+,A5,L
    4264 0001a250     ca03          JRZ     NO_NEW_BACK
    4265 0001a260     0d5f          CALLA   CLEAR_BAKGROUND_OBJ
         0001a270 0001a320' 
    4266 0001a290           NO_NEW_BACK
    4267 0001a290     9700          MOVE    *A8+,A0,L
    4268 0001a2a0     0d5f          CALLA   PRCSLP
         0001a2b0 00000000! 
    4269 0001a2d0     102a          INC     A10
    4270 0001a2e0     c0d3          jruc    small_loop
    4271 0001a2f0           LAST_ONE
    4272 0001a2f0                   RETP
    4273                    
    4274 0001a320           CLEAR_BAKGROUND_OBJ
    4275 0001a320                   PUSH    A8
    4276 0001a330     0d5f          CALLA   ZERO_BITS
         0001a340 00000000! 
    4277 0001a360     07a0          move    @BAKLST,A0,L            ;Null backgnd object list
         0001a370 00000000! 
    4278 0001a390     8600          MOVE    *A0,A0,L
    4279 0001a3a0     ca06          JRZ     NO_DELETE_IT
    4280 0001a3b0           MORE_TO_DELETE
    4281 0001a3b0     8609          MOVE    *A0,A9,L
    4282 0001a3c0     0d5f          CALLA   DELBOBJ
         0001a3d0 00000000! 
    4283 0001a3f0     4d20          MOVE    A9,A0
    4284 0001a400     cbfa          JRNZ    MORE_TO_DELETE
    4285 0001a410           NO_DELETE_IT
    4286 0001a410     0785          MOVE    A5,@BAKMODS,L
         0001a420 00000000! 
    4287 0001a440     0d5f          CALLA   BGND_UD1
         0001a450 00000000! 
    4288 0001a470                   PULL    A8
    4289 0001a480     0960          RETS
    4290                    
    4291 0001a490           MAKE_TEXT_MOVE
    4292                    ;       MOVE    @mess_objid,A10
    4293 0001a490     0d3f          CALLR   FIND_ALL_TEXT
         0001a4a0     0012  
    4294 0001a4b0           ROTATE_TEXT
    4295 0001a4b0                   SLEEP   2
    4296 0001a500     0d3f          CALLR   WORK_OUT_LINE_Y_AND_SCALE
         0001a510     003a  
    4297 0001a520     0d3f          CALLR   PUT_IN_SCALE_AND_YPOS
         0001a530     001f  
    4298 0001a540     1429          DEC     A9
    4299 0001a550     cff5          JRNN    ROTATE_TEXT
    4300 0001a560     4d40          MOVE    A10,A0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   96

    4301 0001a570     0d5f          CALLA   obj_del1c
         0001a580 00000000! 
    4302 0001a5a0                   DIE
    4303                    
    4304 0001a5d0           FIND_ALL_TEXT
    4305 0001a5d0     09ee          MOVI    OBJLST,A14
         0001a5e0 00000000! 
    4306 0001a600     4da2          MOVE    A13,A2
    4307 0001a610     0b02          ADDI    ogloLIST_START,A2
         0001a620     0120  
    4308 0001a630     c00b          JRUC    PICK_UP_NEXT
    4309 0001a640           CHECK_AGAINST_NEXT
    4310 0001a640     b5c1          MOVE    *A14(OID),A1
         0001a650     0190  
    4311 0001a660     4941          CMP     A10,A1
    4312 0001a670     cb07          JRNE    PICK_UP_NEXT
    4313 0001a680     93c2          MOVE    A14,*A2+,L
    4314 0001a690     b5c1          MOVE    *A14(OXPOS),A1
         0001a6a0     0090  
    4315 0001a6b0     0be1          SUBI    200,A1
         0001a6c0     ff37  
    4316 0001a6d0     b02e          MOVE    A1,*A14(OMISC)
         0001a6e0     0210  
    4317 0001a6f0           PICK_UP_NEXT
    4318 0001a6f0     87ce          MOVE    *A14,A14,L
    4319 0001a700     cbf3          JRNZ    CHECK_AGAINST_NEXT
    4320 0001a710     83c2          MOVE    A14,*A2,L
    4321 0001a720     0960          RETS
    4322                    
    4323 0001a730           PUT_IN_SCALE_AND_YPOS
    4324 0001a730     4da2          MOVE    A13,A2
    4325 0001a740     0b02          ADDI    ogloLIST_START,A2
         0001a750     0120  
    4326 0001a760           POS_NEXT_OBJ
    4327 0001a760     9648          MOVE    *A2+,A8,L
    4328 0001a770     ca13          JRZ     REACHED_END_OF_LIST
    4329 0001a780     b028          MOVE    A1,*A8(OYPOS)
         0001a790     00b0  
    4330 0001a7a0     b068          MOVE    A3,*A8(OSCALE+010H)
         0001a7b0     0250  
    4331 0001a7c0     b088          MOVE    A4,*A8(OSCALE)
         0001a7d0     0240  
    4332                    
    4333 0001a7e0     b507          MOVE    *A8(OMISC),A7
         0001a7f0     0210  
    4334 0001a800     09e5          MOVI    10000H,A5
         0001a810 00010000  
    4335 0001a830     5a85          DIVU    A4,A5
    4336 0001a840     5ea7          MPYU    A5,A7
    4337 0001a850     2f07          SRL     8,A7
    4338                    
    4339 0001a860     0b07          ADDI    200,A7
         0001a870     00c8  
    4340 0001a880     b0e8          MOVE    A7,*A8(OXPOS)
         0001a890     0090  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   97

    4341                    
    4342 0001a8a0     c0eb          JRUC    POS_NEXT_OBJ
    4343 0001a8b0           REACHED_END_OF_LIST
    4344 0001a8b0     0960          RETS
    4345                    
    4346                    
    4347                    ;IN
    4348                    ;A9=ANGLE
    4349                    ;OUT
    4350                    ;A1=Y_COOR
    4351                    ;A3=Y SCALE
    4352                    ;A4=X SCALE
    4353                    
    4354              0070  Y_CENTER        .EQU    070H
    4355                    
    4356 0001a8c0           WORK_OUT_LINE_Y_AND_SCALE
    4357 0001a8c0     4d2e          MOVE    A9,A14
    4358 0001a8d0     248e          SLL     4,A14
    4359 0001a8e0     0b2e          ADDI    SIN_TABLE,A14
         0001a8f0 0001ab70' 
    4360 0001a910     85c1          MOVE    *A14,A1
    4361                    
    4362 0001a920     03a1          NEG     A1
    4363 0001a930     2701          SLL     32-8,A1
    4364 0001a940     2d01          SRL     32-8,A1
    4365 0001a950     4c25          MOVE    A1,A5
    4366                    
    4367 0001a960     09c3          MOVI    Y_CENTER,A3
         0001a970     0070  
    4368 0001a980     5c61          MPYS    A3,A1
    4369 0001a990     2f01          SRL     8,A1
    4370                    
    4371 0001a9a0     0b49          CMPI    90,A9
         0001a9b0     ffa5  
    4372 0001a9c0     c406          JRLT    Y_POSITION_CORRECT
    4373 0001a9d0     09c0          MOVI    Y_CENTER,A0
         0001a9e0     0070  
    4374 0001a9f0     4420          SUB     A1,A0
    4375 0001aa00     4c01          MOVE    A0,A1
    4376 0001aa10     0b01          ADDI    Y_CENTER,A1
         0001aa20     0070  
    4377 0001aa30           Y_POSITION_CORRECT
    4378 0001aa30     0b01          ADDI    10,A1
         0001aa40     000a  
    4379                    
    4380 0001aa50     09e3          MOVI    10000H,A3
         0001aa60 00010000  
    4381 0001aa80     5aa3          DIVU    A5,A3
    4382                    
    4383 0001aa90     0b43          CMPI    0B00H,A3
         0001aaa0     f4ff  
    4384 0001aab0     c402          JRLT    NO_SCALE_PROBLEM
    4385 0001aac0     09c3          MOVI    0B00H,A3
         0001aad0     0b00  
    4386 0001aae0           NO_SCALE_PROBLEM
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   98

    4387                    
    4388 0001aae0     4c65          MOVE    A3,A5
    4389 0001aaf0     0be5          SUBI    100H,A5
         0001ab00     feff  
    4390 0001ab10     1b07          movk    18H,A7
    4391 0001ab20     5ae5          DIVU    A7,A5
    4392 0001ab30     0b05          ADDI    100H,A5
         0001ab40     0100  
    4393 0001ab50     4ca4          MOVE    A5,A4
    4394                    
    4395 0001ab60     0960          RETS
    4396                    
    4397                    ;this sin table is in decimal and goes from sin(0) to sin (89). It has been
    4398                    ;multiplyed by 256 in order to get an interger figure for each value. To
    4399                    ;implement, use the angle as an offset into the table and then multiply
    4400                    ;radius by value gained. Then divide result by 256 (ie rotate right 8 bits)
    4401                    ;and you have your value. To use as a cosine table use offset as a negative
    4402                    ;offset (-1) and come in from end of table backwards.O.K.!!!
    4403 0001ab70           SIN_TABLE:
    4404 0001ab70     00ff          .WORD   255,255,255,255,254,254,253,253,252,252
    4405 0001ac10     00fb          .WORD   251,250,249,248,247,246,244,243,242,240
    4406 0001acb0     00ee          .WORD   238,237,235,233,232,230,228,226,223,221
    4407 0001ad50     00db          .WORD   219,217,214,212,209,207,204,201,198,196
    4408 0001adf0     00c1          .WORD   193,190,187,184,181,177,174,171,167,164
    4409 0001ae90     00a1          .WORD   161,157,154,150,146,143,139,135,131,128
    4410 0001af30     007c          .WORD   124,120,116,112,108,104,100,95,91,87
    4411 0001afd0     0053          .WORD   83,79,74,70,66,61,57,53,48,44
    4412 0001b070     0028          .WORD   40,35,31,26,22,17,13,8,4,1
    4413                    
    4414 0001b110     0004          .WORD   4,8,13,17,22,26,31,35,40
    4415 0001b1a0     002c          .WORD   44,48,53,57,61,66,70,74,79,83
    4416 0001b240     0057          .WORD   87,91,95,100,104,108,112,116,120,124
    4417 0001b2e0     0080          .WORD   128,131,135,139,143,146,150,154,157,161
    4418 0001b380     00a4          .WORD   164,167,171,174,177,181,184,187,190,193
    4419 0001b420     00c4          .WORD   196,198,201,204,207,209,212,214,217,219
    4420 0001b4c0     00dd          .WORD   221,223,226,228,230,232,233,235,237,238
    4421 0001b560     00f0          .WORD   240,242,243,244,246,247,248,249,250,251
    4422 0001b600     00fc          .WORD   252,252,253,253,254,254,255,255,255,255
    4423 0001b6a0     00ff          .WORD   255
    4424                    
    4425                    
    4426                    *******************************
    4427                    * Look at the buttons, read a sequence table,
    4428                    * and set octopus2 flag if sequence successful
    4429                    
    4430                    
    4431 0001b6b0            SUBR   ck_octopus2
    4432                    
    4433 0001b6b0     574a          clr     a10
    4434 0001b6c0     09e9          movi    butn_lst,a9
         0001b6d0 0001b930' 
    4435                    
    4436 0001b6f0           xonflp  SLEEPK  1
    4437                    
    4438                    ;       move    @SWITCH,a0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   99

    4439 0001b730     07a0          move    @_switch_addr,a0,L
         0001b740 00000000! 
    4440 0001b760     8400          move    *a0,a0
    4441 0001b770     0520          zext    a0
    4442 0001b780     0b60          cmpi    0ffffH,a0
         0001b790 ffff0000  
    4443 0001b7b0     cb02          jrnz    xonftag1
    4444 0001b7c0     576b          clr     a11
    4445 0001b7d0     c0f1          jruc    xonflp
    4446                    
    4447 0001b7e0     4d6b  xonftag1        move    a11,a11
    4448 0001b7f0     cbef          jrnz    xonflp
    4449                    
    4450 0001b800     102b          inc     a11
    4451                    
    4452 0001b810     8521          move    *a9,a1,W
    4453 0001b820     0521          zext    a1
    4454 0001b830     4801          cmp     a0,a1
    4455 0001b840     ca04          jrz     xonfyes
    4456 0001b850     09e9          movi    butn_lst,a9
         0001b860 0001b930' 
    4457 0001b880     c0e6          jruc    xonflp
    4458 0001b890     1209  xonfyes addk    16,a9
    4459 0001b8a0     8520          move    *a9,a0
    4460 0001b8b0     cbe3          jrnz    xonflp
    4461 0001b8c0     1820          movk    1,a0
    4462 0001b8d0     0580          move    a0,@octopus2
         0001b8e0 00000000! 
    4463                    
    4464 0001b900                   DIE
    4465                    
    4466 0001b930           butn_lst
    4467                    
    4468                    ;Buttons required for 2nd octopus:
    4469              ffef  P1_P    .EQU    0FFEFH
    4470              ffbf  P1_PP   .EQU    0FFBFH
    4471              ffdf  P1_B    .EQU    0FFDFH
    4472              efff  P2_P    .EQU    0EFFFH
    4473              bfff  P2_PP   .EQU    0BFFFH
    4474              dfff  P2_B    .EQU    0DFFFH
    4475                    
    4476                    
    4477 0001b930     ffef          .word   P1_P,P1_P,P1_P,P1_PP,P1_PP,P1_B
    4478 0001b990     bfff          .word   P2_PP,P2_PP,P2_PP,P2_P,P2_P,P2_B,0
    4479                    
    4480                    ******************************************************************************
    4481                    *
    4482                    * Called every tick by wrestler_main
    4483                    *
    4484                    * Figure out if we should be getting hurt for being out of the ring.  If
    4485                    * we should, administer the damage and, if we die from it, fire off the
    4486                    * round end stuff.
    4487                    *
    4488                    * Old method:  DEC_TIMER is ticks before you start taking hurts.  When you're
    4489                    * thrown from the ring, it's set.  Also, when anyone else climbs into the
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  100

    4490                    * ring, it's reset.  If you're out alone and this is zero, you take hurts
    4491                    * on every eighth tick.
    4492                    *
    4493                    * New method:  RING_TIME holds the number of consecutive ticks you've been
    4494                    * inside the ring.  If you're outside, the count is negative.  If you've been
    4495                    * outside the ring for xonfout_time ticks and every member of the other team
    4496                    * has been inside for xonfout_time, you take hurts.  Note that this includes
    4497                    * both live and dead members of the other team.  If someone dies while
    4498                    * outside the ring, their RING_TIME is set to 1 and increments from there
    4499                    * as though he was inside the ring, so that when you kill one member of
    4500                    * a team outside, you don't immediately start taking damage if all his
    4501                    * teammates are cowering inside the ring.  The clock is ticking, though.
    4502                    * As before, lose one health point every eight ticks.
    4503                    *
    4504                    * Complications:  Sometimes dead drones get their processes KO'd.  This means
    4505                    * that their RING_TIMEs stop incrementing.  In the loop where we check
    4506                    * opponent RING_TIMEs, check for sleeping drones and subtract their PTIME
    4507                    * from 7FFF (the initial KO value) and add this value to their RING_TIME.
    4508                    *
    4509                    
    4510              0173  xonfout_time    .equ    TSEC*7
    4511                    
    4512 0001ba00            SUBRP  do_ringout_dufus
    4513 0001ba00     05ae          move    @ring_out_on,a14
         0001ba10 00000000! 
    4514 0001ba30     cb23          jrnz    xonfdrd_exit
    4515 0001ba40     0b40          cmpi    -(xonfout_time-(TSEC*3)),a0     ; Has he been out for 4 secs?
         0001ba50     00d3  
    4516 0001ba60     c520          jrge    xonfdrd_exit            ; br = no
    4517 0001ba70                   PUSH    a0,a1,a2,a3,a7,a9,a10
    4518                    
    4519 0001ba90     b5a0          move    *a13(PLYR_SIDE),a0      ; Check to see if opp are out?
         0001baa0     05b0  
    4520 0001bab0     18e1          movk    NUM_WRES,a1
    4521 0001bac0     09e2          movi    process_ptrs,a2
         0001bad0 00000000! 
    4522                    
    4523 0001baf0     9643  xonfloopa       move    *a2+,a3,L
    4524 0001bb00     ca09          jrz     xonfnxta                        ;skip - inactive
    4525                    
    4526 0001bb10     b46e          move    *a3(PLYR_SIDE),a14
         0001bb20     05b0  
    4527 0001bb30     49c0          cmp     a14,a0
    4528 0001bb40     ca05          jreq    xonfnxta                        ;skip - teammate
    4529                    
    4530 0001bb50     b46e          move    *a3(RING_TIME),a14
         0001bb60     0c40  
    4531 0001bb70     0b4e          cmpi    xonfout_time-(TSEC*3),a14               ;In ring > 4 seconds?
         0001bb80     ff2b  
    4532 0001bb90     c60b          jrle    xonfdrd_done            ;no pain - opponent not inside long enough
    4533                    
    4534 0001bba0           xonfnxta
    4535 0001bba0     3d81          dsj     a1,xonfloopa
    4536 0001bbb0           xonfdo_dufus
    4537                    ;       move    a1,a1
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  101

    4538                    ;       jrz     xonfdrd_done
    4539                    
    4540 0001bbb0     1869          movk    3,a9                    ;msg number "Get back in dummy"
    4541 0001bbc0     4daa          move    a13,a10                 ;Player process ptr
    4542 0001bbd0                   CREATE  4000h|AWARD_PID,dufus_msg_on
    4543 0001bc50           xonfdrd_done
    4544 0001bc50                   PULL    a0,a1,a2,a3,a7,a9,a10
    4545 0001bc70           xonfdrd_exit
    4546 0001bc70     0960          rets
    4547                    
    4548                    
    4549                    ;a9 = *player going over ropes
    4550 0001bc80            SUBRP  kill_when_hit_ground
    4551 0001bc80     b52a          move    *a9(GROUND_Y),a10
         0001bc90     0570  
    4552 0001bca0     b52b          move    *a9(OBJ_YPOSINT),a11
         0001bcb0     0130  
    4553 0001bcc0     494b          cmp     a10,a11
    4554 0001bcd0     ca05          jrz     xonfkill_him
    4555 0001bce0                   SLEEPK  1
    4556 0001bd20     c0f5          jruc    kill_when_hit_ground
    4557 0001bd30           xonfkill_him
    4558 0001bd30     09c0          movi    -150,a0
         0001bd40     ff6a  
    4559 0001bd50     b521          move    *a9(PLYRNUM),a1
         0001bd60     0580  
    4560 0001bd70     574a          clr     a10
    4561 0001bd80     0d5f          calla   adjust_health
         0001bd90 00000000! 
    4562 0001bdb0                   DIE
    4563                    
    4564                    
    4565 0001bde0            SUBR   ARE_WE_IN_RING
    4566                    
    4567                            ;don't do anthing if HALT is set
    4568 0001bde0     05ae          move    @HALT,a14
         0001bdf0 00000000! 
    4569 0001be10     cb00          jrnz    xonfdone
         0001be20     0090  
    4570                    
    4571                            ;first see if we're dead - that uses a special routine
    4572 0001be30     b5ae          move    *a13(PLYRMODE),a14
         0001be40     05c0  
    4573 0001be50     0b4e          cmpi    MODE_DEAD,a14
         0001be60     fff6  
    4574 0001be70     ca00          jreq    xonfdead
         0001be80     008b  
    4575                    
    4576                            ;see if all our opponents are dead - the short way to do this
    4577                            ; is to check closest_num, since dead ones will never be picked
    4578                            ; if there are any live ones.
    4579 0001be90     b5ae          move    *a13(CLOSEST_NUM),a14
         0001bea0     03a0  
    4580 0001beb0                   X32     a14
    4581 0001bec0     0b2e          addi    process_ptrs,a14
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  102

         0001bed0 00000000! 
    4582 0001bef0     87ce          move    *a14,a14,L
    4583 0001bf00     b5ce          move    *a14(PLYRMODE),a14
         0001bf10     05c0  
    4584 0001bf20     0b4e          cmpi    MODE_DEAD,a14
         0001bf30     fff6  
    4585 0001bf40     ca7e          jreq    xonfdone
    4586                    
    4587                            ;adjust RING_TIME
    4588 0001bf50     b5a0          move    *a13(RING_TIME),a0
         0001bf60     0c40  
    4589 0001bf70     ce13          jrn     xonfp_out
    4590                    
    4591                            ;we were inside last tick
    4592 0001bf80     1020          inc     a0
    4593 0001bf90     b5ae          move    *a13(INRING),a14
         0001bfa0     0560  
    4594 0001bfb0     ca14          jrz     xonfrt_ok
    4595                    
    4596                            ;we've moved outside.  init to -1
    4597 0001bfc0     09c0          movi    -1,a0
         0001bfd0     ffff  
    4598 0001bfe0     05ae          move    @ring_out_on,a14
         0001bff0 00000000! 
    4599 0001c010     ca08          jrz     xonfring_outs_off
    4600 0001c020     4da9          move    a13,a9
    4601 0001c030                   CREATE0 kill_when_hit_ground
    4602 0001c0a0           xonfring_outs_off
    4603 0001c0a0     c005          jruc    xonfrt_ok
    4604                    
    4605 0001c0b0           xonfp_out       ;we were outside last tick
    4606 0001c0b0     1420          dec     a0
    4607 0001c0c0     b5ae          move    *a13(INRING),a14
         0001c0d0     0560  
    4608 0001c0e0     cb01          jrnz    xonfrt_ok
    4609                    
    4610                            ;we've moved inside.  init to 1
    4611 0001c0f0     1820          movk    1,a0
    4612                    ;       jruc    xonfrt_ok
    4613                    
    4614 0001c100           xonfrt_ok       ;a0 is now set to new RING_TIME.  write it back
    4615 0001c100     b00d          move    a0,*a13(RING_TIME)
         0001c110     0c40  
    4616                    
    4617                            ;quit if RING_TIME is greater than (or equal to) xonfout_time, which
    4618                            ; means we're either inside our haven't been outside long enough
    4619                            ; to get hurt.
    4620 0001c120     0d3f          callr   do_ringout_dufus
         0001c130     ff8c  
    4621                    
    4622 0001c140     0b40          cmpi    -xonfout_time,a0
         0001c150     0172  
    4623 0001c160     c55c          jrge    xonfdone
    4624                    
    4625                            ;proceed only on every eighth tick, for a loss rate of around
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  103

    4626                            ; 7 pixels per second.
    4627 0001c170     05ae          move    @PCNT,a14       ;check low three bits of PCNT
         0001c180 00000000! 
    4628 0001c1a0     27ae          sll     32-3,a14
    4629 0001c1b0     cb57          jrnz    xonfdone
    4630                    
    4631                            ;uh-oh.  potential pain here.  loop through wrestler procs, and
    4632                            ; quit if we spot anyone from the other team with a RING_TIME less
    4633                            ; than or equal to xonfout_time, means that they're either outside
    4634                            ; or haven't been inside long enough for us to get hurt.
    4635 0001c1c0     b5a0          move    *a13(PLYR_SIDE),a0
         0001c1d0     05b0  
    4636 0001c1e0     18e1          movk    NUM_WRES,a1
    4637 0001c1f0     09e2          movi    process_ptrs,a2
         0001c200 00000000! 
    4638                    
    4639 0001c220     9643  xonfloop0       move    *a2+,a3,L
    4640 0001c230     ca12          jrz     xonfnxt0                ;skip - inactive
    4641                    
    4642 0001c240     b46e          move    *a3(PLYR_SIDE),a14
         0001c250     05b0  
    4643 0001c260     49c0          cmp     a14,a0
    4644 0001c270     ca0e          jreq    xonfnxt0                ;skip - teammate
    4645                    
    4646 0001c280     b46e          move    *a3(RING_TIME),a14
         0001c290     0c40  
    4647                    
    4648                            ;if opponent is a sleeping drone, add (7fff-PTIME) to a14.
    4649 0001c2a0     b464          move    *a3(PTIME),a4
         0001c2b0     0030  
    4650 0001c2c0     0b44          cmpi    1,a4
         0001c2d0     fffe  
    4651 0001c2e0     ca04          jreq    xonfnosleephack
    4652                            ;sleeping drone
    4653 0001c2f0     03a4          neg     a4
    4654 0001c300     0b04          addi    07FFFH,a4
         0001c310     7fff  
    4655 0001c320     408e          add     a4,a14
    4656 0001c330           xonfnosleephack
    4657                    
    4658 0001c330     0b4e          cmpi    xonfout_time,a14
         0001c340     fe8c  
    4659 0001c350     c63d          jrle    xonfdone                ;no pain - opponent not inside long enough
    4660                    
    4661 0001c360     3ea1  xonfnxt0        dsj     a1,xonfloop0
    4662                    
    4663                            ;if we've fallen through to here, it's time to take some hurt.
    4664 0001c370     09c0          movi    -1,a0
         0001c380     ffff  
    4665 0001c390     b5a1          move    *a13(PLYRNUM),a1
         0001c3a0     0580  
    4666 0001c3b0     574a          clr     a10
    4667 0001c3c0     0d5f          calla   adjust_health
         0001c3d0 00000000! 
    4668 0001c3f0     c933          jrnc    xonfdone                ;still alive
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  104

    4669                    
    4670                            ;DEATH BY RING-OUT!
    4671                            ;do we need to start an animation here or does adjust_health take
    4672                            ; care of that for us?
    4673 0001c400           xonfring_out_death
    4674 0001c400                   SETMODE DEAD
    4675                    
    4676                            ;if we have any living teammates, go home right now.  if we're 
    4677                            ; the only one left, do the disqual stuff.
    4678                    
    4679                            ;loop through processes looking for a living teammate (or a zombie)
    4680 0001c4b0     b5a0          move    *a13(PLYR_SIDE),a0
         0001c4c0     05b0  
    4681 0001c4d0     18e1          movk    NUM_WRES,a1
    4682 0001c4e0     09e2          movi    process_ptrs,a2
         0001c4f0 00000000! 
    4683                    
    4684 0001c510     9643  xonfloop1       move    *a2+,a3,L
    4685 0001c520     ca0f          jrz     xonfnxt1                ;skip - inactive
    4686                    
    4687 0001c530     486d          cmp     a3,a13
    4688 0001c540     ca0d          jreq    xonfnxt1                ;skip - self
    4689                    
    4690 0001c550     b46e          move    *a3(PLYR_SIDE),a14
         0001c560     05b0  
    4691 0001c570     49c0          cmp     a14,a0
    4692 0001c580     cb09          jrne    xonfnxt1                ;skip - not a teammate
    4693                    
    4694 0001c590     b46e          move    *a3(PLYRMODE),a14
         0001c5a0     05c0  
    4695 0001c5b0     0b4e          cmpi    MODE_DEAD,a14
         0001c5c0     fff6  
    4696 0001c5d0     cb15          jrne    xonfdone                ;found a living teammate - skip disqual
    4697                    
    4698 0001c5e0     b46e          move    *a3(STATUS_FLAGS),a14
         0001c5f0     0b50  
    4699 0001c600     1f8e          btst    B_ZOMBIE,a14
    4700 0001c610     cb11          jrnz    xonfdone                ;found a zombie - skip disqual
    4701                    
    4702 0001c620     3e41  xonfnxt1        dsj     a1,xonfloop1
    4703                    
    4704 0001c630                   CREATE  CYCPID,CREATE_DISQUAL
    4705 0001c6b0                   CREATE  ANNC_PID,announce_rnd_winner
    4706                            .if DEBUG
    4707                            move    a13,*a0(PDATA),L        ;xonfCREATOR (pdata)
    4708                            movi    $,a14
    4709                            move    a14,*a0(PDATA+20h),L    ;xonfORIGIN
    4710                            .endif
    4711 0001c730     0960  xonfdone        rets
    4712                    
    4713                    
    4714 0001c740           xonfdead        ;oops - we're dead.  If RING_TIME is negative, we've just died
    4715                            ; outside the ring and we need to set it to 1.  If it's positive,
    4716                            ; just increment it and go home
    4717 0001c740     b5a0          move    *a13(RING_TIME),a0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  105

         0001c750     0c40  
    4718 0001c760     c101          jrp     xonfinc
    4719 0001c770     5600          clr     a0
    4720 0001c780     1020  xonfinc inc     a0
    4721 0001c790     b00d          move    a0,*a13(RING_TIME)
         0001c7a0     0c40  
    4722 0001c7b0     0960          rets
    4723                            
    4724                    *****************************************************************************
    4725                    * Stuff to deal with changed skirt pallettes
    4726                    
    4727 0001c7c0            SUBR   INIT_SKIRTS
    4728 0001c7c0     09e9          MOVI    SKIRTS_DEST,A9
         0001c7d0 0001cd40' 
    4729 0001c7f0     188a          MOVK    4,A10
    4730 0001c800           INIT_NEXT_SKIRT_PAL
    4731 0001c800     9720          MOVE    *A9+,A0,L
    4732 0001c810     0d5f          CALLA   pal_getf
         0001c820 00000000! 
    4733 0001c840     3caa          DSJS    A10,INIT_NEXT_SKIRT_PAL
    4734 0001c850     0960          RETS
    4735                    
    4736 0001c860            SUBR   CHANGE_SKIRTS2
    4737                    ;       move    @match_cnt,a14
    4738                    ;       dec     a14
    4739                    ;       andi    07h,a14
    4740                    ;       janz    SUCIDE
    4741 0001c860     05a0          MOVE    @WHICH_SKIRT_PAL,A0
         0001c870 00000700- 
    4742 0001c890     c019          JRUC    SKIRT_RENTER
    4743                    
    4744 0001c8a0            SUBR   CHANGE_SKIRTS
    4745                    ;       move    @match_cnt,a14
    4746                    ;       dec     a14
    4747                    ;       andi    07h,a14
    4748                    ;       janz    SUCIDE
    4749 0001c8a0     05a0          MOVE    @WHICH_SKIRT_PAL,A0
         0001c8b0 00000700- 
    4750 0001c8d0     ca02          JRZ     RANDOM_SKIRT
    4751 0001c8e0     1420          DEC     A0
    4752 0001c8f0     c010          JRUC    NO_NEED_TO_RAND_SKIRT
    4753                    
    4754 0001c900           RANDOM_SKIRT
    4755 0001c900     1820          MOVK    1,A0
    4756 0001c910     0580          MOVE    A0,@WHICH_SKIRT_PAL
         0001c920 00000700- 
    4757                    
    4758 0001c940     09c0          movi    50,a0
         0001c950     0032  
    4759 0001c960     0d5f          calla   RNDPER
         0001c970 00000000! 
    4760 0001c990     c280          jals    SUCIDE
         0001c9a0 00000000! 
    4761                    
    4762 0001c9c0     1900          MOVK    8,A0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  106

    4763 0001c9d0     0d5f          CALLA   RNDRNG0
         0001c9e0 00000000! 
    4764 0001ca00           NO_NEED_TO_RAND_SKIRT
    4765 0001ca00     0580          MOVE    A0,@WHICH_SKIRT_PAL
         0001ca10 00000700- 
    4766 0001ca30           SKIRT_RENTER
    4767 0001ca30     24e0          SLL     7,A0
    4768 0001ca40     0b20          ADDI    SKIRTS,A0
         0001ca50 0001cdc0' 
    4769 0001ca70     4c08          MOVE    A0,A8
    4770 0001ca80     09e9          MOVI    SKIRTS_DEST,A9
         0001ca90 0001cd40' 
    4771 0001cab0     09eb          MOVI    CHANGE_NUMBERS,A11
         0001cac0 0001ccc0' 
    4772 0001cae0     188a          MOVK    4,A10
    4773 0001caf0           CHANGE_NEXT_PAL
    4774 0001caf0     9720          MOVE    *A9+,A0,L
    4775 0001cb00     0d5f          CALLA   pal_find
         0001cb10 00000000! 
    4776 0001cb30     2f20          SRL     7,A0
    4777 0001cb40     24e0          SLL     7,A0
    4778 0001cb50     9561          MOVE    *A11+,A1
    4779 0001cb60     5401          OR      A0,A1
    4780 0001cb70     9700          MOVE    *A8+,A0,L
    4781 0001cb80     0b00          ADDI    010H,A0
         0001cb90     0010  
    4782 0001cba0     9562          MOVE    *A11+,A2
    4783 0001cbb0           DO_PAL_AGAIN
    4784 0001cbb0     0d5f          CALLA   pal_set
         0001cbc0 00000000! 
    4785 0001cbe0     cb09          JRNZ    SETUP_NEXT_ONE
    4786                    ;FOR SOME REASON WE CANT SEEM TO RE-DO THIS PAL
    4787                    ;JUST HIT "GO"
    4788                            .IF     DEBUG
    4789                            LOCKUP
    4790                            .ENDIF
    4791 0001cbf0                   PUSHP   A0,A1,A2
    4792 0001cc10                   SLEEPK  1
    4793 0001cc50                   PULLP   A0,A1,A2
    4794 0001cc70     c0f3          JRUC    DO_PAL_AGAIN
    4795                    
    4796 0001cc80           SETUP_NEXT_ONE
    4797 0001cc80     3f4a          DSJS    A10,CHANGE_NEXT_PAL
    4798 0001cc90                   DIE
    4799                    
    4800 0001ccc0           CHANGE_NUMBERS
    4801 0001ccc0     0000          .WORD   0,21
    4802 0001cce0     0000          .WORD   0,32
    4803 0001cd00     001e          .WORD   30,48
    4804 0001cd20     0000          .WORD   0,38
    4805                    
    4806 0001cd40           SKIRTS_DEST
    4807 0001cd40 00000000!         .LONG   matl_P,NUGRND_P,NUGRND_P,DKCUR_P        ;purple
    4808 0001cdc0           SKIRTS
    4809                    ;BLUE_SKIRT
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  107

    4810 0001cdc0 00000000!         .LONG   matl_P,NUGRND_P,CURTREDP,DKCURRP ;red
    4811 0001ce40 00000000!         .LONG   matl_P,NUGRND_P,NUGRND_P+(30*16),DKCUR_P ;purple
    4812                    ;RED_SKIRT
    4813 0001cec0 0001dea0'         .LONG   MTRIMRP,RSKIRTRP,CURTBLUP,DKCURBP ;blue
    4814 0001cf40 0001dea0'         .LONG   MTRIMRP,RSKIRTRP,NUGRND_P+(30*16),DKCUR_P ;purple
    4815                    ;BLACK_SKIRT
    4816 0001cfc0 0001e000'         .LONG   MTRIMWP,RSKIRTWP,CURTBLUP,DKCURBP ;blue
    4817 0001d040 0001e000'         .LONG   MTRIMWP,RSKIRTWP,NUGRND_P+(30*16),DKCUR_P ;purple
    4818 0001d0c0 0001e000'         .LONG   MTRIMWP,RSKIRTWP,CURTREDP,DKCURRP ;red
    4819                    ;PURPLE_SKIRT
    4820 0001d140 0001dd40'         .LONG   MTRIMPP,RSKIRTPP,CURTBLUP,DKCURBP ;blue
    4821 0001d1c0 0001dd40'         .LONG   MTRIMPP,RSKIRTPP,CURTREDP,DKCURRP ;red
    4822                    
    4823 0001d240           CURTBLUP:
    4824 0001d240     0030     .word   48 
    4825 0001d250     0000     .word   00000h,02112h,01d12h,01cf1h,018d1h,018d0h,014d0h,014b0h
    4826 0001d2d0     10af     .word   010afh,0108fh,00c8eh,00c6eh,00c6eh,0084dh,0084dh,0084ch
    4827 0001d350     042c     .word   0042ch,0042ch,0042bh,0042bh,0042bh,0000bh,0000bh,0000ah
    4828 0001d3d0     000a     .word   0000ah,0000ah,0000ah,0000ah,0000ah,00009h,00009h,00009h
    4829 0001d450     0009     .word   00009h,00009h,00008h,00008h,00008h,00007h,00007h,00007h
    4830 0001d4d0     0007     .word   00007h,00006h,00006h,00006h,00005h,00005h,00005h,00005h
    4831                    
    4832 0001d550           CURTREDP:
    4833 0001d550     0030     .word   48 
    4834 0001d560     0000     .word   00000h,04508h,044e7h,040c6h,040c6h,040a5h,03c84h,03c84h
    4835 0001d5e0     3c63     .word   03c63h,03863h,03842h,03842h,03421h,03421h,03400h,03000h
    4836 0001d660     3000     .word   03000h,03000h,02c00h,02c00h,02c00h,02c00h,02c00h,02800h
    4837 0001d6e0     2800     .word   02800h,02800h,02800h,02800h,02400h,02400h,02400h,02400h
    4838 0001d760     2400     .word   02400h,02400h,02000h,02000h,02000h,01c00h,01c00h,01c00h
    4839 0001d7e0     1800     .word   01800h,01800h,01800h,01400h,01400h,01400h,01000h,01000h
    4840                    
    4841 0001d860           DKCURBP:
    4842 0001d860     0026     .word   38 
    4843 0001d870     0000     .word   00000h,004aah,0048ah,00469h,0048ah,00469h,00449h,00448h
    4844 0001d8f0     044a     .word   0044ah,00449h,00427h,00448h,00428h,00427h,00407h,00428h
    4845 0001d970     0406     .word   00406h,00426h,00406h,00406h,00405h,00407h,00405h,00406h
    4846 0001d9f0     0405     .word   00405h,00404h,00406h,00405h,00404h,00405h,00403h,00404h
    4847 0001da70     0403     .word   00403h,00404h,00402h,00404h,00403h,00403h
    4848                    
    4849 0001dad0           DKCURRP:
    4850 0001dad0     0026     .word   38 
    4851 0001dae0     0000     .word   00000h,02400h,02400h,02400h,02400h,02400h,02400h,02400h
    4852 0001db60     1c00     .word   01c00h,01c00h,02400h,01c00h,01c00h,01c00h,01c00h,01c00h
    4853 0001dbe0     1c00     .word   01c00h,01c00h,01c00h,01c00h,01c00h,01400h,01c00h,01400h
    4854 0001dc60     1c00     .word   01c00h,01c00h,01400h,01400h,01400h,01400h,01400h,01400h
    4855 0001dce0     1400     .word   01400h,01400h,01400h,00c00h,00c00h,00c00h
    4856                    
    4857 0001dd40           MTRIMPP:
    4858 0001dd40     0015     .word   21 
    4859 0001dd50     0000     .word   00000h,06ebeh,06a5dh,0661ch,061bch,05d7bh,0593ah,054f9h
    4860 0001ddd0     54b8     .word   054b8h,05078h,05037h,04c16h,03c14h,03811h,0300fh,02c0dh
    4861 0001de50     280c     .word   0280ch,0240bh,0200ah,01c09h,01c08h
    4862                    
    4863 0001dea0           MTRIMRP:
    4864 0001dea0     0015     .word   21 
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  108

    4865 0001deb0     0000     .word   00000h,07f39h,07ab5h,07652h,071efh,06d8ch,06929h,064c6h
    4866 0001df30     6084     .word   06084h,05c21h,05800h,05000h,04800h,04000h,03400h,03000h
    4867 0001dfb0     3000     .word   03000h,02c00h,02800h,02800h,02400h
    4868                    
    4869 0001e000           MTRIMWP:
    4870 0001e000     0015     .word   21 
    4871 0001e010     0000     .word   00000h,06f7bh,06739h,05ef8h,056b6h,04e74h,04633h,041f1h
    4872 0001e090     39af     .word   039afh,0318eh,02d4ch,0294bh,0252ah,02509h,02108h,01ce8h
    4873 0001e110     18c7     .word   018c7h,018c6h,014a5h,01084h,00c63h
    4874                    
    4875 0001e160           RSKIRTPP:
    4876 0001e160     001f     .word   31 
    4877 0001e170     0000     .word   00000h,06ebeh,06a7dh,0663ch,065fch,061bbh,0619ah,05d5ah
    4878 0001e1f0     5d39     .word   05d39h,058f8h,054d8h,05497h,05077h,05036h,04c16h,04c15h
    4879 0001e270     4414     .word   04414h,04012h,03811h,0340fh,0300eh,0280ch,0240bh,01c0ah
    4880 0001e2f0     200a     .word   0200ah,01c09h,01408h,01007h,00805h,00804h,00803h
    4881                    
    4882 0001e360           RSKIRTRP:
    4883 0001e360     001f     .word   31 
    4884 0001e370     0000     .word   00000h,076b5h,07273h,07231h,06defh,06dadh,0698ch,0694ah
    4885 0001e3f0     6529     .word   06529h,064e7h,060c6h,06084h,05c63h,05c42h,05800h,05800h
    4886 0001e470     5000     .word   05000h,04c00h,04400h,04000h,03c00h,03400h,03000h,02800h
    4887 0001e4f0     2400     .word   02400h,02000h,01800h,01400h,00c00h,00800h,00400h
    4888                    
    4889 0001e560           RSKIRTWP:
    4890 0001e560     001f     .word   31 
    4891 0001e570     0000     .word   00000h,06b59h,06718h,05ef7h,05ad6h,05294h,04e73h,04a32h
    4892 0001e5f0     4611     .word   04611h,03df0h,039cfh,035aeh,0316ch,02d4bh,0292ah,02509h
    4893 0001e670     2109     .word   02109h,020e8h,01ce7h,01ce7h,01cc6h,018c6h,018c5h,014a5h
    4894 0001e6f0     14a4     .word   014a4h,01084h,01083h,01083h,00c63h,00c63h,00c63h
    4895                    
    4896                    ********************************
    4897                    
    4898 0001e760            SUBR    BROKEN_ARM_BLOOD
    4899                    
    4900 0001e760     05ae          move    @no_debris,a14
         0001e770 00000000! 
    4901 0001e790     cb28          jrnz    ndnano_bab
    4902 0001e7a0     05ae          move    @reduce_bog,a14
         0001e7b0 00000000! 
    4903 0001e7d0     cb24          jrnz    ndnano_bab
    4904                    
    4905 0001e7e0     b7ab          MOVE    *A13(WHOIHIT),A11,L
         0001e7f0     0500  
    4906 0001e800     1a09          movk    M_FLIPH,A9
    4907 0001e810                   CREATE  DEBRIS_PID,DO_BLOOD_1
    4908                    
    4909 0001e890     5729          CLR     A9
    4910 0001e8a0                   CREATE  DEBRIS_PID,DO_BLOOD_1
    4911                    
    4912 0001e920     1840          MOVK    2,A0
    4913 0001e930     0d5f          CALLA   RNDRNG0
         0001e940 00000000! 
    4914 0001e960     1020          INC     A0
    4915 0001e970     1020          INC     A0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  109

    4916 0001e980     4c09          MOVE    A0,A9
    4917 0001e990           DO_ANOTHER_GLOBB
    4918 0001e990                   CREATE  DEBRIS_PID,GLOB_BLOOD
    4919 0001ea10     3d29          DSJS    A9,DO_ANOTHER_GLOBB
    4920                    
    4921 0001ea20     0960  ndnano_bab      RETS
    4922                    
    4923 0001ea30           DO_BLOOD_1
    4924 0001ea30                   PUSH    A9
    4925 0001ea40     5600          CLR     A0
    4926 0001ea50     5621          CLR     A1
    4927 0001ea60     09e2          movi    SPITUP01,a2
         0001ea70 00000000! 
    4928 0001ea90     5663          CLR     A3
    4929 0001eaa0     09e4          movi    DMAWNZ,a4                       ;DMA flags
         0001eab0 00008002  
    4930 0001ead0     56a5          clr     a5                              ;object ID
    4931 0001eae0     56c6          clr     a6                              ;x vel
    4932 0001eaf0     56e7          clr     a7                              ;y vel
    4933 0001eb00     0d5f          CALLA   BEGINOBJ
         0001eb10 00000000! 
    4934 0001eb30     b30d          move    a8,*a13(SP_OBJ),L
         0001eb40     0230  
    4935                    
    4936 0001eb50     09e0          MOVI    SPITPUS_P,A0
         0001eb60 000263c0' 
    4937 0001eb80     0d5f          CALLA   pal_getf
         0001eb90 00000000! 
    4938 0001ebb0     b008          MOVE    A0,*A8(OPAL)
         0001ebc0     0150  
    4939                    
    4940 0001ebd0     b56a          move    *a11(WRESTLERNUM),A10
         0001ebe0     0590  
    4941 0001ebf0     24ca          SLL     6,A10
    4942 0001ec00     09e7          MOVI    ARM_TBL,A7
         0001ec10 00022f40' 
    4943 0001ec30     4147          ADD     A10,A7
    4944                    
    4945 0001ec40     b50e          MOVE    *A8(OCTRL),A14
         0001ec50     00f0  
    4946 0001ec60                   PULL    A1
    4947 0001ec70     542e          OR      A1,A14
    4948 0001ec80     b1c8          MOVE    A14,*A8(OCTRL)
         0001ec90     00f0  
    4949 0001eca0     b1cd          move    a14,*a13(SP_OBJCONTROL)
         0001ecb0     0180  
    4950                    
    4951 0001ecc0     09e0          MOVI    [0,8000h],A0
         0001ecd0 00008000  
    4952 0001ecf0     0b8e          ANDI    M_FLIPH,A14
         0001ed00 ffffffef  
    4953 0001ed20     ca01          JRZ     IF_WE_NEED_TOB
    4954 0001ed30     03a0          NEG     A0
    4955 0001ed40           IF_WE_NEED_TOB
    4956 0001ed40     b20d          MOVE    A0,*A13(SP_OBJ_XVEL),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  110

         0001ed50     03a0  
    4957                    
    4958 0001ed60     b760          move    *a11(OBJ_ZPOS),A0,L
         0001ed70     0140  
    4959 0001ed80     0be0          SUBI    2,A0
         0001ed90     fffd  
    4960 0001eda0     b20d          move    A0,*A13(SP_OBJ_ZPOS),L
         0001edb0     0140  
    4961                    
    4962 0001edc0     b760          move    *a11(OBJ_XPOS),a0,L
         0001edd0     0100  
    4963 0001ede0     96e1          MOVE    *A7+,A1,L
    4964                    
    4965 0001edf0     b56e          MOVE    *A11(OBJ_CONTROL),A14
         0001ee00     0780  
    4966 0001ee10     0b8e          ANDI    M_FLIPH,A14
         0001ee20 ffffffef  
    4967 0001ee40     ca01          JRZ     NO_NEG_XPOS
    4968 0001ee50     03a1          NEG     A1
    4969 0001ee60           NO_NEG_XPOS
    4970 0001ee60     4020          add     A1,a0
    4971 0001ee70     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         0001ee80     0100  
    4972                    
    4973 0001ee90     b760          MOVE    *a11(OBJ_YPOS),a0,L
         0001eea0     0120  
    4974 0001eeb0     96e1          MOVE    *A7+,A1,L
    4975 0001eec0     4420          sub     A1,a0
    4976 0001eed0     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         0001eee0     0120  
    4977                    
    4978 0001eef0     09e0          MOVI    40000H,A0
         0001ef00 00040000  
    4979 0001ef20     b20d          move    A0,*a13(SP_OBJ_YVEL),L
         0001ef30     03c0  
    4980                    
    4981 0001ef40     09e9          MOVI    ARM_BLOOD,A9
         0001ef50 000225c0' 
    4982                    
    4983 0001ef70     c000          JRUC    RE_ENTER_FOR_BLOOD
         0001ef80     0082  
    4984                    
    4985 0001ef90            SUBRP  CREATE_SWEAT
    4986                    
    4987 0001ef90     05ae          MOVE    @NUM_OPPS,A14
         0001efa0 00000000! 
    4988 0001efc0     0b4e          CMPI    3,A14
         0001efd0     fffc  
    4989 0001efe0     ca00          JREQ    NO_DO_SWEAT
         0001eff0     00ac  
    4990                    
    4991 0001f000     b500          MOVE    *A8(010H),A0
         0001f010     0010  
    4992 0001f020     0d5f          calla   RNDPER
         0001f030 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  111

    4993 0001f050     c200          JRLS    NO_DO_SWEAT
         0001f060     00a5  
    4994                    
    4995 0001f070            SUBRP  AUTOMATIC_SWEAT
    4996                    
    4997 0001f070     05ae          move    @no_debris,a14
         0001f080 00000000! 
    4998 0001f0a0     cb00          jrnz    NO_DO_SWEAT
         0001f0b0     00a0  
    4999 0001f0c0     05ae          move    @reduce_bog,a14
         0001f0d0 00000000! 
    5000 0001f0f0     cb00          jrnz    NO_DO_SWEAT
         0001f100     009b  
    5001                    
    5002 0001f110     1840          movk    2,A0
    5003 0001f120     0d5f          CALLA   RNDRNG0
         0001f130 00000000! 
    5004 0001f150     1020          INC     A0
    5005 0001f160     05ae          MOVE    @NUM_OPPS,A14
         0001f170 00000000! 
    5006 0001f190     0b4e          CMPI    2,A14
         0001f1a0     fffd  
    5007 0001f1b0     c701          JRGT    NOT_SO_MUCH
    5008 0001f1c0     1020          INC     A0
    5009 0001f1d0           NOT_SO_MUCH
    5010 0001f1d0     4c09          MOVE    A0,A9
    5011 0001f1e0           DO_ANOTHER_GLOB
    5012 0001f1e0                   CREATE  DEBRIS_PID,GLOB_SWEAT
    5013 0001f260     3d29          DSJS    A9,DO_ANOTHER_GLOB
    5014                    
    5015 0001f270                   push    a8
    5016                    
    5017 0001f280     5600          CLR     A0
    5018 0001f290     5621          CLR     A1
    5019 0001f2a0     09e2          movi    SPITUP01,a2
         0001f2b0 00000000! 
    5020 0001f2d0     5663          CLR     A3
    5021 0001f2e0     09e4          movi    DMAWNZ,a4                       ;DMA flags
         0001f2f0 00008002  
    5022 0001f310     56a5          clr     a5                              ;object ID
    5023 0001f320     56c6          clr     a6                              ;x vel
    5024 0001f330     56e7          clr     a7                              ;y vel
    5025 0001f340     0d5f          CALLA   BEGINOBJ
         0001f350 00000000! 
    5026 0001f370     b30d          move    a8,*a13(SP_OBJ),L
         0001f380     0230  
    5027                    
    5028                    ;       CALLR   WHICH_SWEAT_PAL
    5029                    
    5030 0001f390                   pull    a7
    5031 0001f3a0     84e9          move    *a7,a9
    5032 0001f3b0     b56a          move    *a11(WRESTLERNUM),A10
         0001f3c0     0590  
    5033 0001f3d0     24ca          SLL     6,A10
    5034 0001f3e0     0b29          addi    WHICH_SWEAT,A9
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  112

         0001f3f0 00022540' 
    5035 0001f410     b727          MOVE    *A9(020H),A7,L
         0001f420     0020  
    5036 0001f430     4147          ADD     A10,A7
    5037                    
    5038 0001f440     8720          MOVE    *A9,A0,L
    5039 0001f450     0b60          CMPI    SPRAYB,A0
         0001f460 fffdce7f' 
    5040 0001f480     cb66          JRNE    NORMAL_SWEAT
    5041                    
    5042 0001f490     b56e          MOVE    *A11(OBJ_CONTROL),A14
         0001f4a0     0780  
    5043 0001f4b0     0bce          XORI    M_FLIPH,A14
         0001f4c0 00000010  
    5044 0001f4e0     0bae          ORI     DMAWNZ,A14
         0001f4f0 00008002  
    5045 0001f510     b1cd          move    a14,*a13(SP_OBJCONTROL)
         0001f520     0180  
    5046 0001f530     b1c8          MOVE    A14,*A8(OCTRL)
         0001f540     00f0  
    5047                    
    5048 0001f550     09e0          MOVI    [3,0],A0
         0001f560 00030000  
    5049 0001f580     0b8e          ANDI    M_FLIPH,A14
         0001f590 ffffffef  
    5050 0001f5b0     ca01          JRZ     IF_WE_NEED_TO
    5051 0001f5c0     03a0          NEG     A0
    5052 0001f5d0           IF_WE_NEED_TO
    5053 0001f5d0     b20d          MOVE    A0,*A13(SP_OBJ_XVEL),L
         0001f5e0     03a0  
    5054                    
    5055 0001f5f0     b760          move    *a11(OBJ_ZPOS),A0,L
         0001f600     0140  
    5056 0001f610     0be0          SUBI    2,A0
         0001f620     fffd  
    5057 0001f630     b20d          move    A0,*A13(SP_OBJ_ZPOS),L
         0001f640     0140  
    5058                    
    5059 0001f650     b760          move    *a11(OBJ_XPOS),a0,L
         0001f660     0100  
    5060 0001f670     96e1          MOVE    *A7+,A1,L
    5061 0001f680     b56e          MOVE    *A11(OBJ_CONTROL),A14
         0001f690     0780  
    5062 0001f6a0     0b8e          ANDI    M_FLIPH,A14
         0001f6b0 ffffffef  
    5063 0001f6d0     ca01          jrz     NO_FLIP_X_POS
    5064 0001f6e0     03a1          NEG     A1
    5065 0001f6f0           NO_FLIP_X_POS
    5066 0001f6f0     4020          add     A1,a0
    5067 0001f700     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         0001f710     0100  
    5068                    
    5069 0001f720     b760          MOVE    *a11(OBJ_YPOS),a0,L
         0001f730     0120  
    5070 0001f740     96e1          MOVE    *A7+,A1,L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  113

    5071 0001f750     4420          sub     A1,a0
    5072 0001f760     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         0001f770     0120  
    5073                    
    5074 0001f780     5600          clr     a0
    5075 0001f790     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         0001f7a0     03c0  
    5076 0001f7b0           RE_ENTER_FOR_BLOOD
    5077 0001f7b0     5600          clr     a0
    5078 0001f7c0     b20d          move    a0,*a13(SP_SHADOW_OBJ),L
         0001f7d0     0250  
    5079                    
    5080                    
    5081 0001f7e0     09e0          MOVI    [2,0],A0
         0001f7f0 00020000  
    5082 0001f810     0d5f          CALLA   RNDRNG0
         0001f820 00000000! 
    5083 0001f840     0d00          SUBI    [1,0],A0
         0001f850 fffeffff  
    5084 0001f870     b20d          MOVE    A0,*A13(SP_OBJ_ZVEL),L
         0001f880     03e0  
    5085                    
    5086 0001f890     09c0          movi    0200h,a0
         0001f8a0     0200  
    5087 0001f8b0     b20d          move    a0,*a13(SP_GRAVITY),L
         0001f8c0     0380  
    5088                    
    5089 0001f8d0     5600          clr     a0
    5090 0001f8e0     b00d          move    a0,*a13(SP_DIE)
         0001f8f0     01f0  
    5091                    
    5092 0001f900     09c0          movi    60,a0
         0001f910     003c  
    5093 0001f920     b00d          move    a0,*a13(SP_LIFESPAN)
         0001f930     01e0  
    5094                    
    5095 0001f940     b7a8          move    *a13(SP_OBJ),a8,L
         0001f950     0230  
    5096                    
    5097 0001f960     8720          MOVE    *A9,A0,L
    5098 0001f970     0d5f          calla   sp_change_anim
         0001f980 0000b860' 
    5099                    
    5100 0001f9a0           ndnalp2
    5101                    
    5102 0001f9a0                   SLEEPK  2
    5103                    
    5104 0001f9e0     0d3f          CALLR   sp_velocity_add
         0001f9f0     eb45  
    5105 0001fa00     0d3f          CALLR   sp_update_pos_single
         0001fa10     ebb9  
    5106 0001fa20     0d3f          callr   sp_animate
         0001fa30     ebee  
    5107                    
    5108 0001fa40     b5a0          move    *a13(SP_DIE),a0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  114

         0001fa50     01f0  
    5109 0001fa60     caf3          jrz     ndnalp2
    5110                    
    5111 0001fa70     b7a0          move    *a13(SP_OBJ),a0,L
         0001fa80     0230  
    5112 0001fa90     0d5f          calla   DELOBJ
         0001faa0 00000000! 
    5113 0001fac0           NO_DO_SWEAT
    5114 0001fac0                   DIE
    5115                    
    5116 0001faf0           NORMAL_SWEAT
    5117                    
    5118 0001faf0     b56e          MOVE    *A11(OBJ_CONTROL),A14
         0001fb00     0780  
    5119 0001fb10     0b8e          ANDI    M_FLIPH,A14
         0001fb20 ffffffef  
    5120 0001fb40     0bae          ORI     DMAWNZ,A14
         0001fb50 00008002  
    5121 0001fb70     b1cd          move    a14,*a13(SP_OBJCONTROL)
         0001fb80     0180  
    5122 0001fb90     b1c8          MOVE    A14,*A8(OCTRL)
         0001fba0     00f0  
    5123                    
    5124 0001fbb0     b760          move    *a11(OBJ_ZPOS),A0,L
         0001fbc0     0140  
    5125 0001fbd0     0be0          SUBI    2,A0
         0001fbe0     fffd  
    5126 0001fbf0     b20d          move    A0,*A13(SP_OBJ_ZPOS),L
         0001fc00     0140  
    5127                    
    5128 0001fc10     b760          move    *a11(OBJ_XPOS),a0,L
         0001fc20     0100  
    5129 0001fc30     96e1          MOVE    *A7+,A1,L
    5130 0001fc40     b56e          MOVE    *A11(OBJ_CONTROL),A14
         0001fc50     0780  
    5131 0001fc60     0b8e          ANDI    M_FLIPH,A14
         0001fc70 ffffffef  
    5132 0001fc90     ca01          jrz     NO_FLIP_X_POS4
    5133 0001fca0     03a1          NEG     A1
    5134 0001fcb0           NO_FLIP_X_POS4
    5135 0001fcb0     4020          add     A1,a0
    5136 0001fcc0     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         0001fcd0     0100  
    5137                    
    5138 0001fce0     b760          MOVE    *a11(OBJ_YPOS),a0,L
         0001fcf0     0120  
    5139 0001fd00     96e1          MOVE    *A7+,A1,L
    5140 0001fd10     4420          sub     A1,a0
    5141 0001fd20     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         0001fd30     0120  
    5142                    
    5143 0001fd40     5600          clr     a0
    5144 0001fd50     b20d          move    a0,*a13(SP_SHADOW_OBJ),L
         0001fd60     0250  
    5145 0001fd70     b20d          move    a0,*a13(SP_OBJ_YVEL),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  115

         0001fd80     03c0  
    5146 0001fd90     b20d          MOVE    A0,*A13(SP_OBJ_XVEL),L
         0001fda0     03a0  
    5147                    
    5148 0001fdb0     09e0          MOVI    [2,0],A0
         0001fdc0 00020000  
    5149 0001fde0     0d5f          CALLA   RNDRNG0
         0001fdf0 00000000! 
    5150 0001fe10     0d00          SUBI    [1,0],A0
         0001fe20 fffeffff  
    5151 0001fe40     b20d          MOVE    A0,*A13(SP_OBJ_ZVEL),L
         0001fe50     03e0  
    5152                    
    5153 0001fe60     09c0          movi    0200h,a0
         0001fe70     0200  
    5154 0001fe80     b20d          move    a0,*a13(SP_GRAVITY),L
         0001fe90     0380  
    5155                    
    5156 0001fea0     5600          clr     a0
    5157 0001feb0     b00d          move    a0,*a13(SP_DIE)
         0001fec0     01f0  
    5158                    
    5159 0001fed0     09c0          movi    60,a0
         0001fee0     003c  
    5160 0001fef0     b00d          move    a0,*a13(SP_LIFESPAN)
         0001ff00     01e0  
    5161                    
    5162 0001ff10     b7a8          move    *a13(SP_OBJ),a8,L
         0001ff20     0230  
    5163                    
    5164 0001ff30     8720          MOVE    *A9,A0,L
    5165                    
    5166 0001ff40     0b60          CMPI    COUGH,A0
         0001ff50 fffdcaff' 
    5167 0001ff70     cb08          JRNE    NO_RAND_COUGH
    5168 0001ff80     05ae          MOVE    @ROLLING_COUNT,A14
         0001ff90 00000000! 
    5169 0001ffb0     2fee          SRL     1,A14
    5170 0001ffc0     c903          JRNC    NO_RAND_COUGH
    5171 0001ffd0     09e0          MOVI    SPITAN,A0
         0001ffe0 000236c0' 
    5172 00020000           NO_RAND_COUGH
    5173 00020000     0d5f          calla   sp_change_anim
         00020010 0000b860' 
    5174                    
    5175 00020030     c096          JRUC    ndnalp2
    5176                    
    5177 00020040           WHICH_SWEAT_PAL
    5178 00020040     b560          MOVE    *A11(WRESTLERNUM),A0
         00020050     0590  
    5179 00020060     0b40          CMPI    2,A0
         00020070     fffd  
    5180 00020080     ca07          JREQ    DO_BILE_PAL
    5181 00020090     0b40          CMPI    5,A0
         000200a0     fffa  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  116

    5182 000200b0     cb0c          JRNE    NO_NEW_SWEAT_PAL
    5183 000200c0     09e0          MOVI    SPITPUS_P,A0
         000200d0 000263c0' 
    5184 000200f0     c003          JRUC    GOT_NEW_PAL
    5185 00020100           DO_BILE_PAL
    5186 00020100     09e0          MOVI    SPITBLE_P,A0
         00020110 00026530' 
    5187 00020130           GOT_NEW_PAL
    5188 00020130     0d5f          CALLA   pal_getf
         00020140 00000000! 
    5189 00020160     b008          MOVE    A0,*A8(OPAL)
         00020170     0150  
    5190 00020180           NO_NEW_SWEAT_PAL
    5191 00020180     0960          RETS
    5192                    
    5193 00020190           GLOB_BLOOD
    5194                    
    5195 00020190     5600          CLR     A0
    5196 000201a0     5621          CLR     A1
    5197 000201b0     09e2          movi    SPITUP01,a2
         000201c0 00000000! 
    5198 000201e0     5663          CLR     A3
    5199 000201f0     09e4          movi    DMAWNZ,a4                       ;DMA flags
         00020200 00008002  
    5200 00020220     56a5          clr     a5                              ;object ID
    5201 00020230     56c6          clr     a6                              ;x vel
    5202 00020240     56e7          clr     a7                              ;y vel
    5203 00020250     0d5f          CALLA   BEGINOBJ
         00020260 00000000! 
    5204 00020280     b30d          move    a8,*a13(SP_OBJ),L
         00020290     0230  
    5205                    
    5206 000202a0     09e0          MOVI    SPITPUS_P,A0
         000202b0 000263c0' 
    5207 000202d0     0d5f          CALLA   pal_getf
         000202e0 00000000! 
    5208 00020300     b008          MOVE    A0,*A8(OPAL)
         00020310     0150  
    5209                    
    5210 00020320     b56e          MOVE    *A11(OBJ_CONTROL),A14
         00020330     0780  
    5211 00020340     0b8e          ANDI    M_FLIPH,A14
         00020350 ffffffef  
    5212 00020370     0bae          ORI     DMAWNZ,A14
         00020380 00008002  
    5213 000203a0     b1cd          move    a14,*a13(SP_OBJCONTROL)
         000203b0     0180  
    5214 000203c0     b1c8          MOVE    A14,*A8(OCTRL)
         000203d0     00f0  
    5215                    
    5216 000203e0     b56a          move    *a11(WRESTLERNUM),A10
         000203f0     0590  
    5217 00020400     24ca          SLL     6,A10
    5218 00020410     09e7          MOVI    ARM_TBL,A7
         00020420 00022f40' 
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  117

    5219 00020440     4147          ADD     A10,A7
    5220                    
    5221 00020450     bb6d          move    *a11(OBJ_ZPOS),*A13(SP_OBJ_ZPOS),L
         00020460     0140  
         00020470     0140  
    5222                    
    5223 00020480     b760          move    *a11(OBJ_XPOS),a0,L
         00020490     0100  
    5224 000204a0     96e1          MOVE    *A7+,A1,L
    5225 000204b0     b56e          MOVE    *A11(OBJ_CONTROL),A14
         000204c0     0780  
    5226 000204d0     0b8e          ANDI    M_FLIPH,A14
         000204e0 ffffffef  
    5227 00020500     01e0          PUSHST
    5228 00020510     ca01          jrz     NO_FLIP_X_POS2BB
    5229 00020520     03a1          NEG     A1
    5230 00020530           NO_FLIP_X_POS2BB
    5231 00020530     4020          add     A1,a0
    5232 00020540     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         00020550     0100  
    5233                    
    5234 00020560     b760          MOVE    *a11(OBJ_YPOS),a0,L
         00020570     0120  
    5235 00020580     96e1          MOVE    *A7+,A1,L
    5236 00020590     4420          sub     A1,a0
    5237 000205a0     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         000205b0     0120  
    5238                    
    5239 000205c0     5600          clr     a0
    5240 000205d0     b20d          move    a0,*a13(SP_SHADOW_OBJ),L
         000205e0     0250  
    5241                    
    5242 000205f0     09e0          movi    [4,0],a0
         00020600 00040000  
    5243 00020620     0d5f          calla   RNDRNG0
         00020630 00000000! 
    5244 00020650     0d00          SUBI    [2,0],A0
         00020660 fffdffff  
    5245 00020680     b20d          move    a0,*a13(SP_OBJ_XVEL),L
         00020690     03a0  
    5246                    
    5247 000206a0     09e0          movi    [2,0],a0
         000206b0 00020000  
    5248 000206d0     0d5f          calla   RNDRNGS
         000206e0 00000000! 
    5249 00020700     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00020710     03e0  
    5250                    
    5251 00020720     09e0          movi    [3,0],a0
         00020730 00030000  
    5252 00020750     0d5f          calla   RNDRNGS
         00020760 00000000! 
    5253 00020780     0b20          addi    [6,0],a0
         00020790 00060000  
    5254 000207b0     b20d          move    a0,*a13(SP_OBJ_YVEL),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  118

         000207c0     03c0  
    5255                    
    5256 000207d0     09e0          movi    GRAVITY,a0
         000207e0 00008000  
    5257 00020800     b20d          move    a0,*a13(SP_GRAVITY),L
         00020810     0380  
    5258                    
    5259 00020820     b560          move    *a11(GROUND_Y),a0
         00020830     0570  
    5260 00020840     2600          sll     16,a0
    5261 00020850     b20d          move    a0,*a13(SP_GROUND_Y),L
         00020860     0360  
    5262                    
    5263 00020870     5600          clr     a0
    5264 00020880     b00d          move    a0,*a13(SP_DIE)
         00020890     01f0  
    5265                    
    5266 000208a0     09c0          movi    60,a0
         000208b0     003c  
    5267 000208c0     b00d          move    a0,*a13(SP_LIFESPAN)
         000208d0     01e0  
    5268                    
    5269 000208e0     b7a8          move    *a13(SP_OBJ),a8,L
         000208f0     0230  
    5270 00020900     1960          movk    11,A0
    5271 00020910     0d5f          CALLA   RNDRNG0
         00020920 00000000! 
    5272 00020940     24c0          SLL     6,A0
    5273 00020950     01c0          POPST
    5274 00020960     ce02          JRN     NO_NEED_TO_USE_RIGHT_ANIMB
    5275 00020970     0b00          ADDI    020H,A0
         00020980     0020  
    5276 00020990           NO_NEED_TO_USE_RIGHT_ANIMB
    5277 00020990     0b20          ADDI    WHICH_GLOB,A0
         000209a0 00022240' 
    5278 000209c0     8600          MOVE    *A0,A0,L
    5279 000209d0     0d5f          calla   sp_change_anim
         000209e0 0000b860' 
    5280 00020a00     c000          jruc    glob_loop
         00020a10     014a  
    5281                    
    5282 00020a20            SUBR   SPIN_SWEAT
    5283 00020a20     05ae          move    @no_debris,a14
         00020a30 00000000! 
    5284 00020a50     cb00          jrnz    NO_DO_SWEAT
         00020a60     ff05  
    5285 00020a70     05ae          move    @reduce_bog,a14
         00020a80 00000000! 
    5286 00020aa0     cb00          jrnz    NO_DO_SWEAT
         00020ab0     ff00  
    5287 00020ac0     b509          MOVE    *A8(010H),A9
         00020ad0     0010  
    5288 00020ae0     ca00          JRZ     NO_DO_SWEAT
         00020af0     fefc  
    5289 00020b00           ANOTHER_GLOB
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  119

    5290 00020b00                   CREATE  DEBRIS_PID,SPECIAL_GLOB_SWEAT
    5291 00020b80     3d29          DSJS    A9,ANOTHER_GLOB
    5292 00020b90                   DIE
    5293                    
    5294 00020bc0            SUBRP  SPECIAL_GLOB_SWEAT      ;process
    5295                    
    5296 00020bc0     09ee          movi    SPECIAL_GLOB_SWEAT,a14
         00020bd0 00020bc0' 
    5297 00020bf0     b3cd          move    a14,*a13(PROC_ORIGIN),L
         00020c00     0450  
    5298                    
    5299 00020c10                   push    a8
    5300                    
    5301 00020c20     5600          CLR     A0
    5302 00020c30     5621          CLR     A1
    5303 00020c40     09e2          movi    SPITUP01,a2
         00020c50 00000000! 
    5304 00020c70     5663          CLR     A3
    5305 00020c80     09e4          movi    DMAWNZ,a4                       ;DMA flags
         00020c90 00008002  
    5306 00020cb0     56a5          clr     a5                              ;object ID
    5307 00020cc0     56c6          clr     a6                              ;x vel
    5308 00020cd0     56e7          clr     a7                              ;y vel
    5309 00020ce0     0d5f          CALLA   BEGINOBJ
         00020cf0 00000000! 
    5310 00020d10     b30d          move    a8,*a13(SP_OBJ),L
         00020d20     0230  
    5311                    
    5312 00020d30     b90d          move    *A8(OCTRL),*a13(SP_OBJCONTROL)
         00020d40     00f0  
         00020d50     0180  
    5313                    
    5314 00020d60                   pull    a7
    5315 00020d70     84e7          move    *a7,a7
    5316 00020d80     24e7          SLL     7,A7
    5317 00020d90     0b27          ADDI    SPIN_SWEAT_ORIG,A7
         00020da0 00021060' 
    5318                    
    5319 00020dc0     96e1          MOVE    *A7+,A1,L
    5320 00020dd0     b76e          MOVE    *A11(OBJ_CONTROL),A14,L
         00020de0     0780  
    5321 00020df0     0b8e          ANDI    M_FLIPH,A14
         00020e00 ffffffef  
    5322 00020e20     cb01          JRNZ    NO_NEG_XPOS_START
    5323 00020e30     03a1          NEG     A1
    5324 00020e40           NO_NEG_XPOS_START
    5325 00020e40     b760          move    *a11(OBJ_XPOS),a0,L
         00020e50     0100  
    5326 00020e60     01e0          PUSHST
    5327 00020e70     4020          add     A1,a0
    5328 00020e80     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         00020e90     0100  
    5329                    
    5330 00020ea0     b760          MOVE    *a11(OBJ_ZPOS),a0,L
         00020eb0     0140  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  120

    5331 00020ec0     96e1          MOVE    *A7+,A1,L
    5332 00020ed0     4020          ADD     A1,a0
    5333 00020ee0     b20d          move    a0,*a13(SP_OBJ_ZPOS),L
         00020ef0     0140  
    5334                    
    5335 00020f00     b760          MOVE    *a11(OBJ_YPOS),a0,L
         00020f10     0120  
    5336 00020f20     0b20          ADDI    [64,0],A0
         00020f30 00400000  
    5337 00020f50     b20d          MOVE    A0,*A13(SP_OBJ_YPOS),L
         00020f60     0120  
    5338                    
    5339 00020f70     96e1          MOVE    *A7+,A1,L
    5340 00020f80     b76e          MOVE    *A11(OBJ_CONTROL),A14,L
         00020f90     0780  
    5341 00020fa0     0b8e          ANDI    M_FLIPH,A14
         00020fb0 ffffffef  
    5342 00020fd0     cb01          JRNZ    NO_NEG_XVEL_START
    5343 00020fe0     03a1          NEG     A1
    5344 00020ff0           NO_NEG_XVEL_START
    5345 00020ff0     b22d          move    a1,*a13(SP_OBJ_XVEL),L
         00021000     03a0  
    5346                    
    5347 00021010     96e0          MOVE    *A7+,A0,L
    5348 00021020     b22d          move    a1,*a13(SP_OBJ_ZVEL),L
         00021030     03e0  
    5349 00021040     c000          JRUC    GLOB_SWEAT_REENTER
         00021050     00b5  
    5350                    
    5351 00021060           SPIN_SWEAT_ORIG
    5352 00021060 ff880000          .LONG   [-120,0],[1,0],[-4,0],[0,0]
    5353 000210e0 ffc40000          .LONG   [-60,0],[-1,0],[-2,0],[-3,0]
    5354 00021160 ffe20000          .LONG   [-30,0],[-1,0],[-1,0],[-6,0]
    5355 000211e0 00000000          .LONG   [0,0],[-1,0],[0,0],[-10,0]
    5356 00021260 001e0000          .LONG   [30,0],[-1,0],[1,0],[-6,0]
    5357 000212e0 00460000          .LONG   [70,0],[-1,0],[2,0],[-3,0]
    5358 00021360 00780000          .LONG   [120,0],[1,0],[4,0],[0,0]
    5359 000213e0 00460000          .LONG   [70,0],[3,0],[2,0],[3,0]
    5360 00021460 001e0000          .LONG   [30,0],[3,0],[1,0],[6,0]
    5361 000214e0 00000000          .LONG   [0,0],[3,0],[0,0],[10,0]
    5362 00021560 ffce0000          .LONG   [-50,0],[3,0],[-2,0],[6,0]
    5363                    
    5364                    *****************************************************************************
    5365                    
    5366 000215e0            SUBRP  GLOB_SWEAT      ;process
    5367                    
    5368 000215e0     09ee          movi    GLOB_SWEAT,a14
         000215f0 000215e0' 
    5369 00021610     b3cd          move    a14,*a13(PROC_ORIGIN),L
         00021620     0450  
    5370                    
    5371 00021630                   push    a8
    5372                    
    5373 00021640     5600          CLR     A0
    5374 00021650     5621          CLR     A1
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  121

    5375 00021660     09e2          movi    SPITUP01,a2
         00021670 00000000! 
    5376 00021690     5663          CLR     A3
    5377 000216a0     09e4          movi    DMAWNZ,a4                       ;DMA flags
         000216b0 00008002  
    5378 000216d0     56a5          clr     a5                              ;object ID
    5379 000216e0     56c6          clr     a6                              ;x vel
    5380 000216f0     56e7          clr     a7                              ;y vel
    5381 00021700     0d5f          CALLA   BEGINOBJ
         00021710 00000000! 
    5382 00021730     b30d          move    a8,*a13(SP_OBJ),L
         00021740     0230  
    5383                    
    5384                    ;       CALLR   WHICH_SWEAT_PAL
    5385                    
    5386 00021750     b56e          MOVE    *A11(OBJ_CONTROL),A14
         00021760     0780  
    5387 00021770     0b8e          ANDI    M_FLIPH,A14
         00021780 ffffffef  
    5388 000217a0     0bae          ORI     DMAWNZ,A14
         000217b0 00008002  
    5389 000217d0     b1cd          move    a14,*a13(SP_OBJCONTROL)
         000217e0     0180  
    5390 000217f0     b1c8          MOVE    A14,*A8(OCTRL)
         00021800     00f0  
    5391                    
    5392 00021810                   pull    a7
    5393 00021820     84e9          move    *a7,a9
    5394 00021830     b56a          move    *a11(WRESTLERNUM),A10
         00021840     0590  
    5395 00021850     24ca          SLL     6,A10
    5396 00021860     0b29          addi    WHICH_SWEAT,A9
         00021870 00022540' 
    5397 00021890     b727          MOVE    *A9(020H),A7,L
         000218a0     0020  
    5398 000218b0     4147          ADD     A10,A7
    5399                    
    5400 000218c0     bb6d          move    *a11(OBJ_ZPOS),*A13(SP_OBJ_ZPOS),L
         000218d0     0140  
         000218e0     0140  
    5401                    
    5402 000218f0     b760          move    *a11(OBJ_XPOS),a0,L
         00021900     0100  
    5403 00021910     96e1          MOVE    *A7+,A1,L
    5404 00021920     b56e          MOVE    *A11(OBJ_CONTROL),A14
         00021930     0780  
    5405 00021940     0b8e          ANDI    M_FLIPH,A14
         00021950 ffffffef  
    5406 00021970     01e0          PUSHST
    5407 00021980     ca01          jrz     tclwNO_FLIP_X_POS2
    5408 00021990     03a1          NEG     A1
    5409 000219a0           tclwNO_FLIP_X_POS2
    5410 000219a0     4020          add     A1,a0
    5411 000219b0     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         000219c0     0100  
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  122

    5412                    
    5413 000219d0     b760          MOVE    *a11(OBJ_YPOS),a0,L
         000219e0     0120  
    5414 000219f0     96e1          MOVE    *A7+,A1,L
    5415 00021a00     4420          sub     A1,a0
    5416 00021a10     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         00021a20     0120  
    5417                    
    5418 00021a30     09e0          movi    [4,0],a0
         00021a40 00040000  
    5419 00021a60     0d5f          calla   RNDRNG0
         00021a70 00000000! 
    5420 00021a90     0b20          ADDI    [1,0],A0
         00021aa0 00010000  
    5421 00021ac0     01c0          POPST
    5422 00021ad0     cb01          JRNZ    tclwNO_FLIP_ANIM_XVEL
    5423 00021ae0     03a0          NEG     A0
    5424 00021af0           tclwNO_FLIP_ANIM_XVEL
    5425 00021af0     4c00          MOVE    A0,A0
    5426 00021b00     b20d          move    a0,*a13(SP_OBJ_XVEL),L
         00021b10     03a0  
    5427 00021b20     01e0          PUSHST
    5428                    
    5429 00021b30     09e0          movi    [2,0],a0
         00021b40 00020000  
    5430 00021b60     0d5f          calla   RNDRNGS
         00021b70 00000000! 
    5431 00021b90     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00021ba0     03e0  
    5432                    
    5433 00021bb0           GLOB_SWEAT_REENTER
    5434 00021bb0     5600          clr     a0
    5435 00021bc0     b20d          move    a0,*a13(SP_SHADOW_OBJ),L
         00021bd0     0250  
    5436                    
    5437 00021be0     09e0          movi    [3,0],a0
         00021bf0 00030000  
    5438 00021c10     0d5f          calla   RNDRNGS
         00021c20 00000000! 
    5439 00021c40     0b20          addi    [6,0],a0
         00021c50 00060000  
    5440 00021c70     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         00021c80     03c0  
    5441                    
    5442 00021c90     09e0          movi    GRAVITY,a0
         00021ca0 00008000  
    5443 00021cc0     b20d          move    a0,*a13(SP_GRAVITY),L
         00021cd0     0380  
    5444                    
    5445 00021ce0     b560          move    *a11(GROUND_Y),a0
         00021cf0     0570  
    5446 00021d00     2600          sll     16,a0
    5447 00021d10     b20d          move    a0,*a13(SP_GROUND_Y),L
         00021d20     0360  
    5448                    
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  123

    5449 00021d30     5600          clr     a0
    5450 00021d40     b00d          move    a0,*a13(SP_DIE)
         00021d50     01f0  
    5451                    
    5452 00021d60     09c0          movi    60,a0
         00021d70     003c  
    5453 00021d80     b00d          move    a0,*a13(SP_LIFESPAN)
         00021d90     01e0  
    5454                    
    5455 00021da0     b7a8          move    *a13(SP_OBJ),a8,L
         00021db0     0230  
    5456 00021dc0     1960          movk    11,A0
    5457 00021dd0     0d5f          CALLA   RNDRNG0
         00021de0 00000000! 
    5458 00021e00     24c0          SLL     6,A0
    5459 00021e10     01c0          POPST
    5460 00021e20     ce02          JRN     tclwNO_NEED_TO_USE_RIGHT_ANIM
    5461 00021e30     0b00          ADDI    020H,A0
         00021e40     0020  
    5462 00021e50           tclwNO_NEED_TO_USE_RIGHT_ANIM
    5463 00021e50     0b20          ADDI    WHICH_GLOB,A0
         00021e60 00022240' 
    5464 00021e80     8600          MOVE    *A0,A0,L
    5465 00021e90     0d5f          calla   sp_change_anim
         00021ea0 0000b860' 
    5466                    
    5467 00021ec0           glob_loop
    5468 00021ec0                   SLEEPK  1
    5469                    
    5470 00021f00     0d3f          CALLR   sp_velocity_add
         00021f10     e8f3  
    5471                    
    5472 00021f20     0d3f          CALLR   sp_update_pos_single
         00021f30     e967  
    5473                    
    5474 00021f40     0d3f          callr   sp_animate
         00021f50     e99c  
    5475                    
    5476 00021f60     b7a0          move    *a13(SP_OBJ_YVEL),a0,L  ;must have down velocity
         00021f70     03c0  
    5477 00021f80     ca20          JRZ     tclwno_gnd
    5478                    
    5479 00021f90     b5a0          move    *a13(SP_OBJ_YPOSINT),a0
         00021fa0     0130  
    5480 00021fb0     b5a1          move    *a13(SP_GROUND_Y+10h),a1
         00021fc0     0370  
    5481 00021fd0     4820          cmp     a1,a0                   ;a0-a1
    5482 00021fe0     c71a          jrgt    tclwno_gnd
    5483                    
    5484 00021ff0     2601          sll     16,a1
    5485 00022000     b22d          move    a1,*a13(SP_OBJ_YPOS),L
         00022010     0120  
    5486                    
    5487 00022020     5600          CLR     A0
    5488 00022030     b20d          MOVE    A0,*A13(SP_OBJ_YVEL),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  124

         00022040     03c0  
    5489 00022050     b20d          MOVE    A0,*A13(SP_OBJ_XVEL),L
         00022060     03a0  
    5490 00022070     b20d          MOVE    A0,*A13(SP_OBJ_ZVEL),L
         00022080     03e0  
    5491 00022090     b20d          move    a0,*a13(SP_GRAVITY),L
         000220a0     0380  
    5492                    
    5493 000220b0     09e0          MOVI    SPLASH_A,A0
         000220c0 00024f60' 
    5494 000220e0     05ae          move    @ROLLING_COUNT,A14
         000220f0 00000000! 
    5495 00022110     2fee          SRL     1,A14
    5496 00022120     c903          JRNC    tclwGOT_RIGHT_SPLASH_ANIM
    5497 00022130     09e0          MOVI    SPLASH_B,A0
         00022140 00025090' 
    5498 00022160           tclwGOT_RIGHT_SPLASH_ANIM
    5499                    
    5500 00022160     0d5f          calla   sp_change_anim
         00022170 0000b860' 
    5501 00022190           tclwno_gnd
    5502 00022190     b5a0          move    *a13(SP_DIE),a0
         000221a0     01f0  
    5503 000221b0     cad0          jrz     glob_loop
    5504                    
    5505 000221c0     b7a0          move    *a13(SP_OBJ),a0,L
         000221d0     0230  
    5506 000221e0     0d5f          calla   DELOBJ
         000221f0 00000000! 
    5507 00022210                   DIE
    5508                    
    5509                    *****************************************************************************
    5510                    
    5511 00022240           WHICH_GLOB
    5512 00022240 00023ac0'         .LONG   WAD_AL,WAD_AR
    5513 00022280 00023ac0'         .LONG   WAD_AL,WAD_AR
    5514 000222c0 00023ac0'         .LONG   WAD_AL,WAD_AR
    5515 00022300 00023c80'         .LONG   WAD_BL,WAD_BR
    5516 00022340 00023c80'         .LONG   WAD_BL,WAD_BR
    5517 00022380 00023e40'         .LONG   WAD_CL,WAD_CR
    5518 000223c0 00024060'         .LONG   WAD_DL,WAD_DR
    5519 00022400 00024060'         .LONG   WAD_DL,WAD_DR
    5520 00022440 00024130'         .LONG   WAD_EL,WAD_ER
    5521 00022480 00024350'         .LONG   WAD_FL,WAD_FR
    5522 000224c0 00024350'         .LONG   WAD_FL,WAD_FR
    5523 00022500 00024350'         .LONG   WAD_FL,WAD_FR
    5524                    
    5525 00022540           WHICH_SWEAT
    5526 00022540 000226c0'         .LONG   SPITUP,SPITUP_TBL
    5527 00022580 00023180'         .LONG   SPRAYB,SPRAYA_TBL
    5528 000225c0           ARM_BLOOD
    5529 000225c0 00023180'         .LONG   SPRAYB,SPRAYA_TBL
    5530 00022600 00023310'         .LONG   SPRAYC,SPRAYA_TBL
    5531 00022640 00023500'         .LONG   COUGH,COUGH_TBL
    5532 00022680 00023310'         .LONG   SPRAYC,SPRAYD_TBL
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  125

    5533                    
    5534 000226c0           SPITUP
    5535 000226c0                   WL      1,SPITUP01
    5536 000226f0                   WL      1,SPITUP02
    5537 00022720                   WL      1,SPITUP03
    5538 00022750                   WL      1,SPITUP04
    5539 00022780                   WL      1,SPITUP05
    5540 000227b0                   WL      1,SPITUP06
    5541 000227e0                   WL      1,SPITUP07
    5542 00022810                   WL      1,SPITUP08
    5543 00022840                   WL      1,SPITUP09
    5544 00022870     8002          .WORD   08002h
    5545                    
    5546 00022880           SPITUP_TBL
    5547 00022880 00130000          .LONG   [19,0],[-41,0]  ;BRET
    5548 000228c0 00250000          .LONG   [37,0],[-35,0]  ;RAZOR
    5549 00022900 00210000          .LONG   [33,0],[-31,0]  ;TAKER
    5550 00022940 002f0000          .LONG   [47,0],[-31,0]  ;YOKO
    5551 00022980 00250000          .LONG   [37,0],[-27,0]  ;SHAWN
    5552 000229c0 00370000          .LONG   [55,0],[-35,0]  ;BAM BAM
    5553 00022a00 002d0000          .LONG   [45,0],[-29,0]  ;DOINK
    5554 00022a40 00000000          .LONG   0,0     ;SPARE
    5555 00022a80 00190000          .LONG   [25,0],[-31,0]  ;LEX
    5556                    
    5557 00022ac0           SPRAYA_TBL
    5558 00022ac0 fffb0000          .LONG   [-5,0],[-109,0] ;BRET
    5559 00022b00 00000000          .LONG   [0,0],[-109,0]  ;RAZOR
    5560 00022b40 fffe0000          .LONG   [-2,0],[-109,0] ;TAKER
    5561 00022b80 fff90000          .LONG   [-7,0],[-97,0]  ;YOKO
    5562 00022bc0 fffa0000          .LONG   [-6,0],[-98,0]  ;SHAWN
    5563 00022c00 fffd0000          .LONG   [-3,0],[-109,0] ;BAM BAM
    5564 00022c40 000b0000          .LONG   [11,0],[-90,0]  ;DOINK
    5565 00022c80 00000000          .LONG   0,0     ;SPARE
    5566 00022cc0 fff70000          .LONG   [-9,0],[-103,0] ;LEX
    5567                    
    5568 00022d00           SPRAYD_TBL
    5569 00022d00 ffc40000          .LONG   [-60,0],[-40,0] ;BRET
    5570 00022d40 ffce0000          .LONG   [-50,0],[-80,0] ;RAZOR
    5571 00022d80 003c0000          .LONG   [60,0],[-100,0] ;TAKER
    5572 00022dc0 ffd80000          .LONG   [-40,0],[-100,0] ;YOKO
    5573 00022e00 ffc40000          .LONG   [-60,0],[-40,0] ;SHAWN
    5574 00022e40 ffc40000          .LONG   [-60,0],[-40,0] ;BAM BAM
    5575 00022e80 ffc40000          .LONG   [-60,0],[-40,0] ;DOINK
    5576 00022ec0 00000000          .LONG   0,0     ;SPARE
    5577 00022f00 ffc40000          .LONG   [-60,0],[-40,0] ;LEX
    5578                    
    5579 00022f40           ARM_TBL
    5580 00022f40 00120000          .LONG   [18,0],[-124,0] ;BRET
    5581 00022f80 00180000          .LONG   [24,0],[-120,0] ;RAZOR
    5582 00022fc0 001e0000          .LONG   [30,0],[-124,0] ;TAKER
    5583 00023000 00160000          .LONG   [22,0],[-110,0] ;YOKO
    5584 00023040 000e0000          .LONG   [14,0],[-118,0] ;SHAWN
    5585 00023080 00140000          .LONG   [20,0],[-120,0] ;BAM BAM
    5586 000230c0 00100000          .LONG   [16,0],[-110,0] ;DOINK
    5587 00023100 00000000          .LONG   0,0     ;SPARE
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  126

    5588 00023140 00100000          .LONG   [16,0],[-128,0] ;LEX
    5589                    
    5590 00023180           SPRAYB
    5591 00023180                   WL      1,SPRAYB01
    5592 000231b0                   WL      1,SPRAYB02
    5593 000231e0                   WL      1,SPRAYB03
    5594 00023210                   WL      1,SPRAYB04
    5595 00023240                   WL      1,SPRAYB05
    5596 00023270                   WL      1,SPRAYB06
    5597 000232a0                   WL      1,SPRAYB07
    5598 000232d0                   WL      1,SPRAYB08
    5599 00023300     8002          .WORD   08002h
    5600                    
    5601 00023310           SPRAYC
    5602 00023310                   WL      1,SPRAYC01
    5603 00023340                   WL      1,SPRAYC02
    5604 00023370                   WL      1,SPRAYC03
    5605 000233a0                   WL      1,SPRAYC04
    5606 000233d0                   WL      1,SPRAYC05
    5607 00023400                   WL      1,SPRAYC06
    5608 00023430                   WL      1,SPRAYC07
    5609 00023460                   WL      1,SPRAYC08
    5610 00023490                   WL      1,SPRAYC09
    5611 000234c0                   WL      1,SPRAYC10
    5612 000234f0     8002          .WORD   08002h
    5613                    
    5614 00023500           COUGH
    5615 00023500                   WL      1,COUGHA01
    5616 00023530                   WL      1,COUGHA02
    5617 00023560                   WL      1,COUGHA03
    5618 00023590                   WL      1,COUGHA04
    5619 000235c0                   WL      1,COUGHA05
    5620 000235f0                   WL      1,COUGHA06
    5621 00023620                   WL      1,COUGHA07
    5622 00023650                   WL      1,COUGHA08
    5623 00023680                   WL      1,COUGHA09
    5624 000236b0     8002          .WORD   08002h
    5625                    
    5626 000236c0           SPITAN
    5627 000236c0                   WL      1,SPITAN01
    5628 000236f0                   WL      1,SPITAN02
    5629 00023720                   WL      1,SPITAN03
    5630 00023750                   WL      1,SPITAN04
    5631 00023780                   WL      1,SPITAN05
    5632 000237b0                   WL      1,SPITAN06
    5633 000237e0                   WL      1,SPITAN07
    5634 00023810                   WL      1,SPITAN08
    5635 00023840                   WL      1,SPITAN09
    5636 00023870     8002          .WORD   08002h
    5637                    
    5638 00023880           COUGH_TBL
    5639 00023880 00170000          .LONG   [23,0],[-71,0]  ;BRET
    5640 000238c0 00210000          .LONG   [33,0],[-81,0]  ;RAZOR
    5641 00023900 00150000          .LONG   [21,0],[-93,0]  ;TAKER
    5642 00023940 00210000          .LONG   [33,0],[-77,0]  ;YOKO
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  127

    5643 00023980 001b0000          .LONG   [27,0],[-73,0]  ;SHAWN
    5644 000239c0 00210000          .LONG   [33,0],[-77,0]  ;BAM BAM
    5645 00023a00 001d0000          .LONG   [29,0],[-77,0]  ;DOINK
    5646 00023a40 00000000          .LONG   0,0     ;SPARE
    5647 00023a80 00210000          .LONG   [33,0],[-73,0]  ;LEX
    5648                    
    5649 00023ac0           WAD_AL
    5650 00023ac0                   WL      2,WAD_A_01
    5651 00023af0                   WL      2,WAD_A_02
    5652 00023b20                   WL      2,WAD_A_03
    5653 00023b50                   WL      2,WAD_A_04
    5654 00023b80                   WL      2,WAD_A_05
    5655 00023bb0                   WL      2,WAD_A_06
    5656 00023be0                   WL      2,WAD_A_07
    5657 00023c10                   WL      2,WAD_A_08
    5658 00023c40                   WL      2,WAD_A_09
    5659 00023c70     8003          .word   ASP_REPEAT
    5660                    
    5661 00023c80           WAD_BL
    5662 00023c80                   WL      2,WAD_B_01
    5663 00023cb0                   WL      2,WAD_B_02
    5664 00023ce0                   WL      2,WAD_B_03
    5665 00023d10                   WL      2,WAD_B_04
    5666 00023d40                   WL      2,WAD_B_05
    5667 00023d70                   WL      2,WAD_B_06
    5668 00023da0                   WL      2,WAD_B_07
    5669 00023dd0                   WL      2,WAD_B_08
    5670 00023e00                   WL      2,WAD_B_09
    5671 00023e30     8003          .word   ASP_REPEAT
    5672                    
    5673 00023e40           WAD_CL
    5674 00023e40                   WL      2,WAD_C_01
    5675 00023e70                   WL      2,WAD_C_02
    5676 00023ea0                   WL      2,WAD_C_03
    5677 00023ed0                   WL      2,WAD_C_04
    5678 00023f00                   WL      2,WAD_C_05
    5679 00023f30                   WL      2,WAD_C_06
    5680 00023f60                   WL      2,WAD_C_07
    5681 00023f90                   WL      2,WAD_C_08
    5682 00023fc0                   WL      2,WAD_C_09
    5683 00023ff0                   WL      2,WAD_C_11
    5684 00024020                   WL      2,WAD_C_12
    5685 00024050     8003          .word   ASP_REPEAT
    5686                    
    5687 00024060           WAD_DL
    5688 00024060                   WL      2,WAD_D_01
    5689 00024090                   WL      2,WAD_D_02
    5690 000240c0                   WL      2,WAD_D_03
    5691 000240f0                   WL      2,WAD_D_04
    5692 00024120     8003          .word   ASP_REPEAT
    5693                    
    5694 00024130           WAD_EL
    5695 00024130                   WL      2,WAD_E_01
    5696 00024160                   WL      2,WAD_E_02
    5697 00024190                   WL      2,WAD_E_03
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  128

    5698 000241c0                   WL      2,WAD_E_04
    5699 000241f0                   WL      2,WAD_E_05
    5700 00024220                   WL      2,WAD_E_06
    5701 00024250                   WL      2,WAD_E_07
    5702 00024280                   WL      2,WAD_E_08
    5703 000242b0                   WL      2,WAD_E_09
    5704 000242e0                   WL      2,WAD_E_10
    5705 00024310                   WL      2,WAD_E_11
    5706 00024340     8003          .word   ASP_REPEAT
    5707                    
    5708 00024350           WAD_FL
    5709 00024350                   WL      2,WAD_F_01
    5710 00024380                   WL      2,WAD_F_02
    5711 000243b0                   WL      2,WAD_F_03
    5712 000243e0                   WL      2,WAD_F_04
    5713 00024410                   WL      2,WAD_F_05
    5714 00024440                   WL      2,WAD_F_06
    5715 00024470                   WL      2,WAD_F_07
    5716 000244a0                   WL      2,WAD_F_08
    5717 000244d0                   WL      2,WAD_F_09
    5718 00024500     8003          .word   ASP_REPEAT
    5719                    
    5720                    
    5721 00024510           WAD_AR
    5722 00024510                   WL      2,WAD_A_09
    5723 00024540                   WL      2,WAD_A_08
    5724 00024570                   WL      2,WAD_A_07
    5725 000245a0                   WL      2,WAD_A_06
    5726 000245d0                   WL      2,WAD_A_05
    5727 00024600                   WL      2,WAD_A_04
    5728 00024630                   WL      2,WAD_A_03
    5729 00024660                   WL      2,WAD_A_02
    5730 00024690                   WL      2,WAD_A_01
    5731 000246c0     8003          .word   ASP_REPEAT
    5732                    
    5733 000246d0           WAD_BR
    5734 000246d0                   WL      2,WAD_B_09
    5735 00024700                   WL      2,WAD_B_08
    5736 00024730                   WL      2,WAD_B_07
    5737 00024760                   WL      2,WAD_B_06
    5738 00024790                   WL      2,WAD_B_05
    5739 000247c0                   WL      2,WAD_B_04
    5740 000247f0                   WL      2,WAD_B_03
    5741 00024820                   WL      2,WAD_B_02
    5742 00024850                   WL      2,WAD_B_01
    5743 00024880     8003          .word   ASP_REPEAT
    5744                    
    5745 00024890           WAD_CR
    5746 00024890                   WL      2,WAD_C_12
    5747 000248c0                   WL      2,WAD_C_11
    5748 000248f0                   WL      2,WAD_C_09
    5749 00024920                   WL      2,WAD_C_08
    5750 00024950                   WL      2,WAD_C_07
    5751 00024980                   WL      2,WAD_C_06
    5752 000249b0                   WL      2,WAD_C_05
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  129

    5753 000249e0                   WL      2,WAD_C_04
    5754 00024a10                   WL      2,WAD_C_03
    5755 00024a40                   WL      2,WAD_C_02
    5756 00024a70                   WL      2,WAD_C_01
    5757 00024aa0     8003          .word   ASP_REPEAT
    5758                    
    5759 00024ab0           WAD_DR
    5760 00024ab0                   WL      2,WAD_D_04
    5761 00024ae0                   WL      2,WAD_D_03
    5762 00024b10                   WL      2,WAD_D_02
    5763 00024b40                   WL      2,WAD_D_01
    5764 00024b70     8003          .word   ASP_REPEAT
    5765                    
    5766 00024b80           WAD_ER
    5767 00024b80                   WL      2,WAD_E_11
    5768 00024bb0                   WL      2,WAD_E_10
    5769 00024be0                   WL      2,WAD_E_09
    5770 00024c10                   WL      2,WAD_E_08
    5771 00024c40                   WL      2,WAD_E_07
    5772 00024c70                   WL      2,WAD_E_06
    5773 00024ca0                   WL      2,WAD_E_05
    5774 00024cd0                   WL      2,WAD_E_04
    5775 00024d00                   WL      2,WAD_E_03
    5776 00024d30                   WL      2,WAD_E_02
    5777 00024d60                   WL      2,WAD_E_01
    5778 00024d90     8003          .word   ASP_REPEAT
    5779                    
    5780 00024da0           WAD_FR
    5781 00024da0                   WL      2,WAD_F_09
    5782 00024dd0                   WL      2,WAD_F_08
    5783 00024e00                   WL      2,WAD_F_07
    5784 00024e30                   WL      2,WAD_F_06
    5785 00024e60                   WL      2,WAD_F_05
    5786 00024e90                   WL      2,WAD_F_04
    5787 00024ec0                   WL      2,WAD_F_03
    5788 00024ef0                   WL      2,WAD_F_02
    5789 00024f20                   WL      2,WAD_F_01
    5790 00024f50     8003          .word   ASP_REPEAT
    5791                    
    5792 00024f60           SPLASH_A
    5793 00024f60                   WL      2,SPLSHA01
    5794 00024f90                   WL      2,SPLSHA02
    5795 00024fc0                   WL      2,SPLSHA03
    5796 00024ff0                   WL      2,SPLSHA04
    5797 00025020                   WL      2,SPLSHA05
    5798 00025050                   WL      2,SPLSHA06
    5799 00025080     8002          .WORD   08002h
    5800                    
    5801 00025090           SPLASH_B
    5802 00025090                   WL      2,SPLSHB01
    5803 000250c0                   WL      2,SPLSHB02
    5804 000250f0                   WL      2,SPLSHB03
    5805 00025120                   WL      2,SPLSHB04
    5806 00025150                   WL      2,SPLSHB05
    5807 00025180                   WL      2,SPLSHB06
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  130

    5808 000251b0     8002          .WORD   08002h
    5809                    
    5810 000251c0            SUBR   DO_EYES
    5811                            ;quit if no_debris is set
    5812                    ;       move    @no_debris,a14
    5813                    ;       jrnz    azvorets
    5814                    ;       move    @reduce_bog,a14
    5815                    ;       jrnz    azvorets
    5816                    
    5817 000251c0     4dab          MOVE    A13,A11
    5818 000251d0     1860          movk    3,A0
    5819 000251e0     0d5f          CALLA   RNDRNG0
         000251f0 00000000! 
    5820 00025210     1020          INC     A0
    5821 00025220     1020          INC     A0
    5822 00025230     4c09          MOVE    A0,A9
    5823 00025240           DO_ANOTHER_EYE
    5824 00025240                   CREATE  DEBRIS_PID,CREATE_EYES
    5825 000252c0     3d29          DSJS    A9,DO_ANOTHER_EYE
    5826 000252d0     0960  azvorets        RETS
    5827                    
    5828 000252e0           CREATE_EYES
    5829 000252e0     5600          CLR     A0
    5830 000252f0     5621          CLR     A1
    5831 00025300     09e2          movi    SPITUP01,a2
         00025310 00000000! 
    5832 00025330     5663          CLR     A3
    5833 00025340     09e4          movi    DMAWNZ,a4                       ;DMA flags
         00025350 00008002  
    5834 00025370     56a5          clr     a5                              ;object ID
    5835 00025380     56c6          clr     a6                              ;x vel
    5836 00025390     56e7          clr     a7                              ;y vel
    5837 000253a0     0d5f          CALLA   BEGINOBJ
         000253b0 00000000! 
    5838 000253d0     b30d          move    a8,*a13(SP_OBJ),L
         000253e0     0230  
    5839                    
    5840 000253f0     b56e          MOVE    *A11(OBJ_CONTROL),A14
         00025400     0780  
    5841 00025410     0b8e          ANDI    M_FLIPH,A14
         00025420 ffffffef  
    5842 00025440     0bae          ORI     DMAWNZ,A14
         00025450 00008002  
    5843 00025470     b1cd          move    a14,*a13(SP_OBJCONTROL)
         00025480     0180  
    5844 00025490     b1c8          MOVE    A14,*A8(OCTRL)
         000254a0     00f0  
    5845                    
    5846 000254b0     bb6d          move    *a11(OBJ_ZPOS),*A13(SP_OBJ_ZPOS),L
         000254c0     0140  
         000254d0     0140  
    5847                    
    5848 000254e0     b760          move    *a11(OBJ_XPOS),a0,L
         000254f0     0100  
    5849 00025500     09e1          MOVI    [30H,0],A1
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  131

         00025510 00300000  
    5850 00025530     b56e          MOVE    *A11(OBJ_CONTROL),A14
         00025540     0780  
    5851 00025550     1f6e          BTST    B_FLIPH,A14
    5852 00025560     01e0          PUSHST
    5853 00025570     ca01          jrz     NO_FLIP_X_POS2E
    5854 00025580     03a1          NEG     A1
    5855 00025590           NO_FLIP_X_POS2E
    5856 00025590     4020          add     A1,a0
    5857 000255a0     b20d          move    a0,*a13(SP_OBJ_XPOS),L
         000255b0     0100  
    5858                    
    5859 000255c0     b760          MOVE    *a11(OBJ_YPOS),a0,L
         000255d0     0120  
    5860 000255e0     09e1          MOVI    [-100,0],A1
         000255f0 ff9c0000  
    5861 00025610     4420          sub     A1,a0
    5862 00025620     b20d          move    a0,*a13(SP_OBJ_YPOS),L
         00025630     0120  
    5863                    
    5864 00025640     5600          clr     a0
    5865 00025650     b20d          move    a0,*a13(SP_SHADOW_OBJ),L
         00025660     0250  
    5866                    
    5867 00025670     09e0          movi    [1,0],a0
         00025680 00010000  
    5868 000256a0     0d5f          calla   RNDRNG0
         000256b0 00000000! 
    5869 000256d0     0b20          ADDI    [1,0],A0
         000256e0 00010000  
    5870 00025700     01c0          POPST
    5871 00025710     cb01          JRNZ    NO_FLIP_ANIM_XVELE
    5872 00025720     03a0          NEG     A0
    5873 00025730           NO_FLIP_ANIM_XVELE
    5874 00025730     4c00          MOVE    A0,A0
    5875 00025740     b20d          move    a0,*a13(SP_OBJ_XVEL),L
         00025750     03a0  
    5876 00025760     01e0          PUSHST
    5877                    
    5878 00025770     5600          CLR     A0
    5879 00025780     b20d          move    a0,*a13(SP_OBJ_ZVEL),L
         00025790     03e0  
    5880                    
    5881 000257a0     09e0          movi    [3,0],a0
         000257b0 00030000  
    5882 000257d0     0d5f          calla   RNDRNGS
         000257e0 00000000! 
    5883 00025800     0b20          addi    [6,0],a0
         00025810 00060000  
    5884 00025830     b20d          move    a0,*a13(SP_OBJ_YVEL),L
         00025840     03c0  
    5885                    
    5886 00025850     09e0          movi    GRAVITY,a0
         00025860 00008000  
    5887 00025880     b20d          move    a0,*a13(SP_GRAVITY),L
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  132

         00025890     0380  
    5888                    
    5889 000258a0     b560          move    *a11(GROUND_Y),a0
         000258b0     0570  
    5890 000258c0     2600          sll     16,a0
    5891 000258d0     b20d          move    a0,*a13(SP_GROUND_Y),L
         000258e0     0360  
    5892                    
    5893 000258f0     5600          clr     a0
    5894 00025900     b00d          move    a0,*a13(SP_DIE)
         00025910     01f0  
    5895                    
    5896 00025920     09c0          movi    120,a0
         00025930     0078  
    5897 00025940     b00d          move    a0,*a13(SP_LIFESPAN)
         00025950     01e0  
    5898                    
    5899 00025960     b7a8          move    *a13(SP_OBJ),a8,L
         00025970     0230  
    5900 00025980     1820          movk    1,A0
    5901 00025990     0d5f          CALLA   RNDRNG0
         000259a0 00000000! 
    5902 000259c0     24c0          SLL     6,A0
    5903 000259d0     01c0          POPST
    5904 000259e0     ce02          JRN     NO_NEED_TO_USE_RIGHT_ANIME
    5905 000259f0     0b00          ADDI    020H,A0
         00025a00     0020  
    5906 00025a10           NO_NEED_TO_USE_RIGHT_ANIME
    5907 00025a10     0b20          ADDI    WHICH_EYE,A0
         00025a20 00025d00' 
    5908 00025a40     8600          MOVE    *A0,A0,L
    5909 00025a50     0d5f          calla   sp_change_anim
         00025a60 0000b860' 
    5910 00025a80           azvolp4
    5911 00025a80                   SLEEPK  1
    5912                    
    5913 00025ac0     0d3f          CALLR   sp_velocity_add
         00025ad0     e537  
    5914 00025ae0     0d3f          CALLR   sp_update_pos_single
         00025af0     e5ab  
    5915 00025b00     0d3f          callr   sp_animate
         00025b10     e5e0  
    5916                    
    5917 00025b20     b5a0          move    *a13(SP_OBJ_YPOSINT),a0
         00025b30     0130  
    5918 00025b40     b5a1          move    *a13(SP_GROUND_Y+10h),a1
         00025b50     0370  
    5919 00025b60     4820          cmp     a1,a0                   ;a0-a1
    5920 00025b70     c70a          jrgt    azvono_gnd2
    5921                    
    5922 00025b80     b02d          MOVE    A1,*A13(SP_OBJ_YPOSINT)
         00025b90     0130  
    5923 00025ba0     b7a1          MOVE    *A13(SP_OBJ_YVEL),A1,L
         00025bb0     03c0  
    5924 00025bc0     4c20          MOVE    A1,A0
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  133

    5925 00025bd0     2bc1          SRA     2,A1
    5926 00025be0     4420          SUB     A1,A0
    5927 00025bf0     03a0          NEG     A0
    5928 00025c00     b20d          MOVE    A0,*A13(SP_OBJ_YVEL),L
         00025c10     03c0  
    5929                    
    5930 00025c20           azvono_gnd2
    5931 00025c20     b5a0          move    *a13(SP_LIFESPAN),a0
         00025c30     01e0  
    5932 00025c40     1420          DEC     A0
    5933 00025c50     b00d          move    A0,*a13(SP_LIFESPAN)
         00025c60     01e0  
    5934 00025c70     cbe0          jrnz    azvolp4
    5935                    
    5936 00025c80     b7a0          move    *a13(SP_OBJ),a0,L
         00025c90     0230  
    5937 00025ca0     0d5f          calla   DELOBJ
         00025cb0 00000000! 
    5938 00025cd0                   DIE
    5939                    
    5940 00025d00           WHICH_EYE
    5941 00025d00 00025d80'         .LONG   SMALL_EYE_L,SMALL_EYE_R
    5942 00025d40 000260a0'         .LONG   BIG_EYE_L,BIG_EYE_R
    5943                    
    5944 00025d80           SMALL_EYE_L
    5945 00025d80                   WL      2,BIGEYE01
    5946 00025db0                   WL      2,BIGEYE02
    5947 00025de0                   WL      2,BIGEYE03
    5948 00025e10                   WL      2,BIGEYE04
    5949 00025e40                   WL      2,BIGEYE05
    5950 00025e70                   WL      2,BIGEYE06
    5951 00025ea0                   WL      2,BIGEYE07
    5952 00025ed0                   WL      2,BIGEYE08
    5953 00025f00     8003          .word   ASP_REPEAT
    5954 00025f10           SMALL_EYE_R
    5955 00025f10                   WL      2,BIGEYE08
    5956 00025f40                   WL      2,BIGEYE07
    5957 00025f70                   WL      2,BIGEYE06
    5958 00025fa0                   WL      2,BIGEYE05
    5959 00025fd0                   WL      2,BIGEYE04
    5960 00026000                   WL      2,BIGEYE03
    5961 00026030                   WL      2,BIGEYE02
    5962 00026060                   WL      2,BIGEYE01
    5963 00026090     8003          .word   ASP_REPEAT
    5964 000260a0           BIG_EYE_L
    5965 000260a0                   WL      2,BIGEYE01
    5966 000260d0                   WL      2,BIGEYE02
    5967 00026100                   WL      2,BIGEYE03
    5968 00026130                   WL      2,BIGEYE04
    5969 00026160                   WL      2,BIGEYE05
    5970 00026190                   WL      2,BIGEYE06
    5971 000261c0                   WL      2,BIGEYE07
    5972 000261f0                   WL      2,BIGEYE08
    5973 00026220     8003          .word   ASP_REPEAT
    5974 00026230           BIG_EYE_R
TMS340 COFF Macro Assembler Version 6.10     Wed Nov 01 05:53:29 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE  134

    5975 00026230                   WL      2,BIGEYE08
    5976 00026260                   WL      2,BIGEYE07
    5977 00026290                   WL      2,BIGEYE06
    5978 000262c0                   WL      2,BIGEYE05
    5979 000262f0                   WL      2,BIGEYE04
    5980 00026320                   WL      2,BIGEYE03
    5981 00026350                   WL      2,BIGEYE02
    5982 00026380                   WL      2,BIGEYE01
    5983 000263b0     8003          .word   ASP_REPEAT
    5984                    
    5985                    ******************************************************************************
    5986                    ;we need these
    5987                    
    5988 000263c0           SPITPUS_P:
    5989 000263c0     0016          .word    22
    5990 000263d0     0000          .word   00H,07FD8H,07B95H,07752H,07331H,06F0FH,06AEEH,066CCH
    5991 00026450     66cb          .word   066CBH,062AAH,05E88H,05A67H,05A66H,05645H,05224H,04E03H
    5992 000264d0     49e2          .word   049E2H,045C2H,041A1H,03D80H,03960H,03940H
    5993                    
    5994 00026530           SPITBLE_P:
    5995 00026530     0016          .word    22
    5996 00026540     0000          .word   00H,06FB5H,06B93H,06371H,05F4FH,05B4DH,0572BH,05309H
    5997 000265c0     4ee8          .word   04EE8H,04AC6H,046A5H,04283H,03E62H,03A41H,03640H,03220H
    5998 00026640     2e00          .word   02E00H,029E0H,025C0H,021A0H,01D80H,01D80H
    5999                    
    6000                    ******************************************************************************
    6001                    
    6002                            .end

 No Errors,  No Warnings
