TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    ************************************************************** 
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            10/12/93
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "dnkseq2.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "mproc.equ"             ;Mproc equates
      19                            .include        "sys.equ"
      20                            .include        "display.equ"
      21                            .include        "game.equ"
      22                            .include        "plyr.equ"
      23                            .include        "anim.equ"
      24                            .include        "sound.h"
      25                            .include        "ring.equ"
      26                    
      27                            .include        "doinkimg.h"
      28                            .include        "miscimg.glo"
      29                            .include        "damage.equ"
      30                            .INCLUDE        "SWEAT.EQU"
      31                            .include        "miscimg.glo"
      32                    
      33                    
      34                    
      35                    ******************************************************************************
      36                    * EXTERNAL REFERENCES
      37                    
      38                            .ref    MOVE_NAME_ANNC,face_inside,set_tbukl_airmode
      39                            .ref    setup_freetoss,free_toss_check
      40                            .ref    CALL_ANI_AVERAGE_MOVE,CALL_NASTY_MOVE
      41                            .ref    CALL_THROWN_OUT,DO_BLOCKED
      42                            .ref    DO_OTHERNONO,FIND_AND_KILL_ENDLESS
      43                            .ref    DO_CROWD_CHEER,HIT_THE_MAT,SMALL_BOUNCE
      44                            .ref    CALL_MISSES,CALL_SETUP,CALL_SPECIAL_MOVE
      45                            .ref    am_I_dead,start_run_anim,PSTATUS,royal_rumble,NUM_OPPS
      46                    
      47                            .ref    set_target_offsets,check_raisearm_bit
      48                            .ref    get_opp_process,set_tbukl_confine
      49                            .ref    get_leap
      50                            .ref    shake_all_ropes,tbukl_flip
      51                    
      52                            .ref    DO_GRUNT,KILL_PIN_HIM
      53                            .ref    calc_line_x
      54                            .ref    choose_2or4
      55                            .ref    tgt_ground,process_ptrs
      56                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    2

      57                            .ref    hrt_hitonground_anim
      58                            .ref    rzr_hitonground_anim
      59                            .ref    und_hitonground_anim
      60                            .ref    yok_hitonground_anim
      61                            .ref    shn_hitonground_anim
      62                            .ref    bam_hitonground_anim
      63                            .ref    lex_hitonground_anim
      64                    
      65                            .ref    dnk_4_combo_earslap_anim,hit_nearest
      66                            .ref    DO_COMBO_MESS,tbukl_flip,change_anim1a
      67                            .ref    DO_DOINK_PUSH,announce_rnd_winner
      68                            .ref    create_impact_salt,PCNT,dnk_3_head_held_anim
      69                            .ref    no_bk_xvel,lex_tossed_anim,impact_sound
      70                            .ref    start_run_flung
      71                    
      72 00000000           D4PN5L
      73 00000000 00000000          .long   0
      74 00000020 00000000          .long   0
      75 00000040 00000000          .long   0
      76 00000060 00000000          .long   0
      77 00000080 00000000!         .long   D4PN5L04
      78 000000a0 00000000!         .long   D4PN5L05
      79                    
      80                    
      81                    ******************************************************************************
      82                    * SYMBOLS DEFINED IN THIS FILE
      83                    
      84                    ******************************************************************************
      85                    * EQUATES FOR THIS FILE
      86                    
      87              0035  TSEC    equ     53
      88                    
      89                    *****************************************************************************
      90                    *
      91                    * NORMAL lzub2 PUNCH
      92                    
      93 000000c0            SUBR   dnk_2_punch_anim
      94                    
      95 000000c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
      96 000000e0     8003          .word   ANI_ZEROVELS
      97 000000f0     8026          .word   ANI_SETSPEED,100h
      98                    
      99 00000110     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     100 00000120     805f          .word   ANI_SET_WRESTLER_XFLIP
     101                    
     102 00000130                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     103 00000170                   WL      1,D2PU3A+FR1
     104 000001a0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     105 000001e0                   WL      1,D2PU3A+FR1
     106 00000210                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     107 00000250                   WL      1,D2PU3A+FR2
     108 00000280                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     109                    
     110 000002c0     8075          .word   ANI_STARTATTACK,AT_PUNCH,5 ;type, lzubticks 'til attack on
     111                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    3

     112 000002f0                   WL      1,D2PU3A+FR2
     113 00000320                   WL      2,D2PU3A+FR3
     114 00000350                   WL      1,D2PU3A+FR4
     115                    
     116                    ;       WLWWWW  ANI_SNOT,doink_pie,0,0,0,0
     117                    
     118 00000380     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH,22,86,55,9   ;mode,x,y,w,h
     119 000003e0                   WL      1,D2PU3A+FR4
     120 00000410                   WL      2,D2PU3A+FR5
     121 00000440     8007          .word   ANI_ATTACK_OFF
     122                    
     123 00000450                   WWL     ANI_SLIDE_BACK,30h,-70000h,lzubno_hit
     124                    
     125 000004b0                   WL      ANI_SET_YVEL,30000h
     126 000004e0                   WL      3,D2PU3A+FR5
     127 00000510           lzubno_hit
     128 00000510                   WL      2,D2PU3A+FR6
     129 00000540                   WL      3,D2PU3A+FR7    ;4
     130 00000570                   WL      2,D2PU3A+FR8    ;4
     131 000005a0     8002          .word   ANI_SETMODE,MODE_NORMAL
     132 000005c0     8049          .word   ANI_END
     133                    
     134                    * NORMAL lzub4 PUNCH
     135                    
     136 000005d0            SUBR   dnk_4_punch_anim
     137                    
     138 000005d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     139 000005f0     8003          .word   ANI_ZEROVELS
     140 00000600     8026          .word   ANI_SETSPEED,100h
     141                    
     142 00000620     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     143 00000630     805f          .word   ANI_SET_WRESTLER_XFLIP
     144                    
     145 00000640                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     146 00000680                   WL      1,D4PU3C+FR1
     147 000006b0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     148 000006f0                   WL      1,D4PU3C+FR1
     149 00000720                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     150 00000760                   WL      1,D4PU3C+FR2
     151 00000790                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     152                    
     153 000007d0     8075          .word   ANI_STARTATTACK,AT_PUNCH,5 ;type, lzubticks 'til attack on
     154                    
     155 00000800                   WL      1,D4PU3C+FR2
     156 00000830                   WL      2,D4PU3C+FR3
     157 00000860                   WL      1,D4PU3C+FR4
     158                    
     159                    ;       WLWWWW  ANI_SNOT,doink_pie,0,0,0,0
     160                    
     161 00000890     8006          .word   ANI_ATTACK_ON, AMODE_PUNCH,22,86,55,9   ;mode,x,y,w,h
     162 000008f0                   WL      1,D4PU3C+FR4
     163 00000920                   WL      2,D4PU3C+FR5
     164 00000950     8007          .word   ANI_ATTACK_OFF
     165                    
     166 00000960                   WWL     ANI_SLIDE_BACK,30h,-70000h,lzubno_hit2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    4

     167                    
     168 000009c0                   WL      ANI_SET_YVEL,30000h
     169 000009f0                   WL      3,D4PU3C+FR5
     170                            
     171 00000a20           lzubno_hit2
     172 00000a20                   WL      2,D4PU3C+FR6
     173 00000a50                   WL      3,D4PU3C+FR7
     174 00000a80                   WL      2,D4PU3C+FR8
     175 00000ab0     8002          .word   ANI_SETMODE,MODE_NORMAL
     176 00000ad0     8049          .word   ANI_END
     177                    
     178                    *****************************************************************************
     179                    *
     180                    * BOXING GLOVE kqbi2 PUNCH
     181                    
     182 00000ae0            SUBR   dnk_2_box_anim
     183                    
     184 00000ae0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     185 00000b00     8003          .word   ANI_ZEROVELS
     186 00000b10     8026          .word   ANI_SETSPEED,100h
     187                    
     188 00000b30     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     189 00000b40     805f          .word   ANI_SET_WRESTLER_XFLIP
     190                    
     191 00000b50     8075          .word   ANI_STARTATTACK,AT_BOXPUNCH,15
     192 00000b80                   WL      3,D2RG3B+FR6
     193 00000bb0                   WL      3,D2RG3B+FR7
     194 00000be0                   WL      3,D2RG3B+FR8
     195 00000c10                   WL      3,D2RG3B+FR9
     196 00000c40                   WL      3,D2RG3B+FR10
     197                    
     198 00000c70     8006          .word   ANI_ATTACK_ON, AMODE_BOXPUNCH,37,84,66,15       ;mode,x,y,w,h
     199 00000cd0                   WL      4,D2RG3B+FR11
     200 00000d00     8007          .word   ANI_ATTACK_OFF
     201                    
     202 00000d10     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     203                    
     204 00000d50                   WL      ANI_IFNOTSTATUS2,kqbimissed
     205 00000d80                   WL      ANI_IFBLOCKED,kqbimissedb               ;Yes, I hit blocker
     206                    
     207 00000db0                   WL      ANI_CODE,CALL_ANI_AVERAGE_MOVE
     208                    ;       WWL     ANI_SLIDE_BACK,30h,-70000h,kqbino_hit   ;range,vel,addr
     209                    ;kqbino_hit
     210 00000de0                   WL      10,D2RG3B+FR11
     211                    
     212 00000e10                   WL      2,D2PU3A+FR6
     213 00000e40                   WL      3,D2PU3A+FR7
     214 00000e70                   WL      2,D2PU3A+FR8
     215 00000ea0     8002          .word   ANI_SETMODE,MODE_NORMAL
     216 00000ec0     8049          .word   ANI_END
     217                    
     218 00000ed0           kqbimissedb
     219 00000ed0                   WL      8,D2RG3B+FR11
     220                    
     221 00000f00           kqbimissed
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    5

     222 00000f00                   WL      3,D2RG3B+FR11
     223                    
     224 00000f30                   WL      2,D2PU3A+FR6
     225 00000f60                   WL      3,D2PU3A+FR7
     226 00000f90                   WL      2,D2PU3A+FR8
     227 00000fc0     8002          .word   ANI_SETMODE,MODE_NORMAL
     228 00000fe0     8049          .word   ANI_END
     229                    
     230                    
     231                    * BOXING GLOVE #4 PUNCH
     232                    
     233 00000ff0            SUBR   dnk_4_box_anim
     234 00000ff0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     235 00001010     8003          .word   ANI_ZEROVELS
     236 00001020     8026          .word   ANI_SETSPEED,100h
     237                    
     238 00001040     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     239 00001050     805f          .word   ANI_SET_WRESTLER_XFLIP
     240                    
     241 00001060     8075          .word   ANI_STARTATTACK,AT_BOXPUNCH,15
     242 00001090                   WL      3,D4RG3A+FR6
     243 000010c0                   WL      3,D4RG3A+FR7
     244 000010f0                   WL      3,D4RG3A+FR9
     245 00001120                   WL      3,D4RG3A+FR10
     246 00001150                   WL      3,D4RG3A+FR11
     247                    
     248 00001180     8006          .word   ANI_ATTACK_ON, AMODE_BOXPUNCH,37,84,66,15       ;mode,x,y,w,h
     249 000011e0                   WL      4,D4RG3A+FR12
     250 00001210     8007          .word   ANI_ATTACK_OFF
     251 00001220     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     252                    
     253 00001260                   WL      ANI_IFNOTSTATUS2,djftmissed
     254 00001290                   WL      ANI_IFBLOCKED,djftmissedb               ;Yes, I hit blocker
     255                     
     256 000012c0                   WL      ANI_CODE,CALL_ANI_AVERAGE_MOVE
     257                    ;       WWL     ANI_SLIDE_BACK,30h,-70000h,djftno_hit2  ;range,vel,addr
     258                    ;djftno_hit2
     259 000012f0                   WL      10,D4RG3A+FR12
     260                    
     261 00001320                   WL      2,D4PU3C+FR6
     262 00001350                   WL      3,D4PU3C+FR7
     263 00001380     8002          .word   ANI_SETMODE,MODE_NORMAL
     264 000013a0     8049          .word   ANI_END
     265                    
     266 000013b0           djftmissedb
     267 000013b0                   WL      8,D4RG3A+FR12
     268 000013e0           djftmissed
     269 000013e0                   WL      3,D4RG3A+FR12
     270                    
     271 00001410                   WL      2,D4PU3C+FR6
     272 00001440                   WL      3,D4PU3C+FR7
     273 00001470     8002          .word   ANI_SETMODE,MODE_NORMAL
     274 00001490     8049          .word   ANI_END
     275                    
     276                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    6

     277 000014a0            SUBR   dnk_combo_box_anim
     278 000014a0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     279 000014c0     8003          .word   ANI_ZEROVELS
     280 000014d0     8026          .word   ANI_SETSPEED,100h
     281                    
     282 000014f0     8075          .word   ANI_STARTATTACK,AT_BOXPUNCH,15
     283 00001520                   WL      3,D4RG3A+FR6
     284 00001550                   WL      3,D4RG3A+FR7
     285 00001580                   WL      3,D4RG3A+FR9
     286 000015b0                   WL      3,D4RG3A+FR10
     287 000015e0                   WL      3,D4RG3A+FR11
     288                    
     289 00001610     8006          .word   ANI_ATTACK_ON, AMODE_BOXPUNCH,37,84,66,15       ;mode,x,y,w,h
     290 00001670                   WL      4,D4RG3A+FR12
     291 000016a0     8007          .word   ANI_ATTACK_OFF
     292                    
     293 000016b0                   WL      ANI_IFNOTSTATUS2,djftmissedc
     294 000016e0                   WL      ANI_IFBLOCKED,djftmissedbc              ;Yes, I hit blocker
     295                     
     296 00001710     8072          .WORD   ANI_INC_COMBO
     297 00001720                   WL      ANI_CODE,DO_COMBO_MESS
     298 00001750     8073          .WORD   ANI_CLEAR_COMBO
     299 00001760                   WWL     ANI_SLIDE_BACK,30h,-70000h,djftno_hit3  ;range,vel,addr
     300 000017c0           djftno_hit3
     301 000017c0                   WL      10,D4RG3A+FR12
     302                    
     303 000017f0                   WL      2,D4PU3C+FR6
     304 00001820                   WL      3,D4PU3C+FR7
     305 00001850     8002          .word   ANI_SETMODE,MODE_NORMAL
     306 00001870     8049          .word   ANI_END
     307                    
     308 00001880           djftmissedbc
     309 00001880                   WL      15,D4RG3A+FR12
     310 000018b0           djftmissedc
     311 000018b0                   WL      5,D4RG3A+FR12
     312 000018e0                   WL      ANI_CODE,DO_COMBO_MESS
     313 00001910     8073          .WORD   ANI_CLEAR_COMBO
     314                    
     315 00001920                   WL      2,D4PU3C+FR6
     316 00001950                   WL      3,D4PU3C+FR7
     317 00001980     8002          .word   ANI_SETMODE,MODE_NORMAL
     318 000019a0     8049          .word   ANI_END
     319                    
     320                    
     321                    *****************************************************************************
     322                    *
     323                    * sonq2 HEADBUTT
     324                    
     325 000019b0            SUBR   dnk_2_butt_anim
     326                    
     327 000019b0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     328 000019d0     8003          .word   ANI_ZEROVELS
     329 000019e0     8026          .word   ANI_SETSPEED,100h
     330                    
     331 00001a00     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    7

     332 00001a10     805f          .word   ANI_SET_WRESTLER_XFLIP
     333                    
     334 00001a20                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     335 00001a60                   WL      1,D2BC3A+FR1
     336 00001a90                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     337 00001ad0     8075          .word   ANI_STARTATTACK,AT_HDBUTT,5
     338 00001b00                   WL      1,D2BC3A+FR1
     339 00001b30                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     340 00001b70                   WL      1,D2BC3A+FR2
     341 00001ba0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     342                    
     343 00001be0                   WL      1,D2BC3A+FR2
     344 00001c10                   WL      2,D2BC3A+FR3
     345                    
     346 00001c40     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,21,79,27,24 ;mode,x,y,w,h
     347 00001ca0                   WL      3,D2BC3A+FR4
     348 00001cd0     8007          .word   ANI_ATTACK_OFF
     349 00001ce0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     350                    
     351 00001d20                   WWL     ANI_SLIDE_BACK,30h,-70000h,sonqno_hit
     352                    
     353 00001d80                   WL      ANI_SET_YVEL,38000h
     354 00001db0                   WL      6,D2BC3A+FR5
     355 00001de0           sonqno_hit
     356 00001de0                   WL      4,D2BC3A+FR5
     357 00001e10                   WL      4,D2BC3A+FR6
     358                    
     359 00001e40     8002          .word   ANI_SETMODE,MODE_NORMAL
     360 00001e60     8049          .word   ANI_END
     361                    
     362                    * sonq4 HEADBUTT
     363                    
     364 00001e70            SUBR   dnk_4_butt_anim
     365                    
     366 00001e70     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     367 00001e90     8003          .word   ANI_ZEROVELS
     368 00001ea0     8026          .word   ANI_SETSPEED,100h
     369                    
     370 00001ec0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     371 00001ed0     805f          .word   ANI_SET_WRESTLER_XFLIP
     372                    
     373 00001ee0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     374 00001f20                   WL      1,D4BC3A+FR1
     375 00001f50                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     376 00001f90     8075          .word   ANI_STARTATTACK,AT_HDBUTT,5
     377 00001fc0                   WL      1,D4BC3A+FR1
     378 00001ff0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     379 00002030                   WL      1,D4BC3A+FR2
     380 00002060                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     381                    
     382 000020a0                   WL      1,D4BC3A+FR2
     383 000020d0                   WL      2,D4BC3A+FR3
     384                    
     385 00002100     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,21,79,27,24 ;mode,x,y,w,h
     386 00002160                   WL      3,D4BC3A+FR4
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    8

     387 00002190     8007          .word   ANI_ATTACK_OFF
     388 000021a0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     389                    
     390 000021e0                   WWL     ANI_SLIDE_BACK,30h,-70000h,sonqno_hit2
     391                    
     392 00002240                   WL      ANI_SET_YVEL,38000h
     393 00002270                   WL      6,D4BC3A+FR5
     394 000022a0           sonqno_hit2
     395 000022a0                   WL      4,D4BC3A+FR5
     396 000022d0                   WL      4,D4BC3A+FR6
     397                    
     398 00002300     8002          .word   ANI_SETMODE,MODE_NORMAL
     399 00002320     8049          .word   ANI_END
     400                    
     401                    *****************************************************************************
     402                    *
     403                    * wjlv2 HEADBUTTS - In close
     404                    
     405 00002330            SUBR   dnk_2_butts_anim
     406                    
     407 00002330     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     408 00002350     8003          .word   ANI_ZEROVELS
     409 00002360     8026          .word   ANI_SETSPEED,100h
     410 00002380     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     411 00002390     805f          .word   ANI_SET_WRESTLER_XFLIP
     412                    
     413 000023a0     8062          .word   ANI_SET_RPTCOUNT,3      ;5 times
     414 000023c0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     415 00002400           wjlvrpt
     416 00002400     8061          .word   ANI_CLR_BUTCOUNT
     417                    
     418 00002410     8075          .word   ANI_STARTATTACK,AT_HDBUTT,6
     419 00002440                   WL      2,D2BC3A+FR1
     420 00002470                   WL      2,D2BC3A+FR2
     421 000024a0                   WL      2,D2BC3A+FR3
     422                    
     423 000024d0     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT_STAY,21,79,27,24    ;mode,x,y,w,h
     424 00002530                   WL      2,D2BC3A+FR4
     425 00002560     8007          .word   ANI_ATTACK_OFF
     426                    
     427 00002570                   WWL     ANI_SLIDE_BACK,30h,-70000h,wjlvno_hit
     428 000025d0                   WL      ANI_SET_YVEL,38000h
     429 00002600                   WL      6,D2BC3A+FR5
     430 00002630           wjlvno_hit
     431 00002630                   WL      ANI_IFNOTSTATUS2,wjlvmissed
     432 00002660                   WL      ANI_IFBLOCKED,wjlvmissedb               ;Yes, I hit blocker
     433                    
     434 00002690     8071          .word   ANI_SET_ATTACH
     435 000026a0     805d          .word   ANI_DEBRISAT,200,2,0,100,0      ;%chance, tbl index, x,y,z off
     436 00002700                   WL      ANI_CODE,impact_sound
     437 00002730     8037          .word   ANI_SHAKEALL,1
     438 00002750     801f          .word   ANI_SHAKER,25
     439 00002770     800a          .word   ANI_DETACH
     440                    
     441 00002780                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,wjlvex
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    9

     442 000027d0     8063          .word   ANI_DEC_RPTCOUNT
     443                    
     444 000027e0                   WL      3,D2BC3A+FR5
     445 00002810                   WL      3,D2BC3A+FR6
     446                    
     447 00002840                   WL      ANI_IF_RPTCOUNT,wjlvrpt
     448                    
     449 00002870                   WL      ANI_CHANGEANIM,dnk_2_butt_anim
     450                    
     451 000028a0           wjlvex
     452                    ;       .word   ANI_SET_ATTACH
     453 000028a0                   WLLL    ANI_SETOPPVELS,40000h,38000h,0h         ;x,y,z vels
     454                    
     455 00002910                   WL      3,D2BC3A+FR5
     456 00002940                   WL      3,D2BC3A+FR6
     457                    
     458 00002970     8002          .word   ANI_SETMODE,MODE_NORMAL
     459 00002990     8049          .word   ANI_END
     460                    
     461 000029a0           wjlvmissedb
     462 000029a0                   WLLL    ANI_SETOPPVELS,50000h,18000h,0h         ;x,y,z vels
     463                    ;       WL      4,D2BC3A+FR5
     464 00002a10           wjlvmissed
     465 00002a10                   WL      2,D2BC3A+FR5
     466 00002a40                   WL      2,D2BC3A+FR6
     467                    
     468 00002a70     8021          .word   ANI_FACEUP
     469 00002a80     8002          .word   ANI_SETMODE,MODE_NORMAL
     470 00002aa0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     471 00002ac0     8049          .word   ANI_END
     472                    
     473                    * #4 HEADBUTT
     474                    
     475 00002ad0            SUBR   dnk_4_butts_anim
     476                    
     477 00002ad0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     478 00002af0     8003          .word   ANI_ZEROVELS
     479 00002b00     8026          .word   ANI_SETSPEED,100h
     480 00002b20     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     481 00002b30     805f          .word   ANI_SET_WRESTLER_XFLIP
     482                    
     483 00002b40     8062          .word   ANI_SET_RPTCOUNT,3      ;5 times
     484 00002b60     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     485 00002ba0           vyxzrpt
     486 00002ba0     8061          .word   ANI_CLR_BUTCOUNT
     487                    
     488 00002bb0     8075          .word   ANI_STARTATTACK,AT_HDBUTT,6
     489 00002be0                   WL      2,D4BC3A+FR1
     490 00002c10                   WL      2,D4BC3A+FR2
     491 00002c40                   WL      2,D4BC3A+FR3
     492                    
     493 00002c70     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT_STAY,21,79,27,24    ;mode,x,y,w,h
     494 00002cd0                   WL      2,D4BC3A+FR4
     495 00002d00     8007          .word   ANI_ATTACK_OFF
     496                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   10

     497 00002d10                   WWL     ANI_SLIDE_BACK,30h,-70000h,vyxzno_hit2
     498                    
     499 00002d70                   WL      ANI_SET_YVEL,38000h
     500 00002da0                   WL      6,D4BC3A+FR5
     501 00002dd0           vyxzno_hit2
     502 00002dd0                   WL      ANI_IFNOTSTATUS2,vyxzmissed
     503 00002e00                   WL      ANI_IFBLOCKED,vyxzmissedb               ;Yes, I hit blocker
     504                    
     505 00002e30     8071          .word   ANI_SET_ATTACH
     506 00002e40     805d          .word   ANI_DEBRISAT,200,2,0,100,0      ;%chance, tbl index, x,y,z off
     507 00002ea0                   WL      ANI_CODE,impact_sound
     508 00002ed0     8037          .word   ANI_SHAKEALL,1
     509 00002ef0     801f          .word   ANI_SHAKER,25
     510 00002f10     800a          .word   ANI_DETACH
     511                    
     512 00002f20                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,vyxzex
     513 00002f70     8063          .word   ANI_DEC_RPTCOUNT
     514                    
     515 00002f80                   WL      3,D4BC3A+FR5
     516 00002fb0                   WL      3,D4BC3A+FR6
     517                    
     518 00002fe0                   WL      ANI_IF_RPTCOUNT,vyxzrpt
     519                    
     520 00003010                   WL      ANI_CHANGEANIM,dnk_4_butt_anim
     521 00003040           vyxzex
     522                    ;       .word   ANI_SET_ATTACH
     523 00003040                   WLLL    ANI_SETOPPVELS,40000h,38000h,0h         ;x,y,z vels
     524                    
     525 000030b0                   WL      3,D4BC3A+FR5
     526 000030e0                   WL      3,D4BC3A+FR6
     527                       
     528 00003110     8022          .word   ANI_FACEDOWN
     529 00003120     8002          .word   ANI_SETMODE,MODE_NORMAL
     530 00003140     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     531 00003160     8049          .word   ANI_END
     532                    
     533 00003170           vyxzmissedb
     534 00003170                   WLLL    ANI_SETOPPVELS,50000h,18000h,0h         ;x,y,z vels
     535                    ;       WL      4,D4BC3A+FR5
     536 000031e0           vyxzmissed
     537 000031e0                   WL      2,D4BC3A+FR5
     538 00003210                   WL      2,D4BC3A+FR6
     539                    
     540 00003240     8022          .word   ANI_FACEDOWN
     541 00003250     8002          .word   ANI_SETMODE,MODE_NORMAL
     542 00003270     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     543 00003290     8049          .word   ANI_END
     544                    
     545                    *****************************************************************************
     546                    * hwjr4 COMBO HEADBUTT
     547                    
     548 000032a0            SUBR   dnk_4_combo_butt_anim
     549                    
     550 000032a0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     551 000032c0     8003          .word   ANI_ZEROVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   11

     552 000032d0     8026          .word   ANI_SETSPEED,100h
     553 000032f0                   WL      ANI_SET_YVEL,10000h
     554 00003320     8075          .word   ANI_STARTATTACK,AT_HDBUTT,5
     555 00003350                   WL      2,D4BC3A+FR1
     556 00003380                   WL      2,D4BC3A+FR2
     557 000033b0                   WL      1,D4BC3A+FR3
     558                    
     559 000033e0     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,21,39,67,44 ;mode,x,y,w,h
     560 00003440                   WL      2,D4BC3A+FR4
     561 00003470     8007          .word   ANI_ATTACK_OFF
     562 00003480                   WL      ANI_IFNOTSTATUS2,hwjrmiss
     563 000034b0     8072          .WORD   ANI_INC_COMBO
     564                    ;       .word   ANI_SET_ATTACH
     565 000034c0                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     566                    
     567 00003530     8075          .word   ANI_STARTATTACK,AT_HDBUTT,9
     568                    
     569 00003560                   WL      2,D4BC3A+FR5
     570 00003590                   WL      2,D4BC3A+FR6
     571                    
     572 000035c0                   WL      ANI_SET_YVEL,10000h
     573 000035f0                   WL      2,D4BC3A+FR1
     574 00003620                   WL      2,D4BC3A+FR2
     575 00003650                   WL      1,D4BC3A+FR3
     576                    
     577 00003680     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,21,39,67,44 ;mode,x,y,w,h
     578 000036e0                   WL      2,D4BC3A+FR4
     579 00003710     8007          .word   ANI_ATTACK_OFF
     580 00003720                   WL      ANI_IFNOTSTATUS2,hwjrmiss
     581 00003750     8072          .WORD   ANI_INC_COMBO
     582                    ;       .word   ANI_SET_ATTACH
     583 00003760                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     584                    
     585 000037d0     8075          .word   ANI_STARTATTACK,AT_HDBUTT,9
     586                    
     587 00003800                   WL      2,D4BC3A+FR5
     588 00003830                   WL      2,D4BC3A+FR6
     589                    
     590 00003860                   WL      ANI_SET_YVEL,10000h
     591 00003890                   WL      2,D4BC3A+FR1
     592 000038c0                   WL      2,D4BC3A+FR2
     593 000038f0                   WL      1,D4BC3A+FR3
     594                    
     595 00003920     8061          .word   ANI_CLR_BUTCOUNT
     596                    
     597 00003930     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,21,39,67,44 ;mode,x,y,w,h
     598 00003990                   WL      2,D4BC3A+FR4
     599 000039c0     8007          .word   ANI_ATTACK_OFF
     600 000039d0                   WL      ANI_IFNOTSTATUS2,hwjrmiss
     601 00003a00     8072          .WORD   ANI_INC_COMBO
     602                    ;       .word   ANI_SET_ATTACH
     603 00003a10                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     604                    
     605 00003a80     8075          .word   ANI_STARTATTACK,AT_HDBUTT,9
     606 00003ab0                   WL      2,D4BC3A+FR5
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   12

     607 00003ae0                   WL      2,D4BC3A+FR6
     608                    
     609 00003b10                   WL      ANI_SET_YVEL,10000h
     610 00003b40                   WL      2,D4BC3A+FR1
     611 00003b70                   WL      2,D4BC3A+FR2
     612 00003ba0                   WL      1,D4BC3A+FR3
     613                    
     614 00003bd0     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,21,39,67,44 ;mode,x,y,w,h
     615 00003c30                   WL      2,D4BC3A+FR4
     616 00003c60     8007          .word   ANI_ATTACK_OFF
     617 00003c70                   WL      ANI_IFNOTSTATUS2,hwjrmiss
     618 00003ca0     8072          .WORD   ANI_INC_COMBO
     619                    ;       .word   ANI_SET_ATTACH
     620 00003cb0                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     621                    
     622 00003d20                   WL      2,D4BC3A+FR5
     623 00003d50                   WL      2,D4BC3A+FR6
     624                    
     625 00003d80     800a          .word   ANI_DETACH
     626                    
     627 00003d90                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,hwjrNEXT_CHECK_3
     628 00003de0                   WL      ANI_CHANGEANIM,dnk_combo_box_anim
     629                    
     630 00003e10           hwjrNEXT_CHECK_3
     631 00003e10                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,hwjrNEXT_CHECK_2
     632 00003e60                   WL      ANI_CHANGEANIM,dnk_combo_knee_fall_anim
     633                    
     634 00003e90           hwjrNEXT_CHECK_2                                                                        
     635 00003e90                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,hwjrNEXT_CHECK
     636 00003ee0                   WL      ANI_CHANGEANIM,dnk_4_combo_hiptoss_anim
     637                    
     638 00003f10           hwjrNEXT_CHECK
     639 00003f10                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,hwjrmiss
     640 00003f60                   WL      ANI_CHANGEANIM,dnk_4_combo_earslap_anim
     641                    
     642 00003f90           hwjrmiss
     643 00003f90                   WL      ANI_CODE,DO_COMBO_MESS
     644 00003fc0     8073          .WORD   ANI_CLEAR_COMBO
     645                    
     646 00003fd0                   WL      2,D4BC3A+FR5
     647 00004000                   WL      2,D4BC3A+FR6
     648                    
     649 00004030     800a          .word   ANI_DETACH
     650                    
     651 00004040     8002          .word   ANI_SETMODE,MODE_NORMAL
     652 00004060     8049          .word   ANI_END
     653                    
     654                    *****************************************************************************
     655                    *
     656                    * NORMAL jnnh2 KICK
     657                    
     658 00004070            SUBR   dnk_2_kick_anim
     659                    
     660 00004070     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     661 00004090     8003          .word   ANI_ZEROVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   13

     662 000040a0     8026          .word   ANI_SETSPEED,100h
     663                    
     664 000040c0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     665 000040d0     805f          .word   ANI_SET_WRESTLER_XFLIP
     666                    
     667 000040e0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     668 00004120                   WL      1,D2KM3B+FR1    ;4
     669 00004150                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     670 00004190                   WL      1,D2KM3B+FR1    ;4
     671 000041c0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     672 00004200                   WL      1,D2KM3B+FR2
     673 00004230                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     674                    
     675 00004270     8075          .word   ANI_STARTATTACK,AT_KICK,5
     676 000042a0                   WL      1,D2KM3B+FR2
     677 000042d0                   WL      2,D2KM3B+FR3
     678                    
     679 00004300                   WL      2,D2KM3B+FR4    ;4
     680                    
     681 00004330     8006          .word   ANI_ATTACK_ON, AMODE_KICK,20,62,68,16   ;mode,x,y,w,h
     682 00004390                   WL      1,D2KM3B+FR4
     683 000043c0     8007          .word   ANI_ATTACK_OFF
     684                    
     685 000043d0                   WWL     ANI_SLIDE_BACK,30h,-70000h,jnnhno_hit
     686 00004430                   WL      ANI_SET_YVEL,30000h
     687 00004460                   WL      2,D2KM3B+FR4
     688                            
     689 00004490           jnnhno_hit
     690 00004490                   WL      ANI_IFNOTSTATUS2,jnnhnopause
     691 000044c0                   WL      2,D2KM3B+FR4
     692 000044f0           jnnhnopause
     693                    
     694 000044f0                   WL      2,D2KM3B+FR4
     695 00004520                   WL      3,D2KM3B+FR5
     696 00004550                   WL      2,D2KM3B+FR6
     697 00004580                   WL      3,D2KM3B+FR7
     698 000045b0                   WL      2,D2KM3B+FR8
     699 000045e0                   WL      3,D2KM3B+FR9
     700                    
     701 00004610     8002          .word   ANI_SETMODE,MODE_NORMAL
     702 00004630     8049          .word   ANI_END
     703                    
     704                    * NORMAL jnnh4 KICK
     705                    
     706 00004640            SUBR   dnk_4_kick_anim
     707                    
     708 00004640     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     709 00004660     8003          .word   ANI_ZEROVELS
     710 00004670     8026          .word   ANI_SETSPEED,100h
     711                    
     712 00004690     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     713 000046a0     805f          .word   ANI_SET_WRESTLER_XFLIP
     714                    
     715 000046b0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     716 000046f0                   WL      1,D4KM3A+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   14

     717 00004720                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     718 00004760                   WL      1,D4KM3A+FR2
     719 00004790                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     720 000047d0                   WL      1,D4KM3A+FR3
     721 00004800                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
     722                    
     723 00004840     8075          .word   ANI_STARTATTACK,AT_KICK,5
     724 00004870                   WL      1,D4KM3A+FR3
     725 000048a0                   WL      2,D4KM3A+FR4
     726                    
     727 000048d0                   WL      2,D4KM3A+FR5
     728                    
     729 00004900     8006          .word   ANI_ATTACK_ON, AMODE_KICK,20,62,68,16   ;mode,x,y,w,h
     730 00004960                   WL      1,D4KM3A+FR5
     731 00004990     8007          .word   ANI_ATTACK_OFF
     732                    
     733 000049a0                   WWL     ANI_SLIDE_BACK,30h,-70000h,jnnhno_hit2
     734 00004a00                   WL      ANI_SET_YVEL,30000h
     735 00004a30                   WL      2,D4KM3A+FR5
     736                    
     737 00004a60           jnnhno_hit2
     738 00004a60                   WL      ANI_IFNOTSTATUS2,jnnhnopause2
     739 00004a90                   WL      2,D4KM3A+FR5
     740 00004ac0           jnnhnopause2
     741                    
     742 00004ac0                   WL      2,D4KM3A+FR5
     743 00004af0                   WL      3,D4KM3A+FR6
     744 00004b20                   WL      2,D4KM3A+FR7
     745 00004b50                   WL      3,D4KM3A+FR8
     746 00004b80                   WL      2,D4KM3A+FR9
     747 00004bb0                   WL      3,D4KM3A+FR10
     748                    
     749 00004be0     8002          .word   ANI_SETMODE,MODE_NORMAL
     750 00004c00     8049          .word   ANI_END
     751                    
     752 00004c10            SUBR   dnk_4_combo_kick_anim
     753                    
     754 00004c10     8073          .WORD   ANI_CLEAR_COMBO
     755 00004c20     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     756                    
     757 00004c40     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     758 00004c60     8003          .word   ANI_ZEROVELS
     759                    
     760 00004c70     8026          .word   ANI_SETSPEED,100h
     761                    
     762 00004c90     8075          .word   ANI_STARTATTACK,AT_KICK,7
     763 00004cc0                   WL      2,D4KM3A+FR2
     764 00004cf0                   WL      1,D4KM3A+FR3
     765 00004d20                   WL      2,D4KM3A+FR4
     766                    
     767 00004d50                   WL      2,D4KM3A+FR5
     768                    
     769 00004d80     8072          .WORD   ANI_INC_COMBO
     770 00004d90     8006          .word   ANI_ATTACK_ON, AMODE_KICK,20,16,68,66   ;mode,x,y,w,h
     771 00004df0                   WL      1,D4KM3A+FR5
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   15

     772 00004e20     8007          .word   ANI_ATTACK_OFF
     773 00004e30                   WL      ANI_IFNOTSTATUS2,jnnhmiss
     774 00004e60     8072          .WORD   ANI_INC_COMBO
     775 00004e70                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     776                    
     777 00004ee0     8061          .word   ANI_CLR_BUTCOUNT
     778 00004ef0                   WL      ANI_SET_YVEL,30000h
     779                    
     780 00004f20     8075          .word   ANI_STARTATTACK,AT_KICK,13
     781 00004f50                   WL      2,D4KM3A+FR5
     782 00004f80                   WL      1,D4KM3A+FR6
     783 00004fb0                   WL      1,D4KM3A+FR8
     784 00004fe0                   WL      2,D4KM3A+FR9
     785 00005010                   WL      1,D4KM3A+FR10
     786                    
     787 00005040                   WL      1,D4KM3A+FR2
     788 00005070                   WL      1,D4KM3A+FR3
     789 000050a0                   WL      2,D4KM3A+FR4
     790                    
     791 000050d0                   WL      2,D4KM3A+FR5
     792                    
     793 00005100     8006          .word   ANI_ATTACK_ON, AMODE_KICK,20,16,68,66   ;mode,x,y,w,h
     794 00005160                   WL      1,D4KM3A+FR5
     795 00005190     8007          .word   ANI_ATTACK_OFF
     796 000051a0                   WL      ANI_IFNOTSTATUS2,jnnhmiss
     797 000051d0     8072          .WORD   ANI_INC_COMBO
     798                    ;       .word   ANI_SET_ATTACH
     799 000051e0                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     800                    
     801 00005250                   WL      ANI_SET_YVEL,30000h
     802 00005280     8075          .word   ANI_STARTATTACK,AT_KICK,11
     803 000052b0                   WL      1,D4KM3A+FR5
     804                    
     805 000052e0                   WL      1,D4KM3A+FR6
     806 00005310                   WL      1,D4KM3A+FR8
     807 00005340                   WL      2,D4KM3A+FR9
     808 00005370                   WL      1,D4KM3A+FR10
     809                    
     810                    
     811 000053a0                   WL      1,D4KM3A+FR2
     812 000053d0                   WL      1,D4KM3A+FR3
     813 00005400                   WL      1,D4KM3A+FR4
     814                    
     815 00005430                   WL      2,D4KM3A+FR5
     816                    
     817 00005460     8006          .word   ANI_ATTACK_ON, AMODE_KICK,20,16,68,66   ;mode,x,y,w,h
     818 000054c0                   WL      1,D4KM3A+FR5
     819 000054f0     8007          .word   ANI_ATTACK_OFF
     820 00005500                   WL      ANI_IFNOTSTATUS2,jnnhmiss
     821 00005530     8072          .WORD   ANI_INC_COMBO
     822                    ;       .word   ANI_SET_ATTACH
     823 00005540                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     824                    
     825 000055b0     800a          .word   ANI_DETACH
     826                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   16

     827 000055c0                   WL      ANI_SET_YVEL,30000h
     828 000055f0     8075          .word   ANI_STARTATTACK,AT_KICK,11
     829 00005620                   WL      1,D4KM3A+FR5
     830                    
     831 00005650                   WL      1,D4KM3A+FR8
     832 00005680                   WL      2,D4KM3A+FR9
     833 000056b0                   WL      1,D4KM3A+FR10
     834                    
     835                    
     836 000056e0                   WL      1,D4KM3A+FR2
     837 00005710                   WL      1,D4KM3A+FR3
     838 00005740                   WL      1,D4KM3A+FR4
     839                    
     840 00005770                   WL      2,D4KM3A+FR5
     841                    
     842 000057a0     8006          .word   ANI_ATTACK_ON, AMODE_KICK,20,16,68,66   ;mode,x,y,w,h
     843 00005800                   WL      1,D4KM3A+FR5
     844 00005830     8007          .word   ANI_ATTACK_OFF
     845 00005840                   WL      ANI_IFNOTSTATUS2,jnnhmiss
     846 00005870     8072          .WORD   ANI_INC_COMBO
     847                    ;       .word   ANI_SET_ATTACH
     848 00005880                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
     849                    
     850 000058f0     800a          .word   ANI_DETACH
     851                    
     852 00005900                   WL      ANI_SET_YVEL,30000h
     853 00005930                   WL      1,D4KM3A+FR5
     854                    
     855 00005960                   WL      1,D4KM3A+FR8
     856 00005990                   WL      2,D4KM3A+FR9
     857 000059c0                   WL      1,D4KM3A+FR10
     858                    
     859 000059f0                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,jnnhNEXT_CHECK_2
     860 00005a40                   WL      ANI_CHANGEANIM,dnk_combo_box_anim
     861                    
     862 00005a70           jnnhNEXT_CHECK_2
     863 00005a70                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,jnnhNEXT_CHECK
     864 00005ac0                   WL      ANI_CHANGEANIM,dnk_combo_knee_fall_anim
     865                    
     866 00005af0           jnnhNEXT_CHECK
     867 00005af0                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,jnnhmiss
     868 00005b40                   WL      ANI_CHANGEANIM,dnk_4_combo_spin_kick_anim
     869                    
     870 00005b70           jnnhmiss
     871 00005b70                   WL      ANI_CODE,DO_COMBO_MESS
     872 00005ba0     8073          .WORD   ANI_CLEAR_COMBO
     873 00005bb0     800a          .word   ANI_DETACH
     874 00005bc0                   WL      3,D4KM3A+FR5
     875 00005bf0                   WL      3,D4KM3A+FR6
     876 00005c20                   WL      3,D4KM3A+FR7
     877 00005c50                   WL      3,D4KM3A+FR8
     878 00005c80                   WL      3,D4KM3A+FR9
     879 00005cb0                   WL      3,D4KM3A+FR10
     880 00005ce0     8002          .word   ANI_SETMODE,MODE_NORMAL
     881 00005d00     8049          .word   ANI_END
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   17

     882                    
     883                    
     884                    *****************************************************************************
     885                    *
     886                    * xlbn2 SPIN KICK
     887                    
     888 00005d10            SUBR   dnk_2_spin_kick_anim
     889                    
     890 00005d10     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     891 00005d30     8003          .word   ANI_ZEROVELS
     892 00005d40     8026          .word   ANI_SETSPEED,100h
     893                    
     894 00005d60     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     895 00005d70     805f          .word   ANI_SET_WRESTLER_XFLIP
     896                    
     897 00005d80     8075          .word   ANI_STARTATTACK,AT_SPINKIK,15
     898 00005db0                   WL      3,D2KB3A+FR9
     899 00005de0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     900                    
     901                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     902 00005e20                   LEAPATOPP 11,999,50,50,90000h,TGT_HEAD,79,87,-30
     903 00005ed0                   WL      2,D2KB3A+FR8
     904 00005f00                   WL      3,D2KB3A+FR7
     905 00005f30                   WL      3,D2KB3A+FR6
     906 00005f60                   WL      3,D2KB3A+FR5
     907                    
     908                    ;       .word   ANI_ATTACK_ON, AMODE_SPINKICK,59,87,21,20       ;mode,x,y,w,h
     909 00005f90     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,46,76,42,42       ;mode,x,y,w,h
     910                    
     911 00005ff0                   WL      4,D2KB3A+FR4
     912 00006020     8007          .word   ANI_ATTACK_OFF
     913                    
     914 00006030                   WWL     ANI_SLIDE_BACK,30h,-70000h,xlbnno_hit
     915 00006090                   WL      ANI_SET_YVEL,50000h
     916 000060c0                   WL      ANI_GOTO,xlbnnopause
     917 000060f0           xlbnno_hit
     918 000060f0                   WL      ANI_IFNOTSTATUS2,xlbnnopause
     919 00006120     8003          .word   ANI_ZEROVELS
     920 00006130                   WL      ANI_SET_YVEL,30000h
     921 00006160                   WLW     ANI_SET_XVEL,30000h,AM_HIT_REL
     922 000061a0           xlbnnopause
     923 000061a0                   WL      1,D2KB3A+FR4
     924 000061d0     800b          .word   ANI_WAITHITGND
     925 000061e0     8003          .word   ANI_ZEROVELS
     926                    
     927                    ;       WL      ANI_CODE,skick_delay
     928                    ;       WL      ANI_IFNOTSTATUS2,xlbnnone
     929                    ;       WL      15,D2KB3A+FR4
     930                    ;xlbnnone
     931                    
     932 000061f0                   WL      4,D2KB3A+FR3
     933 00006220                   WL      4,D2KB3A+FR2
     934                    
     935 00006250     8002          .word   ANI_SETMODE,MODE_NORMAL
     936 00006270     8049          .word   ANI_END
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   18

     937                    
     938 00006280            SUBR   skick_delay
     939                    
     940 00006280     05a0          move    @royal_rumble,a0
         00006290 00000000! 
     941 000062b0     cb13          jrnz    xlbnok
     942                    
     943                    
     944                    
     945                    
     946                    ;       move    @PSTATUS,a0
     947                    ;       subk    3,a0
     948                    ;       jrz     xlbncont
     949                    ;       move    @NUM_OPPS,a0
     950                    ;       subk    1,a0
     951                    ;       jrnz    xlbnok
     952                    ;xlbncont
     953                    
     954                    
     955                    
     956                    
     957                    
     958                    
     959                    
     960 000062c0     b7ae          move    *a13(LAST_SKICK),a14,L
         000062d0     0e30  
     961 000062e0     07a0          move    @PCNT,a0,L                      ;use 32-bit PCNT!
         000062f0 00000000! 
     962 00006310     b20d          move    a0,*a13(LAST_SKICK),L
         00006320     0e30  
     963 00006330     45c0          sub     a14,a0
     964 00006340     0b40          cmpi    2*60,a0
         00006350     ff87  
     965 00006360     c508          jrge    xlbnok
     966                    
     967                    ;This blocked fling attempt is too close (in terms of time) to most recent grab
     968 00006370     b5a1          move    *a13(ANIMODE),a1
         00006380     0660  
     969 00006390     0ba1          ori     MODE_STATUS2,a1
         000063a0 00000200  
     970 000063c0     b02d          move    a1,*a13(ANIMODE)
         000063d0     0660  
     971 000063e0     0960          rets
     972                    
     973 000063f0     b5a1  xlbnok  move    *a13(ANIMODE),a1
         00006400     0660  
     974 00006410     0b81          andni   MODE_STATUS2,a1
         00006420 00000200  
     975 00006440     b02d          move    a1,*a13(ANIMODE)
         00006450     0660  
     976 00006460     0960          rets
     977                    
     978                    *****************************************************************************
     979                    *
     980                    * ygke2 SPIN KICK - Against TB attacks
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   19

     981                    
     982 00006470            SUBR   dnk_2_spin_kick_TB_anim
     983                    
     984 00006470     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     985 00006490     8003          .word   ANI_ZEROVELS
     986 000064a0     8026          .word   ANI_SETSPEED,100h
     987                    
     988 000064c0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     989 000064d0     805f          .word   ANI_SET_WRESTLER_XFLIP
     990                    
     991 000064e0     8004          .word   ANI_SETPLYRMODE,MODE_INAIR2
     992 00006500     8075          .word   ANI_STARTATTACK,AT_LEAPING,15
     993 00006530     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
     994 00006570                   WL      2,D2KB3A+FR9
     995 000065a0                   WL      ANI_SET_YVEL,70000h
     996 000065d0                   WLW     ANI_SET_XVEL,-20000h,AM_FACE_REL
     997 00006610                   WL      2,D2KB3A+FR8
     998 00006640                   WL      2,D2KB3A+FR7
     999 00006670     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,8,19,68,60        ;mode,x,y,w,h
    1000 000066d0                   WL      2,D2KB3A+FR6
    1001 00006700                   WL      2,D2KB3A+FR5
    1002 00006730                   WL      8,D2KB3A+FR4
    1003 00006760     8007          .word   ANI_ATTACK_OFF
    1004 00006770     800b          .word   ANI_WAITHITGND
    1005 00006780     8003          .word   ANI_ZEROVELS
    1006 00006790     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1007                    
    1008 000067b0                   WL      4,D2KB3A+FR3
    1009 000067e0                   WL      4,D2KB3A+FR2
    1010                    
    1011 00006810     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1012 00006830     8002          .word   ANI_SETMODE,MODE_NORMAL
    1013 00006850     8049          .word   ANI_END
    1014                    
    1015                    * ygke4 SPIN KICK
    1016                    
    1017 00006860            SUBR   dnk_4_spin_kick_anim
    1018                    
    1019 00006860     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1020 00006880     8003          .word   ANI_ZEROVELS
    1021 00006890     8026          .word   ANI_SETSPEED,100h
    1022                    
    1023 000068b0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1024 000068c0     805f          .word   ANI_SET_WRESTLER_XFLIP
    1025                    
    1026 000068d0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    1027 00006910     8075          .word   ANI_STARTATTACK,AT_SPINKIK,15
    1028 00006940                   WL      3,D4KB3A+FR9
    1029                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1030                    
    1031 00006970                   LEAPATOPP 11,999,50,50,90000h,TGT_HEAD,81,90,30
    1032 00006a20                   WL      2,D4KB3A+FR8
    1033 00006a50                   WL      3,D4KB3A+FR7
    1034 00006a80                   WL      3,D4KB3A+FR6
    1035 00006ab0                   WL      3,D4KB3A+FR5
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   20

    1036                    
    1037                    ;       .word   ANI_ATTACK_ON, AMODE_SPINKICK,59,82,26,13       ;mode,x,y,w,h
    1038 00006ae0     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,50,70,50,28       ;mode,x,y,w,h
    1039 00006b40                   WL      4,D4KB3A+FR5
    1040 00006b70     8007          .word   ANI_ATTACK_OFF
    1041                    
    1042 00006b80                   WWL     ANI_SLIDE_BACK,30h,-70000h,ygkeno_hit2
    1043 00006be0                   WL      ANI_SET_YVEL,50000h
    1044 00006c10                   WL      ANI_GOTO,ygkenopause2
    1045 00006c40           ygkeno_hit2
    1046 00006c40                   WL      ANI_IFNOTSTATUS2,ygkenopause2
    1047 00006c70     8003          .word   ANI_ZEROVELS
    1048 00006c80                   WL      ANI_SET_YVEL,30000h
    1049 00006cb0                   WLW     ANI_SET_XVEL,30000h,AM_HIT_REL
    1050 00006cf0           ygkenopause2
    1051 00006cf0                   WL      1,D4KB3A+FR5
    1052 00006d20     800b          .word   ANI_WAITHITGND
    1053 00006d30     8003          .word   ANI_ZEROVELS
    1054                    
    1055                    ;       WL      ANI_CODE,skick_delay
    1056                    ;       WL      ANI_IFNOTSTATUS2,ygkenone
    1057                    ;       WL      15,D4KB3A+FR5
    1058                    ;ygkenone
    1059                    
    1060 00006d40                   WL      4,D4KB3A+FR4
    1061 00006d70                   WL      4,D4KB3A+FR3
    1062 00006da0                   WL      4,D4KB3A+FR2
    1063                    
    1064 00006dd0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1065 00006df0     8049          .word   ANI_END
    1066                    
    1067                    *
    1068                    * mwan4 SPIN KICK
    1069                    
    1070 00006e00            SUBR   dnk_4_spin_kick_TB_anim
    1071                    
    1072 00006e00     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1073 00006e20     8003          .word   ANI_ZEROVELS
    1074 00006e30     8026          .word   ANI_SETSPEED,100h
    1075                    
    1076 00006e50     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1077 00006e60     805f          .word   ANI_SET_WRESTLER_XFLIP
    1078                    
    1079 00006e70     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    1080 00006eb0     8004          .word   ANI_SETPLYRMODE,MODE_INAIR2
    1081 00006ed0     8075          .word   ANI_STARTATTACK,AT_SPINKIK,15
    1082 00006f00                   WL      2,D4KB3A+FR9
    1083 00006f30                   WL      ANI_SET_YVEL,70000h
    1084 00006f60                   WLW     ANI_SET_XVEL,-20000h,AM_FACE_REL
    1085 00006fa0                   WL      2,D4KB3A+FR8
    1086 00006fd0                   WL      2,D4KB3A+FR7
    1087 00007000     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,59,82,26,13       ;mode,x,y,w,h
    1088 00007060                   WL      2,D4KB3A+FR6
    1089 00007090                   WL      2,D4KB3A+FR5
    1090 000070c0                   WL      8,D4KB3A+FR5
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   21

    1091 000070f0     8007          .word   ANI_ATTACK_OFF
    1092 00007100     800b          .word   ANI_WAITHITGND
    1093 00007110     8003          .word   ANI_ZEROVELS
    1094 00007120     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1095                    
    1096 00007140                   WL      3,D4KB3A+FR4
    1097 00007170                   WL      3,D4KB3A+FR3
    1098 000071a0                   WL      3,D4KB3A+FR2
    1099                    
    1100 000071d0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1101 000071f0     8049          .word   ANI_END
    1102                    
    1103 00007200            SUBR   dnk_4_combo_spin_kick_anim
    1104                    
    1105 00007200     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1106 00007220     8003          .word   ANI_ZEROVELS
    1107                    
    1108 00007230     8026          .word   ANI_SETSPEED,100h
    1109 00007250     8075          .word   ANI_STARTATTACK,AT_SPINKIK,9
    1110 00007280                   WL      2,D2KB3A+FR9
    1111                    
    1112                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1113 000072b0                   LEAPATOPP 8,999,45,50,90000h,TGT_HEAD,79,87,-30
    1114 00007360                   WL      2,D2KB3A+FR8
    1115 00007390                   WL      2,D2KB3A+FR7
    1116 000073c0                   WL      2,D2KB3A+FR6
    1117 000073f0                   WL      1,D2KB3A+FR5
    1118                    
    1119 00007420     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,59,37,41,70       ;mode,x,y,w,h
    1120 00007480                   WL      2,D2KB3A+FR4
    1121 000074b0     8007          .word   ANI_ATTACK_OFF
    1122 000074c0                   WL      ANI_IFNOTSTATUS2,mwanmiss_combo_spin2
    1123 000074f0     8072          .WORD   ANI_INC_COMBO
    1124                    ;       .word   ANI_SET_ATTACH
    1125 00007500                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
    1126 00007570                   WLW     ANI_SET_ZVEL,40000h,AM_FACE_REL
    1127 000075b0                   WLW     ANI_SET_XVEL,0h,AM_FACE_REL
    1128                    
    1129 000075f0     8061          .word   ANI_CLR_BUTCOUNT
    1130 00007600     800b          .word   ANI_WAITHITGND
    1131 00007610     8003          .word   ANI_ZEROVELS
    1132                    
    1133 00007620     8075          .word   ANI_STARTATTACK,AT_SPINKIK,16
    1134 00007650                   WL      2,D2KB3A+FR3
    1135 00007680                   WL      2,D2KB3A+FR2
    1136 000076b0                   WL      2,D4KB3A+FR9
    1137                    
    1138                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1139                    
    1140 000076e0                   WL      2,D4KB3A+FR9
    1141                    
    1142 00007710                   LEAPATOPP 8,999,45,50,90000h,TGT_HEAD,81,90,30
    1143 000077c0                   WL      2,D4KB3A+FR8
    1144 000077f0                   WL      2,D4KB3A+FR7
    1145 00007820                   WL      1,D4KB3A+FR6
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   22

    1146 00007850                   WL      2,D4KB3A+FR5
    1147                    
    1148 00007880     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,59,37,41,70       ;mode,x,y,w,h
    1149 000078e0                   WL      1,D4KB3A+FR5
    1150 00007910     8007          .word   ANI_ATTACK_OFF
    1151 00007920                   WL      ANI_IFNOTSTATUS2,mwanmiss_combo_spin4
    1152 00007950     8072          .WORD   ANI_INC_COMBO
    1153                    ;       .word   ANI_SET_ATTACH
    1154 00007960                   WLLL    ANI_SETOPPVELS,0,28000h,0h              ;x,y,z vels
    1155 000079d0                   WLW     ANI_SET_ZVEL,40000h,AM_FACE_REL
    1156 00007a10                   WLW     ANI_SET_XVEL,0h,AM_ABS
    1157                    
    1158 00007a50                   WL      2,D4KB3A+FR5
    1159 00007a80     800b          .word   ANI_WAITHITGND
    1160 00007a90     8003          .word   ANI_ZEROVELS
    1161                    
    1162 00007aa0     8075          .word   ANI_STARTATTACK,AT_SPINKIK,14
    1163 00007ad0                   WL      2,D4KB3A+FR4
    1164 00007b00                   WL      1,D4KB3A+FR3
    1165 00007b30                   WL      2,D4KB3A+FR2
    1166                    
    1167                    ;end kick 4
    1168                    
    1169 00007b60                   WL      1,D2KB3A+FR9
    1170                    
    1171 00007b90     8061          .word   ANI_CLR_BUTCOUNT
    1172                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1173 00007ba0                   LEAPATOPP 8,999,45,50,90000h,TGT_HEAD,79,87,-30
    1174 00007c50                   WL      1,D2KB3A+FR8
    1175 00007c80                   WL      1,D2KB3A+FR7
    1176 00007cb0                   WL      1,D2KB3A+FR6
    1177 00007ce0                   WL      1,D2KB3A+FR5
    1178                    
    1179 00007d10     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,59,37,41,70       ;mode,x,y,w,h
    1180 00007d70                   WL      2,D2KB3A+FR4
    1181 00007da0     8007          .word   ANI_ATTACK_OFF
    1182 00007db0                   WL      ANI_IFNOTSTATUS2,mwanmiss_combo_spin2
    1183 00007de0     8072          .WORD   ANI_INC_COMBO
    1184                    ;       .word   ANI_SET_ATTACH
    1185 00007df0                   WLLL    ANI_SETOPPVELS,0,18000h,0h              ;x,y,z vels
    1186 00007e60                   WLW     ANI_SET_ZVEL,10000h,AM_FACE_REL
    1187 00007ea0                   WLW     ANI_SET_XVEL,0h,AM_ABS
    1188                    
    1189 00007ee0     800b          .word   ANI_WAITHITGND
    1190 00007ef0     8003          .word   ANI_ZEROVELS
    1191                    
    1192 00007f00     8075          .word   ANI_STARTATTACK,AT_SPINKIK,12
    1193 00007f30                   WL      1,D2KB3A+FR3
    1194 00007f60                   WL      2,D2KB3A+FR2
    1195 00007f90                   WL      1,D4KB3A+FR9
    1196                    
    1197                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1198                    
    1199 00007fc0                   LEAPATOPP 8,999,45,50,90000h,TGT_HEAD,81,90,30
    1200 00008070                   WL      1,D4KB3A+FR8
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   23

    1201 000080a0                   WL      2,D4KB3A+FR7
    1202 000080d0                   WL      1,D4KB3A+FR6
    1203 00008100                   WL      1,D4KB3A+FR5
    1204                    
    1205 00008130     8006          .word   ANI_ATTACK_ON, AMODE_SPINKICK,59,37,41,70       ;mode,x,y,w,h
    1206 00008190                   WL      1,D4KB3A+FR5
    1207 000081c0     8007          .word   ANI_ATTACK_OFF
    1208 000081d0                   WL      ANI_IFNOTSTATUS2,mwanmiss_combo_spin4
    1209 00008200     8072          .WORD   ANI_INC_COMBO
    1210                    ;       .word   ANI_SET_ATTACH
    1211 00008210                   WLLL    ANI_SETOPPVELS,0,18000h,0h              ;x,y,z vels
    1212 00008280                   WLW     ANI_SET_ZVEL,10000h,AM_FACE_REL
    1213 000082c0                   WLW     ANI_SET_XVEL,0h,AM_ABS
    1214                    
    1215 00008300                   WL      1,D4KB3A+FR5
    1216 00008330     800b          .word   ANI_WAITHITGND
    1217 00008340     8003          .word   ANI_ZEROVELS
    1218                    
    1219 00008350                   WL      1,D4KB3A+FR4
    1220 00008380                   WL      2,D4KB3A+FR3
    1221 000083b0                   WL      1,D4KB3A+FR2
    1222                    
    1223                    ;end kick 4
    1224                    
    1225 000083e0                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,mwanNEXT_CHECK_3
    1226 00008430                   WL      ANI_CHANGEANIM,dnk_combo_box_anim
    1227                    
    1228 00008460           mwanNEXT_CHECK_3
    1229 00008460                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,mwanNEXT_CHECK_2
    1230 000084b0                   WL      ANI_CHANGEANIM,dnk_combo_knee_fall_anim
    1231                    
    1232 000084e0           mwanNEXT_CHECK_2
    1233 000084e0                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,mwanNEXT_CHECK
    1234 00008530                   WL      ANI_CHANGEANIM,dnk_4_combo_hiptoss_anim
    1235 00008560           mwanNEXT_CHECK
    1236 00008560                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,mwanmiss_combo_spin4
    1237 000085b0                   WL      ANI_CHANGEANIM,dnk_4_combo_earslap_anim
    1238                    
    1239 000085e0           mwanmiss_combo_spin2
    1240 000085e0     800b          .word   ANI_WAITHITGND
    1241 000085f0     8003          .word   ANI_ZEROVELS
    1242                    
    1243 00008600                   WL      ANI_CODE,DO_COMBO_MESS
    1244 00008630     8073          .WORD   ANI_CLEAR_COMBO
    1245                    
    1246 00008640                   WL      2,D2KB3A+FR3
    1247 00008670                   WL      2,D2KB3A+FR2
    1248 000086a0                   WL      2,D4KB3A+FR9
    1249                    
    1250 000086d0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1251 000086f0     8049          .word   ANI_END
    1252                    
    1253 00008700           mwanmiss_combo_spin4
    1254 00008700     800b          .word   ANI_WAITHITGND
    1255 00008710     8003          .word   ANI_ZEROVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   24

    1256                    
    1257 00008720                   WL      ANI_CODE,DO_COMBO_MESS
    1258 00008750     8073          .WORD   ANI_CLEAR_COMBO
    1259                    
    1260 00008760                   WL      2,D4KB3A+FR4
    1261 00008790                   WL      2,D4KB3A+FR3
    1262 000087c0                   WL      2,D4KB3A+FR2
    1263                    
    1264                    
    1265 000087f0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1266 00008810     8049          .word   ANI_END
    1267                    
    1268                    
    1269                    *****************************************************************************
    1270                    *
    1271                    * vosp2 KNEE
    1272                    
    1273 00008820            SUBR   dnk_2_knee_anim
    1274 00008820     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1275 00008840     8003          .word   ANI_ZEROVELS
    1276 00008850     8026          .word   ANI_SETSPEED,100h
    1277                    
    1278 00008870     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1279 00008880     805f          .word   ANI_SET_WRESTLER_XFLIP
    1280                    
    1281 00008890     8075          .word   ANI_STARTATTACK,AT_KNEE,6
    1282                    
    1283 000088c0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1284 00008900                   WL      1,D2KM3D+FR1                            ;D2NM3A+FR3
    1285 00008930                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1286 00008970                   WL      1,D2KM3D+FR1                            ;D2NM3A+FR3
    1287 000089a0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1288 000089e0                   WL      1,D2KM3D+FR1                            ;D2NM3A+FR3
    1289 00008a10                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1290                    
    1291 00008a50                   WL      2,D2KM3D+FR1                            ;D2NM3A+FR3
    1292                    
    1293                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1294                    ;       LEAPATOPP 21,999,36,30,90000h,TGT_CHEST,46,74,0
    1295                    
    1296 00008a80     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,5,41,48,36    ;mode,x,y,w,h
    1297 00008ae0                   WL      3,D2NM3A+FR4
    1298 00008b10     8007          .word   ANI_ATTACK_OFF
    1299 00008b20     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    1300                    
    1301 00008b60                   WWL     ANI_SLIDE_BACK,30h,-70000h,vospno_hit
    1302 00008bc0                   WL      ANI_SET_YVEL,60000h
    1303 00008bf0                   WLW     ANI_SET_ZVEL,10000h,AM_ABS
    1304 00008c30                   WL      1,D2NM3A+FR4
    1305 00008c60     800b          .word   ANI_WAITHITGND
    1306 00008c70     8003          .word   ANI_ZEROVELS
    1307 00008c80                   WL      ANI_GOTO,vospcont
    1308 00008cb0           vospno_hit
    1309                    ;       WL      ANI_IFNOTSTATUS2,vospnodrft
    1310                    ;       WLW     ANI_SET_ZVEL,0C000h,AM_ABS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   25

    1311                    ;vospnodrft
    1312 00008cb0                   WL      8,D2NM3A+FR4
    1313                    ;       .word   ANI_ZERO_XZVELS
    1314                    ;       WL      14,D2NM3A+FR4   ;8
    1315                    ;       WL      1,D2NM3A+FR4    ;8
    1316 00008ce0           vospcont
    1317 00008ce0                   WL      3,D2NM3A+FR5
    1318 00008d10                   WL      3,D2NM3A+FR6
    1319 00008d40                   WL      3,D2NM3A+FR7
    1320 00008d70     8021          .word   ANI_FACEUP
    1321 00008d80     8002          .word   ANI_SETMODE,MODE_NORMAL
    1322 00008da0     8049          .word   ANI_END
    1323                    
    1324                    * vosp4 KNEE
    1325                    
    1326                    ;For when knee knocks you on your butt
    1327                    
    1328 00008db0            SUBR   dnk_4_knee_fall_anim
    1329                    
    1330 00008db0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1331 00008dd0     8003          .word   ANI_ZEROVELS
    1332 00008de0     8026          .word   ANI_SETSPEED,100h
    1333                    
    1334 00008e00     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1335 00008e10     805f          .word   ANI_SET_WRESTLER_XFLIP
    1336                    
    1337 00008e20     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    1338 00008e60     8075          .word   ANI_STARTATTACK,AT_BIGKNEE,6
    1339 00008e90                   WL      3,D4NM3B+FR3
    1340                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1341                    ;       LEAPATOPP 21,999,36,20,90000h,TGT_CHEST,46,74,0
    1342                    ;       LEAPATOPP 15,999,86,20,90000h,TGT_CHEST,26,74,0
    1343                    
    1344                    ;This knee will knock the guy down!
    1345 00008ec0                   WL      1,D4NM3B+FR4
    1346 00008ef0     8006          .word   ANI_ATTACK_ON, AMODE_BIGKNEE,-5,41,70,36        ;mode,x,y,w,h
    1347 00008f50                   WL      3,D4NM3B+FR4
    1348 00008f80     8007          .word   ANI_ATTACK_OFF
    1349 00008f90     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    1350                    
    1351                    ;       WLW     ANI_SET_ZVEL,-10000h,AM_ABS
    1352 00008fd0                   WWL     ANI_SLIDE_BACK,30h,-70000h,vospno_hit3
    1353 00009030                   WL      ANI_SET_YVEL,60000h
    1354                    ;       WLW     ANI_SET_ZVEL,-4000h,AM_ABS
    1355 00009060                   WL      1,D4NM3B+FR4
    1356 00009090     800b          .word   ANI_WAITHITGND
    1357 000090a0     8003          .word   ANI_ZEROVELS
    1358 000090b0                   WL      ANI_GOTO,vospcont2
    1359 000090e0           vospno_hit3
    1360 000090e0                   WL      8,D4NM3B+FR4
    1361                    ;       WL      15h,D4NM3B+FR4
    1362                    ;       .word   ANI_ZERO_XZVELS
    1363                    ;       WL      3,D4NM3B+FR4    ;8
    1364                    ;       .word   ANI_WAITHITGND
    1365                    ;       .word   ANI_ZEROVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   26

    1366 00009110                   WL      ANI_GOTO,vospcont2
    1367                    
    1368 00009140            SUBR   dnk_combo_knee_fall_anim
    1369 00009140     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1370 00009160     8003          .word   ANI_ZEROVELS
    1371 00009170     8026          .word   ANI_SETSPEED,100h
    1372                    
    1373 00009190     8075          .word   ANI_STARTATTACK,AT_BIGKNEE,19
    1374 000091c0                   WL      4,D4NM3B+FR3
    1375                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1376 000091f0                   LEAPATOPP 15,999,86,20,90000h,TGT_CHEST,26,74,0
    1377                    
    1378                    ;This knee will knock the guy down!
    1379 000092a0     8006          .word   ANI_ATTACK_ON, AMODE_BIGKNEE,-5,41,90,36        ;mode,x,y,w,h
    1380 00009300                   WL      3,D4NM3B+FR4
    1381 00009330     8007          .word   ANI_ATTACK_OFF
    1382                    
    1383 00009340     8072          .WORD   ANI_INC_COMBO
    1384 00009350                   WL      ANI_CODE,DO_COMBO_MESS
    1385 00009380     8073          .WORD   ANI_CLEAR_COMBO
    1386                    
    1387 00009390                   WLW     ANI_SET_ZVEL,-20000h,AM_ABS
    1388 000093d0                   WWL     ANI_SLIDE_BACK,30h,-70000h,vospno_hit4
    1389 00009430                   WL      ANI_SET_YVEL,60000h
    1390 00009460                   WL      1,D4NM3B+FR4
    1391 00009490     800b          .word   ANI_WAITHITGND
    1392 000094a0     8003          .word   ANI_ZEROVELS
    1393 000094b0                   WL      ANI_GOTO,vospcont2
    1394 000094e0           vospno_hit4
    1395 000094e0                   WL      1ah,D4NM3B+FR4
    1396 00009510     8028          .word   ANI_ZERO_XZVELS
    1397 00009520                   WL      3,D4NM3B+FR4    ;8
    1398 00009550     800b          .word   ANI_WAITHITGND
    1399 00009560     8003          .word   ANI_ZEROVELS
    1400 00009570                   WL      ANI_GOTO,vospcont2
    1401                    
    1402                    
    1403 000095a0            SUBR   dnk_4_knee_anim
    1404 000095a0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1405 000095c0     8003          .word   ANI_ZEROVELS
    1406 000095d0     8026          .word   ANI_SETSPEED,100h
    1407                    
    1408 000095f0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1409 00009600     805f          .word   ANI_SET_WRESTLER_XFLIP
    1410                    
    1411 00009610     8075          .word   ANI_STARTATTACK,AT_KNEE,6
    1412 00009640                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1413 00009680                   WL      1,D4NM3B+FR3
    1414 000096b0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1415 000096f0                   WL      1,D4NM3B+FR3
    1416 00009720                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1417 00009760                   WL      1,D4NM3B+FR3
    1418 00009790                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    1419                    
    1420 000097d0                   WL      2,D4NM3B+FR3
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   27

    1421                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1422                    ;       LEAPATOPP 21,999,36,20,90000h,TGT_CHEST,46,74,0
    1423                    
    1424 00009800     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,5,41,40,36    ;mode,x,y,w,h
    1425 00009860                   WL      3,D4NM3B+FR4
    1426 00009890     8007          .word   ANI_ATTACK_OFF
    1427 000098a0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    1428                    
    1429 000098e0                   WWL     ANI_SLIDE_BACK,30h,-70000h,vospno_hit2
    1430 00009940                   WL      ANI_SET_YVEL,60000h
    1431 00009970                   WLW     ANI_SET_ZVEL,-4000h,AM_ABS
    1432 000099b0                   WL      1,D4NM3B+FR4
    1433 000099e0     800b          .word   ANI_WAITHITGND
    1434 000099f0     8003          .word   ANI_ZEROVELS
    1435 00009a00                   WL      ANI_GOTO,vospcont2
    1436 00009a30           vospno_hit2
    1437 00009a30                   WL      8,D4NM3B+FR4
    1438                    ;       WL      12h,D4NM3B+FR4
    1439                    ;       .word   ANI_ZERO_XZVELS
    1440                    ;       WL      14,D4NM3B+FR4   ;8
    1441                    ;       .word   ANI_WAITHITGND
    1442                    ;       .word   ANI_ZEROVELS
    1443 00009a60           vospcont2
    1444 00009a60                   WL      3,D4NM3B+FR5
    1445 00009a90                   WL      3,D4NM3B+FR6
    1446 00009ac0                   WL      3,D4NM3B+FR7
    1447                    
    1448 00009af0     8022          .word   ANI_FACEDOWN
    1449 00009b00     8002          .word   ANI_SETMODE,MODE_NORMAL
    1450 00009b20     8049          .word   ANI_END
    1451                    
    1452                    
    1453                    *****************************************************************************
    1454                    *
    1455                    * ehov3 FLYING KICK
    1456                    
    1457              0028  ehovyoff1       equ     40
    1458                    
    1459 00009b30            SUBR   dnk_combo_flying_kick_anim
    1460                    
    1461 00009b30     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1462 00009b50     8026          .word   ANI_SETSPEED,100h
    1463                    
    1464 00009b70                   WL      3,D3DC3C+FR1
    1465                    
    1466                    ;       WL      ANI_CODE,get_leap
    1467                    ;       WL      ANI_IFSTATUS2,ehovno_xvelc
    1468                    
    1469                    ;ehovnormc
    1470                    ;       ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1471 00009ba0                   LEAPATOPP 19,999,150,65,90000h,TGT_HEAD,30,100,0
    1472 00009c50     8075          .word   ANI_STARTATTACK,AT_LEAPING,21
    1473                    
    1474                    ;       WL      ANI_GOTO,ehovcontc
    1475                    ;
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   28

    1476                    ;ehovno_xvelc
    1477                    ;       .word   ANI_ZERO_XZVELS
    1478                    ;       WL      ANI_SET_YVEL,64000h
    1479                    ;ehovcontc
    1480 00009c80                   WL      3,D3DC3C+FR2
    1481                    
    1482 00009cb0     8015          .word   ANI_OFFSET,0,ehovyoff1,0                        ;x,y,z
    1483 00009cf0                   WL      3,D3DC3C+FR3
    1484 00009d20                   WL      6,D3DC3C+FR4
    1485                    
    1486 00009d50     803a          .word   ANI_CLR_STATUS
    1487                    
    1488 00009d60     8006          .word   ANI_ATTACK_ON, AMODE_FLYKICK,53,23,27,29 ;mode,x,y,w,h
    1489 00009dc0                   WL      3,D3DC3C+FR5
    1490 00009df0     8007          .word   ANI_ATTACK_OFF
    1491 00009e00                   WL      4,D3DC3C+FR6
    1492                    
    1493 00009e30                   WL      3,D3DC3C+FR7
    1494 00009e60                   WL      3,D3DC3C+FR8
    1495                    
    1496 00009e90     800b          .word   ANI_WAITHITGND
    1497 00009ea0     8003          .word   ANI_ZEROVELS
    1498 00009eb0                   WL      ANI_CODE,HIT_THE_MAT
    1499                    
    1500 00009ee0                   WL      ANI_IFSTATUS2,ehovgotc
    1501                    ;Missed him
    1502 00009f10                   WL      4,D3DC3C+FR9
    1503 00009f40     800d          .word   ANI_BOUNCE,3
    1504 00009f60                   WL      4,D3DC3C+FR9
    1505 00009f90     800b          .word   ANI_WAITHITGND
    1506 00009fa0                   WL      ANI_CODE,CALL_MISSES
    1507 00009fd0                   WL      ANI_CODE,SMALL_BOUNCE
    1508 0000a000                   WL      2,D3DC3C+FR9
    1509 0000a030                   WL      ANI_CODE,DO_COMBO_MESS
    1510 0000a060     8073          .WORD   ANI_CLEAR_COMBO
    1511                            
    1512 0000a070           ehovgotc
    1513 0000a070     8072          .WORD   ANI_INC_COMBO
    1514 0000a080                   WL      ANI_CODE,DO_COMBO_MESS
    1515 0000a0b0     8073          .WORD   ANI_CLEAR_COMBO
    1516 0000a0c0                   WL      2,D3DC3C+FR9
    1517 0000a0f0                   WL      2,D3DC3C+FR9
    1518 0000a120                   WL      4,D3DC3C+FR9
    1519 0000a150                   WL      4,D3DC3C+FR10
    1520                    
    1521 0000a180     800c          .word   ANI_XFLIP
    1522 0000a190     8015          .word   ANI_OFFSET,5,0,0                        ;x,y,z
    1523                    
    1524                    ;Getting up, set no_collis
    1525 0000a1d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    1526                    
    1527 0000a1f0                   WL      3,D2GD2A+FR4
    1528 0000a220                   WL      3,D2GD2A+FR6
    1529 0000a250                   WL      3,D2GD2A+FR7
    1530                    ;Check for a flip here
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   29

    1531 0000a280                   WL      2,D2GD2A+FR9
    1532 0000a2b0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1533 0000a2c0     805f          .word   ANI_SET_WRESTLER_XFLIP
    1534 0000a2d0                   WL      1,D2GD2A+FR9
    1535 0000a300                   WL      3,D2GD2A+FR10
    1536                    
    1537 0000a330     8068          .word   ANI_SAFE_TIME,30
    1538 0000a350                   WL      ANI_CODE,free_toss_check
    1539 0000a380                   WL      ANI_IFNOTSTATUS2,ehovno_freetoss
    1540 0000a3b0     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    1541 0000a410                   WL      1,D2GD2A+FR10
    1542 0000a440     8007          .word   ANI_ATTACK_OFF
    1543 0000a450                   WL      ANI_IFNOTSTATUS2,ehovno_freetoss
    1544                    
    1545                            ;Opponent standing too close -- free toss
    1546 0000a480                   WL      ANI_CODE,setup_freetoss
    1547 0000a4b0                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    1548 0000a4e0           ehovno_freetoss
    1549                    
    1550 0000a4e0     8021          .word   ANI_FACEUP
    1551 0000a4f0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1552 0000a510     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1553 0000a530     8049          .word   ANI_END
    1554                    
    1555                    
    1556 0000a540            SUBR   dnk_flying_kick_anim
    1557                    
    1558 0000a540     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1559 0000a560     8026          .word   ANI_SETSPEED,100h
    1560                    
    1561 0000a580     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1562 0000a590     805f          .word   ANI_SET_WRESTLER_XFLIP
    1563                    
    1564 0000a5a0                   WL      3,D3DC3C+FR1
    1565                    
    1566                    ;If opponent is on ground, just jump in place
    1567 0000a5d0                   WL      ANI_CODE,ehovckongrnd
    1568 0000a600                   WL      ANI_IFNOTSTATUS2,ehovnorm
    1569 0000a630                   WL      ANI_CHANGEANIM,dnk_belly_anim
    1570 0000a660           ehovnorm
    1571                    ;       ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1572 0000a660                   LEAPATOPP 19,999,155,65,90000h,TGT_HEAD,30,100,0
    1573 0000a710     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    1574 0000a750     8075          .word   ANI_STARTATTACK,AT_LEAPING,11
    1575 0000a780                   WL      ANI_CODE,no_bk_xvel
    1576                    
    1577 0000a7b0                   WL      3,D3DC3C+FR2
    1578 0000a7e0     8015          .word   ANI_OFFSET,0,ehovyoff1,0                        ;x,y,z
    1579 0000a820                   WL      3,D3DC3C+FR3
    1580 0000a850                   WL      6,D3DC3C+FR4
    1581                    
    1582 0000a880     8006          .word   ANI_ATTACK_ON, AMODE_FLYKICK,53,23,27,29 ;mode,x,y,w,h
    1583 0000a8e0                   WL      3,D3DC3C+FR5
    1584 0000a910     8007          .word   ANI_ATTACK_OFF
    1585 0000a920                   WL      4,D3DC3C+FR6
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   30

    1586 0000a950                   WL      3,D3DC3C+FR7
    1587 0000a980                   WL      3,D3DC3C+FR8
    1588                    
    1589 0000a9b0     800b          .word   ANI_WAITHITGND
    1590 0000a9c0     8003          .word   ANI_ZEROVELS
    1591 0000a9d0                   WL      ANI_CODE,HIT_THE_MAT
    1592                    
    1593 0000aa00                   WL      ANI_IFSTATUS2,ehovgot
    1594                    ;Missed him
    1595 0000aa30                   WL      4,D3DC3C+FR9
    1596 0000aa60     800d          .word   ANI_BOUNCE,3
    1597 0000aa80                   WL      4,D3DC3C+FR9
    1598 0000aab0     800b          .word   ANI_WAITHITGND
    1599 0000aac0                   WL      ANI_CODE,CALL_MISSES
    1600 0000aaf0                   WL      ANI_CODE,SMALL_BOUNCE
    1601 0000ab20                   WL      2,D3DC3C+FR9
    1602                            
    1603 0000ab50           ehovgot
    1604 0000ab50                   WL      2,D3DC3C+FR9
    1605 0000ab80           ehovcont2
    1606 0000ab80                   WL      2,D3DC3C+FR9
    1607 0000abb0                   WL      3,D3DC3C+FR9
    1608 0000abe0                   WL      3,D3DC3C+FR10
    1609                    
    1610 0000ac10     800c          .word   ANI_XFLIP
    1611 0000ac20     8015          .word   ANI_OFFSET,5,0,0                        ;x,y,z
    1612                    
    1613                    ;Getting up, set no_collis
    1614 0000ac60     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    1615                    
    1616 0000ac80                   WL      3,D2GD2A+FR4
    1617 0000acb0                   WL      3,D2GD2A+FR6
    1618 0000ace0                   WL      3,D2GD2A+FR7
    1619                    ;Check for a flip here
    1620 0000ad10                   WL      2,D2GD2A+FR9
    1621 0000ad40     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1622 0000ad50     805f          .word   ANI_SET_WRESTLER_XFLIP
    1623 0000ad60                   WL      2,D2GD2A+FR9
    1624 0000ad90                   WL      3,D2GD2A+FR10
    1625                    
    1626 0000adc0     8068          .word   ANI_SAFE_TIME,30
    1627 0000ade0                   WL      ANI_CODE,free_toss_check
    1628 0000ae10                   WL      ANI_IFNOTSTATUS2,ehovno_freetoss1
    1629 0000ae40     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    1630 0000aea0                   WL      1,D2GD2A+FR10
    1631 0000aed0     8007          .word   ANI_ATTACK_OFF
    1632 0000aee0                   WL      ANI_IFNOTSTATUS2,ehovno_freetoss1
    1633                    
    1634                            ;Opponent standing too close -- free toss
    1635 0000af10                   WL      ANI_CODE,setup_freetoss
    1636 0000af40                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    1637 0000af70           ehovno_freetoss1
    1638                    
    1639 0000af70     8021          .word   ANI_FACEUP
    1640 0000af80     8002          .word   ANI_SETMODE,MODE_NORMAL
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   31

    1641 0000afa0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1642 0000afc0     8049          .word   ANI_END
    1643                    
    1644 0000afd0           ehovckongrnd
    1645 0000afd0     b5a1          move    *a13(ANIMODE),a1
         0000afe0     0660  
    1646 0000aff0     0b81          andni   MODE_STATUS2,a1
         0000b000 00000200  
    1647 0000b020     b02d          move    a1,*a13(ANIMODE)
         0000b030     0660  
    1648                    
    1649 0000b040     0d5f          calla   get_opp_process         ;closest opponent process
         0000b050 00000000! 
    1650 0000b070     b400          move    *a0(PLYRMODE),a0
         0000b080     05c0  
    1651 0000b090     0b40          cmpi    MODE_ONGROUND,a0
         0000b0a0     fffb  
    1652 0000b0b0     ca01          jrz     ehovinplace
    1653 0000b0c0     0960          rets
    1654                    
    1655 0000b0d0           ehovinplace
    1656 0000b0d0     b5a1          move    *a13(ANIMODE),a1
         0000b0e0     0660  
    1657 0000b0f0     0ba1          ori     MODE_STATUS2,a1
         0000b100 00000200  
    1658 0000b120     b02d          move    a1,*a13(ANIMODE)
         0000b130     0660  
    1659 0000b140     0960          rets
    1660                    
    1661                    
    1662                    *****************************************************************************
    1663                    *
    1664                    * BODY HIT
    1665                    
    1666 0000b150            SUBR   dnk_4_body_hit_anim
    1667                    
    1668 0000b150     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1669 0000b170     8003          .word   ANI_ZEROVELS
    1670 0000b180     8026          .word   ANI_SETSPEED,100h
    1671                    
    1672 0000b1a0     805e          .word   ANI_DEBRIS,100,0,6,72,0 ;%chance, tbl index, x,y,z off
    1673                    
    1674 0000b200                   WL      ANI_SET_YVEL,48000h
    1675 0000b230                   WLW     ANI_SET_XVEL,-30000h,AM_HIT_REL
    1676 0000b270                   WL      ANI_CODE,ckzpos
    1677 0000b2a0                   WL      4,D3AM3A+FR1
    1678 0000b2d0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,COUGH_SWEAT,SWEAT_PER,0
    1679 0000b340                   WL      4,D3AM3A+FR2
    1680 0000b370                   WL      4,D3AM3A+FR3
    1681 0000b3a0     800b          .word   ANI_WAITHITGND
    1682 0000b3b0     8028          .word   ANI_ZERO_XZVELS
    1683 0000b3c0                   WL      3,D3AM3A+FR4
    1684 0000b3f0                   WL      3,D3AM3A+FR5
    1685 0000b420                   WL      3,D3AM3A+FR6
    1686 0000b450                   WL      2,D3AM3A+FR7
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   32

    1687 0000b480                   WL      2,D3AM3A+FR8
    1688                            
    1689 0000b4b0     8031          .word   ANI_CHECKWORD,USR_VAR1
    1690 0000b4d0                   WL      ANI_IFNOTSTATUS2,jhqlreg
    1691                    
    1692 0000b500                   WL      6,D4SW4C+FR1
    1693 0000b530                   WL      6,D4SW4C+FR2
    1694 0000b560                   WL      6,D4SW4C+FR3
    1695 0000b590                   WL      6,D4SW4C+FR4
    1696 0000b5c0                   WL      6,D4SW4C+FR5
    1697 0000b5f0                   WL      6,D4SW4C+FR6
    1698 0000b620                   WL      6,D4SW4C+FR5
    1699 0000b650                   WL      6,D4SW4C+FR4
    1700 0000b680                   WL      6,D4SW4C+FR3
    1701 0000b6b0                   WL      6,D4SW4C+FR2
    1702                    
    1703 0000b6e0           jhqlreg 
    1704 0000b6e0     8022          .word   ANI_FACEDOWN
    1705 0000b6f0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1706 0000b710     8049          .word   ANI_END
    1707                    
    1708 0000b720            SUBR   dnk_4_body_hit_dizzy_anim
    1709                    
    1710 0000b720     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1711 0000b740     8003          .word   ANI_ZEROVELS
    1712 0000b750     8026          .word   ANI_SETSPEED,100h
    1713 0000b770     8004          .word   ANI_SETPLYRMODE,MODE_DIZZY
    1714                    
    1715 0000b790                   WL      ANI_SET_YVEL,48000h
    1716 0000b7c0                   WLW     ANI_SET_XVEL,-30000h,AM_HIT_REL
    1717                    
    1718 0000b800     805e          .word   ANI_DEBRIS,100,0,6,72,0 ;%chance, tbl index, x,y,z off
    1719                    
    1720 0000b860                   WL      4,D3AM3A+FR1
    1721 0000b890                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,COUGH_SWEAT,SWEAT_PER,0
    1722 0000b900                   WL      4,D3AM3A+FR2
    1723 0000b930                   WL      6,D3AM3A+FR3
    1724 0000b960     800b          .word   ANI_WAITHITGND
    1725 0000b970     8028          .word   ANI_ZERO_XZVELS
    1726 0000b980                   WL      4,D3AM3A+FR4
    1727 0000b9b0                   WL      6,D3AM3A+FR5
    1728 0000b9e0                   WL      3,D3AM3A+FR6
    1729 0000ba10                   WL      3,D3AM3A+FR7
    1730 0000ba40                   WL      3,D3AM3A+FR8
    1731 0000ba70     8015          .word   ANI_OFFSET,0,-1,0                       ;x,y,z
    1732 0000bab0                   WL      1,D4SW4C+FR1
    1733                    
    1734 0000bae0                   WL      ANI_CHANGEANIM,dnk_dizzy_anim
    1735                    
    1736                    ;Hit by a knee!
    1737 0000bb10            SUBR   dnk_2_knee_hit_anim
    1738                    
    1739 0000bb10     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1740 0000bb30     8003          .word   ANI_ZEROVELS
    1741 0000bb40     8026          .word   ANI_SETSPEED,100h
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   33

    1742                    
    1743 0000bb60                   WL      ANI_SET_YVEL,78000h
    1744 0000bb90                   WLW     ANI_SET_XVEL,-30000h,AM_HIT_REL
    1745 0000bbd0                   WLW     ANI_SET_ZVEL,8000h,AM_ABS
    1746                    
    1747 0000bc10                   WL      ANI_CODE,ckzpos
    1748 0000bc40     805e          .word   ANI_DEBRIS,100,0,6,72,0 ;%chance, tbl index, x,y,z off
    1749                    
    1750 0000bca0                   WL      4,D3AM3A+FR1
    1751 0000bcd0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,COUGH_SWEAT,SWEAT_PER,0
    1752 0000bd40                   WL      4,D3AM3A+FR2
    1753 0000bd70                   WL      4,D3AM3A+FR3
    1754 0000bda0     800b          .word   ANI_WAITHITGND
    1755 0000bdb0     8028          .word   ANI_ZERO_XZVELS
    1756 0000bdc0                   WL      3,D3AM3A+FR4
    1757 0000bdf0                   WL      3,D3AM3A+FR5
    1758 0000be20                   WL      3,D3AM3A+FR6
    1759 0000be50                   WL      2,D3AM3A+FR7
    1760 0000be80                   WL      2,D3AM3A+FR8
    1761                    
    1762 0000beb0     8022          .word   ANI_FACEDOWN
    1763 0000bec0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1764 0000bee0     8049          .word   ANI_END
    1765                    
    1766 0000bef0            SUBR   dnk_4_knee_hit_dizzy_anim
    1767                    
    1768 0000bef0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1769 0000bf10     8003          .word   ANI_ZEROVELS
    1770 0000bf20     8026          .word   ANI_SETSPEED,100h
    1771 0000bf40     8004          .word   ANI_SETPLYRMODE,MODE_DIZZY
    1772                    
    1773 0000bf60                   WL      ANI_SET_YVEL,78000h
    1774 0000bf90                   WLW     ANI_SET_XVEL,-30000h,AM_HIT_REL
    1775                    
    1776 0000bfd0                   WL      ANI_CODE,ckzpos
    1777 0000c000     805e          .word   ANI_DEBRIS,100,0,6,72,0 ;%chance, tbl index, x,y,z off
    1778                    
    1779 0000c060                   WL      4,D3AM3A+FR1
    1780 0000c090                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,COUGH_SWEAT,SWEAT_PER,0
    1781 0000c100                   WL      4,D3AM3A+FR2
    1782 0000c130                   WL      14,D3AM3A+FR3
    1783 0000c160     800b          .word   ANI_WAITHITGND
    1784 0000c170     8028          .word   ANI_ZERO_XZVELS
    1785 0000c180                   WL      4,D3AM3A+FR4
    1786 0000c1b0                   WL      6,D3AM3A+FR5
    1787 0000c1e0                   WL      3,D3AM3A+FR6
    1788 0000c210                   WL      3,D3AM3A+FR7
    1789 0000c240                   WL      3,D3AM3A+FR8
    1790                    ;       .word   ANI_OFFSET,-9,-1,0                      ;x,y,z
    1791 0000c270     8015          .word   ANI_OFFSET,0,-1,0                       ;x,y,z
    1792 0000c2b0                   WL      1,D4SW4C+FR1
    1793                    
    1794                    ;       .word   ANI_SETPLYRMODE,MODE_DIZZY
    1795 0000c2e0                   WL      ANI_CHANGEANIM,dnk_dizzy_anim
    1796                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   34

    1797                    ;Being held by head, hit by a quick knee!
    1798 0000c310            SUBR   dnk_quick_knee_hit_anim
    1799                    
    1800 0000c310     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1801 0000c330     8026          .word   ANI_SETSPEED,100h
    1802                    
    1803 0000c350     8015          .word   ANI_OFFSET,0,0,2                        ;x,y,z
    1804 0000c390                   WL      4,D3HP3A+FR1
    1805 0000c3c0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,COUGH_SWEAT,SWEAT_PER,0
    1806 0000c430                   WL      4,D3HP3A+FR2
    1807 0000c460                   WL      4,D3HP3A+FR3
    1808 0000c490                   WL      4,D3HP3A+FR4
    1809 0000c4c0                   WL      4,D3HP3A+FR5
    1810 0000c4f0     800b          .word   ANI_WAITHITGND
    1811                    
    1812 0000c500                   WL      ANI_CODE,am_I_dead
    1813                    ;If I'm dead, goto fall back
    1814 0000c530                   WL      ANI_IFNOTSTATUS2,jhqlnodead
    1815                    
    1816 0000c560                   WL      ANI_CHANGEANIM,dnk_fall_back_anim
    1817                    
    1818 0000c590           jhqlnodead
    1819 0000c590                   WL      ANI_CHANGEANIM,dnk_3_head_held_anim
    1820                    
    1821                    
    1822                    *****************************************************************************
    1823                    *
    1824                    * FALL BACK
    1825                    
    1826 0000c5c0            SUBR   dnk_fall_back_anim
    1827                    
    1828 0000c5c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_NOCOLLIS
    1829 0000c5e0     8026          .word   ANI_SETSPEED,100h
    1830 0000c600     8028          .word   ANI_ZERO_XZVELS
    1831 0000c610                   WL      ANI_MIN_YVEL,70000h
    1832 0000c640                   WLW     ANI_SET_ZVEL,10000h,AM_FACE_REL
    1833                    
    1834 0000c680     807f          .word   ANI_SCROLL_CTRL,DNK_TBUKLY-60
    1835                    
    1836 0000c6a0                   WL      ANI_CODE,ckzpos
    1837                    
    1838 0000c6d0                   WWL     ANI_SETLONG,DEBRIS_X,[96,-09]   ;Y,X of head
    1839 0000c710                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYC_SWEAT,SWEAT_PER,0
    1840 0000c780                   WL      3,D3UC3A+FR1
    1841 0000c7b0                   WWL     ANI_SETLONG,DEBRIS_X,[95,-32]   ;Y,X of head
    1842 0000c7f0                   WL      3,D3UC3A+FR2
    1843 0000c820                   WWL     ANI_SETLONG,DEBRIS_X,[91,-41]   ;Y,X of head
    1844 0000c860                   WL      3,D3UC3A+FR3
    1845 0000c890     8015          .word   ANI_OFFSET,0,50,0                       ;x,y,z
    1846                    
    1847 0000c8d0                   WWL     ANI_SETLONG,DEBRIS_X,[36,-45]   ;Y,X of head
    1848 0000c910                   WL      3,D3UC3A+FR4
    1849 0000c940                   WWL     ANI_SETLONG,DEBRIS_X,[29,-48]   ;Y,X of head
    1850 0000c980                   WL      2,D3UC3A+FR5
    1851 0000c9b0                   WWL     ANI_SETLONG,DEBRIS_X,[19,-48]   ;Y,X of head
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   35

    1852 0000c9f0                   WL      2,D3UC3A+FR6
    1853 0000ca20     800b          .word   ANI_WAITHITGND
    1854                    
    1855 0000ca30     805e          .word   ANI_DEBRIS,100,1,-8,12,0        ;%chance, tbl index, x,y,z off
    1856                    
    1857 0000ca90                   WL      ANI_CODE,HIT_THE_MAT
    1858 0000cac0     8037          .word   ANI_SHAKEALL,1
    1859 0000cae0     801f          .word   ANI_SHAKER,25
    1860 0000cb00     8016          .word   ANI_FRICTION,3000h
    1861 0000cb20                   WWL     ANI_SETLONG,DEBRIS_X,[05,-47]   ;Y,X of head
    1862 0000cb60                   WL      2,D3UC3A+FR8
    1863 0000cb90     800d          .word   ANI_BOUNCE,5
    1864 0000cbb0                   WL      1,D3UC3A+FR8
    1865 0000cbe0                   WWL     ANI_SETLONG,DEBRIS_X,[09,-41]   ;Y,X of head
    1866 0000cc20                   WL      5,D3UC3A+FR9
    1867 0000cc50     800b          .word   ANI_WAITHITGND
    1868 0000cc60                   WL      ANI_CODE,SMALL_BOUNCE
    1869 0000cc90     8003          .word   ANI_ZEROVELS
    1870 0000cca0                   WWL     ANI_SETLONG,DEBRIS_X,[07,-48]   ;Y,X of head
    1871 0000cce0                   WL      3,D3UC3A+FR10
    1872 0000cd10                   WWL     ANI_SETLONG,DEBRIS_X,0          ;Y,X of head
    1873 0000cd50                   WL      3,D3UC3A+FR11
    1874                    
    1875 0000cd80     800c          .word   ANI_XFLIP
    1876 0000cd90                   WL      1,D3SA3A+FR9
    1877                    
    1878 0000cdc0     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    1879 0000cde0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1880                    
    1881                    ;Stay on ground for awhile...  Maybe this will be table driven
    1882 0000ce00                   WL      6,D3SA3A+FR9
    1883 0000ce30     8054          .word   ANI_WAITROLL
    1884 0000ce40                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    1885                    
    1886 0000ce70            SUBR   ckzpos
    1887                    
    1888                    ;If falling near the front or rear ropes, slide toward middle
    1889                    ;of the ring to allow opponent to walk around him.
    1890 0000ce70     b5a0          move    *a13(OBJ_ZPOSINT),a0
         0000ce80     0150  
    1891 0000ce90     0b40          cmpi    510h,a0
         0000cea0     faef  
    1892 0000ceb0     c709          jrgt    ozmxslideup
    1893 0000cec0     0b40          cmpi    442h,a0
         0000ced0     fbbd  
    1894 0000cee0     c70b          jrgt    ozmxok
    1895                    
    1896                    ;slide down scrn
    1897 0000cef0     09e0          movi    24000h,a0
         0000cf00 00024000  
    1898 0000cf20     b20d          move    a0,*a13(OBJ_ZVEL),L
         0000cf30     0310  
    1899 0000cf40     0960          rets
    1900 0000cf50           ozmxslideup
    1901 0000cf50     09e0          movi    -24000h,a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   36

         0000cf60 fffdc000  
    1902 0000cf80     b20d          move    a0,*a13(OBJ_ZVEL),L
         0000cf90     0310  
    1903 0000cfa0           ozmxok
    1904 0000cfa0     0960          rets
    1905                    
    1906                    * FALL BACK
    1907                    
    1908 0000cfb0            SUBR   dnk_fall_back2_anim
    1909                    
    1910 0000cfb0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1911 0000cfd0     8003          .word   ANI_ZEROVELS
    1912 0000cfe0     8026          .word   ANI_SETSPEED,100h
    1913 0000d000                   WL      ANI_SET_YVEL,20000h
    1914 0000d030                   WLW     ANI_SET_ZVEL,18000h,AM_ABS
    1915 0000d070                   WL      ANI_CODE,ckzpos
    1916                    
    1917 0000d0a0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYC_SWEAT,SWEAT_PER,0
    1918 0000d110                   WL      3,D3UC3A+FR1
    1919 0000d140                   WL      3,D3UC3A+FR2
    1920 0000d170                   WL      3,D3UC3A+FR3
    1921 0000d1a0     8015          .word   ANI_OFFSET,0,50,0                       ;x,y,z
    1922                    
    1923 0000d1e0                   WL      3,D3UC3A+FR4
    1924 0000d210                   WL      2,D3UC3A+FR5
    1925 0000d240                   WL      2,D3UC3A+FR6
    1926                    ;       WL      2,D3UC3A+FR7
    1927 0000d270     800b          .word   ANI_WAITHITGND
    1928                    
    1929 0000d280     805e          .word   ANI_DEBRIS,100,1,-8,12,0        ;%chance, tbl index, x,y,z off
    1930                    
    1931 0000d2e0                   WL      ANI_CODE,HIT_THE_MAT
    1932 0000d310     8037          .word   ANI_SHAKEALL,1
    1933 0000d330     801f          .word   ANI_SHAKER,25
    1934 0000d350     8003          .word   ANI_ZEROVELS            
    1935 0000d360                   WLW     ANI_SET_ZVEL,18000h,AM_ABS
    1936 0000d3a0                   WLW     ANI_SET_XVEL,-20000h,AM_FACE_REL
    1937                    
    1938 0000d3e0     8015          .word   ANI_OFFSET,-25,0,0                      ;x,y,z
    1939 0000d420                   WL      3,D3FD3E+FR2
    1940 0000d450                   WL      3,D3FD3E+FR3
    1941 0000d480                   WL      3,D3FD3E+FR4
    1942 0000d4b0                   WL      3,D3FD3E+FR5
    1943 0000d4e0                   WL      3,D3FD3E+FR6
    1944 0000d510                   WL      3,D3FD3E+FR7
    1945 0000d540                   WL      3,D3FD3E+FR8
    1946 0000d570     8003          .word   ANI_ZEROVELS
    1947 0000d580     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND   ;So we can stomp him!
    1948 0000d5a0                   WL      ANI_CODE,HIT_THE_MAT
    1949                    
    1950 0000d5d0     8015          .word   ANI_OFFSET,-22,0,0                      ;x,y,z
    1951                    
    1952 0000d610                   WL      4,D3GS3X+FR8
    1953 0000d640                   WL      4,D3GS3X+FR9
    1954 0000d670                   WL      4,D3GS3X+FR10
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   37

    1955                    ;Stay on ground for awhile...  Maybe this will be table driven
    1956 0000d6a0                   WL      20,D3GS3X+FR8           ;Face down
    1957                    ;       WL      3,D3SA3A+FR9
    1958 0000d6d0     8054          .word   ANI_WAITROLL
    1959 0000d6e0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    1960                    
    1961                    *****************************************************************************
    1962                    *
    1963                    * FALL FROM TURNBUCKLE
    1964                    
    1965 0000d710            SUBR   dnk_fall_back_tbukl_anim
    1966                    
    1967 0000d710     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE
    1968 0000d730     8026          .word   ANI_SETSPEED,100h
    1969 0000d750     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
    1970                    
    1971 0000d770                   WL      3,D3UC3A+FR1
    1972 0000d7a0                   WL      3,D3UC3A+FR2
    1973 0000d7d0                   WL      3,D3UC3A+FR3
    1974 0000d800     8015          .word   ANI_OFFSET,0,50,0                       ;x,y,z
    1975                    
    1976 0000d840                   WL      3,D3UC3A+FR4
    1977 0000d870                   WL      2,D3UC3A+FR5
    1978 0000d8a0                   WL      2,D3UC3A+FR6
    1979 0000d8d0     800b          .word   ANI_WAITHITGND
    1980 0000d8e0     8003          .word   ANI_ZEROVELS
    1981 0000d8f0     8038          .word   ANI_DAMAGE,D_HITCONCRETE
    1982                    
    1983 0000d910     805e          .word   ANI_DEBRIS,100,1,-8,12,0        ;%chance, tbl index, x,y,z off
    1984                    
    1985 0000d970                   WL      ANI_CODE,HIT_THE_MAT
    1986 0000d9a0     8037          .word   ANI_SHAKEALL,1
    1987 0000d9c0     801f          .word   ANI_SHAKER,40
    1988                    ;       .word   ANI_FRICTION,3000h
    1989 0000d9e0                   WL      2,D3UC3A+FR8
    1990 0000da10     800d          .word   ANI_BOUNCE,3
    1991 0000da30                   WL      1,D3UC3A+FR8
    1992 0000da60                   WL      5,D3UC3A+FR9
    1993 0000da90     800b          .word   ANI_WAITHITGND
    1994 0000daa0                   WL      ANI_CODE,SMALL_BOUNCE
    1995 0000dad0     8003          .word   ANI_ZEROVELS
    1996 0000dae0                   WL      3,D3UC3A+FR10
    1997 0000db10                   WL      3,D3UC3A+FR11
    1998                    
    1999 0000db40     800c          .word   ANI_XFLIP
    2000 0000db50                   WL      1,D3SA3A+FR9
    2001                    
    2002 0000db80     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    2003                    
    2004 0000dba0                   WL      3,D3SA3A+FR9
    2005 0000dbd0     8054          .word   ANI_WAITROLL
    2006 0000dbe0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    2007                    
    2008                    
    2009                    *****************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   38

    2010                    
    2011                    ;chooses 2 or 4 right away
    2012                    
    2013 0000dc10            SUBR   dnk_faceup_getup_anim
    2014                    
    2015 0000dc10     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2016 0000dc30     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2017                    
    2018 0000dc40                   WL      ANI_CODE,choose_2or4
    2019 0000dc70                   WL      ANI_IFNOTSTATUS2,dnk_2_faceup_getup_anim
    2020 0000dca0                   WL      ANI_CHANGEANIM,dnk_4_faceup_getup_anim
    2021                    
    2022 0000dcd0            SUBR   dnk_4_faceup_getup_anim
    2023                    
    2024 0000dcd0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCOLLIS
    2025 0000dcf0     8003          .word   ANI_ZEROVELS
    2026 0000dd00     8026          .word   ANI_SETSPEED,100h
    2027                    
    2028                    ;       .word   ANI_CLR_STARS
    2029                    ;       .word   ANI_CLR_DAMAGE
    2030                    
    2031 0000dd20                   WL      1,D3SA3A+FR9
    2032 0000dd50                   WL      2,D3GU4A+FR2
    2033 0000dd80                   WL      3,D3GU4A+FR3
    2034 0000ddb0                   WL      2,D3GU4A+FR4
    2035 0000dde0                   WL      3,D3GU4A+FR5
    2036 0000de10                   WL      2,D3GU4A+FR6
    2037                    ;Check for a flip here
    2038 0000de40                   WL      1,D3GU4A+FR7
    2039 0000de70     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2040 0000de80     805f          .word   ANI_SET_WRESTLER_XFLIP
    2041 0000de90                   WL      2,D3GU4A+FR7
    2042 0000dec0                   WL      2,D3GU4A+FR8
    2043 0000def0                   WL      3,D3GU4A+FR9
    2044                    
    2045 0000df20     8068          .word   ANI_SAFE_TIME,50
    2046                    
    2047 0000df40                   WL      ANI_CODE,free_toss_check
    2048 0000df70                   WL      ANI_IFNOTSTATUS2,ehnsno_freetoss2
    2049 0000dfa0     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    2050 0000e000                   WL      1,D3GU4A+FR9
    2051 0000e030     8007          .word   ANI_ATTACK_OFF
    2052 0000e040                   WL      ANI_IFNOTSTATUS2,ehnsno_freetoss2
    2053                    
    2054                            ;Opponent standing too close -- free toss
    2055 0000e070                   WL      ANI_CODE,setup_freetoss
    2056 0000e0a0                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    2057 0000e0d0           ehnsno_freetoss2
    2058                    
    2059 0000e0d0     8022          .word   ANI_FACEDOWN
    2060 0000e0e0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2061 0000e100     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2062 0000e120     8049          .word   ANI_END
    2063                    
    2064 0000e130            SUBR   dnk_2_faceup_getup_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   39

    2065                    
    2066 0000e130     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    2067 0000e150     8003          .word   ANI_ZEROVELS
    2068 0000e160     8026          .word   ANI_SETSPEED,100h
    2069                    
    2070                    ;       .word   ANI_CLR_STARS
    2071                    ;       .word   ANI_CLR_DAMAGE
    2072                    
    2073                    
    2074                    ;       WL      1,D3SA3A+FR9
    2075 0000e180                   WL      2,D3RL1B+FR2
    2076 0000e1b0                   WL      2,D3RL1B+FR3
    2077 0000e1e0                   WL      2,D3RL1B+FR4
    2078 0000e210                   WL      2,D3RL1B+FR5
    2079 0000e240                   WL      2,D3RL1B+FR6
    2080                    
    2081 0000e270                   WL      3,D2GD2A+FR4
    2082                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2083 0000e2a0                   WL      2,D2GD2A+FR6
    2084 0000e2d0                   WL      3,D2GD2A+FR7
    2085                    ;Check for a flip here
    2086 0000e300                   WL      2,D2GD2A+FR9
    2087 0000e330     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2088 0000e340     805f          .word   ANI_SET_WRESTLER_XFLIP
    2089 0000e350                   WL      1,D2GD2A+FR9
    2090 0000e380                   WL      3,D2GD2A+FR10
    2091                    
    2092 0000e3b0     8068          .word   ANI_SAFE_TIME,50
    2093 0000e3d0                   WL      ANI_CODE,free_toss_check
    2094 0000e400                   WL      ANI_IFNOTSTATUS2,ehnsno_freetoss3
    2095 0000e430     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    2096 0000e490                   WL      1,D2GD2A+FR10
    2097 0000e4c0     8007          .word   ANI_ATTACK_OFF
    2098 0000e4d0                   WL      ANI_IFNOTSTATUS2,ehnsno_freetoss3
    2099                    
    2100                            ;Opponent standing too close -- free toss
    2101 0000e500                   WL      ANI_CODE,setup_freetoss
    2102 0000e530                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    2103 0000e560           ehnsno_freetoss3
    2104                    
    2105 0000e560     8021          .word   ANI_FACEUP
    2106 0000e570     8002          .word   ANI_SETMODE,MODE_NORMAL
    2107 0000e590     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2108 0000e5b0     8049          .word   ANI_END
    2109                    
    2110                    
    2111                    *****************************************************************************
    2112                    *
    2113                    * ybmh4 HEAD HIT
    2114                                                 
    2115 0000e5c0            SUBR   dnk_4_head_hit_anim
    2116 0000e5c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2117 0000e5e0     8003          .word   ANI_ZEROVELS
    2118 0000e5f0     8026          .word   ANI_SETSPEED,100h
    2119                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   40

    2120 0000e610     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2121 0000e620     805f          .word   ANI_SET_WRESTLER_XFLIP
    2122                    
    2123 0000e630     805e          .word   ANI_DEBRIS,150,3,-21,100,0      ;%chance, tbl index, x,y,z off
    2124                    
    2125                    ;       WL      ANI_CODE,ybmhtryblood
    2126 0000e690                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYA_SWEAT,SWEAT_PER,0
    2127                    
    2128 0000e700                   WL      3,D3AH3B+FR1
    2129 0000e730                   WL      3,D3AH3B+FR2
    2130 0000e760                   WL      2,D3AH3B+FR3
    2131 0000e790                   WL      2,D3AH3B+FR5
    2132                    
    2133 0000e7c0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2134 0000e7e0     8049          .word   ANI_END
    2135                    
    2136                    ;ybmhtryblood
    2137                    ;       move    a13,a11
    2138                    ;       CREATE0 react_bloodnguts_gen
    2139                    ;       rets
    2140                    
    2141                    * #2 HEAD HIT
    2142                    
    2143 0000e7f0            SUBR   dnk_2_head_hit_anim
    2144 0000e7f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2145 0000e810     8003          .word   ANI_ZEROVELS
    2146 0000e820     8026          .word   ANI_SETSPEED,100h
    2147                    
    2148 0000e840     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2149 0000e850     805f          .word   ANI_SET_WRESTLER_XFLIP
    2150                    
    2151 0000e860     805e          .word   ANI_DEBRIS,150,3,-21,100,0      ;%chance, tbl index, x,y,z off
    2152 0000e8c0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYA_SWEAT,SWEAT_PER,0
    2153                    
    2154 0000e930                   WL      3,D2AH2A+FR1
    2155 0000e960                   WL      3,D2AH2A+FR2
    2156 0000e990                   WL      3,D2AH2A+FR3
    2157                    
    2158 0000e9c0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2159 0000e9e0     8049          .word   ANI_END
    2160                    
    2161                    * #4 HEAD HIT - From spin kick & backhand slap
    2162                    
    2163 0000e9f0            SUBR   dnk_4_head_hit2_anim
    2164 0000e9f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2165 0000ea10     8003          .word   ANI_ZEROVELS
    2166 0000ea20     8026          .word   ANI_SETSPEED,100h
    2167                    
    2168 0000ea40     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2169 0000ea50     805f          .word   ANI_SET_WRESTLER_XFLIP
    2170                    
    2171 0000ea60                   WLW     ANI_SET_XVEL,-28000h,AM_HIT_REL
    2172 0000eaa0                   WLW     ANI_SET_ZVEL,-20000h,AM_ABS
    2173 0000eae0                   WL      ANI_SET_YVEL,40000h
    2174                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   41

    2175 0000eb10                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYA_SWEAT,SWEAT_PER,0
    2176 0000eb80                   WL      3,D3AH3B+FR1
    2177 0000ebb0     805e          .word   ANI_DEBRIS,200,2,-23,102,0      ;%chance, tbl index, x,y,z off
    2178 0000ec10                   WL      3,D3AH3B+FR2
    2179 0000ec40     800b          .word   ANI_WAITHITGND
    2180 0000ec50                   WL      3,D3AH3B+FR3
    2181 0000ec80     8003          .word   ANI_ZEROVELS
    2182 0000ec90                   WL      3,D3AH3B+FR5
    2183                    
    2184 0000ecc0     8022          .word   ANI_FACEDOWN
    2185 0000ecd0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2186 0000ecf0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2187 0000ed10     8049          .word   ANI_END
    2188                    
    2189 0000ed20            SUBR   dnk_4_head_hit4_anim
    2190                    ;From earslap
    2191                    
    2192 0000ed20     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2193 0000ed40     8003          .word   ANI_ZEROVELS
    2194 0000ed50     8026          .word   ANI_SETSPEED,100h
    2195                    
    2196 0000ed70     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2197 0000ed80     805f          .word   ANI_SET_WRESTLER_XFLIP
    2198                    
    2199 0000ed90                   WL      ANI_SET_YVEL,50000h
    2200                    
    2201 0000edc0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYA_SWEAT,SWEAT_PER,0
    2202 0000ee30                   WL      4,D3AH3B+FR2
    2203 0000ee60                   WL      4,D3AH3B+FR3
    2204 0000ee90                   WL      4,D3AH3B+FR5
    2205 0000eec0     800b          .word   ANI_WAITHITGND
    2206                    
    2207 0000eed0     8022          .word   ANI_FACEDOWN
    2208 0000eee0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2209 0000ef00     8002          .word   ANI_SETMODE,MODE_NORMAL
    2210 0000ef20     8049          .word   ANI_END
    2211                    
    2212                    * #2 HEAD HIT - From spin kick & backhand slap
    2213                    
    2214 0000ef30            SUBR   dnk_2_head_hit2_anim
    2215                    
    2216 0000ef30     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2217 0000ef50     8003          .word   ANI_ZEROVELS
    2218 0000ef60     8026          .word   ANI_SETSPEED,100h
    2219                    
    2220 0000ef80     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2221 0000ef90     805f          .word   ANI_SET_WRESTLER_XFLIP
    2222                    
    2223 0000efa0                   WLW     ANI_SET_XVEL,-28000h,AM_HIT_REL
    2224 0000efe0                   WLW     ANI_SET_ZVEL,20000h,AM_ABS
    2225 0000f020                   WL      ANI_SET_YVEL,40000h
    2226                    
    2227 0000f050                   WL      3,D2AH2A+FR1
    2228 0000f080     805e          .word   ANI_DEBRIS,200,2,-23,102,0      ;%chance, tbl index, x,y,z off
    2229 0000f0e0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYA_SWEAT,SWEAT_PER,0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   42

    2230 0000f150                   WL      4,D2AH2A+FR2
    2231 0000f180     800b          .word   ANI_WAITHITGND
    2232 0000f190     8003          .word   ANI_ZEROVELS
    2233 0000f1a0                   WL      3,D2AH2A+FR3
    2234                    
    2235 0000f1d0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2236 0000f1f0     8049          .word   ANI_END
    2237                    
    2238                    *****************************************************************************
    2239                    *
    2240                    * HEAD HIT2 (HANDS ON FACE)
    2241                    
    2242 0000f200            SUBR   dnk_head_hit2_anim
    2243 0000f200     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2244 0000f220     8003          .word   ANI_ZEROVELS
    2245 0000f230     8026          .word   ANI_SETSPEED,100h
    2246 0000f250                   WLW     ANI_SET_XVEL,-40000h,AM_HIT_REL
    2247 0000f290     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2248 0000f2a0     805f          .word   ANI_SET_WRESTLER_XFLIP
    2249                    
    2250 0000f2b0     805e          .word   ANI_DEBRIS,150,3,-21,100,0      ;%chance, tbl index, x,y,z off
    2251                    
    2252 0000f310                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYA_SWEAT,SWEAT_PER,0
    2253 0000f380     8016          .word   ANI_FRICTION,3000h
    2254 0000f3a0                   WL      3,D3AE3B+FR1
    2255 0000f3d0                   WL      3,D3AE3B+FR2
    2256 0000f400                   WL      3,D3AE3B+FR3
    2257 0000f430                   WL      3,D3AE3B+FR4
    2258 0000f460                   WL      2,D3AE3B+FR5
    2259 0000f490                   WL      2,D3AE3B+FR6
    2260 0000f4c0                   WL      2,D3AE3B+FR7
    2261 0000f4f0                   WL      2,D3AE3B+FR8
    2262                    
    2263 0000f520                   WL      ANI_CODE,am_I_dead
    2264                    ;If I'm dead, goto fall back
    2265 0000f550                   WL      ANI_IFNOTSTATUS2,gyjqnodead
    2266                    
    2267 0000f580                   WL      ANI_CHANGEANIM,dnk_fall_back_anim
    2268                    
    2269 0000f5b0           gyjqnodead
    2270 0000f5b0     8022          .word   ANI_FACEDOWN
    2271 0000f5c0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2272 0000f5e0     8049          .word   ANI_END
    2273                    
    2274 0000f5f0            SUBR   dnk_head_hit2s_anim
    2275                    ;Salt hits me in face
    2276 0000f5f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2277 0000f610     8003          .word   ANI_ZEROVELS
    2278 0000f620     8026          .word   ANI_SETSPEED,100h
    2279 0000f640     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2280 0000f650     805f          .word   ANI_SET_WRESTLER_XFLIP
    2281                    
    2282                    ;       WL      4,D3AE3B+FR1
    2283 0000f660                   WL      ANI_CODE,create_impact_salt
    2284 0000f690                   WL      4,D3AE3B+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   43

    2285 0000f6c0                   WL      4,D3AE3B+FR3
    2286 0000f6f0                   WL      4,D3AE3B+FR4
    2287 0000f720     800b          .word   ANI_WAITHITGND
    2288 0000f730     8016          .word   ANI_FRICTION,4000h
    2289 0000f750                   WL      50,D3AE3B+FR4
    2290 0000f780     8003          .word   ANI_ZEROVELS
    2291 0000f790                   WL      3,D3AE3B+FR5
    2292 0000f7c0                   WL      3,D3AE3B+FR6
    2293 0000f7f0                   WL      3,D3AE3B+FR7
    2294 0000f820                   WL      3,D3AE3B+FR8
    2295                    
    2296 0000f850     8022          .word   ANI_FACEDOWN
    2297 0000f860     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2298 0000f880     8002          .word   ANI_SETMODE,MODE_NORMAL
    2299 0000f8a0     8049          .word   ANI_END
    2300                    *
    2301                    
    2302 0000f8b0            SUBR   dnk_head_hit3_anim
    2303                    
    2304 0000f8b0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2305 0000f8d0     8003          .word   ANI_ZEROVELS
    2306 0000f8e0     8026          .word   ANI_SETSPEED,100h
    2307 0000f900     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2308 0000f910     805f          .word   ANI_SET_WRESTLER_XFLIP
    2309                    
    2310 0000f920                   WLW     ANI_SET_XVEL,-30000h,AM_HIT_REL
    2311 0000f960                   WLW     ANI_SET_ZVEL,28000h,AM_HIT_REL
    2312 0000f9a0                   WL      ANI_SET_YVEL,50000h
    2313 0000f9d0     8016          .word   ANI_FRICTION,3000h
    2314                    ;       WL      4,D3AE3B+FR1
    2315 0000f9f0                   WL      4,D3AE3B+FR2
    2316 0000fa20                   WL      4,D3AE3B+FR3
    2317 0000fa50                   WL      18,D3AE3B+FR4
    2318 0000fa80                   WL      2,D3AE3B+FR5
    2319 0000fab0     8003          .word   ANI_ZEROVELS
    2320 0000fac0                   WL      2,D3AE3B+FR5
    2321 0000faf0                   WL      3,D3AE3B+FR6
    2322 0000fb20                   WL      3,D3AE3B+FR7
    2323 0000fb50                   WL      3,D3AE3B+FR8
    2324                    
    2325 0000fb80     8022          .word   ANI_FACEDOWN
    2326 0000fb90     8002          .word   ANI_SETMODE,MODE_NORMAL
    2327 0000fbb0     8049          .word   ANI_END
    2328                    
    2329                    
    2330                    * HEAD HIT2 (ENDS IN DIZZY)
    2331                    
    2332 0000fbc0            SUBR   dnk_head_dead_dizzy_anim
    2333                    ;This is a head hit dizzy seq which causes the player to fall down after a time
    2334 0000fbc0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2335 0000fbe0     8004          .word   ANI_SETPLYRMODE,MODE_DIZZY
    2336 0000fc00     8003          .word   ANI_ZEROVELS
    2337 0000fc10     8026          .word   ANI_SETSPEED,100h
    2338 0000fc30     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2339 0000fc40     805f          .word   ANI_SET_WRESTLER_XFLIP
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   44

    2340                    
    2341 0000fc50                   WLW     ANI_SET_XVEL,-40000h,AM_HIT_REL
    2342 0000fc90     8016          .word   ANI_FRICTION,3000h
    2343                    
    2344 0000fcb0                   WL      4,D3AE3B+FR1
    2345 0000fce0                   WL      4,D3AE3B+FR2
    2346 0000fd10                   WL      4,D3AE3B+FR3
    2347 0000fd40                   WL      4,D3AE3B+FR4
    2348 0000fd70                   WL      4,D3AE3B+FR5
    2349 0000fda0                   WL      4,D3AE3B+FR6
    2350 0000fdd0                   WL      4,D3AE3B+FR7
    2351 0000fe00                   WL      4,D3AE3B+FR8
    2352                    
    2353                    ;       .word   ANI_SETPLYRMODE,MODE_DIZZY
    2354 0000fe30                   WL      ANI_CHANGEANIM,dnk_dizzy_anim
    2355                    
    2356                    * HEAD HIT2 (ENDS IN DIZZY)
    2357                    
    2358 0000fe60            SUBR   dnk_head_hit_dizzy_anim
    2359                    
    2360 0000fe60     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2361 0000fe80     8003          .word   ANI_ZEROVELS
    2362 0000fe90     8026          .word   ANI_SETSPEED,100h
    2363 0000feb0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2364 0000fec0     805f          .word   ANI_SET_WRESTLER_XFLIP
    2365                    
    2366 0000fed0     8004          .word   ANI_SETPLYRMODE,MODE_DIZZY
    2367                    
    2368 0000fef0                   WLW     ANI_SET_XVEL,-60000h,AM_HIT_REL
    2369 0000ff30     8016          .word   ANI_FRICTION,3000h
    2370                    
    2371 0000ff50                   WL      4,D3AE3B+FR1
    2372 0000ff80                   WL      4,D3AE3B+FR2
    2373 0000ffb0                   WL      4,D3AE3B+FR3
    2374 0000ffe0                   WL      4,D3AE3B+FR4
    2375 00010010                   WL      4,D3AE3B+FR5
    2376 00010040                   WL      4,D3AE3B+FR6
    2377 00010070                   WL      4,D3AE3B+FR7
    2378 000100a0                   WL      4,D3AE3B+FR8
    2379                    
    2380                    ;       .word   ANI_SETPLYRMODE,MODE_DIZZY
    2381 000100d0                   WL      ANI_CHANGEANIM,dnk_dizzy_anim
    2382                    
    2383                    *****************************************************************************
    2384                    *
    2385                    * rpfx2,4 FLYING CLOTHESLINE
    2386                    
    2387 00010100            SUBR   dnk_fly_cline_anim
    2388                    
    2389 00010100     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_OVERLAP|MODE_NOAUTOFLIP
    2390 00010120     8026          .word   ANI_SETSPEED,100h
    2391 00010140     8075          .word   ANI_STARTATTACK,AT_LEAPING,3
    2392                    
    2393 00010170     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2394 00010180     805f          .word   ANI_SET_WRESTLER_XFLIP
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   45

    2395                    
    2396 00010190                   WL      3,D3RC3A+FR1
    2397 000101c0     8015          .word   ANI_OFFSET,5,0,0                        ;x,y,z
    2398 00010200                   WL      3,D3RC3A+FR2
    2399 00010230     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    2400                    
    2401 00010270                   WL      ANI_SET_YVEL,64000h
    2402 000102a0                   WLW     ANI_SET_XVEL,5c000h,AM_FACE_REL ;64
    2403 000102e0     8015          .word   ANI_OFFSET,9,45,0                       ;x,y,z
    2404 00010320                   WL      3,D3RC3A+FR3
    2405 00010350     8006          .word   ANI_ATTACK_ON, AMODE_CLINE,25,6,23,37 ;mode,x,y,w,h ;31
    2406 000103b0                   WL      3,D3RC3A+FR4
    2407 000103e0                   WL      3,D3RC3A+FR5
    2408 00010410                   WL      3,D3RC3A+FR6
    2409 00010440                   WL      3,D3RC3A+FR7
    2410 00010470                   WL      4,D3RC3A+FR8
    2411 000104a0     8007          .word   ANI_ATTACK_OFF
    2412 000104b0                   WL      5,D3RC3A+FR8
    2413 000104e0     800b          .word   ANI_WAITHITGND
    2414 000104f0     8003          .word   ANI_ZEROVELS
    2415 00010500                   WLW     ANI_SET_XVEL,50000h,AM_FACE_REL
    2416 00010540     8016          .word   ANI_FRICTION,3000h
    2417 00010560     800d          .word   ANI_BOUNCE,4
    2418                    
    2419 00010580                   WL      ANI_CODE,HIT_THE_MAT
    2420 000105b0                   WL      3,D3RC3A+FR8
    2421 000105e0     800b          .word   ANI_WAITHITGND
    2422 000105f0                   WL      ANI_CODE,SMALL_BOUNCE
    2423 00010620                   WL      10,D3RC3A+FR9
    2424                    
    2425 00010650                   WL      ANI_IFSTATUS2,rpfxgothim
    2426                    ;He missed, have him stay on ground for awhile!
    2427 00010680                   WL      ANI_CODE,CALL_MISSES
    2428 000106b0     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    2429                    
    2430                    ;Do a little damage when missing!
    2431                    ;       .word   ANI_DAMAGE,2            ;Damage myself 
    2432                    ;       WL      30,D3RC3A+FR9
    2433 000106d0                   WL      3,D3RC3A+FR9
    2434                    ;rpfxdone
    2435 00010700     8054          .word   ANI_WAITROLL
    2436 00010710                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    2437 00010740           rpfxgothim
    2438 00010740     807a          .word   ANI_DRAW_NAME,24
    2439 00010760                   WL      ANI_CODE,CALL_ANI_AVERAGE_MOVE
    2440                    
    2441 00010790                   WL      2,D3RL1B+FR7
    2442 000107c0                   WL      2,D3RL1B+FR9
    2443 000107f0                   WL      2,D3RL1B+FR11
    2444                    
    2445                    ;Perhaps we should turn off collisions when getting up!?
    2446                    ;Getting up, set no_collis
    2447 00010820     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_OVERLAP|MODE_NOAUTOFLIP|MODE_NOCOLLIS
    2448                    
    2449 00010840                   WL      2,D3GU4A+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   46

    2450 00010870                   WL      2,D3GU4A+FR3
    2451 000108a0                   WL      2,D3GU4A+FR4
    2452 000108d0                   WL      2,D3GU4A+FR5
    2453 00010900                   WL      2,D3GU4A+FR6
    2454                    
    2455                    ;Check for a flip here
    2456 00010930                   WL      1,D3GU4A+FR7
    2457 00010960     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2458 00010970     805f          .word   ANI_SET_WRESTLER_XFLIP
    2459                    
    2460 00010980                   WL      2,D3GU4A+FR7
    2461 000109b0                   WL      2,D3GU4A+FR8
    2462 000109e0                   WL      3,D3GU4A+FR9
    2463                    
    2464 00010a10     8068          .word   ANI_SAFE_TIME,30
    2465                    
    2466 00010a30                   WL      ANI_CODE,free_toss_check
    2467 00010a60                   WL      ANI_IFNOTSTATUS2,rpfxno_freetoss4
    2468 00010a90     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    2469 00010af0                   WL      1,D3GU4A+FR9
    2470 00010b20     8007          .word   ANI_ATTACK_OFF
    2471 00010b30                   WL      ANI_IFNOTSTATUS2,rpfxno_freetoss4
    2472                    
    2473                            ;Opponent standing too close -- free toss
    2474 00010b60                   WL      ANI_CODE,setup_freetoss
    2475 00010b90                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    2476 00010bc0           rpfxno_freetoss4
    2477                    
    2478 00010bc0     8022          .word   ANI_FACEDOWN
    2479 00010bd0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2480 00010bf0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2481 00010c10     8049          .word   ANI_END
    2482                    
    2483                    ; SUBR  ck_dizzy
    2484                    ;
    2485                    ;       calla   check_dizzy
    2486                    ;       jrz     rpfxnot_dizzy
    2487                    ;       move    *a13(ANIMODE),a1
    2488                    ;       ori     MODE_STATUS2,a1
    2489                    ;       move    a1,*a13(ANIMODE)
    2490                    ;       rets
    2491                    ;
    2492                    ;rpfxnot_dizzy
    2493                    ;       move    *a13(ANIMODE),a1
    2494                    ;       andni   MODE_STATUS2,a1
    2495                    ;       move    a1,*a13(ANIMODE)
    2496                    ;       rets
    2497                    
    2498                    
    2499                    *****************************************************************************
    2500                    *
    2501                    * hipr2,4 BELLY FLOP FROM RUNNING MODE ONTO FALLEN OPPONENT
    2502                    
    2503 00010c20            SUBR   dnk_belly_anim
    2504                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   47

    2505 00010c20     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_OVERLAP|MODE_NOAUTOFLIP
    2506 00010c40     8026          .word   ANI_SETSPEED,100h
    2507                    
    2508 00010c60     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    2509 00010ca0                   WL      ANI_CODE,get_leap
    2510 00010cd0                   WL      ANI_IFNOTSTATUS2,hiprnormal
    2511                    
    2512 00010d00                   WL      ANI_CODE,hiprclose
    2513 00010d30                   WL      ANI_IFSTATUS2,hiprno_xvel
    2514                    
    2515 00010d60           hiprnormal
    2516                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2517 00010d60                   LEAPATOPP 30,200,100,90,90000h,TGT_GROIN,0,0,-10
    2518 00010e10     8075          .word   ANI_STARTATTACK,AT_LEAPING,30
    2519                    ;       .word   ANI_STARTATTACK,AT_BUTTSTOMP,30
    2520                    
    2521 00010e40                   WL      ANI_GOTO,hiprcont
    2522                    
    2523 00010e70           hiprno_xvel
    2524 00010e70     8028          .word   ANI_ZERO_XZVELS
    2525 00010e80                   WL      ANI_SET_YVEL,74000h
    2526                    
    2527 00010eb0                   WL      5,D4JD4A+FR4
    2528 00010ee0     8015          .word   ANI_OFFSET,0,45,0               ;x,y,z
    2529 00010f20                   WL      5,D4FM4A+FR5
    2530                    
    2531 00010f50     8006          .word   ANI_ATTACK_ON, AMODE_BUTTSTOMP,-18,4,50,23 ;mode,x,y,w,h
    2532 00010fb0                   WL      1,D4FM4A+FR6
    2533 00010fe0     800b          .word   ANI_WAITHITGND
    2534 00010ff0     8003          .word   ANI_ZEROVELS
    2535 00011000     8007          .word   ANI_ATTACK_OFF
    2536                    
    2537 00011010           hiprmiss        WL      ANI_CODE,shake_all_ropes
    2538 00011040     800d          .word   ANI_BOUNCE,5
    2539                    
    2540 00011060                   WL      ANI_CODE,HIT_THE_MAT
    2541 00011090     801f          .word   ANI_SHAKER,15
    2542 000110b0                   WL      5,D4FM4A+FR7
    2543                    
    2544 000110e0                   WL      1,D4FM4A+FR6
    2545 00011110     800b          .word   ANI_WAITHITGND
    2546 00011120     8003          .word   ANI_ZEROVELS
    2547 00011130                   WL      ANI_CODE,SMALL_BOUNCE
    2548                    
    2549 00011160                   WL      ANI_GOTO,hiprcont4
    2550                    
    2551 00011190           hiprcont        WL      5,D4JD4A+FR4
    2552 000111c0     8015          .word   ANI_OFFSET,0,45,0               ;x,y,z
    2553 00011200                   WL      5,D4FM4A+FR5
    2554                    
    2555 00011230     8006          .word   ANI_ATTACK_ON, AMODE_BUTTSTOMP,-18,4,50,23 ;mode,x,y,w,h
    2556 00011290                   WL      1,D4FM4A+FR6
    2557 000112c0     800b          .word   ANI_WAITHITGND
    2558 000112d0     8003          .word   ANI_ZEROVELS
    2559 000112e0     8007          .word   ANI_ATTACK_OFF
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   48

    2560                    
    2561 000112f0                   WL      ANI_IFNOTSTATUS2,hiprmiss
    2562                    
    2563 00011320                   WL      ANI_CODE,HIT_THE_MAT
    2564 00011350     801f          .word   ANI_SHAKER,15
    2565                    
    2566                    
    2567 00011370                   WL      5,D4FM4A+FR7
    2568                    
    2569 000113a0           hiprcont4       WL      8,D4FM4A+FR9
    2570                    
    2571 000113d0     800c          .word   ANI_XFLIP
    2572 000113e0     8022          .word   ANI_FACEDOWN
    2573                    
    2574                    ;Getting up, set no_collis
    2575 000113f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    2576                    
    2577 00011410                   WL      3,D3GU4A+FR3
    2578 00011440                   WL      3,D3GU4A+FR4
    2579 00011470                   WL      3,D3GU4A+FR5
    2580 000114a0                   WL      3,D3GU4A+FR6
    2581                    
    2582                    ;Check for a flip here
    2583 000114d0                   WL      1,D3GU4A+FR7
    2584 00011500     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2585 00011510     805f          .word   ANI_SET_WRESTLER_XFLIP
    2586 00011520                   WL      2,D3GU4A+FR7
    2587                    
    2588 00011550                   WL      3,D3GU4A+FR8
    2589 00011580                   WL      3,D3GU4A+FR9
    2590                    
    2591 000115b0     8068          .word   ANI_SAFE_TIME,50
    2592                    
    2593 000115d0                   WL      ANI_CODE,free_toss_check
    2594 00011600                   WL      ANI_IFNOTSTATUS2,hiprno_freetoss5
    2595 00011630     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    2596 00011690                   WL      1,D3GU4A+FR9
    2597 000116c0     8007          .word   ANI_ATTACK_OFF
    2598 000116d0                   WL      ANI_IFNOTSTATUS2,hiprno_freetoss5
    2599                    
    2600                            ;Opponent standing too close -- free toss
    2601 00011700                   WL      ANI_CODE,setup_freetoss
    2602 00011730                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    2603 00011760           hiprno_freetoss5
    2604                    
    2605 00011760     8022          .word   ANI_FACEDOWN
    2606 00011770     8002          .word   ANI_SETMODE,MODE_NORMAL
    2607 00011790     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2608 000117b0     8049          .word   ANI_END
    2609                    
    2610                    
    2611 000117c0           hiprclose
    2612 000117c0     b5a1          move    *a13(ANIMODE),a1
         000117d0     0660  
    2613 000117e0     0b81          andni   MODE_STATUS2,a1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   49

         000117f0 00000200  
    2614 00011810     b02d          move    a1,*a13(ANIMODE)
         00011820     0660  
    2615                    
    2616 00011830     0d5f          calla   get_opp_process         ;closest opponent process
         00011840 00000000! 
    2617 00011860     b400          move    *a0(OBJ_XPOSINT),a0
         00011870     0110  
    2618 00011880     b5ae          MOVE    *a13(OBJ_XPOSINT),a14
         00011890     0110  
    2619 000118a0     440e          sub     a0,a14
    2620 000118b0     038e          abs     a14
    2621 000118c0     0b4e          cmpi    30h,a14
         000118d0     ffcf  
    2622 000118e0     c701          jrgt    hiprinplace
    2623 000118f0     0960          rets
    2624                    
    2625 00011900           hiprinplace
    2626 00011900     b5a1          move    *a13(ANIMODE),a1
         00011910     0660  
    2627 00011920     0ba1          ori     MODE_STATUS2,a1
         00011930 00000200  
    2628 00011950     b02d          move    a1,*a13(ANIMODE)
         00011960     0660  
    2629 00011970     0960          rets
    2630                    
    2631                    *****************************************************************************
    2632                    *
    2633                    * ouhs2 ELBOW DROP
    2634                    
    2635 00011980            SUBR   dnk_2_lbowdrop_anim
    2636                    
    2637 00011980     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2638 000119a0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    2639 000119c0     8026          .word   ANI_SETSPEED,100h
    2640                    
    2641 000119e0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2642 00011a20                   WL      1,D2PJ2A+FR3
    2643 00011a50                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2644 00011a90                   WL      1,D2PJ2A+FR3
    2645 00011ac0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2646 00011b00                   WL      1,D2PJ2A+FR3
    2647 00011b30                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2648                    
    2649 00011b70     8075          .word   ANI_STARTATTACK,AT_LBDROP,19
    2650 00011ba0                   WL      3,D2PJ2A+FR4
    2651                    
    2652 00011bd0     8015          .word   ANI_OFFSET,0,50,0                       ;x,y,z
    2653                    
    2654 00011c10                   WL      ANI_CODE,ouhsset_target
    2655 00011c40                   WL      ANI_CODE,tgt_ground
    2656                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2657 00011c70                   LEAPATOPP 16,999,160,140,90000h,TGT_USER,-3,0,-30
    2658 00011d20                   WL      ANI_CODE,ouhszero_x
    2659                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   50

    2660 00011d50                   WL      3,D2PJ2A+FR6
    2661 00011d80                   WL      3,D2PJ2A+FR8
    2662 00011db0                   WL      10,D2PJ2A+FR10
    2663 00011de0     800b          .word   ANI_WAITHITGND
    2664 00011df0                   WL      ANI_CODE,HIT_THE_MAT
    2665                    
    2666 00011e20     8028          .word   ANI_ZERO_XZVELS
    2667                    ;Perhaps even shake ropes
    2668 00011e30     8037          .word   ANI_SHAKEALL,1
    2669 00011e50     801f          .word   ANI_SHAKER,18
    2670                    
    2671                    ;       .word   ANI_ATTACK_ON_Z, AMODE_LBOWDROP,-15,7,10,30,21,40 ;mode,x,y,z,w,h,d
    2672 00011e70     8006          .word   ANI_ATTACK_ON, AMODE_LBOWDROP,-15,7,30,21 ;mode,x,y,z,w,h,d
    2673                    
    2674 00011ed0                   WL      2,D2PJ2A+FR11
    2675 00011f00                   WL      2,D2PJ2A+FR12
    2676 00011f30     8007          .word   ANI_ATTACK_OFF
    2677                    
    2678 00011f40     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    2679 00011f80                   WL      ANI_IFSTATUS2,ouhsgothim2
    2680 00011fb0     800d          .word   ANI_BOUNCE,3
    2681 00011fd0                   WL      ANI_CODE,HIT_THE_MAT
    2682                    ;       WL      ANI_CODE,SMALL_BOUNCE
    2683 00012000                   WL      ANI_CODE,CALL_MISSES
    2684                    
    2685                    ;He missed, have him stay on ground for awhile!
    2686 00012030                   WL      40,D2PJ2A+FR12
    2687 00012060     800b          .word   ANI_WAITHITGND
    2688 00012070                   WL      ANI_GOTO,ouhscont
    2689 000120a0           ouhsgothim2
    2690 000120a0     807a          .word   ANI_DRAW_NAME,18
    2691 000120c0     800d          .word   ANI_BOUNCE,4
    2692 000120e0                   WL      ANI_CODE,HIT_THE_MAT
    2693 00012110                   WL      15,D2PJ2A+FR12
    2694                    
    2695 00012140           ouhscont        WL      3,D5GD3A+FR5
    2696                    
    2697 00012170                   WL      3,D5GD3A+FR6
    2698 000121a0                   WL      3,D5GD3A+FR7
    2699 000121d0                   WL      3,D5GD3A+FR8
    2700 00012200                   WL      3,D5GD3A+FR9
    2701 00012230                   WL      3,D5GD3A+FR10
    2702 00012260     8021          .word   ANI_FACEUP
    2703                    
    2704 00012270     8002          .word   ANI_SETMODE,MODE_NORMAL
    2705 00012290     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2706 000122b0     8049          .word   ANI_END
    2707                    
    2708                    
    2709                    * ouhs4 ELBOW DROP
    2710                    
    2711 000122c0            SUBR   dnk_4_lbowdrop_anim
    2712                    
    2713 000122c0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2714 000122e0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   51

    2715 00012300     8026          .word   ANI_SETSPEED,100h
    2716                    
    2717 00012320                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2718 00012360                   WL      1,D4PJ4A+FR2
    2719 00012390                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2720 000123d0                   WL      1,D4PJ4A+FR2
    2721 00012400                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2722 00012440                   WL      1,D4PJ4A+FR2
    2723 00012470                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    2724                    
    2725 000124b0     8075          .word   ANI_STARTATTACK,AT_LBDROP,19
    2726 000124e0                   WL      3,D4PJ4A+FR3
    2727                    
    2728 00012510     8015          .word   ANI_OFFSET,0,31h,0                      ;x,y,z
    2729                    
    2730 00012550                   WL      ANI_CODE,ouhsset_target
    2731 00012580                   WL      ANI_CODE,tgt_ground
    2732                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2733 000125b0                   LEAPATOPP 16,999,160,140,90000h,TGT_USER,-3,0,30
    2734                    
    2735 00012660                   WL      ANI_CODE,ouhszero_x
    2736                    
    2737 00012690                   WL      3,D4PJ4A+FR4
    2738 000126c0                   WL      3,D4PJ4A+FR6
    2739 000126f0                   WL      10,D4PJ4A+FR7
    2740 00012720     800b          .word   ANI_WAITHITGND
    2741 00012730           ouhsland
    2742 00012730     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    2743 00012770                   WL      ANI_CODE,HIT_THE_MAT
    2744 000127a0     8028          .word   ANI_ZERO_XZVELS
    2745                    ;Perhaps even shake ropes
    2746 000127b0     8037          .word   ANI_SHAKEALL,1
    2747 000127d0     801f          .word   ANI_SHAKER,18
    2748                    
    2749                    ;       .word   ANI_ATTACK_ON_Z, AMODE_LBOWDROP,-6,22,16,25,27,30 ;mode,x,y,z,w,h,d
    2750 000127f0     8006          .word   ANI_ATTACK_ON, AMODE_LBOWDROP,-6,0,25,27 ;mode,x,y,z,w,h,d
    2751                    
    2752 00012850                   WL      1,D4PJ4A+FR10
    2753 00012880     800b          .word   ANI_WAITHITGND
    2754 00012890     8007          .word   ANI_ATTACK_OFF
    2755                    
    2756 000128a0                   WL      ANI_IFSTATUS2,ouhsgothim4
    2757 000128d0     800d          .word   ANI_BOUNCE,3
    2758 000128f0                   WL      ANI_CODE,HIT_THE_MAT
    2759                    
    2760                    ;He missed, have him stay on ground for awhile!
    2761                    
    2762 00012920                   WL      ANI_CODE,CALL_MISSES
    2763 00012950                   WL      40,D4PJ4A+FR10
    2764 00012980     800b          .word   ANI_WAITHITGND
    2765 00012990                   WL      ANI_GOTO,ouhsland2
    2766                    
    2767 000129c0           ouhsgothim4
    2768 000129c0     807a          .word   ANI_DRAW_NAME,18
    2769 000129e0     800d          .word   ANI_BOUNCE,4
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   52

    2770 00012a00                   WL      ANI_CODE,HIT_THE_MAT
    2771 00012a30                   WL      15,D4PJ4A+FR10
    2772 00012a60           ouhsland2
    2773                    
    2774 00012a60     800b          .word   ANI_WAITHITGND
    2775 00012a70     800c          .word   ANI_XFLIP
    2776 00012a80     8015          .word   ANI_OFFSET,10,0,0                       ;x,y,z
    2777                    
    2778                    ;Getting up, set no_collis
    2779 00012ac0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    2780                    
    2781 00012ae0                   WL      4,D3GU4A+FR3
    2782 00012b10                   WL      3,D3GU4A+FR4
    2783 00012b40                   WL      3,D3GU4A+FR5
    2784 00012b70                   WL      3,D3GU4A+FR6
    2785                    
    2786                    ;Check for a flip here
    2787 00012ba0                   WL      1,D3GU4A+FR7
    2788 00012bd0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2789 00012be0     805f          .word   ANI_SET_WRESTLER_XFLIP
    2790 00012bf0                   WL      2,D3GU4A+FR7
    2791                    
    2792 00012c20                   WL      3,D3GU4A+FR8
    2793 00012c50                   WL      3,D3GU4A+FR9
    2794                    
    2795 00012c80     8068          .word   ANI_SAFE_TIME,50
    2796                    
    2797 00012ca0                   WL      ANI_CODE,free_toss_check
    2798 00012cd0                   WL      ANI_IFNOTSTATUS2,ouhsno_freetoss6
    2799 00012d00     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    2800 00012d60                   WL      1,D3GU4A+FR9
    2801 00012d90     8007          .word   ANI_ATTACK_OFF
    2802 00012da0                   WL      ANI_IFNOTSTATUS2,ouhsno_freetoss6
    2803                    
    2804                            ;Opponent standing too close -- free toss
    2805 00012dd0                   WL      ANI_CODE,setup_freetoss
    2806 00012e00                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    2807 00012e30           ouhsno_freetoss6
    2808                    
    2809 00012e30     8022          .word   ANI_FACEDOWN
    2810 00012e40     8002          .word   ANI_SETMODE,MODE_NORMAL
    2811 00012e60     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2812 00012e80     8049          .word   ANI_END
    2813                    
    2814                    ;Elbow drop ouhs4 from turnbuckle
    2815 00012e90            SUBR   dnk_4_blbowdrop_anim
    2816                    
    2817                    ;If jumping toward an in ring opponent & near the edge of ring, turn on
    2818                    ;the confine bit!
    2819                    
    2820 00012e90     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_NOCONFINE|MODE_NOGRAVITY
    2821 00012eb0     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
    2822 00012ed0     8003          .word   ANI_ZEROVELS
    2823 00012ee0     8026          .word   ANI_SETSPEED,100h
    2824 00012f00     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   53

    2825                    
    2826 00012f10     8015          .word   ANI_OFFSET,11,4,0                       ;x,y,z
    2827                    
    2828 00012f50                   WL      2,D4PJ4A+FR2
    2829 00012f80                   WL      2,D4PJ4A+FR3
    2830                    
    2831 00012fb0     8015          .word   ANI_OFFSET,0,31h,0                      ;x,y,z
    2832                    
    2833                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2834 00012ff0                   LEAPATOPP 38,190,190,190,90000h,TGT_CHEST,-3,-3,50
    2835 000130a0     800f          .word   ANI_GRAVITY_ON
    2836                    ;       .word   ANI_SETPLYRMODE,MODE_INAIR2
    2837 000130b0                   WL      ANI_CODE,set_tbukl_airmode
    2838 000130e0     8075          .word   ANI_STARTATTACK,AT_LEAPING,25
    2839                    
    2840 00013110     804d          .word   ANI_SHAKECORNER         ;Shake corner ropes
    2841                    
    2842 00013120     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    2843                    
    2844 00013160                   WL      3,D4PJ4A+FR4
    2845 00013190                   WL      3,D4PJ4A+FR6
    2846                    
    2847 000131c0                   WL      6,D4PJ4A+FR7
    2848 000131f0                   WL      ANI_CODE,set_tbukl_confine
    2849 00013220                   WL      4,D4PJ4A+FR7
    2850 00013250     800e          .word   ANI_ATTACK_ON_Z,AMODE_BLBOWDROP,-46,0,16,92,34,30
    2851 000132d0                   WWL     ANI_IFOPPMODE,MODE_ONGROUND,ouhsopp_onground
    2852 00013310                   WWL     ANI_IFOPPMODE,MODE_DEAD,ouhsopp_onground
    2853 00013350     800e          .word   ANI_ATTACK_ON_Z,AMODE_BLBOWDROP,-46,28,16,92,34,30
    2854 000133d0           ouhsopp_onground
    2855 000133d0                   WL      1,D4PJ4A+FR7
    2856                    
    2857 00013400     800b          .word   ANI_WAITHITGND
    2858 00013410     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2859                    
    2860 00013430     8028          .word   ANI_ZERO_XZVELS
    2861                    ;Perhaps even shake ropes
    2862 00013440     8037          .word   ANI_SHAKEALL,1
    2863 00013460     801f          .word   ANI_SHAKER,25
    2864 00013480                   WL      ANI_CODE,HIT_THE_MAT
    2865                    
    2866 000134b0                   WL      1,D4PJ4A+FR10
    2867 000134e0     8007          .word   ANI_ATTACK_OFF
    2868                    
    2869 000134f0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_9,2,2
    2870 00013530                   WL      ANI_IFSTATUS2,ouhsgothimb
    2871 00013560     800d          .word   ANI_BOUNCE,4                    ;Bigger bounce
    2872 00013580                   WL      ANI_CODE,HIT_THE_MAT
    2873                    ;       WL      ANI_CODE,SMALL_BOUNCE
    2874                    
    2875                    ;He missed, have him stay on ground for awhile!
    2876                    
    2877                    ;       WL      ANI_CODE,tbukl_miss_damage
    2878 000135b0                   WL      ANI_CODE,CALL_MISSES
    2879 000135e0                   WL      25,D4PJ4A+FR10
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   54

    2880 00013610     800b          .word   ANI_WAITHITGND
    2881 00013620                   WL      ANI_CODE,HIT_THE_MAT
    2882 00013650                   WL      ANI_GOTO,ouhstag
    2883                            
    2884                    
    2885 00013680           ouhsgothimb
    2886 00013680     807a          .word   ANI_DRAW_NAME,18
    2887 000136a0     800d          .word   ANI_BOUNCE,4
    2888 000136c0                   WL      ANI_CODE,HIT_THE_MAT
    2889 000136f0                   WL      15,D4PJ4A+FR10
    2890 00013720     800b          .word   ANI_WAITHITGND
    2891 00013730     800c  ouhstag .word   ANI_XFLIP
    2892 00013740     8015          .word   ANI_OFFSET,-10,0,0                      ;x,y,z
    2893                    
    2894                    ;Getting up, set no_collis
    2895 00013780     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    2896                    
    2897 000137a0                   WL      4,D3GU4A+FR3
    2898 000137d0                   WL      3,D3GU4A+FR4
    2899 00013800                   WL      3,D3GU4A+FR5
    2900 00013830                   WL      3,D3GU4A+FR6
    2901                    
    2902                    ;Check for a flip here
    2903 00013860                   WL      1,D3GU4A+FR7
    2904 00013890     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2905 000138a0     805f          .word   ANI_SET_WRESTLER_XFLIP
    2906 000138b0                   WL      2,D3GU4A+FR7
    2907                    
    2908 000138e0                   WL      3,D3GU4A+FR8
    2909 00013910                   WL      3,D3GU4A+FR9
    2910                    
    2911 00013940     8068          .word   ANI_SAFE_TIME,50
    2912                    
    2913 00013960                   WL      ANI_CODE,free_toss_check
    2914 00013990                   WL      ANI_IFNOTSTATUS2,ouhsno_freetoss7
    2915 000139c0     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    2916 00013a20                   WL      1,D3GU4A+FR9
    2917 00013a50     8007          .word   ANI_ATTACK_OFF
    2918 00013a60                   WL      ANI_IFNOTSTATUS2,ouhsno_freetoss7
    2919                    
    2920                            ;Opponent standing too close -- free toss
    2921 00013a90                   WL      ANI_CODE,setup_freetoss
    2922 00013ac0                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    2923 00013af0           ouhsno_freetoss7
    2924                    
    2925 00013af0     8022          .word   ANI_FACEDOWN
    2926 00013b00     8002          .word   ANI_SETMODE,MODE_NORMAL
    2927                    ;       .word   ANI_SETPLYRMODE,MODE_NORMAL
    2928 00013b20     8049          .word   ANI_END
    2929                    
    2930                    
    2931                    * ouhs4 HAMMER POUND OF FALLEN OPPONENT
    2932                    
    2933 00013b30            SUBR   dnk_4_hammer_anim
    2934                    ;Fix attack boxes!  No z
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   55

    2935                    
    2936 00013b30     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    2937 00013b50     8026          .word   ANI_SETSPEED,100h
    2938 00013b70     8003          .word   ANI_ZEROVELS
    2939                    
    2940 00013b80     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2941 00013b90     805f          .word   ANI_SET_WRESTLER_XFLIP
    2942                    
    2943 00013ba0     8061          .word   ANI_CLR_BUTCOUNT
    2944 00013bb0     8075          .word   ANI_STARTATTACK,AT_HAMMER1,12
    2945 00013be0                   WL      3,D4HM4A+FR1
    2946 00013c10                   WL      3,D4HM4A+FR2
    2947                    
    2948                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2949 00013c40                   LEAPATOPP 6,190,90,50,90000h,TGT_GROIN,95,82,13h        ;13
    2950                    
    2951 00013cf0     8062          .word   ANI_SET_RPTCOUNT,4      ;5 times
    2952                    
    2953 00013d10                   WL      6,D4HM4A+FR3    ;16
    2954 00013d40     800b          .word   ANI_WAITHITGND
    2955 00013d50     8003          .word   ANI_ZEROVELS
    2956 00013d60                   WL      2,D4HM4A+FR4
    2957 00013d90                   WL      3,D4HM4A+FR5
    2958 00013dc0                   WL      2,D4HM4A+FR6
    2959 00013df0     8006          .word   ANI_ATTACK_ON, AMODE_HAMMER,31,3,88,73 ;mode,x,y,w,h
    2960 00013e50                   WL      3,D4HM4A+FR7
    2961 00013e80     8007          .word   ANI_ATTACK_OFF
    2962                    
    2963 00013e90     8074          .WORD   ANI_ADD_MOVE,MOVE_C_2,2,2
    2964 00013ed0                   WL      ANI_IFNOTSTATUS2,ouhstagmiss
    2965 00013f00                   WL      ANI_IFBLOCKED,ouhsmissedb               ;Yes, I hit blocker
    2966                    ;He got him, shake screen
    2967 00013f30     8042          .word   ANI_DAMAGEOPP,D_HAMMER1,RD_HAMMER1
    2968 00013f60     807a          .word   ANI_DRAW_NAME,25
    2969                    
    2970                    ;Immobilize player for 30 ticks without meter on!
    2971 00013f80     806c          .word   ANI_IMMOBILIZE,30
    2972 00013fa0     801f          .word   ANI_SHAKER,25
    2973                    
    2974 00013fc0                   WL      ANI_CODE,CALL_NASTY_MOVE
    2975 00013ff0                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,ouhsmissedb
    2976 00014040     8063          .word   ANI_DEC_RPTCOUNT
    2977 00014050                   WL      ANI_IF_RPTCOUNT,ouhsdnk_quick_hammer
    2978                    
    2979 00014080           ouhsmissedb
    2980 00014080           ouhstagmiss
    2981                    
    2982 00014080                   WL      3,D4HM4A+FR8
    2983 000140b0                   WL      3,D4HM4A+FR9
    2984 000140e0                   WL      3,D4HM4A+FR10
    2985                    
    2986 00014110     8022          .word   ANI_FACEDOWN
    2987 00014120     8002          .word   ANI_SETMODE,MODE_NORMAL
    2988 00014140     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2989 00014160     8049          .word   ANI_END
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   56

    2990                    
    2991 00014170           ouhsdnk_quick_hammer
    2992 00014170     8061          .word   ANI_CLR_BUTCOUNT
    2993 00014180     8075          .word   ANI_STARTATTACK,AT_HAMMER1,27
    2994 000141b0                   WL      3,D4HM4A+FR8
    2995 000141e0                   WL      3,D4HM4A+FR9
    2996 00014210                   WL      3,D4HM4A+FR10
    2997 00014240                   WL      3,D4HM4A+FR1
    2998 00014270                   WL      3,D4HM4A+FR2
    2999 000142a0                   WL      3,D4HM4A+FR3
    3000 000142d0                   WL      3,D4HM4A+FR4
    3001 00014300                   WL      3,D4HM4A+FR5
    3002 00014330                   WL      3,D4HM4A+FR6
    3003 00014360     8006          .word   ANI_ATTACK_ON, AMODE_HAMMER,31,3,88,73 ;mode,x,y,w,h
    3004 000143c0                   WL      3,D4HM4A+FR7
    3005 000143f0     8007          .word   ANI_ATTACK_OFF
    3006                    
    3007 00014400                   WL      ANI_IFNOTSTATUS2,ouhstagmiss
    3008 00014430                   WL      ANI_IFBLOCKED,ouhsmissedb               ;Yes, I hit blocker
    3009                    
    3010                    ;Immobilize player for 30 ticks without meter on!
    3011 00014460     806c          .word   ANI_IMMOBILIZE,30
    3012                    
    3013 00014480     801f          .word   ANI_SHAKER,25
    3014                    
    3015 000144a0                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,2,ouhsfailed
    3016 000144f0     8063          .word   ANI_DEC_RPTCOUNT
    3017 00014500                   WL      ANI_IF_RPTCOUNT,ouhsdnk_quick_hammer
    3018 00014530                   WL      20,D4HM4A+FR7
    3019 00014560           ouhsfailed
    3020                    
    3021 00014560                   WL      3,D4HM4A+FR8
    3022 00014590                   WL      3,D4HM4A+FR9
    3023 000145c0                   WL      3,D4HM4A+FR10
    3024                    
    3025 000145f0     8022          .word   ANI_FACEDOWN
    3026 00014600     8002          .word   ANI_SETMODE,MODE_NORMAL
    3027 00014620     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3028 00014640     8049          .word   ANI_END
    3029                    
    3030                    
    3031 00014650           dnk_combo_hammer_anim
    3032 00014650     8062          .word   ANI_SET_RPTCOUNT,3      ;5 times
    3033 00014670     806c          .word   ANI_IMMOBILIZE,30
    3034                    ;       .word   ANI_STARTATTACK,AT_HAMMER1,23
    3035 00014690                   WL      4,D4HM4A+FR1
    3036 000146c0                   WL      4,D4HM4A+FR2
    3037 000146f0                   WL      4,D4HM4A+FR3    ;16
    3038 00014720                   WL      3,D4HM4A+FR4
    3039 00014750                   WL      4,D4HM4A+FR5
    3040 00014780                   WL      4,D4HM4A+FR6
    3041 000147b0     8006          .word   ANI_ATTACK_ON, AMODE_HAMMER,31,3,88,73 ;mode,x,y,w,h
    3042 00014810                   WL      4,D4HM4A+FR7
    3043 00014840     8007          .word   ANI_ATTACK_OFF
    3044                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   57

    3045 00014850                   WL      ANI_IFNOTSTATUS2,ouhsmissed2
    3046 00014880     8072          .WORD   ANI_INC_COMBO
    3047 00014890     806c          .word   ANI_IMMOBILIZE,30
    3048 000148b0     801f          .word   ANI_SHAKER,25
    3049                    
    3050 000148d0           dnk_repeat_combo_hammer_anim
    3051 000148d0     8061          .word   ANI_CLR_BUTCOUNT
    3052                    ;       .word   ANI_STARTATTACK,AT_HAMMER1,15
    3053 000148e0                   WL      2,D4HM4A+FR8
    3054 00014910                   WL      1,D4HM4A+FR9
    3055 00014940                   WL      2,D4HM4A+FR10
    3056 00014970                   WL      2,D4HM4A+FR1
    3057 000149a0                   WL      1,D4HM4A+FR2
    3058 000149d0                   WL      2,D4HM4A+FR3
    3059 00014a00                   WL      2,D4HM4A+FR4
    3060 00014a30                   WL      1,D4HM4A+FR5
    3061 00014a60                   WL      2,D4HM4A+FR6
    3062 00014a90     8006          .word   ANI_ATTACK_ON, AMODE_HAMMER,31,3,88,73 ;mode,x,y,w,h
    3063 00014af0                   WL      2,D4HM4A+FR7
    3064 00014b20     8007          .word   ANI_ATTACK_OFF
    3065                    
    3066 00014b30                   WL      ANI_IFNOTSTATUS2,ouhsmissed2
    3067 00014b60     8072          .WORD   ANI_INC_COMBO
    3068                    
    3069                    ;Immobilize player for 30 ticks without meter on!
    3070 00014b70     806c          .word   ANI_IMMOBILIZE,30
    3071                    
    3072 00014b90     801f          .word   ANI_SHAKER,25
    3073                    
    3074 00014bb0                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,2,ouhsmissed2
    3075 00014c00     8063          .word   ANI_DEC_RPTCOUNT
    3076 00014c10                   WL      ANI_IF_RPTCOUNT,dnk_repeat_combo_hammer_anim
    3077                    
    3078 00014c40           ouhsmissed2
    3079 00014c40                   WL      ANI_CODE,DO_COMBO_MESS
    3080 00014c70                   WL      3,D4HM4A+FR8
    3081 00014ca0                   WL      3,D4HM4A+FR9
    3082 00014cd0                   WL      3,D4HM4A+FR10
    3083 00014d00     8073          .WORD   ANI_CLEAR_COMBO
    3084                    
    3085 00014d10     8022          .word   ANI_FACEDOWN
    3086 00014d20     8002          .word   ANI_SETMODE,MODE_NORMAL
    3087 00014d40     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3088 00014d60     8049          .word   ANI_END
    3089                    
    3090                    
    3091                    
    3092 00014d70           ouhsset_target
    3093                    
    3094 00014d70     0d5f          calla   get_opp_process
         00014d80 00000000! 
    3095 00014da0     4c0b          move    a0,a11
    3096                    
    3097 00014db0     b5a0          move    *a13(CLOSEST_XDIST),a0
         00014dc0     0370  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   58

    3098 00014dd0     0b40          cmpi    040H,a0
         00014de0     ffbf  
    3099 00014df0     c418          jrlt    ouhsdrop
    3100                    
    3101                    ;We are to side of fallen opponent, we must float toward
    3102                    ;his head or his knees
    3103                    
    3104                    ;Take into account my flip as well as my opponents flip!
    3105 00014e00     b5ae          move    *a13(OBJ_CONTROL),a14
         00014e10     0780  
    3106 00014e20     0b8e          andi    M_FLIPH,a14
         00014e30 ffffffef  
    3107 00014e50     b560          move    *a11(OBJ_CONTROL),a0
         00014e60     0780  
    3108 00014e70     0b80          andi    M_FLIPH,a0
         00014e80 ffffffef  
    3109 00014ea0     480e          cmp     a0,a14
    3110 00014eb0     cb06          jrnz    ouhshead
    3111                    
    3112 00014ec0     09c0          movi    TGT_KNEES,a0
         00014ed0     0003  
    3113 00014ee0     0d5f          calla   set_target_offsets
         00014ef0 00000000! 
    3114 00014f10     0960          rets
    3115                    
    3116 00014f20           ouhshead
    3117 00014f20     09c0          movi    TGT_HEAD,a0
         00014f30     0000  
    3118 00014f40     0d5f          calla   set_target_offsets
         00014f50 00000000! 
    3119 00014f70     0960          rets
    3120                    
    3121 00014f80           ouhsdrop
    3122                    ;Just drop straight down
    3123 00014f80     09c0          movi    TGT_CHEST,a0
         00014f90     0001  
    3124 00014fa0     0d5f          calla   set_target_offsets
         00014fb0 00000000! 
    3125 00014fd0     0960          rets
    3126                    
    3127 00014fe0           ouhszero_x
    3128 00014fe0     b5a0          move    *a13(CLOSEST_XDIST),a0
         00014ff0     0370  
    3129 00015000     0b40          cmpi    040H,a0
         00015010     ffbf  
    3130 00015020     c703          jrgt    ouhsok                  ;Is he to the side?
    3131                    
    3132                    ;Don't float if dropping straight down
    3133 00015030     5600          clr     a0
    3134 00015040     b20d          move    a0,*a13(OBJ_XVEL),L
         00015050     02d0  
    3135 00015060     0960  ouhsok  rets
    3136                    
    3137 00015070           ouhsget_off
    3138                    ;Get off from fallen opponent
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   59

    3139 00015070     09e0          movi    [3,0],a0
         00015080 00030000  
    3140 000150a0     b20d          move    a0,*a13(OBJ_ZVEL),L
         000150b0     0310  
    3141 000150c0     09e0          movi    [2,0],a0
         000150d0 00020000  
    3142 000150f0     b20d          move    a0,*a13(OBJ_YVEL),L
         00015100     02f0  
    3143 00015110     0960          rets
    3144                    
    3145                    *****************************************************************************
    3146                    *
    3147                    * hpxd2 STOMP ON FALLEN OPPONENT
    3148                    
    3149 00015120            SUBR   dnk_2_stomp_anim
    3150                    
    3151 00015120     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    3152 00015140     8003          .word   ANI_ZEROVELS
    3153 00015150     8026          .word   ANI_SETSPEED,100h
    3154                    
    3155 00015170                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3156 000151b0                   WL      1,D3MP3A+FR1
    3157 000151e0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3158 00015220                   WL      1,D3MP3A+FR1
    3159 00015250                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3160 00015290                   WL      1,D3MP3A+FR1
    3161 000152c0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3162                    
    3163 00015300     8075          .word   ANI_STARTATTACK,AT_STOMP,15
    3164 00015330                   WL      ANI_CODE,hpxdset_target
    3165 00015360                   WL      ANI_CODE,tgt_ground
    3166                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    3167 00015390                   LEAPATOPP 13,999,160,140,90000h,TGT_USER,20,0,-30
    3168                    
    3169 00015440                   WL      3,D3MP3A+FR2
    3170 00015470                   WL      2,D3MP3A+FR3
    3171 000154a0                   WL      3,D3MP3A+FR4
    3172 000154d0                   WL      2,D3MP3A+FR5
    3173 00015500                   WL      3,D3MP3A+FR6
    3174                    
    3175 00015530     800e          .word   ANI_ATTACK_ON_Z, AMODE_STOMP,7,7,-20,20,33,30 ;mode,x,y,z,w,h,d
    3176 000155b0     8028          .word   ANI_ZERO_XZVELS
    3177                    
    3178 000155c0                   WL      3+4,D3MP3A+FR7
    3179 000155f0     8007          .word   ANI_ATTACK_OFF
    3180                    ;       WL      ANI_CODE,SMALL_BOUNCE
    3181                    
    3182 00015600     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    3183 00015640                   WL      ANI_IFSTATUS2,hpxdgothim
    3184 00015670                   WL      3,D3MP3A+FR8
    3185 000156a0     800b          .word   ANI_WAITHITGND
    3186 000156b0     8021          .word   ANI_FACEUP
    3187 000156c0     8002          .word   ANI_SETMODE,MODE_NORMAL
    3188 000156e0     8049          .word   ANI_END
    3189                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   60

    3190 000156f0           hpxdgothim
    3191 000156f0                   WL      ANI_CODE,hpxdget_off
    3192 00015720                   WL      2,D3MP3A+FR8
    3193 00015750     800b          .word   ANI_WAITHITGND
    3194 00015760     8021          .word   ANI_FACEUP
    3195 00015770     8002          .word   ANI_SETMODE,MODE_NORMAL
    3196 00015790     8049          .word   ANI_END
    3197                    
    3198                    
    3199                    * hpxd4 STOMP ON FALLEN OPPONENT
    3200                    
    3201 000157a0            SUBR   dnk_4_stomp_anim
    3202                    
    3203 000157a0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    3204 000157c0     8003          .word   ANI_ZEROVELS
    3205 000157d0     8026          .word   ANI_SETSPEED,100h
    3206                        
    3207 000157f0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3208 00015830                   WL      1,D4MP4D+FR1
    3209 00015860                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3210 000158a0                   WL      1,D4MP4D+FR1
    3211 000158d0                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3212 00015910                   WL      1,D4MP4D+FR1
    3213 00015940                   WWL     ANI_IFBUTTONS,PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,start_run_anim
    3214                    
    3215 00015980                   WL      ANI_CODE,hpxdset_target
    3216 000159b0                   WL      ANI_CODE,tgt_ground
    3217 000159e0     8075          .word   ANI_STARTATTACK,AT_STOMP,15
    3218                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    3219 00015a10                   LEAPATOPP 13,999,160,140,90000h,TGT_USER,32,0,30
    3220                    
    3221 00015ac0                   WL      3,D4MP4D+FR2
    3222 00015af0                   WL      3,D4MP4D+FR3
    3223 00015b20                   WL      7,D4MP4D+FR4
    3224                    
    3225                    ;hpxdcont4
    3226                    ;       WL      3,D4MP4D+FR5
    3227                    
    3228                    ;       .word   ANI_ATTACK_ON_Z, AMODE_STOMP,2,1,40,19,27,30 ;mode,x,y,z,w,h,d
    3229 00015b50     800e          .word   ANI_ATTACK_ON_Z, AMODE_STOMP,22,8,40,35,22,30 ;mode,x,y,z,w,h,d
    3230                    
    3231 00015bd0     8028          .word   ANI_ZERO_XZVELS
    3232                    
    3233 00015be0                   WL      7,D4MP4D+FR6
    3234 00015c10     8007          .word   ANI_ATTACK_OFF
    3235                    
    3236                    ;       WL      ANI_CODE,SMALL_BOUNCE
    3237                    
    3238 00015c20     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    3239 00015c60                   WL      ANI_IFSTATUS2,hpxdgothim4
    3240 00015c90                   WL      3,D4MP4D+FR7
    3241 00015cc0     800b          .word   ANI_WAITHITGND
    3242 00015cd0     8022          .word   ANI_FACEDOWN
    3243 00015ce0     8002          .word   ANI_SETMODE,MODE_NORMAL
    3244 00015d00     8049          .word   ANI_END
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   61

    3245 00015d10           hpxdgothim4
    3246 00015d10                   WL      ANI_CODE,hpxdget_off4
    3247 00015d40                   WL      2,D4MP4D+FR7
    3248 00015d70     800b          .word   ANI_WAITHITGND
    3249 00015d80     8022          .word   ANI_FACEDOWN
    3250 00015d90     8002          .word   ANI_SETMODE,MODE_NORMAL
    3251 00015db0     8049          .word   ANI_END
    3252                    
    3253                    
    3254                    ;Stomp hpxd4 from top of turnbuckle
    3255 00015dc0            SUBR   dnk_4_bstomp_anim
    3256                    
    3257                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOCOLLIS|MODE_NOGRAVITY|MODE_
    3258 00015dc0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOGRAVITY|MODE_OVERLAP
    3259 00015de0     8003          .word   ANI_ZEROVELS
    3260 00015df0     8026          .word   ANI_SETSPEED,100h
    3261 00015e10     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    3262 00015e20     800c          .word   ANI_XFLIP               ;make an ANI_FACEOUT and ANI_FACEIN
    3263 00015e30     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
    3264                        
    3265 00015e50                   WL      3,D4JD4A+FR1
    3266 00015e80                   WL      3,D4JD4A+FR2
    3267                    
    3268                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    3269 00015eb0                   LEAPATOPP 16+20,190,190,190,90000h,TGT_CHEST,39+8,7+4,20
    3270 00015f60     800f          .word   ANI_GRAVITY_ON
    3271                    ;       .word   ANI_SETPLYRMODE,MODE_INAIR2
    3272 00015f70                   WL      ANI_CODE,set_tbukl_airmode
    3273                    
    3274 00015fa0     8075          .word   ANI_STARTATTACK,AT_LEAPING,36
    3275                    
    3276 00015fd0     804d          .word   ANI_SHAKECORNER         ;Shake corner ropes
    3277                    
    3278                    ;Check x vel to make sure we aren't going to land on ropes!
    3279                    ;       WL      ANI_CODE,check_xvel
    3280                    
    3281 00015fe0     8015          .word   ANI_OFFSET,8,4,0                ;x,y,z
    3282 00016020                   WL      ANI_IFNOTSTATUS2,hpxdnooff
    3283 00016050     8015          .word   ANI_OFFSET,-16,0,0              ;x,y,z
    3284                    
    3285 00016090           hpxdnooff
    3286 00016090                   WL      3,D4MP4D+FR2
    3287 000160c0                   WL      3,D4MP4D+FR3
    3288                    
    3289 000160f0                   WL      6,D4MP4D+FR4
    3290 00016120                   WL      ANI_CODE,set_tbukl_confine
    3291 00016150                   WL      9,D4MP4D+FR4
    3292                    
    3293 00016180                   WL      1eh-15,D4MP4D+FR4
    3294                            
    3295 000161b0     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-46,0,0,92,34,30
    3296 00016230                   WWL     ANI_IFOPPMODE,MODE_ONGROUND,hpxdopp_onground
    3297 00016270                   WWL     ANI_IFOPPMODE,MODE_DEAD,hpxdopp_onground
    3298 000162b0     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-46,28,0,72,34,30
    3299 00016330           hpxdopp_onground
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   62

    3300 00016330                   WL      3,D4MP4D+FR6
    3301                    
    3302 00016360     800b          .word   ANI_WAITHITGND
    3303 00016370     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3304                    
    3305 00016390     8028          .word   ANI_ZERO_XZVELS
    3306                    
    3307 000163a0     801f          .word   ANI_SHAKER,30
    3308 000163c0     8037          .word   ANI_SHAKEALL,1
    3309 000163e0                   WL      ANI_CODE,shake_all_ropes
    3310                    
    3311                    ;       WL      1,D4MP4D+FR7
    3312                    
    3313 00016410     800d          .word   ANI_BOUNCE,6
    3314                    
    3315 00016430                   WL      ANI_CODE,HIT_THE_MAT
    3316                    
    3317 00016460                   WL      6,D4MP4D+FR6
    3318 00016490     8007          .word   ANI_ATTACK_OFF
    3319                    
    3320 000164a0                   WL      9,D4MP4D+FR7
    3321                    
    3322 000164d0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_9,2,2
    3323 00016510                   WL      ANI_IFSTATUS2,hpxdgothimb4
    3324 00016540                   WL      3,D4MP4D+FR7
    3325 00016570     800b          .word   ANI_WAITHITGND
    3326 00016580                   WL      ANI_CODE,SMALL_BOUNCE
    3327                    ;       WL      ANI_CODE,tbukl_miss_damage
    3328                    
    3329 000165b0     8022          .word   ANI_FACEDOWN
    3330 000165c0     8002          .word   ANI_SETMODE,MODE_NORMAL
    3331                    ;       .word   ANI_SETPLYRMODE,MODE_NORMAL
    3332 000165e0     8049          .word   ANI_END
    3333                    
    3334                    
    3335 000165f0            SUBR   check_xvel
    3336                    
    3337 000165f0     b5a1          move    *a13(ANIMODE),a1
         00016600     0660  
    3338 00016610     0b81          andni   MODE_STATUS2,a1
         00016620 00000200  
    3339 00016640     b02d          move    a1,*a13(ANIMODE)
         00016650     0660  
    3340                    
    3341                            ;don't mess with anything if opponent is ouside the ring
    3342 00016660     b5a0          move    *a13(CLOSEST_NUM),a0
         00016670     03a0  
    3343 00016680                   X32     a0
    3344 00016690     0b20          addi    process_ptrs,a0
         000166a0 00000000! 
    3345 000166c0     8600          move    *a0,a0,L
    3346 000166d0     b400          move    *a0(INRING),a0,W
         000166e0     0560  
    3347 000166f0     cb24          jrnz    hpxdok
    3348                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   63

    3349 00016700     b5a0          move    *a13(OBJ_XPOSINT),a0
         00016710     0110  
    3350 00016720     0b40          cmpi    RING_X_MID,a0
         00016730     fbff  
    3351 00016740     c710          jrgt    hpxdonrgt
    3352                    
    3353                    ;Check to make sure opponent is in ring!
    3354 00016750     b7a0          move    *a13(OBJ_XVEL),a0,L
         00016760     02d0  
    3355 00016770     cf1c          jrnn    hpxdok
    3356                    ;       cmpi    [0,8000h],a0
    3357                    ;       jrge    hpxdok
    3358                    ;Will land on ropes
    3359 00016780     09e0          movi    [1,8000h],a0
         00016790 00018000  
    3360 000167b0     b20d          move    a0,*a13(OBJ_XVEL),L
         000167c0     02d0  
    3361                    
    3362 000167d0     b5a1          move    *a13(ANIMODE),a1
         000167e0     0660  
    3363 000167f0     0ba1          ori     MODE_STATUS2,a1
         00016800 00000200  
    3364 00016820     b02d          move    a1,*a13(ANIMODE)
         00016830     0660  
    3365 00016840     0960          rets
    3366 00016850           hpxdonrgt
    3367                    ;Check to make sure opponent is in ring!
    3368 00016850     b7a0          move    *a13(OBJ_XVEL),a0,L
         00016860     02d0  
    3369 00016870     ce0c          jrn     hpxdok
    3370                    ;       cmpi    -[0,8000h],a0
    3371                    ;       jrle    hpxdok
    3372                    ;Will land on ropes
    3373 00016880     09e0          movi    -[1,8000h],a0
         00016890 fffe8000  
    3374 000168b0     b20d          move    a0,*a13(OBJ_XVEL),L
         000168c0     02d0  
    3375                    
    3376 000168d0     b5a1          move    *a13(ANIMODE),a1
         000168e0     0660  
    3377 000168f0     0ba1          ori     MODE_STATUS2,a1
         00016900 00000200  
    3378 00016920     b02d          move    a1,*a13(ANIMODE)
         00016930     0660  
    3379 00016940           hpxdok
    3380 00016940     0960          rets
    3381                    
    3382 00016950           hpxdgothimb4
    3383 00016950                   WLW     ANI_SET_ZVEL,-50000h,AM_ABS
    3384                    ;       WL      ANI_CODE,hpxdgetoff4
    3385                    
    3386 00016990                   WL      5,D4MP4D+FR7
    3387 000169c0     800b          .word   ANI_WAITHITGND
    3388                    
    3389 000169d0     8022          .word   ANI_FACEDOWN
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   64

    3390 000169e0     8002          .word   ANI_SETMODE,MODE_NORMAL
    3391 00016a00     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3392 00016a20     8049          .word   ANI_END
    3393                    
    3394 00016a30           hpxdset_target
    3395                    
    3396 00016a30     0d5f          calla   get_opp_process
         00016a40 00000000! 
    3397 00016a60     4c0b          move    a0,a11
    3398                    
    3399 00016a70     b5a0          move    *a13(STICK_VAL_CUR),a0
         00016a80     0bc0  
    3400 00016a90     1fa0          btst    MOVE_LEFT_BIT,a0
    3401 00016aa0     cb08          jrnz    hpxdlft
    3402 00016ab0     1f80          btst    MOVE_RIGHT_BIT,a0
    3403 00016ac0     cb10          jrnz    hpxdrgt
    3404                    ;No stick
    3405                    ;Randomize between head/chest/groin/knees
    3406                    ;       movk    3,a0
    3407                    ;       calla   RNDRNG0
    3408                    ;       X16     a0
    3409                    ;       addi    hpxdtargets,a0
    3410                    ;       move    *a0,a0
    3411                    
    3412 00016ad0     09c0          movi    TGT_CHEST,a0
         00016ae0     0001  
    3413                    
    3414 00016af0     0d5f          calla   set_target_offsets
         00016b00 00000000! 
    3415 00016b20     0960          rets
    3416                    
    3417                    ;Go to chest or if opponent is flipped, go to head!
    3418 00016b30           hpxdlft
    3419 00016b30     b56e          move    *a11(OBJ_CONTROL),a14
         00016b40     0780  
    3420 00016b50     1f6e          btst    B_FLIPH,a14
    3421 00016b60     ca0a          jrz     hpxdchest
    3422 00016b70           hpxdhead
    3423 00016b70     09c0          movi    TGT_HEAD,a0
         00016b80     0000  
    3424 00016b90     0d5f          calla   set_target_offsets
         00016ba0 00000000! 
    3425 00016bc0     0960          rets
    3426                    
    3427                    ;Go to head or if opponent is flipped, go to chest!
    3428 00016bd0           hpxdrgt
    3429 00016bd0     b56e          move    *a11(OBJ_CONTROL),a14
         00016be0     0780  
    3430 00016bf0     1f6e          btst    B_FLIPH,a14
    3431 00016c00     caf6          jrz     hpxdhead
    3432 00016c10           hpxdchest
    3433 00016c10     09c0          movi    TGT_KNEES,a0
         00016c20     0003  
    3434 00016c30     0d5f          calla   set_target_offsets
         00016c40 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   65

    3435 00016c60     0960          rets
    3436                    
    3437                    ; or set *a13(TGT_XOFF), *a13(TGT_YOFF) & *a13(TGT_ZOFF) manually
    3438                    
    3439 00016c70           hpxdtargets
    3440 00016c70     0000          .word   TGT_HEAD        ;0
    3441 00016c80     0001          .word   TGT_CHEST       ;1
    3442 00016c90     0002          .word   TGT_GROIN       ;2
    3443 00016ca0     0003          .word   TGT_KNEES       ;3
    3444                    
    3445                    
    3446 00016cb0           hpxdget_off
    3447 00016cb0     09e0          movi    [4,0],a0
         00016cc0 00040000  
    3448 00016ce0     b20d          move    a0,*a13(OBJ_ZVEL),L
         00016cf0     0310  
    3449 00016d00     09e0          movi    [2,0],a0
         00016d10 00020000  
    3450 00016d30     b20d          move    a0,*a13(OBJ_YVEL),L
         00016d40     02f0  
    3451 00016d50     0960          rets
    3452                    
    3453 00016d60           hpxdget_off4
    3454 00016d60     09e0          movi    -[2,0],a0
         00016d70 fffe0000  
    3455 00016d90     b20d          move    a0,*a13(OBJ_ZVEL),L
         00016da0     0310  
    3456 00016db0     09e0          movi    [1,0],a0
         00016dc0 00010000  
    3457 00016de0     b20d          move    a0,*a13(OBJ_YVEL),L
         00016df0     02f0  
    3458 00016e00     0960          rets
    3459                    
    3460                    
    3461                    *****************************************************************************
    3462                    *
    3463                    
    3464 00016e10            SUBR   dnk_knockdwn_anim
    3465                    
    3466 00016e10     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    3467 00016e30     8003          .word   ANI_ZEROVELS
    3468 00016e40     8026          .word   ANI_SETSPEED,100h
    3469 00016e60     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    3470 00016e80     800c          .word   ANI_XFLIP
    3471                     
    3472 00016e90                   WL      2,D3GU4A+FR9
    3473 00016ec0                   WL      2,D3GU4A+FR7
    3474 00016ef0                   WL      2,D3GU4A+FR5
    3475 00016f20                   WL      ANI_SET_YVEL,39000h
    3476 00016f50                   WL      2,D3SA3A+FR2
    3477 00016f80     805e          .word   ANI_DEBRIS,200,1,0,8,0          ;%chance, tbl index, x,y,z off
    3478 00016fe0                   WL      3,D3SA3A+FR3
    3479 00017010                   WL      6,D3SA3A+FR4
    3480 00017040                   WL      3,D3SA3A+FR5
    3481 00017070                   WL      3,D3SA3A+FR7
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   66

    3482 000170a0                   WL      2,D3SA3A+FR8
    3483 000170d0                   WL      6,D3SA3A+FR9
    3484                    
    3485                    
    3486                    ;FIX!!!  Add to other wrestlers
    3487                    
    3488 00017100                   WL      ANI_CODE,am_I_dead
    3489                    ;If I'm dead, goto fall back
    3490 00017130                   WL      ANI_IFNOTSTATUS2,deyfnodead
    3491                    
    3492 00017160     8004          .word   ANI_SETPLYRMODE,MODE_DEAD
    3493 00017180     8049          .word   ANI_END
    3494                    
    3495 00017190           deyfnodead
    3496                    
    3497                    
    3498                    ;deyfdone
    3499 00017190     8054          .word   ANI_WAITROLL
    3500 000171a0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    3501                    
    3502                    
    3503                    *****************************************************************************
    3504                    *
    3505                    * HITS ON GROUND
    3506                    
    3507 000171d0            SUBR   dnk_hitonground_xflip_anim
    3508 000171d0     800c          .word   ANI_XFLIP
    3509                            ;fall through
    3510                    
    3511 000171e0            SUBR   dnk_hitonground_anim
    3512                    
    3513                    ;We need to take stars away on hits...
    3514                    
    3515 000171e0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    3516 00017200     8003          .word   ANI_ZEROVELS
    3517 00017210     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    3518 00017230     8026          .word   ANI_SETSPEED,100h
    3519 00017250                   WL      ANI_SET_YVEL,39000h
    3520                    
    3521 00017280     805e          .word   ANI_DEBRIS,50,1,0,8,0           ;%chance, tbl index, x,y,z off
    3522                    
    3523 000172e0                   WL      2,D3SA3A+FR2
    3524 00017310                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPITUP_SWEAT,SWEAT_PER,0
    3525 00017380                   WL      3,D3SA3A+FR3
    3526 000173b0                   WL      6,D3SA3A+FR4
    3527 000173e0                   WL      3,D3SA3A+FR5
    3528 00017410                   WL      3,D3SA3A+FR7
    3529 00017440                   WL      2,D3SA3A+FR8
    3530 00017470     800b          .word   ANI_WAITHITGND
    3531 00017480                   WL      ANI_CODE,SMALL_BOUNCE
    3532 000174b0     8003          .word   ANI_ZEROVELS
    3533 000174c0                   WL      1,D3SA3A+FR9
    3534                    
    3535 000174f0            SUBR   dnk_liedown_anim
    3536 000174f0                   WL      1,D3SA3A+FR9
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   67

    3537                    
    3538 00017520     8054          .word   ANI_WAITROLL
    3539 00017530                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    3540                    
    3541 00017560            SUBR   dnk_up_anim
    3542                    
    3543                    ;We need to take stars away on hits...
    3544                    
    3545 00017560     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    3546 00017580     800c          .WORD   ANI_XFLIP
    3547 00017590     8003          .word   ANI_ZEROVELS
    3548 000175a0     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    3549 000175c0     8026          .word   ANI_SETSPEED,100h
    3550                    
    3551 000175e0                   WL      10,D3OS3A+FR3
    3552 00017610     800b          .word   ANI_WAITHITGND
    3553 00017620                   WL      ANI_CODE,SMALL_BOUNCE
    3554 00017650     8003          .word   ANI_ZEROVELS
    3555 00017660                   WL      3,D3SA3A+FR9
    3556                    
    3557 00017690     8054          .word   ANI_WAITROLL
    3558 000176a0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    3559                    
    3560                    *****************************************************************************
    3561                    *
    3562                    * CLIMB UP TURNBUCKLES
    3563                    
    3564 000176d0            SUBR   dnk_climb_up_anim
    3565                    
    3566 000176d0     8002          .word   ANI_SETMODE,MODE_UNINT | MODE_NOAUTOFLIP | MODE_NOCONFINE | MODE_NOGRAVITY
    3567 000176f0     8003          .word   ANI_ZEROVELS
    3568 00017700     8026          .word   ANI_SETSPEED,100h
    3569 00017720     807f          .word   ANI_SCROLL_CTRL,DNK_TBUKLY
    3570 00017740                   WL      ANI_SET_YVEL,4000h      ;27000  
    3571 00017770     8015          .word   ANI_OFFSET,-8+13,-3+4,-16               ;x,y,z
    3572 000177b0                   WL      4,D2CT2A+FR2
    3573 000177e0     8015          .word   ANI_OFFSET,0,15h,0                      ;x,y,z
    3574 00017820                   WL      4,D2CT2A+FR7
    3575 00017850     8024          .word   ANI_SHAKEROPES,1
    3576 00017870     8015          .word   ANI_OFFSET,4,4,0                        ;x,y,z
    3577 000178b0                   WL      4,D2CT2A+FR9
    3578 000178e0     8015          .word   ANI_OFFSET,6,14,0                       ;x,y,z
    3579 00017920                   WL      4,D2CT2A+FR12
    3580 00017950     8003          .word   ANI_ZEROVELS
    3581                    
    3582 00017960     8015          .word   ANI_OFFSET,0,6,0                        ;x,y,z
    3583 000179a0                   WL      4,D2CT2B+FR2
    3584 000179d0     8015          .word   ANI_OFFSET,10,18h,0                     ;x,y,z
    3585 00017a10                   WL      4,D2CT2B+FR4
    3586 00017a40     8015          .word   ANI_OFFSET,-2,19,0                      ;x,y,z
    3587 00017a80                   WL      4,D2CT2B+FR6
    3588                    
    3589 00017ab0     8004          .word   ANI_SETPLYRMODE,MODE_ONTURNBKL
    3590 00017ad0     8002          .word   ANI_SETMODE,MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOGRAVITY|MODE_UNINT|MODE_OVERLAP
    3591 00017af0     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   68

    3592                    
    3593 00017b10     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    3594                    
    3595 00017b50     8015          .word   ANI_OFFSET,2,0,0                        ;x,y,z
    3596 00017b90                   WL      ANI_CODE,tbukl_flip
    3597 00017bc0           nyptrepeat      WL      5,D2CT2C+FR1
    3598 00017bf0                   WL      ANI_CODE,tbukl_flip
    3599 00017c20                   WL      5,D2CT2C+FR3
    3600 00017c50                   WL      ANI_CODE,tbukl_flip
    3601 00017c80                   WL      5,D2CT2C+FR5
    3602 00017cb0                   WL      ANI_CODE,tbukl_flip
    3603 00017ce0                   WL      5,D2CT2C+FR7
    3604 00017d10                   WL      ANI_CODE,tbukl_flip
    3605 00017d40                   WL      5,D2CT2C+FR9
    3606 00017d70                   WL      ANI_CODE,tbukl_flip
    3607 00017da0                   WL      5,D2CT2C+FR11
    3608 00017dd0                   WL      ANI_CODE,tbukl_flip
    3609 00017e00                   WL      5,D2CT2C+FR13
    3610 00017e30                   WL      ANI_CODE,tbukl_flip
    3611 00017e60                   WL      5,D2CT2C+FR15
    3612 00017e90                   WL      ANI_CODE,tbukl_flip
    3613 00017ec0                   WL      5,D2CT2C+FR17
    3614 00017ef0                   WL      ANI_CODE,tbukl_flip
    3615 00017f20                   WL      5,D2CT2C+FR19
    3616 00017f50                   WL      ANI_CODE,tbukl_flip
    3617 00017f80                   WL      5,D2CT2C+FR21
    3618 00017fb0                   WL      ANI_CODE,tbukl_flip
    3619 00017fe0                   WL      ANI_GOTO,nyptrepeat
    3620                    
    3621                    * CLIMB DOWN TURNBUCKLES
    3622                    
    3623 00018010            SUBR   dnk_climb_down_anim
    3624                    
    3625 00018010     8002          .word   ANI_SETMODE,MODE_UNINT | MODE_NOAUTOFLIP | MODE_NOCONFINE | MODE_NOGRAVITY
    3626 00018030     8003          .word   ANI_ZEROVELS
    3627 00018040     8026          .word   ANI_SETSPEED,100h
    3628                    
    3629 00018060                   WL      ANI_CODE,face_inside
    3630                    
    3631 00018090     8015          .word   ANI_OFFSET,0,2,0                        ;x,y,z
    3632 000180d0                   WL      5,D2CT2B+FR6
    3633 00018100     8015          .word   ANI_OFFSET,0,-13-3,0                    ;x,y,z
    3634 00018140                   WL      5,D2CT2B+FR4
    3635                    
    3636 00018170                   WL      ANI_SET_YVEL,-4000h
    3637                    
    3638 000181a0     8015          .word   ANI_OFFSET,-8,-26-3,0                   ;x,y,z
    3639 000181e0                   WL      4,D2CT2B+FR2
    3640 00018210     8015          .word   ANI_OFFSET,0,-5-3,0                     ;x,y,z
    3641 00018250     8024          .word   ANI_SHAKEROPES,1
    3642 00018270                   WL      4,D2CT2A+FR12
    3643 000182a0     8015          .word   ANI_OFFSET,0,-10-3,0                    ;x,y,z
    3644 000182e0                   WL      4,D2CT2A+FR9
    3645 00018310     8015          .word   ANI_OFFSET,0,-10-3,0                    ;x,y,z
    3646 00018350                   WL      4,D2CT2A+FR7
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   69

    3647 00018380     8015          .word   ANI_OFFSET,-9,-9-3,0                    ;x,y,z
    3648 000183c0                   WL      4,D2CT2A+FR2
    3649                    
    3650 000183f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    3651 00018410     800b          .word   ANI_WAITHITGND
    3652                    
    3653 00018420     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3654 00018440     8002          .word   ANI_SETMODE,MODE_NORMAL
    3655 00018460     8049          .word   ANI_END
    3656                    
    3657                    ;*****************************************************************************
    3658                    ;*
    3659                    ;* SECOND WIND
    3660                    ;
    3661                    ; SUBR  dnk_2ndwind_anim
    3662                    ;
    3663                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    3664                    ;       .word   ANI_ZEROVELS
    3665                    ;       .word   ANI_SETSPEED,100h
    3666                    ;       WL      3,D4SW4B+FR1
    3667                    ;       WL      3,D4SW4B+FR2
    3668                    ;
    3669                    ;       WL      3,D4SW4E+FR1
    3670                    ;       WL      3,D4SW4E+FR2
    3671                    ;       WL      3,D4SW4E+FR3
    3672                    ;       WL      3,D4SW4E+FR4
    3673                    ;       WL      3,D4SW4E+FR5
    3674                    ;
    3675                    ;       WL      3,D4SW4E+FR1
    3676                    ;       WL      3,D4SW4E+FR2
    3677                    ;       WL      3,D4SW4E+FR3
    3678                    ;       WL      3,D4SW4E+FR4
    3679                    ;       WL      3,D4SW4E+FR5
    3680                    ;
    3681                    ;       WL      3,D4SW4F+FR1
    3682                    ;       WL      3,D4SW4F+FR2
    3683                    ;       WL      3,D4SW4F+FR3
    3684                    ;       WL      3,D4SW4F+FR4
    3685                    ;       WL      3,D4SW4F+FR5
    3686                    ;       WL      3,D4SW4F+FR6
    3687                    ;       WL      3,D4SW4F+FR7
    3688                    ;
    3689                    ;       WL      3,D4SW4F+FR1
    3690                    ;       WL      3,D4SW4F+FR2
    3691                    ;       WL      3,D4SW4F+FR3
    3692                    ;       WL      3,D4SW4F+FR4
    3693                    ;       WL      3,D4SW4F+FR5
    3694                    ;       WL      3,D4SW4F+FR6
    3695                    ;       WL      3,D4SW4F+FR7
    3696                    ;
    3697                    ;       .word   ANI_SETMODE,MODE_NORMAL
    3698                    ;
    3699                    
    3700                    *****************************************************************************
    3701                    *
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   70

    3702                    * BUTT DROP FROM TOP OF TURNBUCKLE
    3703                    
    3704 00018470            SUBR   dnk_diveofftb_anim
    3705                    
    3706                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCOLLIS|MODE_NOGRAVITY|MODE_OVERLAP|MODE_NO
    3707 00018470     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOGRAVITY|MODE_OVERLAP|MODE_NOCONFINE
    3708 00018490     8003          .word   ANI_ZEROVELS
    3709 000184a0     8026          .word   ANI_SETSPEED,100h
    3710 000184c0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    3711 000184d0     805f          .word   ANI_SET_WRESTLER_XFLIP
    3712 000184e0     807f          .word   ANI_SCROLL_CTRL,SC_RESTORE
    3713                    
    3714 00018500     8075          .word   ANI_STARTATTACK,AT_LEAPING,43
    3715 00018530                   WL      4,D4JD4A+FR1
    3716 00018560                   WL      4,D4JD4A+FR2            ;D4FM4A+FR1
    3717                    
    3718                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    3719 00018590                   LEAPATOPP 35,190,190,190,90000h,TGT_CHEST,-15,0,-10
    3720                    
    3721 00018640     800f          .word   ANI_GRAVITY_ON
    3722                    ;       .word   ANI_SETPLYRMODE,MODE_INAIR2
    3723 00018650                   WL      ANI_CODE,set_tbukl_airmode
    3724                    
    3725 00018680     804d          .word   ANI_SHAKECORNER         ;Shake corner ropes
    3726                    
    3727 00018690                   WL      3,D4JD4A+FR4
    3728                    
    3729 000186c0     8015          .word   ANI_OFFSET,0,45,0               ;x,y,z
    3730                    
    3731 00018700                   WL      3,D4FM4A+FR5
    3732 00018730                   WL      3,D4FM4A+FR6
    3733 00018760                   WL      ANI_CODE,set_tbukl_confine
    3734                    
    3735 00018790     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-24,0,-30,86,34,60 ;mode,x,y,z,w,h,d
    3736 00018810                   WWL     ANI_IFOPPMODE,MODE_ONGROUND,lphqopp_onground
    3737 00018850                   WWL     ANI_IFOPPMODE,MODE_DEAD,lphqopp_onground
    3738 00018890     800e          .word   ANI_ATTACK_ON_Z,AMODE_BSTOMP,-24,28,-30,60,34,60
    3739 00018910           lphqopp_onground
    3740 00018910                   WL      1,D4FM4A+FR6
    3741 00018940     800b          .word   ANI_WAITHITGND
    3742 00018950     8007          .word   ANI_ATTACK_OFF
    3743 00018960     8003          .word   ANI_ZEROVELS
    3744 00018970     8074          .word   ANI_ADD_MOVE,MOVE_C_9,2,2
    3745 000189b0                   WL      ANI_IFSTATUS2,lphqhit
    3746                    
    3747 000189e0           lphqmissed
    3748                    ;       WL      ANI_CODE,tbukl_miss_damage
    3749 000189e0                   WL      ANI_CODE,CALL_MISSES
    3750 00018a10                   WL      ANI_CODE,shake_all_ropes
    3751 00018a40                   WL      ANI_CHANGEANIM,dnk_hitonground_xflip_anim
    3752                    
    3753 00018a70           lphqhit WLW     ANI_SET_ZVEL,20000h,AM_ABS
    3754                    
    3755 00018ab0           lphqcont        WL      ANI_CODE,shake_all_ropes
    3756 00018ae0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   71

    3757                    
    3758                            ;bounce
    3759 00018b00     801f          .word   ANI_SHAKER,18
    3760 00018b20     800d          .word   ANI_BOUNCE,6
    3761 00018b40                   WL      ANI_CODE,HIT_THE_MAT
    3762 00018b70                   WL      5,D4FM4A+FR7
    3763                    
    3764 00018ba0                   WL      1,D4FM4A+FR6
    3765 00018bd0     800b          .word   ANI_WAITHITGND
    3766 00018be0     8003          .word   ANI_ZEROVELS
    3767 00018bf0                   WL      ANI_CODE,SMALL_BOUNCE
    3768 00018c20                   WL      5,D4FM4A+FR7
    3769 00018c50                   WL      8,D4FM4A+FR9
    3770                    
    3771 00018c80     800c          .word   ANI_XFLIP
    3772 00018c90     8022          .word   ANI_FACEDOWN
    3773                    
    3774                    ;Getting up, set no_collis
    3775 00018ca0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
    3776                    
    3777 00018cc0                   WL      3,D3GU4A+FR3
    3778 00018cf0                   WL      3,D3GU4A+FR4
    3779 00018d20                   WL      3,D3GU4A+FR5
    3780 00018d50                   WL      3,D3GU4A+FR6
    3781                    
    3782                    ;Check for a flip here
    3783 00018d80                   WL      1,D3GU4A+FR7
    3784 00018db0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    3785 00018dc0     805f          .word   ANI_SET_WRESTLER_XFLIP
    3786 00018dd0                   WL      2,D3GU4A+FR7
    3787                    
    3788 00018e00                   WL      3,D3GU4A+FR8
    3789 00018e30                   WL      3,D3GU4A+FR9
    3790                    
    3791 00018e60     8068          .word   ANI_SAFE_TIME,30
    3792                    
    3793 00018e80                   WL      ANI_CODE,free_toss_check
    3794 00018eb0                   WL      ANI_IFNOTSTATUS2,lphqno_freetoss8
    3795 00018ee0     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    3796 00018f40                   WL      1,D3GU4A+FR9
    3797 00018f70     8007          .word   ANI_ATTACK_OFF
    3798 00018f80                   WL      ANI_IFNOTSTATUS2,lphqno_freetoss8
    3799                    
    3800                            ;Opponent standing too close -- free toss
    3801 00018fb0                   WL      ANI_CODE,setup_freetoss
    3802 00018fe0                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    3803 00019010           lphqno_freetoss8
    3804                    
    3805 00019010     8022          .word   ANI_FACEDOWN
    3806 00019020     8002          .word   ANI_SETMODE,MODE_NORMAL
    3807 00019040     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3808 00019060     8049          .word   ANI_END
    3809                    
    3810                    *****************************************************************************
    3811                    *
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   72

    3812                    * GRAB & FLING OPPONENT (INTO A RUN)
    3813                    
    3814 00019070            SUBR   dnk_2_grabfling_anim
    3815                    
    3816 00019070     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    3817 00019090     8003          .word   ANI_ZEROVELS
    3818 000190a0     8026          .word   ANI_SETSPEED,100h
    3819                    
    3820 000190c0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    3821 000190d0     805f          .word   ANI_SET_WRESTLER_XFLIP
    3822                    
    3823 000190e0     8075          .word   ANI_STARTATTACK,AT_PUPPET,10
    3824 00019110                   WL      2,D1TT5Z+FR2
    3825 00019140                   WL      2,D1TT5Z+FR3
    3826 00019170                   WL      ANI_GOTO,qcpwcont
    3827                    
    3828 000191a0            SUBR   dnk_4_grabfling_anim
    3829                    
    3830 000191a0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    3831 000191c0     8003          .word   ANI_ZEROVELS
    3832 000191d0     8026          .word   ANI_SETSPEED,100h
    3833                    
    3834 000191f0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    3835 00019200     805f          .word   ANI_SET_WRESTLER_XFLIP
    3836 00019210     8075          .word   ANI_STARTATTACK,AT_PUPPET,8
    3837 00019240           qcpwcont
    3838                    
    3839                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    3840 00019240                   LEAPATOPP 8,50,20,40,90000h,TGT_CHEST,40,0,25
    3841 000192f0                   WL      ANI_SET_YVEL,0000h
    3842 00019320                   WL      5,D4GF3A+FR1
    3843                    
    3844 00019350     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET_NOFLAIL,33,56,44,18 ;mode,x,y,w,h
    3845 000193b0                   WWL     ANI_WAITHITOPP,6,D4GF3A+FR2
    3846 000193f0     8028          .word   ANI_ZERO_XZVELS
    3847 00019400                   WWL     ANI_WAITHITOPP,2,D4GF3A+FR3
    3848 00019440     8007          .word   ANI_ATTACK_OFF
    3849 00019450                   WL      ANI_IFNOTSTATUS2,qcpwmissedb
    3850 00019480                   WL      ANI_IFBLOCKED,qcpwmissedb               ;Yes, I hit blocker
    3851                    
    3852                    ;got him
    3853                    
    3854 000194b0                   WL      ANI_CODE,DO_GRUNT
    3855 000194e0                   WL      ANI_CODE,CALL_SETUP
    3856 00019510     8012          .word   ANI_ATTACHZ,0,0,10              ;x & y don't matter.
    3857 00019550     8050          .word   ANI_SETOPPMODE,MODE_GHOST
    3858 00019570     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    3859                    
    3860                    ; attacker sequence
    3861 00019590     8055          .word   ANI_SETOPPFACING
    3862 000195a0                   WWLLW   ANI_SUPERSLAVE2,10,D4GF3A+FR3,qcpwpuppet_tbl,0
    3863 00019610     800b          .word   ANI_WAITHITGND
    3864 00019620                   WWLLW   ANI_SUPERSLAVE2,6,D4GF3A+FR4,qcpwpuppet_tbl,1
    3865 00019690                   WWLLW   ANI_SUPERSLAVE2,4,D4GF3A+FR5,qcpwpuppet_tbl,2
    3866 00019700                   WWLLW   ANI_SUPERSLAVE2,4,D4GF3A+FR6,qcpwpuppet_tbl,3
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   73

    3867 00019770                   WWLLW   ANI_SUPERSLAVE2,4,D4GF3A+FR7,qcpwpuppet_tbl,4
    3868 000197e0                   WWLLW   ANI_SUPERSLAVE2,4,D4GF3A+FR8,qcpwpuppet_tbl,5
    3869 00019850     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    3870                    
    3871 00019890                   WL      ANI_SLAVEANIM,qcpwstrt_run_tbl
    3872                    
    3873 000198c0     8051          .word   ANI_CLROPPMODE,MODE_GHOST
    3874 000198e0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    3875 00019900     800a          .word   ANI_DETACH
    3876 00019910                   WL      10,D4GF3A+FR9   ;16
    3877 00019940     8015          .word   ANI_OFFSET,-10,0,0                      ;x,y,z
    3878                    
    3879 00019980     801b          .word   ANI_SETFACING
    3880 00019990     8002          .word   ANI_SETMODE,MODE_NORMAL
    3881 000199b0     8049          .word   ANI_END
    3882                    
    3883                    
    3884 000199c0           qcpwmissedb
    3885 000199c0                   WL      ANI_CODE,fling_delay
    3886 000199f0                   WL      ANI_IFNOTSTATUS2,qcpwmissed
    3887 00019a20                   WL      25,D4GF3A+FR3
    3888                    
    3889 00019a50           qcpwmissed
    3890 00019a50                   WL      ANI_CODE,CALL_MISSES
    3891 00019a80                   WL      6,D4GF3A+FR3
    3892 00019ab0                   WL      3,D4GF3A+FR2
    3893 00019ae0                   WL      3,D4GF3A+FR1
    3894                    
    3895 00019b10     8022          .word   ANI_FACEDOWN
    3896 00019b20     8002          .word   ANI_SETMODE,MODE_NORMAL
    3897 00019b40     8049          .word   ANI_END
    3898                    
    3899 00019b50            SUBR   fling_delay
    3900                    
    3901 00019b50     b7ae          move    *a13(LAST_FLING),a14,L
         00019b60     0cf0  
    3902 00019b70     07a0          move    @PCNT,a0,L                      ;use 32-bit PCNT!
         00019b80 00000000! 
    3903 00019ba0     b20d          move    a0,*a13(LAST_FLING),L
         00019bb0     0cf0  
    3904 00019bc0     45c0          sub     a14,a0
    3905 00019bd0     0b40          cmpi    3*60,a0
         00019be0     ff4b  
    3906 00019bf0     c508          jrge    qcpwok
    3907                    
    3908                    ;This blocked fling attempt is too close (in terms of time) to most recent grab
    3909 00019c00     b5a1          move    *a13(ANIMODE),a1
         00019c10     0660  
    3910 00019c20     0ba1          ori     MODE_STATUS2,a1
         00019c30 00000200  
    3911 00019c50     b02d          move    a1,*a13(ANIMODE)
         00019c60     0660  
    3912 00019c70     0960          rets
    3913                    
    3914 00019c80     b5a1  qcpwok  move    *a13(ANIMODE),a1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   74

         00019c90     0660  
    3915 00019ca0     0b81          andni   MODE_STATUS2,a1
         00019cb0 00000200  
    3916 00019cd0     b02d          move    a1,*a13(ANIMODE)
         00019ce0     0660  
    3917 00019cf0     0960          rets
    3918                    
    3919 00019d00           qcpwpuppet_tbl
    3920 00019d00 00019e20'  .long qcpwBret
    3921 00019d20 0001a000'  .long qcpwRazor
    3922 00019d40 0001a1e0'  .long qcpwTaker
    3923 00019d60 0001a3c0'  .long qcpwYokozuna
    3924 00019d80 0001a5a0'  .long qcpwShawn
    3925 00019da0 0001a780'  .long qcpwBamBam
    3926 00019dc0 0001a960'  .long qcpwDoink
    3927 00019de0 0001ab40'  .long qcpwAdam
    3928 00019e00 0001ab60'  .long qcpwLex
    3929                    
    3930                            .ref    H4YR3A,H3RN3A
    3931                            .ref    R4YR3A,R3RN3D
    3932                            .ref    U4YR3B,U3RN3A
    3933                            .ref    Y4YR3A,Y3RN3C
    3934                            .ref    S4YR3A,S3RN3A
    3935                            .ref    B4YR3A,B3RN3A
    3936                            .ref    L4YR3B,L3RN3B
    3937                    
    3938 00019e20           qcpwBret
    3939 00019e20            LWWW H4YR3A+FR1,53,7,1
    3940 00019e70            LWWW H4YR3A+FR2,49,9,1
    3941 00019ec0            LWWW H4YR3A+FR3,48,9,1
    3942 00019f10            LWWW H4YR3A+FR5,43,11,1
    3943 00019f60            LWWW H3RN3A+FR1,15,5,0
    3944 00019fb0            LWWW H3RN3A+FR2,-14,8,0
    3945 0001a000           qcpwRazor
    3946 0001a000            LWWW R4YR3A+FR1,32,17,0
    3947 0001a050            LWWW R4YR3A+FR2,21,20,0
    3948 0001a0a0            LWWW R4YR3A+FR3,1,11,0
    3949 0001a0f0            LWWW R4YR3A+FR4,4,15,0
    3950 0001a140            LWWW R3RN3D+FR10,9,16,0
    3951 0001a190            LWWW R3RN3D+FR11,-4,16,0
    3952 0001a1e0           qcpwTaker
    3953 0001a1e0            LWWW U4YR3B+FR2,34,18,0
    3954 0001a230            LWWW U4YR3B+FR3,37,16,0
    3955 0001a280            LWWW U4YR3B+FR4,29,24,0
    3956 0001a2d0            LWWW U4YR3B+FR5,27,24,0
    3957 0001a320            LWWW U3RN3A+FR2,-11,15,0
    3958 0001a370            LWWW U3RN3A+FR2,-25,14,0
    3959 0001a3c0           qcpwYokozuna
    3960 0001a3c0            LWWW Y4YR3A+FR1,59,11,1
    3961 0001a410            LWWW Y4YR3A+FR4,37,13,1
    3962 0001a460            LWWW Y4YR3A+FR5,32,11,1
    3963 0001a4b0            LWWW Y4YR3A+FR7,5,3,1
    3964 0001a500            LWWW Y3RN3C+FR7,18,13,0
    3965 0001a550            LWWW Y3RN3C+FR8,8,12,0
    3966 0001a5a0           qcpwShawn
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   75

    3967 0001a5a0            LWWW S4YR3A+FR2,38,5,1
    3968 0001a5f0            LWWW S4YR3A+FR3,52,-3,1
    3969 0001a640            LWWW S4YR3A+FR5,21,11,1
    3970 0001a690            LWWW S4YR3A+FR6,19,10,1
    3971 0001a6e0            LWWW S3RN3A+FR2,16,11,0
    3972 0001a730            LWWW S3RN3A+FR3,4,11,0
    3973 0001a780           qcpwBamBam
    3974 0001a780            LWWW B4YR3A+FR3,32,15,0
    3975 0001a7d0            LWWW B4YR3A+FR4,43,11,0
    3976 0001a820            LWWW B4YR3A+FR5,53,12,0
    3977 0001a870            LWWW B4YR3A+FR7,9,9,0
    3978 0001a8c0            LWWW B3RN3A+FR1,6,19,0
    3979 0001a910            LWWW B3RN3A+FR2,3,17,0
    3980 0001a960           qcpwDoink
    3981 0001a960            LWWW D4YR3B+FR1,64,16,1
    3982 0001a9b0            LWWW D4YR3B+FR2,60,20,1
    3983 0001aa00            LWWW D4YR3B+FR3,47,19,1
    3984 0001aa50            LWWW D4YR3B+FR4,38,20,1
    3985 0001aaa0            LWWW D3RN3B+FR3,23,20,0
    3986 0001aaf0            LWWW D3RN3B+FR4,-8,18,0
    3987 0001ab40           qcpwAdam
    3988 0001ab40 00000000   .long 0
    3989 0001ab60           qcpwLex
    3990 0001ab60            LWWW L4YR3B+FR1,66,16,1
    3991 0001abb0            LWWW L4YR3B+FR2,54,10,1
    3992 0001ac00            LWWW L4YR3B+FR3,38,13,1
    3993 0001ac50            LWWW L4YR3B+FR4,13,11,1
    3994 0001aca0            LWWW L3RN3B+FR2,0,19,0
    3995 0001acf0            LWWW L3RN3B+FR3,10,13,0
    3996                    
    3997 0001ad40           qcpwstrt_run_tbl
    3998 0001ad40 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    3999 0001ada0 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    4000 0001ae00 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    4001 0001ae60 00000000!         .long   start_run_flung,start_run_flung,start_run_flung
    4002                    
    4003                    *****************************************************************************
    4004                    *
    4005                    * HELD OVERHEAD ANIMATION
    4006                    
    4007 0001aec0            SUBR   dnk_heldoh_anim
    4008                    
    4009 0001aec0     8004          .word   ANI_SETPLYRMODE,MODE_ATTACHED
    4010 0001aee0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOGRAVITY
    4011 0001af00     8026          .word   ANI_SETSPEED,100h
    4012                    
    4013 0001af20     8033          .word   ANI_SETWORD,USR_VAR1,0          ;loop count
    4014                    
    4015 0001af50                   WL      ANI_CODE,DO_OTHERNONO
    4016 0001af80           jntyloop
    4017 0001af80                   WL      3,D4MF4A+FR1
    4018 0001afb0                   WL      3,D4MF4A+FR2
    4019 0001afe0                   WL      3,D4MF4A+FR3
    4020 0001b010                   WL      3,D4MF4A+FR4
    4021 0001b040                   WL      3,D4MF4A+FR5
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   76

    4022 0001b070                   WL      3,D4MF4A+FR6
    4023 0001b0a0                   WL      3,D4MF4A+FR7
    4024 0001b0d0                   WL      3,D4MF4A+FR8
    4025 0001b100                   WL      3,D4MF4A+FR9
    4026                    
    4027 0001b130                   WL      ANI_CODE,jntyinc_loop
    4028 0001b160                   WL      ANI_IFNOTSTATUS2,jntyloop
    4029                    
    4030                    ;Fall out of overhead hold by reversing thru pickup frames
    4031 0001b190     800a          .word   ANI_DETACH
    4032                    
    4033                     
    4034 0001b1a0     8002          .word   ANI_SETMODE,MODE_NORMAL|MODE_OVERLAP
    4035 0001b1c0     8004          .word   ANI_SETPLYRMODE,MODE_INAIR
    4036                    
    4037 0001b1e0                   WL      ANI_CODE,FIND_AND_KILL_ENDLESS
    4038                    
    4039 0001b210                   WL      ANI_SET_YVEL,10000h
    4040 0001b240                   WLW     ANI_SET_XVEL,-40000h,AM_HIT_REL
    4041 0001b280                   WLW     ANI_SET_ZVEL,10000h,AM_ABS
    4042 0001b2c0     8016          .word   ANI_FRICTION,3000h
    4043                    
    4044 0001b2e0                   WL      2,D4MF4A+FR6
    4045 0001b310     8015          .word   ANI_OFFSET,-20,-50,0                    ;x,y,z
    4046 0001b350                   WL      4,D3GS3X+FR5
    4047 0001b380                   WL      4,D3GS3X+FR4
    4048 0001b3b0                   WL      4,D3GS3X+FR3
    4049 0001b3e0                   WL      4,D3GS3X+FR1
    4050 0001b410     800b          .word   ANI_WAITHITGND
    4051 0001b420                   WL      2,D2ST2B+FR3
    4052                    
    4053 0001b450     8021          .word   ANI_FACEUP
    4054 0001b460     8002          .word   ANI_SETMODE,MODE_NORMAL
    4055 0001b480     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4056 0001b4a0     8049          .word   ANI_END
    4057                    
    4058                    ;Loop 4 times, then break out!
    4059 0001b4b0           jntyinc_loop
    4060 0001b4b0     b5a0          move    *a13(USR_VAR1),a0
         0001b4c0     0850  
    4061 0001b4d0     1020          inc     a0
    4062 0001b4e0     b00d          move    a0,*a13(USR_VAR1)
         0001b4f0     0850  
    4063 0001b500     0b40          cmpi    3,a0
         0001b510     fffc  
    4064 0001b520     c708          jrgt    jntybreakout
    4065                            
    4066                    ;       move    *a13(ATTACH_PROC),a0,L
    4067                    ;       jrz     jntybreakout
    4068                    
    4069 0001b530     b5a1          move    *a13(ANIMODE),a1
         0001b540     0660  
    4070 0001b550     0b81          andni   MODE_STATUS2,a1
         0001b560 00000200  
    4071 0001b580     b02d          move    a1,*a13(ANIMODE)
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   77

         0001b590     0660  
    4072 0001b5a0     0960          rets
    4073                    
    4074 0001b5b0           jntybreakout
    4075 0001b5b0     b5a1          move    *a13(ANIMODE),a1
         0001b5c0     0660  
    4076 0001b5d0     0ba1          ori     MODE_STATUS2,a1
         0001b5e0 00000200  
    4077 0001b600     b02d          move    a1,*a13(ANIMODE)
         0001b610     0660  
    4078 0001b620     0960          rets
    4079                    
    4080                    ;*****************************************************************************
    4081                    ;*
    4082                    ;* jnty2 BLOCK
    4083                    ;
    4084                    ; SUBR  dnk_2_block_anim
    4085                    ;
    4086                    ;       .word   ANI_SETMODE,MODE_UNINT                  ;uninterruptable
    4087                    ;       .word   ANI_ZERO_XZVELS
    4088                    ;       .word   ANI_SETSPEED,100h
    4089                    ;       .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4090                    ;       .word   ANI_SET_WRESTLER_XFLIP
    4091                    ;
    4092                    ;       WL      ANI_CODE,block_if_safe
    4093                    ;       WL      2,D2BK3C+FR1
    4094                    ;       WL      1,D2BK3C+FR2
    4095                    ;       .word   ANI_SETPLYRMODE,MODE_BLOCK
    4096                    ;
    4097                    ;       WL      1,D2BK3C+FR2
    4098                    ;jntyblk2       WL      2,D2BK3C+FR3
    4099                    ;       .word   ANI_SETMODE,MODE_NOAUTOFLIP|MODE_UNINT
    4100                    ;       .word   ANI_WAITRELEASE,PLAYER_BLOCK_BIT
    4101                    ;       .word   ANI_SETMODE,MODE_NOAUTOFLIP     ;uninterruptable
    4102                    ;       .word   ANI_SETFACING
    4103                    ;       WL      2,D2BK3C+FR2
    4104                    ;       WL      2,D2BK3C+FR1
    4105                    ;       .word   ANI_SETPLYRMODE,MODE_NORMAL
    4106                    ;
    4107                    ; SUBR  dnk_2_hitblock_anim
    4108                    ;
    4109                    ;       .word   ANI_SETMODE,MODE_UNINT                  ;uninterruptable
    4110                    ;       .word   ANI_FRICTION,4000h
    4111                    ;       .word   ANI_SETSPEED,100h
    4112                    ;
    4113                    ;       WL      ANI_CODE,DO_BLOCKED
    4114                    ;       WL      4,D2BK3C+FR7
    4115                    ;       WL      4,D2BK3C+FR5
    4116                    ;       WL      ANI_GOTO,jntyblk2
    4117                    
    4118                    * jnty4 BLOCK
    4119                    
    4120 0001b630            SUBR   dnk_4_block_anim
    4121                    
    4122 0001b630     8002          .word   ANI_SETMODE,MODE_UNINT                  ;uninterruptable
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   78

    4123 0001b650     8028          .word   ANI_ZERO_XZVELS
    4124 0001b660     8026          .word   ANI_SETSPEED,100h
    4125 0001b680     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4126 0001b690     805f          .word   ANI_SET_WRESTLER_XFLIP
    4127                    
    4128 0001b6a0     8004          .word   ANI_SETPLYRMODE,MODE_BLOCK
    4129                    ;       WL      ANI_CODE,block_if_safe
    4130 0001b6c0                   WL      2,D4BK3A+FR1
    4131 0001b6f0                   WL      1,D4BK3A+FR2
    4132                    ;       .word   ANI_SETPLYRMODE,MODE_BLOCK
    4133 0001b720                   WL      1,D4BK3A+FR2
    4134 0001b750           jntyblk4        WL      2,D4BK3A+FR3
    4135 0001b780     8002          .word   ANI_SETMODE,MODE_NOAUTOFLIP|MODE_UNINT|MODE_FRICTION
    4136                    ;       .word   ANI_ZERO_XZVELS
    4137 0001b7a0     8014          .word   ANI_WAITRELEASE,PLAYER_BLOCK_BIT
    4138 0001b7c0     8002          .word   ANI_SETMODE,MODE_NOAUTOFLIP     ;uninterruptable
    4139 0001b7e0     801b          .word   ANI_SETFACING
    4140 0001b7f0                   WL      2,D4BK3A+FR2
    4141 0001b820                   WL      2,D4BK3A+FR1
    4142 0001b850     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4143 0001b870     8049          .word   ANI_END
    4144                    
    4145 0001b880            SUBR   dnk_4_hitblock_anim
    4146                    
    4147 0001b880     8002          .word   ANI_SETMODE,MODE_UNINT                  ;uninterruptable
    4148 0001b8a0     8016          .word   ANI_FRICTION,5000h
    4149 0001b8c0     8026          .word   ANI_SETSPEED,100h
    4150 0001b8e0                   WL      ANI_CODE,DO_BLOCKED
    4151 0001b910                   WL      2,D4BK3A+FR7
    4152 0001b940                   WL      2,D4BK3A+FR6
    4153 0001b970                   WL      ANI_GOTO,jntyblk4
    4154                    
    4155 0001b9a0            SUBR   dnk_4_hitblock2_anim
    4156                    
    4157 0001b9a0     8002          .word   ANI_SETMODE,MODE_UNINT                  ;uninterruptable
    4158 0001b9c0     8016          .word   ANI_FRICTION,4000h
    4159 0001b9e0     8026          .word   ANI_SETSPEED,100h
    4160 0001ba00                   WL      ANI_CODE,DO_BLOCKED
    4161 0001ba30                   WL      ANI_SET_YVEL,38000h
    4162 0001ba60                   WL      3,D4BK3A+FR6
    4163 0001ba90                   WL      3,D4BK3A+FR7
    4164 0001bac0                   WL      3,D4BK3A+FR6
    4165 0001baf0                   WL      3,D4BK3A+FR7
    4166 0001bb20                   WL      3,D4BK3A+FR6
    4167 0001bb50                   WL      3,D4BK3A+FR7
    4168                    
    4169 0001bb80                   WL      ANI_GOTO,jntyblk4
    4170                    
    4171                    *****************************************************************************
    4172                    *
    4173                    * HIP TOSS RUNNING OPPONENT
    4174                    
    4175 0001bbb0            SUBR   dnk_2_hiptoss2_anim
    4176                    
    4177 0001bbb0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   79

    4178                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCOLLIS    ;uninterruptable
    4179 0001bbd0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4180 0001bbf0     8003          .word   ANI_ZEROVELS
    4181 0001bc00     8026          .word   ANI_SETSPEED,100h
    4182                    
    4183 0001bc20     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4184 0001bc30     805f          .word   ANI_SET_WRESTLER_XFLIP
    4185                    
    4186 0001bc40     8075          .word   ANI_STARTATTACK,AT_PUPPET,6
    4187                    ;       WL      2,D1TT5Z+FR2
    4188                    ;       WL      2,D1TT5Z+FR3
    4189                    
    4190 0001bc70            SUBR   dnk_4_hiptoss2_anim
    4191                    
    4192 0001bc70     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4193                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCOLLIS    ;uninterruptable
    4194 0001bc90     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4195 0001bcb0     8003          .word   ANI_ZEROVELS
    4196 0001bcc0     8026          .word   ANI_SETSPEED,100h
    4197                    
    4198 0001bce0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4199 0001bcf0     805f          .word   ANI_SET_WRESTLER_XFLIP
    4200                    
    4201 0001bd00     8075          .word   ANI_STARTATTACK,AT_PUPPET,2
    4202                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    4203 0001bd30                   LEAPATOPP 8,60,55,40,90000h,TGT_CHEST,40,0,0
    4204 0001bde0                   WL      ANI_SET_YVEL,0
    4205                    
    4206 0001be10                   WL      2,D3HT3Q+FR1
    4207 0001be40     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET_TOSS,33,46,44,38 ;mode,x,y,w,h
    4208 0001bea0                   WWL     ANI_WAITHITOPP,8,D3HT3Q+FR1
    4209 0001bee0     8028          .word   ANI_ZERO_XZVELS
    4210 0001bef0     8007          .word   ANI_ATTACK_OFF
    4211                    
    4212 0001bf00                   WL      ANI_GOTO,divgcont
    4213                    
    4214 0001bf30            SUBR   dnk_2_hiptoss_anim
    4215                    
    4216 0001bf30     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4217 0001bf50     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4218 0001bf70     8003          .word   ANI_ZEROVELS
    4219 0001bf80     8026          .word   ANI_SETSPEED,100h
    4220                    
    4221 0001bfa0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4222 0001bfb0     805f          .word   ANI_SET_WRESTLER_XFLIP
    4223                    
    4224 0001bfc0     8075          .word   ANI_STARTATTACK,AT_PUPPET,10
    4225                    ;       WL      2,D1TT5Z+FR2
    4226                    ;       WL      2,D1TT5Z+FR3
    4227                    
    4228 0001bff0            SUBR   dnk_4_hiptoss_anim
    4229                    
    4230 0001bff0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4231 0001c010     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4232 0001c030     8003          .word   ANI_ZEROVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   80

    4233 0001c040     8026          .word   ANI_SETSPEED,100h
    4234                    
    4235 0001c060     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4236 0001c070     805f          .word   ANI_SET_WRESTLER_XFLIP
    4237                    
    4238 0001c080     8075          .word   ANI_STARTATTACK,AT_PUPPET,10
    4239                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    4240 0001c0b0                   LEAPATOPP 8,40,40,40,90000h,TGT_CHEST,40,0,0
    4241 0001c160                   WL      ANI_SET_YVEL,0000h
    4242                    
    4243 0001c190                   WL      4,D3HT3Q+FR1
    4244 0001c1c0     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET_TOSS,33,46,44,38 ;mode,x,y,w,h
    4245 0001c220                   WWL     ANI_WAITHITOPP,4,D3HT3Q+FR1
    4246 0001c260     8028          .word   ANI_ZERO_XZVELS
    4247 0001c270     8007          .word   ANI_ATTACK_OFF
    4248 0001c280                   WL      4,D3HT3Q+FR1
    4249 0001c2b0           divgcont
    4250 0001c2b0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    4251 0001c2f0                   WL      ANI_IFNOTSTATUS2,divgmissed
    4252 0001c320                   WL      ANI_IFBLOCKED,divgmissedb               ;Yes, I hit blocker
    4253                    
    4254 0001c350           divggot_him
    4255                            .ref    MAKE_HIM_SCREAM
    4256 0001c350                   WL      ANI_CODE,MAKE_HIM_SCREAM
    4257 0001c380                   WL      ANI_CODE,DO_GRUNT
    4258 0001c3b0     807a          .word   ANI_DRAW_NAME,3
    4259 0001c3d0                   WL      ANI_CODE,CALL_SPECIAL_MOVE
    4260                    
    4261 0001c400     8012          .word   ANI_ATTACHZ,0,0,2               ;x & y don't matter.
    4262 0001c440     8050          .word   ANI_SETOPPMODE,MODE_GHOST
    4263 0001c460     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    4264                    
    4265                    ; attacker sequence
    4266 0001c480                   WWLLW   ANI_SUPERSLAVE2,4,D3HT3Q+FR1,divgpuppet_tbl,0
    4267 0001c4f0                   WL      ANI_CODE,SMALL_BOUNCE
    4268                    ;       .word   ANI_WAITHITGND
    4269 0001c520                   WWLLW   ANI_SUPERSLAVE2,4,D3HT3Q+FR2,divgpuppet_tbl,1
    4270 0001c590                   WWLLW   ANI_SUPERSLAVE2,4,D3HT3Q+FR3,divgpuppet_tbl,2
    4271 0001c600                   WWLLW   ANI_SUPERSLAVE2,4,D3HT3Q+FR4,divgpuppet_tbl,3
    4272 0001c670     8074          .WORD   ANI_ADD_MOVE,MOVE_C_1,2,2
    4273 0001c6b0                   WWWL    ANI_IFROPE,RC_BACK,XTOSSDIST_CLOSE,divgthrow_him_out
    4274 0001c700                   WWLLW   ANI_SUPERSLAVE2,4,D3HT3Q+FR5,divgpuppet_tbl,4
    4275 0001c770                   WWLLW   ANI_SUPERSLAVE2,4,D3HT3Q+FR6,divgpuppet_tbl,5
    4276 0001c7e0                   WWLLW   ANI_SUPERSLAVE2,4,D3HT3Q+FR7,divgpuppet_tbl,6
    4277 0001c850                   WWLLW   ANI_SUPERSLAVE2,1,D3HT3Q+FR8,divgpuppet_tbl,7
    4278                    
    4279                            ;impact
    4280 0001c8c0                   WL      ANI_CODE,HIT_THE_MAT
    4281 0001c8f0     8037          .word   ANI_SHAKEALL,2
    4282 0001c910     801f          .word   ANI_SHAKER,30
    4283 0001c930     8042          .word   ANI_DAMAGEOPP,D_HIPTOSS,RD_HIPTOSS
    4284                    
    4285 0001c960                   WL      ANI_SLAVEANIM,divgrollout_tbl
    4286                    
    4287 0001c990     8051          .word   ANI_CLROPPMODE,MODE_GHOST
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   81

    4288 0001c9b0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    4289                    
    4290 0001c9d0     800a          .word   ANI_DETACH
    4291                    
    4292 0001c9e0                   WL      10,D3HT3Q+FR8
    4293 0001ca10                   WL      3,D3HT3Q+FR7
    4294 0001ca40                   WL      3,D3HT3Q+FR6
    4295                    
    4296 0001ca70     8022          .word   ANI_FACEDOWN
    4297 0001ca80     801b          .word   ANI_SETFACING
    4298 0001ca90     8002          .word   ANI_SETMODE,MODE_NORMAL
    4299 0001cab0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4300 0001cad0     8049          .word   ANI_END
    4301                    
    4302 0001cae0           divgmissedb
    4303                    ;       WL      ANI_CODE,ck_hiptoss
    4304                    ;       WL      ANI_IFNOTSTATUS2,divggot_him
    4305                    
    4306 0001cae0                   WL      10,D3HT3Q+FR1
    4307                    ;Delay longer if 2nd hiptoss in quick succession!
    4308 0001cb10                   WL      ANI_CODE,hiptoss_delay
    4309 0001cb40                   WL      ANI_IFNOTSTATUS2,divgmissed
    4310 0001cb70                   WL      24,D3HT3Q+FR1
    4311 0001cba0           divgmissed
    4312 0001cba0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4313                    
    4314 0001cbc0                   WL      8,D3HT3Q+FR1
    4315                    
    4316 0001cbf0     8022          .word   ANI_FACEDOWN
    4317 0001cc00     801b          .word   ANI_SETFACING
    4318 0001cc10     8002          .word   ANI_SETMODE,MODE_NORMAL
    4319 0001cc30     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4320 0001cc50     8049          .word   ANI_END
    4321                    
    4322                    ; SUBR  ck_hiptoss
    4323                    ;;Check to see if guy I just tried to hip toss has safe time
    4324                    ;;or is pulling down & away
    4325                    ;
    4326                    ;       move    *a13(WHOIHIT),a0,L
    4327                    ;       move    *a0(SAFE_TIME),a14
    4328                    ;       jrnz    divgano
    4329                    ;
    4330                    ;;If stick is down & away - skip toss
    4331                    ;       move    *a0(STICK_VAL_CUR),a14
    4332                    ;       andi    0ch,a14
    4333                    ;       jrz     divgok
    4334                    ;       move    *a0(NEW_FACING_DIR),a1
    4335                    ;       andi    0ch,a1
    4336                    ;       cmp     a14,a1
    4337                    ;       jrz     divgok
    4338                    ;
    4339                    ;       move    *a0(STICK_VAL_CUR),a14
    4340                    ;       cmpi    4,a1
    4341                    ;       jrz     divgfclft
    4342                    ;       cmpi    06H,a14
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   82

    4343                    ;       jrnz    divgok
    4344                    ;;Pulling down & away!
    4345                    ;;Don't allow hiptoss
    4346                    ;divgano        move    *a13(ANIMODE),a1
    4347                    ;       ori     MODE_STATUS2,a1
    4348                    ;       move    a1,*a13(ANIMODE)
    4349                    ;       rets
    4350                    ;
    4351                    ;divgfclft      cmpi    0aH,a14
    4352                    ;       jrz     divgano
    4353                    ;
    4354                    ;divgok move    *a13(ANIMODE),a1
    4355                    ;       andni   MODE_STATUS2,a1
    4356                    ;       move    a1,*a13(ANIMODE)
    4357                    ;       rets
    4358                    
    4359 0001cc60            SUBR   hiptoss_delay
    4360                    
    4361 0001cc60     b7ae          move    *a13(LAST_HIPTOSS),a14,L
         0001cc70     0d10  
    4362 0001cc80     07a0          move    @PCNT,a0,L                      ;use 32-bit PCNT!
         0001cc90 00000000! 
    4363 0001ccb0     b20d          move    a0,*a13(LAST_HIPTOSS),L
         0001ccc0     0d10  
    4364 0001ccd0     45c0          sub     a14,a0
    4365 0001cce0     0b40          cmpi    3*60,a0
         0001ccf0     ff4b  
    4366 0001cd00     c508          jrge    divgoka
    4367                    
    4368                    ;This blocked fling attempt is too close (in terms of time) to most recent grab
    4369 0001cd10     b5a1          move    *a13(ANIMODE),a1
         0001cd20     0660  
    4370 0001cd30     0ba1          ori     MODE_STATUS2,a1
         0001cd40 00000200  
    4371 0001cd60     b02d          move    a1,*a13(ANIMODE)
         0001cd70     0660  
    4372 0001cd80     0960          rets
    4373                    
    4374 0001cd90     b5a1  divgoka move    *a13(ANIMODE),a1
         0001cda0     0660  
    4375 0001cdb0     0b81          andni   MODE_STATUS2,a1
         0001cdc0 00000200  
    4376 0001cde0     b02d          move    a1,*a13(ANIMODE)
         0001cdf0     0660  
    4377 0001ce00     0960          rets
    4378                    
    4379 0001ce10           divgthrow_him_out
    4380 0001ce10                   WLLL    ANI_ATTACHVEL,-0a0000h,90000h,0h                ;x,y,z
    4381 0001ce80                   WL      ANI_CODE,CALL_THROWN_OUT
    4382 0001ceb0                   WL      ANI_SLAVEANIM,divgflyout_tbl
    4383 0001cee0                   WL      ANI_OPPOFFSET,release_table
    4384 0001cf10     800a          .word   ANI_DETACH
    4385 0001cf20                   wl      3,D3HT3Q+FR5
    4386 0001cf50                   WL      3,D3HT3Q+FR6
    4387 0001cf80                   WL      3,D3HT3Q+FR7
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   83

    4388 0001cfb0                   WL      3,D3HT3Q+FR8
    4389 0001cfe0     8037          .word   ANI_SHAKEALL,2
    4390 0001d000     801f          .word   ANI_SHAKER,15
    4391                    
    4392 0001d020                   WL      3,D3HT3Q+FR8
    4393 0001d050                   WL      3,D3HT3Q+FR7
    4394 0001d080                   WL      3,D3HT3Q+FR6
    4395                    
    4396 0001d0b0     8022          .word   ANI_FACEDOWN
    4397 0001d0c0     801b          .word   ANI_SETFACING
    4398 0001d0d0     8002          .word   ANI_SETMODE,MODE_NORMAL
    4399 0001d0f0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4400 0001d110     8049          .word   ANI_END
    4401                    
    4402 0001d120           release_table
    4403                            ;       X Y
    4404 0001d120     0028          .word   40,24           ;Bret
    4405 0001d140     0020          .word   32,8            ;Razor
    4406 0001d160     0020          .word   32,20           ;Taker
    4407 0001d180     0020          .word   32,16           ;Yokozuna
    4408 0001d1a0     001c          .word   28,12           ;Shawn
    4409 0001d1c0     0010          .word   16,8            ;BamBam
    4410 0001d1e0     0020          .word   32,16           ;Doink
    4411 0001d200     0000          .word   0,0             ;Adam
    4412 0001d220     0020          .word   32,16           ;Lex
    4413                    
    4414 0001d240           divgflyout_tbl
    4415 0001d240                   REFLONG hrt_flyout_anim
    4416 0001d260                   REFLONG rzr_flyout_anim
    4417 0001d280                   REFLONG und_flyout_anim
    4418 0001d2a0                   REFLONG yok_flyout_anim
    4419 0001d2c0                   REFLONG shn_flyout_anim
    4420 0001d2e0                   REFLONG bam_flyout_anim
    4421 0001d300                   REFLONG dnk_flyout_anim
    4422 0001d320 00000000          .long   0
    4423 0001d340                   REFLONG lex_flyout_anim
    4424                    
    4425                    
    4426 0001d360            SUBR   dnk_4_combo_hiptoss_anim
    4427                    
    4428 0001d360     8062          .word   ANI_SET_RPTCOUNT,4      ;5 times
    4429 0001d380           re_enter_combo_hiptoss
    4430 0001d380     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4431 0001d3a0     8003          .word   ANI_ZEROVELS
    4432 0001d3b0     8026          .word   ANI_SETSPEED,100h
    4433                    
    4434 0001d3d0     8075          .word   ANI_STARTATTACK,AT_PUPPET,2
    4435                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    4436 0001d400                   LEAPATOPP 8,40,40,40,90000h,TGT_CHEST,40,0,0
    4437 0001d4b0                   WL      ANI_SET_YVEL,0000h
    4438                    
    4439 0001d4e0                   WL      2,D3HT3Q+FR1
    4440 0001d510     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,33,0,44,60 ;mode,x,y,w,h
    4441 0001d570                   WWL     ANI_WAITHITOPP,6,D3HT3Q+FR1
    4442 0001d5b0     8028          .word   ANI_ZERO_XZVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   84

    4443 0001d5c0                   WWL     ANI_WAITHITOPP,4,D3HT3Q+FR1
    4444 0001d600     8007          .word   ANI_ATTACK_OFF
    4445 0001d610     8061          .word   ANI_CLR_BUTCOUNT
    4446                    
    4447 0001d620                   WL      ANI_IFNOTSTATUS2,divgmissedc
    4448 0001d650                   WL      ANI_IFBLOCKED,divgmissedbc              ;Yes, I hit blocker
    4449                    
    4450                    ;got him
    4451                    
    4452 0001d680     8072          .WORD   ANI_INC_COMBO
    4453                    
    4454 0001d690     8012          .word   ANI_ATTACHZ,0,0,10              ;x & y don't matter.
    4455 0001d6d0     8050          .word   ANI_SETOPPMODE,MODE_GHOST
    4456 0001d6f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    4457                    
    4458                    ; attacker sequence
    4459 0001d710                   WWLLW   ANI_SUPERSLAVE2,3,D3HT3Q+FR1,divgpuppet_tbl,0
    4460 0001d780     800b          .word   ANI_WAITHITGND
    4461 0001d790                   WWLLW   ANI_SUPERSLAVE2,3,D3HT3Q+FR2,divgpuppet_tbl,1
    4462 0001d800                   WWLLW   ANI_SUPERSLAVE2,3,D3HT3Q+FR3,divgpuppet_tbl,2
    4463 0001d870                   WWLLW   ANI_SUPERSLAVE2,3,D3HT3Q+FR4,divgpuppet_tbl,3
    4464 0001d8e0                   WWWL    ANI_IFROPE,RC_BACK,XTOSSDIST_CLOSE,divgthrow_him_out_c
    4465 0001d930                   WWLLW   ANI_SUPERSLAVE2,3,D3HT3Q+FR5,divgpuppet_tbl,4
    4466 0001d9a0                   WWLLW   ANI_SUPERSLAVE2,3,D3HT3Q+FR6,divgpuppet_tbl,5
    4467 0001da10                   WWLLW   ANI_SUPERSLAVE2,3,D3HT3Q+FR7,divgpuppet_tbl,6
    4468 0001da80                   WWLLW   ANI_SUPERSLAVE2,1,D3HT3Q+FR8,divgpuppet_tbl,7
    4469                    
    4470                            ;impact
    4471 0001daf0                   WL      ANI_CODE,HIT_THE_MAT
    4472 0001db20     8037          .word   ANI_SHAKEALL,2
    4473 0001db40     801f          .word   ANI_SHAKER,30
    4474 0001db60     8042          .word   ANI_DAMAGEOPP,D_HIPTOSS,RD_HIPTOSS
    4475                    
    4476 0001db90                   WL      ANI_SLAVEANIM,divgrollout_tbl
    4477                    
    4478 0001dbc0     8051          .word   ANI_CLROPPMODE,MODE_GHOST
    4479                    
    4480 0001dbe0                   WLLL    ANI_SETOPPVELS,0,80000h,0h              ;x,y,z vels
    4481                    
    4482 0001dc50     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    4483                    
    4484 0001dc70     800a          .word   ANI_DETACH
    4485                    
    4486                    ;       WL      15,D3HT3Q+FR8
    4487 0001dc80                   WL      4,D3HT3Q+FR8
    4488 0001dcb0                   WL      4,D3HT3Q+FR7
    4489 0001dce0                   WL      4,D3HT3Q+FR6
    4490                    
    4491 0001dd10     8022          .word   ANI_FACEDOWN
    4492 0001dd20     801b          .word   ANI_SETFACING
    4493                    
    4494 0001dd30     8063          .word   ANI_DEC_RPTCOUNT
    4495 0001dd40                   WL      ANI_IFNOT_RPTCOUNT,CHECK_FOR_NEXT
    4496 0001dd70                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,divgNEXT_CHECK
    4497 0001ddc0                   WL      ANI_GOTO,yes_do_combo_again
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   85

    4498                    
    4499 0001ddf0           CHECK_FOR_NEXT
    4500 0001ddf0                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,divgNEXT_CHECK
    4501 0001de40     8063          .word   ANI_DEC_RPTCOUNT
    4502 0001de50                   WL      ANI_IF_RPTCOUNT,yes_do_combo_again
    4503 0001de80                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,divgNEXT_CHECK2A
    4504 0001ded0     8072          .WORD   ANI_INC_COMBO
    4505 0001dee0                   WL      ANI_CODE,DO_COMBO_MESS
    4506 0001df10     8073          .WORD   ANI_CLEAR_COMBO
    4507 0001df20     806c          .word   ANI_IMMOBILIZE,120
    4508 0001df40                   WL      4,D3HT3Q+FR6
    4509 0001df70     800c          .WORD   ANI_XFLIP
    4510 0001df80                   WL      ANI_CHANGEANIM,dnk_2_stomp_anim
    4511                    
    4512 0001dfb0           divgNEXT_CHECK2A
    4513 0001dfb0                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,divgNEXT_CHECK
    4514 0001e000     800c          .WORD   ANI_XFLIP
    4515 0001e010                   WL      ANI_CHANGEANIM,dnk_combo_hammer_anim
    4516                    
    4517 0001e040           divgNEXT_CHECK
    4518 0001e040                   WL      ANI_CODE,DO_COMBO_MESS
    4519 0001e070     8073          .WORD   ANI_CLEAR_COMBO
    4520 0001e080     8002          .word   ANI_SETMODE,MODE_NORMAL
    4521                    
    4522 0001e0a0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4523 0001e0c0     8049          .word   ANI_END
    4524                    
    4525 0001e0d0           yes_do_combo_again
    4526 0001e0d0     800c          .WORD   ANI_XFLIP
    4527 0001e0e0                   WL      ANI_CHANGEANIM,re_enter_combo_hiptoss
    4528                    
    4529 0001e110           divgmissedbc
    4530 0001e110                   WL      10,D3HT3Q+FR1
    4531 0001e140           divgmissedc
    4532 0001e140                   WL      ANI_CODE,DO_COMBO_MESS
    4533 0001e170     8073          .WORD   ANI_CLEAR_COMBO
    4534                    
    4535 0001e180                   WL      20,D3HT3Q+FR1
    4536                    
    4537 0001e1b0     8022          .word   ANI_FACEDOWN
    4538 0001e1c0     801b          .word   ANI_SETFACING
    4539 0001e1d0     8002          .word   ANI_SETMODE,MODE_NORMAL
    4540 0001e1f0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4541 0001e210     8049          .word   ANI_END
    4542                    
    4543                    
    4544 0001e220           divgthrow_him_out_c
    4545 0001e220                   WLLL    ANI_ATTACHVEL,-090000h,90000h,0h                ;x,y,z
    4546 0001e290                   WL      ANI_CODE,CALL_THROWN_OUT
    4547 0001e2c0                   WL      ANI_SLAVEANIM,divgflyout_tbl
    4548 0001e2f0                   WL      ANI_OPPOFFSET,release_table
    4549 0001e320                   WL      ANI_CODE,DO_COMBO_MESS
    4550 0001e350     8073          .WORD   ANI_CLEAR_COMBO
    4551 0001e360     800a          .word   ANI_DETACH
    4552 0001e370                   wl      3,D3HT3Q+FR5
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   86

    4553 0001e3a0                   WL      4,D3HT3Q+FR6
    4554 0001e3d0                   WL      4,D3HT3Q+FR7
    4555 0001e400                   WL      4,D3HT3Q+FR8
    4556                    
    4557                    ;       .word   ANI_SOUND,0C1h                  ;plywood crash divg3
    4558 0001e430     8037          .word   ANI_SHAKEALL,2
    4559 0001e450     801f          .word   ANI_SHAKER,10
    4560                    
    4561 0001e470     8002          .word   ANI_SETMODE,MODE_NORMAL
    4562 0001e490     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4563 0001e4b0     8049          .word   ANI_END
    4564                    
    4565                    
    4566 0001e4c0           divgpuppet_tbl
    4567 0001e4c0 0001e5e0'  .long divgBret
    4568 0001e4e0 0001e880'  .long divgRazor
    4569 0001e500 0001eb20'  .long divgTaker
    4570 0001e520 0001edc0'  .long divgYokozuna
    4571 0001e540 0001f060'  .long divgShawn
    4572 0001e560 0001f300'  .long divgBamBam
    4573 0001e580 0001f5a0'  .long divgDoink
    4574 0001e5a0 0001f840'  .long divgAdam
    4575 0001e5c0 0001f860'  .long divgLex
    4576                    
    4577 0001e5e0           divgBret
    4578                            .ref    H2AH3A,H3FR3A,H2CP3A,H2AM3A
    4579 0001e5e0            LWWW H2AH3A+FR5,72,10,0
    4580 0001e630            LWWW H2AM3A+FR1,58,17,0
    4581 0001e680            LWWW H2AM3A+FR7,47,8,0
    4582 0001e6d0            LWWW H3FR3A+FR2,29,25,0
    4583 0001e720            LWWW H3FR3A+FR3,14,59,0
    4584 0001e770            LWWW H3FR3A+FR4,-26,62,0
    4585 0001e7c0            LWWW H3FR3A+FR5,-75,-6,0
    4586 0001e810            LWWW H2CP3A+FR8,-149,-47,1
    4587 0001e860 00000000   .long 0
    4588 0001e880           divgRazor
    4589                            .ref    R3TD3A,R3GU2A
    4590 0001e880            LWWW R3TD3A+FR1,56,6,0
    4591 0001e8d0            LWWW R3TD3A+FR3,45,6,0
    4592 0001e920            LWWW R3TD3A+FR4,37,19,0
    4593 0001e970            LWWW R3TD3A+FR5,36,47,0
    4594 0001e9c0            LWWW R3TD3A+FR6,15,62,0
    4595 0001ea10            LWWW R3TD3A+FR7,-25,65,0
    4596 0001ea60            LWWW R3TD3A+FR8,-73,9,0
    4597 0001eab0            LWWW R3GU2A+FR1,-155,-43,1
    4598 0001eb00 00000000   .long 0
    4599 0001eb20           divgTaker
    4600                            .ref    U3AE4A,U4AM4C,U3FH3A,U3CP3B
    4601 0001eb20            LWWW U3AE4A+FR1,73,22,0
    4602 0001eb70            LWWW U4AM4C+FR4,52,18,0        ;15
    4603 0001ebc0            LWWW U3FH3A+FR1,55,20,1        ;15
    4604 0001ec10            LWWW U3FH3A+FR2,32,45,1        ;40
    4605 0001ec60            LWWW U3FH3A+FR3,18,60,1        ;54
    4606 0001ecb0            LWWW U3FH3A+FR4,-30,68,1       ;63
    4607 0001ed00            LWWW U3FH3A+FR5,-92,18,1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   87

    4608 0001ed50            LWWW U3CP3B+FR1,-175,-40,1
    4609 0001eda0 00000000   .long 0
    4610 0001edc0           divgYokozuna
    4611                            .ref    Y4AE4A,Y3FL3W,Y3FD3A,Y3MS3Z
    4612 0001edc0            LWWW Y4AE4A+FR1,81,10,0
    4613 0001ee10            LWWW Y3MS3Z+FR2,56,18,0
    4614 0001ee60            LWWW Y3FL3W+FR3,36,24,0
    4615 0001eeb0            LWWW Y3FL3W+FR4,37,55,0
    4616 0001ef00            LWWW Y3FL3W+FR5,17,68,0
    4617 0001ef50            LWWW Y3FL3W+FR6,-43,68,0
    4618 0001efa0            LWWW Y3FL3W+FR7,-90,11,0
    4619 0001eff0            LWWW Y3FD3A+FR7,-130,-17,0
    4620 0001f040 00000000   .long 0
    4621 0001f060           divgShawn
    4622                            .ref    S3OS3X
    4623 0001f060            LWWW S3OS3X+FR2,58,7,1
    4624 0001f0b0            LWWW S3OS3X+FR4,27,18,1
    4625 0001f100            LWWW S3OS3X+FR5,22,16,1
    4626 0001f150            LWWW S3OS3X+FR6,26,64,1
    4627 0001f1a0            LWWW S3OS3X+FR7,20,79,1
    4628 0001f1f0            LWWW S3OS3X+FR8,-13,78,1
    4629 0001f240            LWWW S3OS3X+FR9,-98,20,1
    4630 0001f290            LWWW S3OS3X+FR10,-144,-38,1
    4631 0001f2e0 00000000   .long 0
    4632 0001f300           divgBamBam
    4633                            .ref    B4TD3B
    4634 0001f300            LWWW B4TD3B+FR1,53,2,0
    4635 0001f350            LWWW B4TD3B+FR3,39,4,0
    4636 0001f3a0            LWWW B4TD3B+FR4,42,16,0
    4637 0001f3f0            LWWW B4TD3B+FR5,33,59,0
    4638 0001f440            LWWW B4TD3B+FR6,23,88,0
    4639 0001f490            LWWW B4TD3B+FR7,-28,73,0
    4640 0001f4e0            LWWW B4TD3B+FR8,-68,16,0
    4641 0001f530            LWWW B4TD3B+FR9,-117,-28,0
    4642 0001f580 00000000   .long 0
    4643 0001f5a0           divgDoink
    4644 0001f5a0            LWWW D3AE3B+FR8,69,8,0
    4645 0001f5f0            LWWW D3PM4C+FR2,37,7,0
    4646 0001f640            LWWW D3OS3A+FR1,56,10,0
    4647 0001f690            LWWW D3OS3A+FR3,37,26,0
    4648 0001f6e0            LWWW D3OS3A+FR4,23,41,0
    4649 0001f730            LWWW D3OS3A+FR6,-23,52,0
    4650 0001f780            LWWW D3FD3E+FR2,-73,-18,0
    4651 0001f7d0            LWWW D3SA3A+FR2,-137,-40,1
    4652 0001f820 00000000   .long 0
    4653 0001f840           divgAdam
    4654 0001f840 00000000   .long 0
    4655 0001f860           divgLex
    4656                            .ref    L4AM4B,L3FH3A,L3CP3B
    4657 0001f860            LWWW L4AM4B+FR3,64,-10,0
    4658 0001f8b0            LWWW L3FH3A+FR1,46,14,0
    4659 0001f900            LWWW L3FH3A+FR2,42,14,0        ;8
    4660 0001f950            LWWW L3FH3A+FR3,31,35,0
    4661 0001f9a0            LWWW L3FH3A+FR4,24,46,0
    4662 0001f9f0            LWWW L3FH3A+FR5,-15,49,0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   88

    4663 0001fa40            LWWW L3FH3A+FR6,-69,1,0
    4664 0001fa90            LWWW L3CP3B+FR1,-152,-39,1
    4665 0001fae0 00000000   .long 0
    4666                    
    4667                    
    4668 0001fb00           divgrollout_tbl
    4669 0001fb00 00000000!         .long   hrt_tossed_anim,rzr_tossed_anim
    4670 0001fb40 00000000!         .long   und_tossed_anim
    4671 0001fb60 00000000!         .long   yok_tossed_anim
    4672 0001fb80 00000000!         .long   shn_tossed_anim,bam_tossed_anim
    4673 0001fbc0 0001fc20'         .long   dnk_tossed_anim,0,lex_tossed_anim
    4674                    
    4675                            .ref    hrt_tossed_anim,rzr_tossed_anim
    4676                            .ref    und_tossed_anim
    4677                            .ref    yok_tossed_anim
    4678                            .ref    shn_tossed_anim,bam_tossed_anim
    4679                            .ref    lex_tossed_anim
    4680                    
    4681                    ;divgrollout_tbl
    4682                    ;       REFLONG und_tossed_anim
    4683                    ;       REFLONG yok_tossed_anim
    4684                    ;       REFLONG shn_tossed_anim,bam_tossed_anim
    4685                    ;       REFLONG dnk_tossed_anim
    4686                    ;       .long   0
    4687                    ;       REFLONG lex_tossed_anim
    4688                    
    4689                    ;FIX!!  Make throw out of ring if close to ropes
    4690                    *****************************************************************************
    4691                    *
    4692                    * FLIP/FALL FROM HIPTOSS
    4693                    
    4694 0001fc20            SUBR   dnk_tossed_anim
    4695                    
    4696 0001fc20     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    4697 0001fc40     8026          .word   ANI_SETSPEED,100h
    4698                    
    4699 0001fc60                   WL      ANI_CODE,ckzpos
    4700                    
    4701 0001fc90     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    4702                    
    4703 0001fcb0     805e          .word   ANI_DEBRIS,100,1,0,8,0          ;%chance, tbl index, x,y,z off
    4704 0001fd10     8034          .word   ANI_GETUP,STAY_TIME
    4705 0001fd30                   WL      ANI_CODE,HIT_THE_MAT
    4706 0001fd60                   WLW     ANI_SET_XVEL,20000h,AM_HIT_REL
    4707 0001fda0                   WL      ANI_SET_YVEL,30000h
    4708 0001fdd0                   WL      4,D3SA3A+FR3
    4709                    ;       WL      ANI_SET_YVEL,30000h
    4710                    ;       WL      3,D3SA3A+FR3
    4711 0001fe00                   WL      4,D3SA3A+FR4
    4712 0001fe30                   WL      4,D3SA3A+FR5
    4713 0001fe60                   WL      4,D3SA3A+FR7
    4714 0001fe90                   WL      4,D3SA3A+FR8
    4715 0001fec0                   WL      1,D3SA3A+FR9
    4716 0001fef0     800b          .word   ANI_WAITHITGND
    4717 0001ff00                   WL      ANI_CODE,SMALL_BOUNCE
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   89

    4718 0001ff30     8003          .word   ANI_ZEROVELS
    4719                    
    4720                    ;       WL      3,D3SA3A+FR3
    4721                    ;       WL      3,D3SA3A+FR4
    4722                    ;       WL      3,D3SA3A+FR5
    4723                    ;       WL      3,D3SA3A+FR7
    4724                    ;       WL      3,D3SA3A+FR8
    4725                    
    4726 0001ff40                   WL      3,D3SA3A+FR9
    4727                    
    4728 0001ff70     8054          .word   ANI_WAITROLL
    4729 0001ff80                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    4730                    
    4731                    ;FIX!!  Make throw out of ring if close to ropes
    4732                    *****************************************************************************
    4733                    *
    4734                    * FLIP/FALL FROM BAM BAM DUCK TOSS
    4735                    
    4736 0001ffb0            SUBR   dnk_tossed2_anim
    4737                    
    4738 0001ffb0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    4739 0001ffd0     8026          .word   ANI_SETSPEED,100h
    4740                    
    4741 0001fff0                   WL      ANI_CODE,ckzpos
    4742                    
    4743 00020020                   WLW     ANI_SET_XVEL,60000h,AM_HIT_REL
    4744 00020060                   WL      ANI_SET_YVEL,30000h
    4745 00020090     8015          .word   ANI_OFFSET,20,20,0                      ;x,y,z
    4746 000200d0                   WL      4,D3OS3A+FR6
    4747 00020100     800b          .word   ANI_WAITHITGND
    4748 00020110     8003          .word   ANI_ZEROVELS
    4749 00020120                   WL      ANI_CODE,HIT_THE_MAT
    4750 00020150     8037          .word   ANI_SHAKEALL,2
    4751 00020170     801f          .word   ANI_SHAKER,30
    4752 00020190     8034          .word   ANI_GETUP,STAY_TIME
    4753 000201b0     8038          .word   ANI_DAMAGE,D_HIPTOSS
    4754                    
    4755 000201d0                   WL      3,D3FD3E+FR2
    4756 00020200     800c          .word   ANI_XFLIP
    4757 00020210     8015          .word   ANI_OFFSET,20,0,0                       ;x,y,z
    4758 00020250                   WL      3,D3SA3A+FR9
    4759                    
    4760 00020280                   WLW     ANI_SET_XVEL,20000h,AM_HIT_REL
    4761 000202c0                   WL      ANI_SET_YVEL,50000h
    4762 000202f0                   WL      3,D3SA3A+FR3
    4763 00020320                   WL      3,D3SA3A+FR4
    4764 00020350                   WL      3,D3SA3A+FR5
    4765 00020380                   WL      3,D3SA3A+FR7
    4766 000203b0                   WL      3,D3SA3A+FR8
    4767 000203e0                   WL      3,D3SA3A+FR9
    4768                    
    4769 00020410     800b          .word   ANI_WAITHITGND
    4770 00020420                   WL      ANI_CODE,SMALL_BOUNCE
    4771 00020450     8003          .word   ANI_ZEROVELS
    4772                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   90

    4773 00020460                   WL      3,D3SA3A+FR9
    4774 00020490           imeudone
    4775 00020490     8054          .word   ANI_WAITROLL
    4776 000204a0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    4777                    
    4778                    
    4779                    ************
    4780                    *
    4781                    * cvdy4 PUSH
    4782                    
    4783 000204d0            SUBR   dnk_4_push_anim
    4784                    
    4785 000204d0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4786 000204f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    4787 00020510                   WL      ANI_SETFLAG,M_PUSH
    4788 00020540     8003          .word   ANI_ZEROVELS
    4789 00020550     8026          .word   ANI_SETSPEED,100h
    4790 00020570     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4791 00020580     805f          .word   ANI_SET_WRESTLER_XFLIP
    4792                    
    4793 00020590     8075          .word   ANI_STARTATTACK,AT_PUSH,9
    4794 000205c0                   WL      3,D4PS3A+FR1
    4795 000205f0                   WL      3,D4PS3A+FR2
    4796 00020620                   WL      3,D4PS3A+FR3
    4797 00020650     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4798 00020670     8006          .word   ANI_ATTACK_ON, AMODE_PUSH,37,88,63,9 ;mode,x,y,w,h
    4799 000206d0                   WL      3,D4PS3A+FR4
    4800 00020700     8007          .word   ANI_ATTACK_OFF
    4801                    
    4802 00020710                   WWL     ANI_SLIDE_BACK,40h,-70000h,cvdyno_hit   ;range,vel,addr
    4803 00020770                   WL      15,D4PS3A+FR4
    4804 000207a0           cvdyno_hit
    4805 000207a0                   WL      3,D4PS3A+FR4
    4806                    
    4807 000207d0                   WL      ANI_IFSTATUS2,cvdyhit
    4808                    ;If missed on push, hold a little longer
    4809 00020800                   WL      5,D4PS3A+FR4
    4810 00020830           cvdyhit
    4811 00020830                   WL      3,D4PS3A+FR5
    4812 00020860                   WL      3,D4PS3A+FR6
    4813 00020890                   WL      3,D4PS3A+FR7
    4814                    
    4815 000208c0     8002          .word   ANI_SETMODE,MODE_NORMAL
    4816 000208e0     8049          .word   ANI_END
    4817                    
    4818                    
    4819                    ******************************************************************************
    4820                    *
    4821                    * cvdy2 RUNNING BOUNCE OFF OF OPPONENT
    4822                    
    4823 000208f0            SUBR   dnk_2_bncoff_anim
    4824                    
    4825 000208f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4826 00020910     8026          .word   ANI_SETSPEED,100h
    4827 00020930     8016          .word   ANI_FRICTION,3000h
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   91

    4828                    
    4829 00020950                   WL      3,D2AH2A+FR1
    4830 00020980                   WL      15,D2AH2A+FR2
    4831 000209b0                   WL      4,D2AH2A+FR3
    4832                    
    4833 000209e0     8002          .word   ANI_SETMODE,MODE_NORMAL
    4834 00020a00     8049          .word   ANI_END
    4835                    
    4836                    * cvdy4 RUNNING BOUNCE OFF OF OPPONENT
    4837                    
    4838 00020a10            SUBR   dnk_4_bncoff_anim
    4839                    
    4840 00020a10     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4841 00020a30     8026          .word   ANI_SETSPEED,100h
    4842 00020a50     8016          .word   ANI_FRICTION,3000h
    4843                    
    4844 00020a70                   WL      3,D3AH3B+FR1
    4845 00020aa0                   WL      3,D3AH3B+FR2
    4846 00020ad0                   WL      14,D3AH3B+FR3
    4847 00020b00                   WL      2,D3AH3B+FR5
    4848                    
    4849 00020b30     8002          .word   ANI_SETMODE,MODE_NORMAL
    4850 00020b50     8049          .word   ANI_END
    4851                    
    4852                    
    4853                    * cvdy4 RUNNING BOUNCE OFF OF OPPONENT
    4854                    
    4855                    ;Bounce off but stay dizzy!
    4856                    
    4857 00020b60            SUBR   dnk_4_bncoff_dizzy_anim
    4858                    
    4859 00020b60     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4860 00020b80     8026          .word   ANI_SETSPEED,100h
    4861 00020ba0     8016          .word   ANI_FRICTION,3000h
    4862 00020bc0     8004          .word   ANI_SETPLYRMODE,MODE_DIZZY
    4863                    
    4864 00020be0                   WL      3,D3AH3B+FR1
    4865 00020c10                   WL      3,D3AH3B+FR2
    4866 00020c40                   WL      14,D3AH3B+FR3
    4867 00020c70                   WL      2,D3AH3B+FR5
    4868                    
    4869                    ;       .word   ANI_SETPLYRMODE,MODE_DIZZY
    4870 00020ca0                   WL      ANI_CHANGEANIM,dnk_dizzy_anim
    4871                    
    4872                    ******************************************************************************
    4873                    *
    4874                    * cvdy4 LOSE BALANCE
    4875                    
    4876 00020cd0            SUBR   dnk_4_losebal_anim
    4877                    
    4878 00020cd0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    4879 00020cf0     8016          .word   ANI_FRICTION,3000h
    4880 00020d10     8026          .word   ANI_SETSPEED,100h
    4881                    
    4882 00020d30                   WLW     ANI_SET_XVEL,-60000h,AM_HIT_REL
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   92

    4883                    
    4884 00020d70     805e          .word   ANI_DEBRIS,150,3,-21,100,0      ;%chance, tbl index, x,y,z off
    4885 00020dd0                   WLWWWW  ANI_CREATEPROC,CREATE_SWEAT,0,SPRAYA_SWEAT,SWEAT_PER,0
    4886                    
    4887 00020e40                   WL      3,D4LB4A+FR2
    4888 00020e70                   WL      3,D4LB4A+FR3
    4889 00020ea0                   WL      3,D4LB4A+FR4
    4890 00020ed0                   WL      ANI_CODE,DO_DOINK_PUSH
    4891 00020f00                   WL      3,D4LB4A+FR5
    4892 00020f30                   WL      3,D4LB4B+FR1
    4893 00020f60                   WL      3,D4LB4B+FR2
    4894 00020f90                   WL      3,D4LB4B+FR3
    4895                    
    4896 00020fc0     8022          .word   ANI_FACEDOWN
    4897 00020fd0     8002          .word   ANI_SETMODE,MODE_NORMAL
    4898 00020ff0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    4899 00021010     8049          .word   ANI_END
    4900                    
    4901 00021020            SUBR   dnk_4_losebal_dizzy_anim
    4902                    
    4903 00021020     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    4904 00021040     8016          .word   ANI_FRICTION,3000h
    4905 00021060     8026          .word   ANI_SETSPEED,100h
    4906 00021080     8004          .word   ANI_SETPLYRMODE,MODE_DIZZY
    4907                    
    4908 000210a0                   WLW     ANI_SET_XVEL,-50000h,AM_HIT_REL
    4909                    
    4910 000210e0                   WL      3,D4LB4A+FR2
    4911 00021110                   WL      3,D4LB4A+FR3
    4912 00021140                   WL      3,D4LB4A+FR4
    4913 00021170                   WL      3,D4LB4A+FR5
    4914 000211a0                   WL      3,D4LB4B+FR1
    4915 000211d0                   WL      3,D4LB4B+FR2
    4916 00021200                   WL      3,D4LB4B+FR3
    4917                    
    4918                    ;       .word   ANI_SETPLYRMODE,MODE_DIZZY
    4919 00021230                   WL      ANI_CHANGEANIM,dnk_dizzy_anim
    4920                    
    4921                    *****************************************************************************
    4922                    *
    4923                    * aleq2 BIG BOOT
    4924                    *
    4925                    
    4926 00021260            SUBR   dnk_2_bigboot_anim
    4927                    
    4928 00021260     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4929 00021280     8026          .word   ANI_SETSPEED,100h
    4930 000212a0     8003          .word   ANI_ZEROVELS
    4931                    
    4932 000212b0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4933 000212c0     805f          .word   ANI_SET_WRESTLER_XFLIP
    4934                    
    4935 000212d0     8075          .word   ANI_STARTATTACK,AT_BIGBOOT,9
    4936 00021300                   WL      3,D3SK3X+FR1
    4937 00021330                   WL      3,D3SK3X+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   93

    4938 00021360                   WL      3,D3SK3X+FR3
    4939 00021390                   WL      ANI_CODE,aleqclrcnt
    4940                    
    4941 000213c0     8006          .word   ANI_ATTACK_ON, AMODE_BIGBOOT,57,66,32,46 ;mode,x,y,w,h
    4942 00021420                   WWL     ANI_WAITHITOPP,15,D3SK3X+FR4    ;2
    4943 00021460           aleqlp0
    4944 00021460     8075          .word   ANI_STARTATTACK,AT_BIGBOOT,5
    4945 00021490                   WL      2,D3SK3X+FR4
    4946 000214c0                   WL      ANI_CODE,aleqholdup
    4947 000214f0                   WL      ANI_IFSTATUS2,aleqlp0
    4948                    
    4949 00021520     8007          .word   ANI_ATTACK_OFF
    4950 00021530     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    4951 00021570                   WL      ANI_IFNOTSTATUS2,aleqmissed1
    4952 000215a0     807a          .word   ANI_DRAW_NAME,27
    4953 000215c0           aleqmissed1
    4954 000215c0                   WL      3,D3SK3X+FR5
    4955 000215f0                   WL      3,D3SK3X+FR6
    4956 00021620                   WL      3,D3SK3X+FR7
    4957                    
    4958 00021650     8002          .word   ANI_SETMODE,MODE_NORMAL
    4959 00021670     8049          .word   ANI_END
    4960                    
    4961                    * aleq4 BIG BOOT
    4962                    
    4963 00021680            SUBR   dnk_4_bigboot_anim
    4964                    
    4965 00021680     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    4966 000216a0     8026          .word   ANI_SETSPEED,100h
    4967 000216c0     8003          .word   ANI_ZEROVELS
    4968                    
    4969 000216d0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    4970 000216e0     805f          .word   ANI_SET_WRESTLER_XFLIP
    4971                    
    4972 000216f0     8075          .word   ANI_STARTATTACK,AT_BIGBOOT,9
    4973 00021720                   WL      3,D3SK3X+FR1
    4974 00021750                   WL      3,D3SK3X+FR2
    4975 00021780                   WL      3,D3SK3X+FR3
    4976 000217b0                   WL      ANI_CODE,aleqclrcnt
    4977                    
    4978 000217e0     8006          .word   ANI_ATTACK_ON, AMODE_BIGBOOT,34,78,46,25 ;mode,x,y,w,h
    4979 00021840                   WWL     ANI_WAITHITOPP,15,D3SK3X+FR4    ;2
    4980 00021880           aleqlp
    4981 00021880                   WL      2,D3SK3X+FR4
    4982                    
    4983 000218b0                   WL      ANI_CODE,aleqholdup
    4984 000218e0                   WL      ANI_IFSTATUS2,aleqlp
    4985                    
    4986                    ;       .word   ANI_WAITRELEASE,PLAYER_KICK_BIT
    4987                    
    4988 00021910     8007          .word   ANI_ATTACK_OFF
    4989 00021920     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    4990 00021960                   WL      ANI_IFNOTSTATUS2,aleqmissed2
    4991 00021990     807a          .word   ANI_DRAW_NAME,27
    4992 000219b0           aleqmissed2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   94

    4993                    
    4994 000219b0                   WL      3,D3SK3X+FR5
    4995 000219e0                   WL      3,D3SK3X+FR6
    4996 00021a10                   WL      3,D3SK3X+FR7
    4997 00021a40                   WL      3,D3SK3X+FR8
    4998                       
    4999 00021a70     8002          .word   ANI_SETMODE,MODE_NORMAL
    5000 00021a90     8049          .word   ANI_END
    5001                    
    5002 00021aa0           aleqclrcnt
    5003                    ;We are re-using BUT_COUNT in the player process
    5004 00021aa0     5600          clr     a0
    5005 00021ab0     b00d          move    a0,*a13(BUT_COUNT)
         00021ac0     07c0  
    5006                    
    5007 00021ad0     0960          rets
    5008                    
    5009 00021ae0           aleqholdup
    5010 00021ae0     b5a0          move    *a13(BUT_COUNT),a0
         00021af0     07c0  
    5011 00021b00     1020          inc     a0
    5012 00021b10     b00d          move    a0,*a13(BUT_COUNT)
         00021b20     07c0  
    5013                    
    5014                    ;Max time to hold up in air (*2 ticks)
    5015 00021b30     0b40          cmpi    25,a0
         00021b40     ffe6  
    5016 00021b50     c70c          jrgt    aleqbutton_up
    5017                    
    5018 00021b60     b5a0          move    *a13(BUT_VAL_CUR),a0
         00021b70     0b90  
    5019 00021b80     1f60          btst    PLAYER_SKICK_BIT,a0             ;still down?
    5020 00021b90     ca08          jrz     aleqbutton_up
    5021                    
    5022                    ;Still holding...
    5023                    
    5024 00021ba0     b5a1          move    *a13(ANIMODE),a1
         00021bb0     0660  
    5025 00021bc0     0ba1          ori     MODE_STATUS2,a1
         00021bd0 00000200  
    5026 00021bf0     b02d          move    a1,*a13(ANIMODE)
         00021c00     0660  
    5027 00021c10     0960          rets
    5028                    
    5029 00021c20           aleqbutton_up
    5030 00021c20     b5a1          move    *a13(ANIMODE),a1
         00021c30     0660  
    5031 00021c40     0b81          andni   MODE_STATUS2,a1
         00021c50 00000200  
    5032 00021c70     b02d          move    a1,*a13(ANIMODE)
         00021c80     0660  
    5033 00021c90     0960          rets
    5034                    
    5035                    *****************************************************************************
    5036                    *
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   95

    5037                    * DIZZY
    5038                    
    5039 00021ca0            SUBR   dnk_dizzy_anim
    5040                    
    5041 00021ca0     8002          .word   ANI_SETMODE,MODE_NOAUTOFLIP
    5042 00021cc0     8003          .word   ANI_ZEROVELS
    5043 00021cd0     8026          .word   ANI_SETSPEED,100h
    5044 00021cf0     8039          .word   ANI_START_DIZZY,0       ;0=Standing dizzy
    5045 00021d10     8032          .word   ANI_FACE,MOVE_RIGHT|MOVE_DOWN
    5046                    
    5047 00021d30           vayuloop
    5048 00021d30                   WL      6,D4SW4C+FR1
    5049 00021d60                   WL      6,D4SW4C+FR2
    5050 00021d90                   WL      6,D4SW4C+FR3
    5051 00021dc0                   WL      6,D4SW4C+FR4
    5052 00021df0                   WL      6,D4SW4C+FR5
    5053 00021e20                   WL      6,D4SW4C+FR6
    5054 00021e50                   WL      6,D4SW4C+FR5
    5055 00021e80                   WL      6,D4SW4C+FR4
    5056 00021eb0                   WL      6,D4SW4C+FR3
    5057 00021ee0                   WL      6,D4SW4C+FR2
    5058 00021f10                   WL      ANI_GOTO,vayuloop
    5059                    
    5060                    
    5061                    ****************************************************************************
    5062                    *
    5063                    * PIN OPPONENT AND RAISE ARM IN VICTORY
    5064                    
    5065                    ;Need to have this guy walk toward fallen opponent so he
    5066                    ;can get closer!
    5067                    
    5068                    ;This pin must be started only when opponent is on the ground!
    5069                    
    5070 00021f40            SUBR   dnk_2_pin_anim
    5071                    
    5072 00021f40     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    5073 00021f60     8003          .word   ANI_ZEROVELS
    5074 00021f70     8026          .word   ANI_SETSPEED,100h
    5075                    
    5076                    ;Rotate!
    5077 00021f90                   WL      3,D1TT5Z+FR2
    5078 00021fc0                   WL      3,D1TT5Z+FR3
    5079                    
    5080 00021ff0            SUBR   dnk_4_pin_anim
    5081                    
    5082 00021ff0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    5083 00022010     8003          .word   ANI_ZEROVELS
    5084 00022020     8026          .word   ANI_SETSPEED,100h
    5085                    
    5086                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    5087 00022040                   LEAPATOPP 25,999,80h,50h,90000h,TGT_CHEST|TGT_GROUND,0,57,-15
    5088 000220f0                   WL      ANI_CODE,hit_nearest
    5089                    
    5090 00022120                   WL      3,D4PN5A+FR1
    5091 00022150                   WL      3,D4PN5A+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   96

    5092 00022180     8015          .word   ANI_OFFSET,0,57,0                       ;x,y,z
    5093 000221c0                   WL      21,D4PN5A+FR3   ;19
    5094 000221f0     8003          .word   ANI_ZEROVELS
    5095                    
    5096 00022200                   WLW     ANI_ATTCHIMAGE,D4PN5L+FR4,10            ;image, zoff (priority)
    5097 00022240                   WL      3,D4PN5A+FR4
    5098                    
    5099 00022270                   WL      ANI_CODE,grnd_hit
    5100 000222a0                   WL      ANI_CODE,HIT_THE_MAT
    5101 000222d0     8037          .word   ANI_SHAKEALL,2
    5102                    
    5103 000222f0                   WL      ANI_CODE,DO_CROWD_CHEER
    5104                    
    5105 00022320     800d          .word   ANI_BOUNCE,4
    5106 00022340                   WLW     ANI_ATTCHIMAGE,D4PN5L+FR5,10            ;image, zoff (priority)
    5107 00022380                   WL      4,D4PN5A+FR5
    5108 000223b0     800b          .word   ANI_WAITHITGND
    5109 000223c0                   WL      ANI_CODE,SMALL_BOUNCE
    5110                    
    5111 000223f0                   WL      4,D4PN5A+FR5
    5112 00022420                   WL      ANI_CODE,win_announce
    5113 00022450                   WLW     ANI_ATTCHIMAGE,0,0              ;Turn it off
    5114                    
    5115 00022490                   WL      40,D4PN5A+FR6
    5116                    
    5117 000224c0     802a          .word   ANI_LOOP
    5118 000224d0     800a          .word   ANI_DETACH
    5119                    
    5120                    ;Do another ground hit on opponent
    5121 000224e0                   WL      ANI_CODE,grnd_hit
    5122                    
    5123 00022510                   WL      ANI_SET_YVEL,42000h
    5124 00022540                   WLW     ANI_SET_ZVEL,22000h,AM_ABS
    5125 00022580                   WL      4,D5GD4A+FR1
    5126 000225b0                   WL      4,D5GD4A+FR2
    5127 000225e0     8015          .word   ANI_OFFSET,-10,0,0                      ;x,y,z
    5128 00022620                   WL      6,D3GU4A+FR7
    5129 00022650                   WL      5,D3GU4A+FR8
    5130 00022680     800b          .word   ANI_WAITHITGND
    5131 00022690     8003          .word   ANI_ZEROVELS
    5132 000226a0                   WL      5,D3GU4A+FR9
    5133                    
    5134                    ;       WL      8+10,D5WN5B+FR1
    5135 000226d0                   WL      8-2,D5WN5B+FR2
    5136 00022700                   WL      8-2,D5WN5B+FR3
    5137 00022730                   WL      8-2,D5WN5B+FR4
    5138 00022760                   WL      8-2,D5WN5B+FR5
    5139                    
    5140 00022790           boglloop        WL      6,D5WN5Z+FR1
    5141 000227c0                   WL      6,D5WN5Z+FR2
    5142 000227f0                   WL      6,D5WN5Z+FR3
    5143 00022820                   WL      6,D5WN5B+FR5
    5144                    
    5145                    ;       WL      6,D5WN5Z+FR4
    5146 00022850                   WL      ANI_GOTO,boglloop
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   97

    5147                    
    5148                    
    5149                    ******************************************************************************
    5150                    * RAISE ARM IN VICTORY FROM A STANCE
    5151                    
    5152 00022880            SUBR   dnk_2_raise_arm_anim
    5153                    
    5154 00022880     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    5155 000228a0     8003          .word   ANI_ZEROVELS
    5156 000228b0     8026          .word   ANI_SETSPEED,100h
    5157                    
    5158 000228d0                   WL      ANI_CODE,DO_CROWD_CHEER
    5159 00022900                   WL      ANI_CODE,win_announce
    5160                    
    5161 00022930                   WL      3,D1TT5Z+FR2
    5162 00022960                   WL      3,D1TT5Z+FR3
    5163 00022990                   WL      ANI_GOTO,boglcont
    5164                    
    5165 000229c0            SUBR   dnk_4_raise_arm_anim
    5166                    
    5167 000229c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    5168 000229e0     8003          .word   ANI_ZEROVELS
    5169 000229f0     8026          .word   ANI_SETSPEED,100h
    5170                    
    5171 00022a10                   WL      ANI_CODE,DO_CROWD_CHEER
    5172 00022a40                   WL      ANI_CODE,win_announce
    5173                    
    5174 00022a70           boglcont        WL      6,D5WN5B+FR2
    5175 00022aa0                   WL      6,D5WN5B+FR3
    5176 00022ad0                   WL      6,D5WN5B+FR4
    5177 00022b00                   WL      6,D5WN5B+FR5
    5178                    
    5179 00022b30           boglloop2       WL      6,D5WN5Z+FR1
    5180 00022b60                   WL      6,D5WN5Z+FR2
    5181 00022b90                   WL      6,D5WN5Z+FR3
    5182 00022bc0                   WL      6,D5WN5B+FR5
    5183                    
    5184 00022bf0                   WL      ANI_CODE,check_raisearm_bit
    5185 00022c20                   WL      ANI_IFSTATUS2,boglwakeup
    5186 00022c50                   WL      ANI_GOTO,boglloop2
    5187                    
    5188 00022c80           boglwakeup      ;pinned guy did a buckoff - snap out of it.
    5189 00022c80     8062          .word   ANI_SET_RPTCOUNT,-10    ;set count to rnd from 0 to 10
    5190 00022ca0           boglloop3       WL      6,D5WN5Z+FR1
    5191 00022cd0                   WL      6,D5WN5Z+FR2
    5192 00022d00                   WL      6,D5WN5Z+FR3
    5193 00022d30                   WL      6,D5WN5B+FR5
    5194 00022d60     8063          .word   ANI_DEC_RPTCOUNT
    5195 00022d70                   WL      ANI_IF_RPTCOUNT,boglloop3
    5196 00022da0     8002          .word   ANI_SETMODE,MODE_NORMAL
    5197 00022dc0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    5198 00022de0     8022          .word   ANI_FACEDOWN
    5199 00022df0     8049          .word   ANI_END
    5200                    
    5201                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   98

    5202 00022e00            SUBR   win_announce
    5203                    
    5204 00022e00                   PUSH    a10
    5205 00022e10     4daa          move    a13,a10
    5206 00022e20                   CREATE  ANNC_PID,announce_rnd_winner
    5207                            .if DEBUG
    5208                            move    a13,*a0(PDATA),L        ;boglCREATOR (pdata)
    5209                            movi    $,a14
    5210                            move    a14,*a0(PDATA+20h),L    ;boglORIGIN
    5211                            .endif
    5212 00022ea0     0d5f          CALLA   KILL_PIN_HIM
         00022eb0 00000000! 
    5213 00022ed0                   PULL    a10
    5214                    
    5215 00022ee0     0960          rets
    5216                    
    5217                    
    5218                    ***********************
    5219                    * FOR USE ONLY IN PINS!
    5220                    
    5221 00022ef0            SUBR   grnd_hit
    5222                    
    5223                            ;use CLOSEST instead of WHOIHIT, since you don't actually attack
    5224                            ; during the pins.
    5225                    
    5226                            ;Un! DO use WHOIHIT, as this is set in all the pin_anims before this
    5227                            ; function is called.
    5228                    
    5229 00022ef0                   PUSH    a13
    5230 00022f00     b7ad          move    *a13(WHOIHIT),a13,L
         00022f10     0500  
    5231                    
    5232                    ;       move    *a13(CLOSEST_NUM),a13
    5233                    ;       X32     a13
    5234                    ;       addi    process_ptrs,a13
    5235                    ;       move    *a13,a13,L
    5236                    
    5237 00022f20     b5a0          move    *a13(WRESTLERNUM),a0
         00022f30     0590  
    5238 00022f40     4c01          move    a0,a1
    5239 00022f50     24a0          sll     5,a0
    5240 00022f60     0b20          addi    boglhit_t,a0
         00022f70 00023110' 
    5241 00022f90     8600          move    *a0,a0,L
    5242 00022fa0     0d5f          calla   change_anim1a
         00022fb0 00000000! 
    5243 00022fd0                   PULL    a13
    5244                    
    5245                            ;align on target's z, unless we're taker
    5246 00022fe0     b5a0          move    *a13(WRESTLERNUM),a0
         00022ff0     0590  
    5247 00023000     1440          subk    2,a0
    5248 00023010     ca0e          jrz     boglz
    5249 00023020     b7a0          move    *a13(WHOIHIT),a0,L
         00023030     0500  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   99

    5250                    
    5251                            ;set pinner Z to victim Z+1, then set victim's Z to
    5252 00023040     b60e          move    *a0(OBJ_ZPOS),a14,L
         00023050     0140  
    5253 00023060     0b2e          addi    [1,0],a14
         00023070 00010000  
    5254 00023090     b3cd          move    a14,*a13(OBJ_ZPOS),L
         000230a0     0140  
    5255 000230b0     0d0e          subi    [2,0],a14
         000230c0 fffdffff  
    5256 000230e0     b3c0          move    a14,*a0(OBJ_ZPOS),L
         000230f0     0140  
    5257 00023100     0960  boglz   rets
    5258                    
    5259 00023110           boglhit_t
    5260 00023110 00000000!         .long   hrt_hitonground_anim            ;0 Bret Hart
    5261 00023130 00000000!         .long   rzr_hitonground_anim            ;1 Razor Ramon
    5262 00023150 00000000!         .long   und_hitonground_anim            ;2 Undertaker
    5263 00023170 00000000!         .long   yok_hitonground_anim            ;3 Yokozuna
    5264 00023190 00000000!         .long   shn_hitonground_anim            ;4 Shawn Michaels
    5265 000231b0 00000000!         .long   bam_hitonground_anim            ;5 Bam Bam
    5266 000231d0 000171e0'         .long   dnk_hitonground_anim            ;6 Doink
    5267 000231f0 00000000          .long   0                               ;7 spare
    5268 00023210 00000000!         .long   lex_hitonground_anim            ;8 Lex Luger
    5269                    
    5270                    *****************************************************************************
    5271                    *
    5272                    * GET BUCKED OFF A PINNED OPPONENT
    5273                    
    5274 00023230            SUBR   dnk_buckoff_anim
    5275                    
    5276 00023230     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_NOCOLLIS
    5277 00023250     8026          .word   ANI_SETSPEED,100h
    5278 00023270     8003          .word   ANI_ZEROVELS
    5279                    
    5280 00023280                   WLW     ANI_ATTCHIMAGE,0,0
    5281 000232c0                   WL      4,D4PN5A+FR6
    5282 000232f0                   WL      1,D4PN5A+FR3
    5283 00023320                   WL      ANI_CODE,set_buckoff_vels
    5284 00023350     800b          .word   ANI_WAITHITGND
    5285 00023360     8003          .word   ANI_ZEROVELS
    5286 00023370                   WL      4,D4PN5A+FR4
    5287 000233a0                   WL      10,D4PN5A+FR5
    5288                    
    5289                            ;now stand up
    5290 000233d0                   WL      3,D5GD4A+FR1
    5291 00023400                   WL      3,D5GD4A+FR2
    5292 00023430                   WL      3,D3GU4A+FR7
    5293 00023460                   WL      3,D3GU4A+FR8
    5294 00023490                   WL      3,D3GU4A+FR9
    5295                    
    5296 000234c0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    5297 000234e0     8002          .word   ANI_SETMODE,MODE_NORMAL
    5298 00023500     8049          .word   ANI_END
    5299                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  100

    5300                    **********
    5301                    * Jump toward the center.
    5302                    
    5303 00023510            SUBR   set_buckoff_vels
    5304                    
    5305 00023510     09e0          movi    20000h,a0
         00023520 00020000  
    5306 00023540     b5ae          move    *a13(OBJ_XPOSINT),a14
         00023550     0110  
    5307 00023560     0b4e          cmpi    RING_X_CENTER,a14
         00023570     fbcd  
    5308 00023580     c601          jrle    ljzaxok
    5309 00023590     03a0          neg     a0
    5310 000235a0     b20d  ljzaxok move    a0,*a13(OBJ_XVEL),L
         000235b0     02d0  
    5311                    
    5312 000235c0     09e0          movi    40000h,a0
         000235d0 00040000  
    5313 000235f0     b5ae          move    *a13(OBJ_ZPOSINT),a14
         00023600     0150  
    5314 00023610     0b4e          cmpi    RING_Z_CENTER,a14
         00023620     fb5f  
    5315 00023630     c601          jrle    ljzazok
    5316 00023640     03a0          neg     a0
    5317 00023650     b20d  ljzazok move    a0,*a13(OBJ_ZVEL),L
         00023660     0310  
    5318                    
    5319 00023670     09e0          movi    50000h,a0
         00023680 00050000  
    5320 000236a0     b20d          move    a0,*a13(OBJ_YVEL),L
         000236b0     02f0  
    5321                    
    5322 000236c0     0960          rets
    5323                    
    5324                    *****************************************************************************
    5325                    *
    5326                    * ojge3 CLIMB THROUGH ROPES
    5327                    
    5328 000236d0            SUBR   dnk_climbthru_side_anim
    5329                    
    5330 000236d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_NOCOLLIS
    5331 000236f0     8026          .word   ANI_SETSPEED,100h
    5332 00023710     8003          .word   ANI_ZEROVELS
    5333                    
    5334 00023720                   WL      ANI_CODE,SET_DIR_FACE
    5335 00023750     801b          .word   ANI_SETFACING
    5336 00023760     805f          .WORD   ANI_SET_WRESTLER_XFLIP
    5337                    
    5338 00023770                   WLW     ANI_SET_XVEL,3000h,AM_FACE_REL
    5339 000237b0     8015          .word   ANI_OFFSET,13,0,0
    5340 000237f0                   WL      3,D3CR3D+FR1
    5341 00023820     8025          .word   ANI_BENDROPE,0
    5342 00023840                   WL      2,D3CR3D+FR2
    5343 00023870                   WL      3,D3CR3D+FR3
    5344 000238a0                   WL      2,D3CR3D+FR4
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  101

    5345 000238d0                   WL      3,D3CR3D+FR5
    5346                    
    5347 00023900     8025          .word   ANI_BENDROPE,2
    5348 00023920     8029          .word   ANI_ROPE_Z,R_TOP,RZ_HIGH
    5349 00023950     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_HIGH
    5350                    
    5351 00023980                   WL      2,D3CR3D+FR6
    5352 000239b0     8025          .word   ANI_BENDROPE,2
    5353 000239d0                   WL      3,D3CR3D+FR7
    5354 00023a00                   WL      2,D3CR3D+FR8
    5355 00023a30     8025          .word   ANI_BENDROPE,3
    5356 00023a50     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_HIGH
    5357 00023a80                   WL      3,D3CR3D+FR9
    5358 00023ab0                   WL      2,D3CR3D+FR10
    5359 00023ae0     8003          .word   ANI_ZEROVELS
    5360 00023af0     8025          .word   ANI_BENDROPE,-1
    5361 00023b10     8015          .word   ANI_OFFSET,43,-3,0
    5362 00023b50                   WL      3,D3CR3D+FR11
    5363                    
    5364                            ;now jump off...
    5365 00023b80                   WL      3,D4JD4A+FR1            ;D4FM4A+FR1
    5366 00023bb0                   WL      3,D4JD4A+FR2
    5367                    
    5368 00023be0     807b          .word   ANI_SET_IDIOT
    5369 00023bf0                   WWL     ANI_SETLONG,OBJ_GRAVITY,0E000h
    5370 00023c30                   WL      ANI_SET_YVEL,60000h
    5371                    
    5372 00023c60                   WLW     ANI_SET_XVEL,30000h,AM_FACE_REL
    5373                    
    5374 00023ca0                   WL      3,D4JD4A+FR4
    5375 00023cd0     800b          .word   ANI_WAITHITGND
    5376 00023ce0                   WWL     ANI_SETLONG,OBJ_GRAVITY,GRAVITY
    5377                    
    5378 00023d20     8029          .word   ANI_ROPE_Z,R_TOP,RZ_NORM
    5379 00023d50     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_NORM
    5380 00023d80     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_NORM
    5381                    
    5382 00023db0     8003          .word   ANI_ZEROVELS
    5383 00023dc0                   WL      2,D4JD4A+FR6
    5384 00023df0                   WL      2,D4JD4A+FR7
    5385 00023e20                   WL      4,D4JD4A+FR8
    5386 00023e50                   WL      2,D4JD4A+FR10
    5387 00023e80                   WL      2,D4JD4A+FR11
    5388                    
    5389 00023eb0     8022          .word   ANI_FACEDOWN
    5390 00023ec0     8080          .word   ANI_CLEAR_CLIMB
    5391                    
    5392 00023ed0     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    5393 00023ef0     8049          .word   ANI_END
    5394                    
    5395                    *****************************************************************************
    5396                    
    5397 00023f00            SUBR   dnk_climbin_side_anim
    5398                    
    5399 00023f00     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  102

    5400 00023f20     8026          .word   ANI_SETSPEED,100h
    5401 00023f40     8003          .word   ANI_ZEROVELS
    5402                    
    5403 00023f50                   WL      ANI_CODE,SET_DIR_FACE
    5404 00023f80     801b          .word   ANI_SETFACING
    5405 00023f90     805f          .WORD   ANI_SET_WRESTLER_XFLIP
    5406                    
    5407                            ;jump in
    5408 00023fa0                   WL      3,D4JD4A+FR1
    5409 00023fd0                   WL      3,D4JD4A+FR2
    5410                    
    5411 00024000                   WWL     ANI_SETLONG,OBJ_GRAVITY,0E000h
    5412 00024040                   WL      ANI_CODE,pkndset_trgt
    5413                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    5414 00024070     8027          .word   ANI_LEAPATPOS,14h,200,0,0,0     ;pkndticks,dist,xoff,yoff,zoff
    5415                    
    5416 000240d0                   WL      3,D4JD4A+FR4
    5417 00024100     800b          .word   ANI_WAITHITGND
    5418 00024110                   WWL     ANI_SETLONG,OBJ_GRAVITY,GRAVITY
    5419 00024150     8003          .word   ANI_ZEROVELS
    5420 00024160     8029          .word   ANI_ROPE_Z,R_TOP,RZ_HIGH
    5421 00024190     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_HIGH
    5422 000241c0     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_HIGH
    5423                    
    5424 000241f0                   WL      3,D4JD4A+FR6
    5425 00024220                   WL      2,D4JD4A+FR7
    5426 00024250                   WL      2,D4JD4A+FR11
    5427                    
    5428 00024280                   WLW     ANI_SET_XVEL,3000h,AM_FACE_REL
    5429                    
    5430                            ;climb through
    5431 000242c0                   WL      3,D3CR3D+FR1
    5432 000242f0     8025          .word   ANI_BENDROPE,0
    5433 00024310                   WL      2,D3CR3D+FR2
    5434 00024340                   WL      3,D3CR3D+FR3
    5435 00024370     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_NORM
    5436 000243a0     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_NORM
    5437 000243d0                   WL      2,D3CR3D+FR4
    5438 00024400                   WL      3,D3CR3D+FR5
    5439                    
    5440 00024430     8025          .word   ANI_BENDROPE,2
    5441                    
    5442 00024450                   WL      2,D3CR3D+FR6
    5443 00024480     8025          .word   ANI_BENDROPE,2
    5444 000244a0                   WL      3,D3CR3D+FR7
    5445 000244d0                   WL      2,D3CR3D+FR8
    5446 00024500     8025          .word   ANI_BENDROPE,3
    5447 00024520     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_HIGH
    5448 00024550                   WL      3,D3CR3D+FR9
    5449 00024580                   WL      2,D3CR3D+FR10
    5450 000245b0     8025          .word   ANI_BENDROPE,-1
    5451 000245d0     8015          .word   ANI_OFFSET,43,-3,0
    5452 00024610                   WL      3,D3CR3D+FR11
    5453 00024640     8003          .word   ANI_ZEROVELS
    5454                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  103

    5455 00024650     8015          .word   ANI_OFFSET,-5,0,0
    5456                    ;       WL      ANI_CODE,clr_climb
    5457 00024690     8080          .word   ANI_CLEAR_CLIMB
    5458                    
    5459                            ;done
    5460                    
    5461 000246a0     8029          .word   ANI_ROPE_Z,R_TOP,RZ_NORM
    5462 000246d0     8029          .word   ANI_ROPE_Z,R_MIDDLE,RZ_NORM
    5463 00024700     8029          .word   ANI_ROPE_Z,R_BOTTOM,RZ_NORM
    5464                    
    5465 00024730     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    5466 00024750     8049          .word   ANI_END
    5467                    
    5468 00024760           pkndset_trgt
    5469 00024760     09c0          movi    RING_X_CENTER-0f8h-50,a0                ;Jump onto left side apron
         00024770     0308  
    5470 00024780     b5ae          move    *a13(OBJ_XPOSINT),a14
         00024790     0110  
    5471 000247a0     0b4e          cmpi    RING_X_CENTER,a14
         000247b0     fbcd  
    5472 000247c0     c402          jrlt    pkndonlft
    5473                    ;On right side
    5474 000247d0     09c0          movi    RING_X_CENTER+0f8h+50,a0                ;Jump onto right side apron
         000247e0     055c  
    5475 000247f0           pkndonlft
    5476 000247f0     b00d          move    a0,*a13(TGT_XOFF)
         00024800     02a0  
    5477                    
    5478 00024810     09c0          movi    RING_Z_CENTER,a0
         00024820     04a0  
    5479 00024830     b00d          move    a0,*a13(TGT_ZOFF)
         00024840     02c0  
    5480                    
    5481 00024850     09c0          movi    MAT_Y,a0
         00024860     003e  
    5482 00024870     b00d          move    a0,*a13(TGT_YOFF)
         00024880     02b0  
    5483                    
    5484 00024890     0960          rets
    5485                    
    5486 000248a0            SUBR   SET_DIR_FACE
    5487                    
    5488                            ;this is now used for both climbins and climbouts.  If we're outside,
    5489                            ; use an identical version, but with the a0's switched.
    5490 000248a0     b5ae          move    *a13(INRING),a14
         000248b0     0560  
    5491 000248c0     ca0c          jrz     pkndmethod2
    5492                    
    5493 000248d0     09c0          MOVI    10,A0
         000248e0     000a  
    5494 000248f0     b5ae          move    *a13(OBJ_XPOSINT),a14
         00024900     0110  
    5495 00024910     0b4e          cmpi    RING_X_CENTER,a14
         00024920     fbcd  
    5496 00024930     c402          jrlt    pkndonlft1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  104

    5497 00024940     09c0          MOVI    6,A0
         00024950     0006  
    5498 00024960           pkndonlft1
    5499 00024960     b00d          MOVE    A0,*A13(NEW_FACING_DIR)
         00024970     04d0  
    5500 00024980     0960          RETS
    5501                    
    5502 00024990           pkndmethod2
    5503 00024990     09c0          MOVI    6,A0
         000249a0     0006  
    5504 000249b0     b5ae          move    *a13(OBJ_XPOSINT),a14
         000249c0     0110  
    5505 000249d0     0b4e          cmpi    RING_X_CENTER,a14
         000249e0     fbcd  
    5506 000249f0     c402          jrlt    pkndonlft2
    5507 00024a00     09c0          MOVI    10,A0
         00024a10     000a  
    5508 00024a20           pkndonlft2
    5509 00024a20     b00d          MOVE    A0,*A13(NEW_FACING_DIR)
         00024a30     04d0  
    5510 00024a40     0960          RETS
    5511                    
    5512                    
    5513                    *****************************************************************************
    5514                    
    5515 00024a50            SUBR   dnk_climbthru_bot_anim
    5516                    
    5517 00024a50     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    5518 00024a70     8026          .word   ANI_SETSPEED,100h
    5519 00024a90     8003          .word   ANI_ZEROVELS
    5520                    
    5521                    ;Must rotate toward ropes!
    5522                    ;Do a different sequence
    5523                    
    5524                            ;lie down
    5525 00024aa0                   WL      ANI_CODE,nfubckspin
    5526 00024ad0                   WL      ANI_IFSTATUS2,nfubdir4
    5527                    
    5528                    ;Facing nfub2, spin first!
    5529 00024b00                   WL      3,D1TT5Z+FR2
    5530 00024b30                   WL      3,D1TT5Z+FR3
    5531 00024b60           nfubdir4
    5532 00024b60                   WL      3,D3GU4A+FR9
    5533 00024b90                   WL      3,D3GU4A+FR8
    5534 00024bc0                   WL      3,D3GU4A+FR7
    5535 00024bf0                   WL      3,D3GU4A+FR6
    5536 00024c20                   WL      3,D3GU4A+FR5
    5537 00024c50                   WL      3,D3GU4A+FR4
    5538 00024c80                   WL      3,D3GU4A+FR2
    5539                    
    5540                            ;roll over once
    5541 00024cb0                   WLW     ANI_SET_ZVEL,70000h,AM_ABS
    5542                    
    5543 00024cf0                   WL      3,D3SA3A+FR9
    5544 00024d20                   WL      3,D3RL1B+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  105

    5545 00024d50                   WL      3,D3RL1B+FR3
    5546                    
    5547 00024d80                   WL      3,D3RL1B+FR4
    5548 00024db0                   WL      3,D3RL1B+FR5
    5549 00024de0                   WL      3,D3RL1B+FR6
    5550 00024e10                   WL      3,D3RL1B+FR7
    5551 00024e40     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOSHADOW|MODE_NO
    5552                    
    5553 00024e60     807b          .word   ANI_SET_IDIOT
    5554                            ;climb through
    5555 00024e70                   WL      3,D2CR1A+FR3
    5556 00024ea0                   WL      3,D2CR1A+FR2
    5557 00024ed0                   WL      3,D2CR1A+FR1
    5558 00024f00     8015          .word   ANI_OFFSET,0,-37h,0                     ;x,y,z
    5559 00024f40                   WL      1,D2ST2B+FR3
    5560                    
    5561 00024f70     8080          .word   ANI_CLEAR_CLIMB
    5562 00024f80     8021          .word   ANI_FACEUP
    5563 00024f90     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    5564 00024fb0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    5565 00024fd0     8049          .word   ANI_END
    5566                    
    5567 00024fe0           nfubckspin
    5568 00024fe0     b5ae          move    *a13(FACING_DIR),a14
         00024ff0     04c0  
    5569 00025000     1fee          btst    0,a14
    5570 00025010     cb08          jrnz    nfubfaceup
    5571                    
    5572 00025020     b5a0          move    *a13(ANIMODE),a0
         00025030     0660  
    5573 00025040     0ba0          ori     MODE_STATUS2,a0
         00025050 00000200  
    5574 00025070     b00d          move    a0,*a13(ANIMODE)
         00025080     0660  
    5575 00025090     0960          RETS
    5576 000250a0           nfubfaceup
    5577 000250a0     b5a0          move    *a13(ANIMODE),a0
         000250b0     0660  
    5578 000250c0     0b80          ANDI    0FFFFH-MODE_STATUS2,a0
         000250d0 ffff0200  
    5579 000250f0     b00d          move    a0,*a13(ANIMODE)
         00025100     0660  
    5580 00025110     0960          rets
    5581                    
    5582                    
    5583                    *****************************************************************************
    5584                    
    5585 00025120            SUBR   dnk_climbin_bot_anim
    5586                    
    5587 00025120     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    5588 00025140     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    5589 00025160     8026          .word   ANI_SETSPEED,100h
    5590 00025180     8003          .word   ANI_ZEROVELS
    5591                    
    5592                            ;climb in
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  106

    5593 00025190     8010          .word   ANI_GRAVITY_OFF
    5594 000251a0     8015          .word   ANI_OFFSET,0,37h,-60
    5595 000251e0                   WL      3,D2CR1A+FR1
    5596 00025210                   WL      3,D2CR1A+FR2
    5597 00025240                   WL      3,D2CR1A+FR3
    5598                    
    5599                            ;roll
    5600 00025270                   WLW     ANI_SET_ZVEL,-70000h,AM_ABS
    5601 000252b0     8016          .word   ANI_FRICTION,3000h
    5602 000252d0                   WL      3,D3RL1B+FR7
    5603 00025300                   WL      3,D3RL1B+FR6
    5604 00025330                   WL      3,D3RL1B+FR5
    5605 00025360                   WL      3,D3RL1B+FR4
    5606 00025390                   WL      3,D3RL1B+FR3
    5607 000253c0                   WL      3,D3RL1B+FR2
    5608 000253f0     8003          .word   ANI_ZEROVELS
    5609 00025400     800f          .word   ANI_GRAVITY_ON
    5610                    
    5611                            ;get up
    5612 00025410                   WL      3,D3GU4A+FR2
    5613 00025440                   WL      3,D3GU4A+FR3
    5614 00025470                   WL      3,D3GU4A+FR4
    5615 000254a0                   WL      3,D3GU4A+FR5
    5616 000254d0                   WL      3,D3GU4A+FR6
    5617 00025500                   WL      3,D3GU4A+FR7
    5618 00025530                   WL      3,D3GU4A+FR8
    5619 00025560                   WL      3,D3GU4A+FR9
    5620                    
    5621                    ;       WL      ANI_CODE,clr_climb
    5622 00025590     8080          .word   ANI_CLEAR_CLIMB
    5623                    
    5624 000255a0     8022          .word   ANI_FACEDOWN
    5625 000255b0     8003          .word   ANI_ZEROVELS
    5626 000255c0     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    5627 000255e0     8049          .word   ANI_END
    5628                    
    5629                    
    5630                    *****************************************************************************
    5631                    
    5632 000255f0            SUBR   dnk_climbthru_top_anim
    5633                    
    5634 000255f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    5635 00025610     8026          .word   ANI_SETSPEED,100h
    5636 00025630     8003          .word   ANI_ZEROVELS
    5637                    
    5638                            ;lie down
    5639 00025640                   WL      ANI_CODE,oagfset_zvel1
    5640 00025670                   WL      ANI_IFSTATUS2,oagfdir4
    5641                    ;Facing oagf2
    5642 000256a0                   WL      3,D2GD2A+FR9
    5643 000256d0                   WL      3,D2GD2A+FR7
    5644 00025700                   WL      3,D2GD2A+FR6
    5645 00025730                   WL      3,D2GD2A+FR4
    5646 00025760                   WL      ANI_CODE,oagfset_zvel3
    5647 00025790                   WL      ANI_GOTO,oagfcont
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  107

    5648                            
    5649 000257c0           oagfdir4
    5650 000257c0                   WL      3,D3GU4A+FR9
    5651 000257f0                   WL      3,D3GU4A+FR8
    5652 00025820                   WL      3,D3GU4A+FR7
    5653 00025850                   WL      3,D3GU4A+FR6
    5654 00025880                   WL      3,D3GU4A+FR5
    5655 000258b0                   WL      3,D3GU4A+FR4
    5656 000258e0                   WL      3,D3GU4A+FR3
    5657 00025910                   WL      3,D3GU4A+FR2
    5658                    
    5659                            ;roll over once
    5660 00025940                   WL      ANI_CODE,oagfset_zvel2
    5661 00025970                   WL      3,D3RL1B+FR11
    5662 000259a0           oagfcont
    5663 000259a0                   WL      3,D3RL1B+FR10
    5664 000259d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOSHADOW|MODE_NO
    5665 000259f0                   WL      3,D3RL1B+FR9
    5666 00025a20                   WL      3,D3RL1B+FR8
    5667 00025a50                   WL      3,D3RL1B+FR7
    5668                    
    5669 00025a80     807b          .word   ANI_SET_IDIOT
    5670                            ;climb through
    5671 00025a90     8015          .word   ANI_OFFSET,0,-61,0
    5672 00025ad0     8003          .word   ANI_ZEROVELS
    5673 00025ae0                   WL      3,D2CR1A+FR8
    5674 00025b10                   WL      3,D2CR1A+FR9
    5675 00025b40                   WL      3,D2CR1A+FR10
    5676 00025b70                   WL      3,D2CR1A+FR11
    5677                    
    5678 00025ba0     8028          .word   ANI_ZERO_XZVELS
    5679                    
    5680 00025bb0     8080          .word   ANI_CLEAR_CLIMB
    5681 00025bc0     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    5682 00025be0     8049          .word   ANI_END
    5683                    
    5684 00025bf0           oagfset_zvel1
    5685 00025bf0     b5ae          move    *a13(FACING_DIR),a14
         00025c00     04c0  
    5686 00025c10     1fee          btst    0,a14
    5687 00025c20     ca08          jrz     oagffacedwn
    5688 00025c30     b5a0          move    *a13(ANIMODE),a0
         00025c40     0660  
    5689 00025c50     0b80          ANDI    0FFFFH-MODE_STATUS2,a0
         00025c60 ffff0200  
    5690 00025c80     b00d          move    a0,*a13(ANIMODE)
         00025c90     0660  
    5691 00025ca0     0960          rets
    5692                    
    5693 00025cb0           oagffacedwn
    5694 00025cb0     b5a0          move    *a13(ANIMODE),a0
         00025cc0     0660  
    5695 00025cd0     0ba0          ori     MODE_STATUS2,a0
         00025ce0 00000200  
    5696 00025d00     b00d          move    a0,*a13(ANIMODE)
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  108

         00025d10     0660  
    5697 00025d20     0960          rets
    5698                    
    5699 00025d30           oagfset_zvel2
    5700 00025d30     09e0          movi    -6c000h,a0
         00025d40 fff94000  
    5701 00025d60     b20d          move    a0,*a13(OBJ_ZVEL),L
         00025d70     0310  
    5702 00025d80     0960          rets
    5703                    
    5704 00025d90           oagfset_zvel3
    5705 00025d90     09e0          movi    -7c000h,a0
         00025da0 fff84000  
    5706 00025dc0     b20d          move    a0,*a13(OBJ_ZVEL),L
         00025dd0     0310  
    5707 00025de0     0960          rets
    5708                    
    5709                    *****************************************************************************
    5710                    ;Zombies use this to roll through the top without standing back up.
    5711                    
    5712 00025df0            SUBR   dnk_rollthru_top_anim
    5713                    
    5714 00025df0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_NOSHADOW|MODE_NOCOLLIS
    5715                    
    5716                            ;roll over once
    5717 00025e10                   WLW     ANI_SET_ZVEL,-6C000h,AM_ABS
    5718 00025e50                   WL      3,D3RL1B+FR11
    5719 00025e80                   WL      3,D3RL1B+FR10
    5720                    
    5721 00025eb0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOSHADOW|MODE_NO
    5722 00025ed0                   WL      3,D3RL1B+FR9
    5723 00025f00                   WL      3,D3RL1B+FR8
    5724 00025f30                   WL      3,D3RL1B+FR7
    5725                    
    5726                            ;climb through
    5727 00025f60     8015          .word   ANI_OFFSET,0,-61,0
    5728 00025fa0     8003          .word   ANI_ZEROVELS
    5729 00025fb0                   WL      3,D2CR1A+FR8
    5730 00025fe0                   WL      3,D2CR1A+FR9
    5731 00026010                   WL      3,D2CR1A+FR10
    5732 00026040                   WL      3,D2CR1A+FR11
    5733                    
    5734 00026070     8028          .word   ANI_ZERO_XZVELS
    5735                    
    5736 00026080     8022          .word   ANI_FACEDOWN
    5737 00026090     8002          .word   ANI_SETMODE,MODE_NORMAL
    5738 000260b0     8049          .word   ANI_END
    5739                    
    5740                    *****************************************************************************
    5741                    
    5742 000260c0            SUBR   dnk_climbin_top_anim
    5743                    
    5744 000260c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE|MODE_OVERLAP|MODE_NOCOLLIS
    5745 000260e0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    5746 00026100     8026          .word   ANI_SETSPEED,100h
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  109

    5747 00026120     8003          .word   ANI_ZEROVELS
    5748                    
    5749                            ;climb in
    5750 00026130                   WL      3,D2CR1A+FR11
    5751 00026160                   WL      3,D2CR1A+FR10
    5752 00026190                   WL      3,D2CR1A+FR9
    5753 000261c0                   WL      3,D2CR1A+FR8
    5754 000261f0     8015          .word   ANI_OFFSET,0,61,0
    5755                    
    5756                            ;roll over
    5757 00026230                   WL      ANI_CODE,hfxmset_zvel2
    5758 00026260                   WL      3,D3RL1B+FR8
    5759 00026290                   WL      3,D3RL1B+FR9
    5760 000262c0                   WL      3,D3RL1B+FR10
    5761 000262f0                   WL      3,D3RL1B+FR11
    5762                    
    5763 00026320                   WL      3,D3SA3A+FR9
    5764                    
    5765 00026350     8003          .word   ANI_ZEROVELS
    5766                    
    5767                            ;get up
    5768 00026360                   WL      3,D3GU4A+FR2
    5769 00026390                   WL      3,D3GU4A+FR3
    5770 000263c0                   WL      3,D3GU4A+FR4
    5771 000263f0                   WL      3,D3GU4A+FR5
    5772 00026420                   WL      3,D3GU4A+FR6
    5773 00026450                   WL      3,D3GU4A+FR7
    5774 00026480                   WL      3,D3GU4A+FR8
    5775 000264b0                   WL      3,D3GU4A+FR9
    5776                    
    5777                    ;       WL      ANI_CODE,clr_climb
    5778 000264e0     8080          .word   ANI_CLEAR_CLIMB
    5779                    ;       .word   ANI_OFFSET,0,0,100
    5780                    
    5781 000264f0     8002          .word   ANI_SETMODE,MODE_NOCONFINE
    5782 00026510     8049          .word   ANI_END
    5783                    
    5784                    
    5785 00026520           hfxmset_zvel2
    5786 00026520     09e0          movi    42000h,a0
         00026530 00042000  
    5787 00026550     b20d          move    a0,*a13(OBJ_ZVEL),L
         00026560     0310  
    5788 00026570     0960          rets
    5789                    
    5790                    *****************************************************************************
    5791                    
    5792 00026580            SUBR   dnk_roll_frames
    5793                    
    5794 00026580     0007          .word   7               ;speed
    5795 00026590 00050000          .long   50000h          ;z velocity
    5796 000265b0 00000a0a          .long   10000h*10/255   ;inv multiply (0-255 -> 0-10)
    5797                    
    5798 000265d0 00000120!         .long   D3SA3A+FR9      ;0
    5799 000265f0 00000040!         .long   D3RL1B+FR2      ;1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:19 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE  110

    5800 00026610 00000060!         .long   D3RL1B+FR3      ;2
    5801 00026630 00000080!         .long   D3RL1B+FR4      ;3
    5802 00026650 000000a0!         .long   D3RL1B+FR5      ;4
    5803 00026670 000000c0!         .long   D3RL1B+FR6      ;5
    5804 00026690 000000e0!         .long   D3RL1B+FR7      ;6
    5805 000266b0 00000100!         .long   D3RL1B+FR8      ;7
    5806 000266d0 00000120!         .long   D3RL1B+FR9      ;8
    5807 000266f0 00000140!         .long   D3RL1B+FR10     ;9
    5808 00026710 00000160!         .long   D3RL1B+FR11     ;10
    5809 00026730 00000000          .long   0,0,0,0,0,0
    5810                    
    5811                    
    5812                    ******************************************************************************
    5813                    
    5814                            .end

 No Errors,  No Warnings
