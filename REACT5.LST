TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    **************************************************************
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            8/8/94
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "react5.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "mproc.equ"             ;Mproc equates
      19                            .include        "display.equ"           ;Display proc equates
      20                            .include        "gsp.equ"               ;Gsp asm equates
      21                            .include        "sys.equ"
      22                            .include        "game.equ"
      23                            .include        "plyr.equ"
      24                            .include        "anim.equ"
      25                            .include        "audit.equ"
      26                            .include        "sound.h"
      27                            .include        "ring.equ"
      28                            .include        "lifebar.h"
      29                            .include        "damage.equ"
      30                    
      31                    
      32                    ******************************************************************************
      33                    * EXTERNAL REFERENCES
      34                    
      35                            .ref    change_anim1a
      36                            .ref    wres_collis_off
      37                    ;       .ref    inc_burnout
      38                            .ref    block_hit_flail
      39                            .ref    block_hit
      40                    ;       .ref    create_damage_points
      41                            .ref    slide_offscr
      42                    ;       .ref    check_dizzy
      43                            .ref    wres_slave_anim
      44                            .ref    triple_sound,CALL_AVERAGE_MOVE
      45                            .ref    CALL_NASTY_MOVE,PCNT
      46                    
      47                    
      48                    ******************************************************************************
      49                    * EXTERNAL ANIM SEQUENCES
      50                    
      51                    
      52                    ;BAM BAM
      53                            .ref    bam_2_head_hit2_anim
      54                            .ref    bam_4_head_hit2_anim
      55                            .ref    bam_4_losebal_anim
      56                            .ref    bam_fall_back_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                            .ref    bam_get_buzz_anim
      58                    
      59                    ;DOINK
      60                            .ref    dnk_2_bncoff_anim
      61                            .ref    dnk_4_bncoff_dizzy_anim
      62                            .ref    dnk_4_bncoff_anim
      63                            .ref    dnk_4_losebal_anim
      64                            .ref    dnk_4_losebal_dizzy_anim
      65                            .ref    dnk_get_buzz_anim
      66                            .ref    dnk_head_hit2_anim
      67                            .ref    dnk_head_hit_dizzy_anim
      68                            .ref    dnk_2_head_hit2_anim,dnk_4_head_hit2_anim
      69                            .ref    dnk_fall_back_anim
      70                    
      71                    ;BRET
      72                            .ref    hrt_fall_back_anim,hrt_4_losebal_dizzy_anim
      73                            .ref    hrt_2_head_hit2_anim,hrt_4_head_hit2_anim
      74                            .ref    hrt_4_head_hit_dizzy_anim
      75                            .ref    hrt_get_buzz_anim,hrt_4_losebal_anim
      76                    
      77                    ;LEX
      78                            .ref    lex_2_head_hit2_anim,lex_4_head_hit2_anim
      79                            .ref    lex_head_hit_dizzy_anim
      80                            .ref    lex_4_losebal_anim
      81                            .ref    lex_fall_back_anim
      82                            .ref    lex_get_buzz_anim
      83                    
      84                    ;RAZOR
      85                            .ref    rzr_2_head_hit2_anim,rzr_4_head_hit2_anim
      86                            .ref    rzr_4_losebal_anim
      87                            .ref    rzr_fall_back_anim
      88                            .ref    rzr_get_buzz_anim
      89                    
      90                    ;SHAWN
      91                            .ref    shn_4_head_hit_dizzy_anim
      92                            .ref    shn_2_head_hit3_anim,shn_4_head_hit3_anim
      93                            .ref    shn_fall_back_anim
      94                            .ref    shn_4_losebal_anim
      95                            .ref    shn_get_buzz_anim
      96                    
      97                    ;TAKER
      98                            .ref    und_fall_back_anim
      99                            .ref    und_get_buzz_anim
     100                            .ref    und_2_head_hit2_anim,und_4_head_hit2_anim
     101                            .ref    und_head_hit_dizzy_anim
     102                            .ref    und_4_losebal_dizzy_anim
     103                            .ref    und_4_losebal_anim
     104                            .ref    und_4_bncoff_dizzy_anim
     105                            .ref    und_2_bncoff_anim,und_4_bncoff_anim
     106                    
     107                    ;YOKO
     108                            .ref    yok_fall_back_anim
     109                            .ref    yok_get_buzz_anim
     110                            .ref    yok_4_losebal_anim
     111                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

     112                    
     113                    ******************************************************************************
     114                    * SYMBOLS DEFINED IN THIS FILE
     115                    
     116                    ******************************************************************************
     117                    * EQUATES FOR THIS FILE
     118                    
     119                    *****************************************************************************
     120                    
     121                    *****************************************************************************
     122                    ;AMODE_RUN      20
     123                    
     124                    ;Return carry set if the run hit is good and will count, clear if it's going
     125                    ; to be discarded anyway.
     126                    
     127 00000000            SUBR   good_run_hit
     128                    
     129                    ;Ignore most running collisions
     130 00000000     b7a0          move    *a13(OBJ_ZPOS),a0,L
         00000010     0140  
     131 00000020     b741          move    *a10(OBJ_ZPOS),a1,L
         00000030     0140  
     132 00000040     4401          sub     a0,a1
     133 00000050     0381          abs     a1
     134 00000060     2e01          srl     16,a1
     135                    ;FIXX!!  Unless it is Yoko!
     136 00000070     b540          move    *a10(WRESTLERNUM),a0
         00000080     0590  
     137 00000090     0b40          cmpi    3,a0
         000000a0     fffc  
     138 000000b0     cb06          jrnz    zowhnotyok
     139                    ;Yoko
     140                    
     141                    
     142                    ;This fixes YOKO gut hitting you after he is flung
     143 000000c0     b540          move    *a10(GETUP_TIME),a0             ;delay b4 gaining control
         000000d0     0460  
     144 000000e0     cb08          jrnz    zowhbad
     145                    
     146                    
     147                    
     148                    
     149 000000f0     0b41          cmpi    5,a1            ;if yoko        ;15
         00000100     fffa  
     150 00000110     c403          jrlt    zowhgood
     151 00000120           zowhnotyok      
     152 00000120     0b41          cmpi    2,a1            ;6
         00000130     fffd  
     153 00000140     c702          jrgt    zowhbad
     154                    
     155 00000150     0de0  zowhgood        setc
     156 00000160     0960          rets
     157 00000170     0320  zowhbad clrc
     158 00000180     0960          rets
     159                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

     160 00000190            SUBR   hit_run
     161                    
     162                    ;Tell running wrestler to stop running, and push other guy out of the way.
     163 00000190     0d3f          callr   good_run_hit
         000001a0     ffe5  
     164 000001b0     c900          jrnc    zowhskip
         000001c0     00f1  
     165                    
     166 000001d0     b5a1          move    *a13(PLYRMODE),a1
         000001e0     05c0  
     167                    
     168 000001f0     0b41          cmpi    MODE_INAIR,a1
         00000200     fffd  
     169 00000210     ca00          jrz     zowhisdead
         00000220     00e7  
     170 00000230     0b41          cmpi    MODE_INAIR2,a1
         00000240     ffea  
     171 00000250     ca00          jrz     zowhisdead
         00000260     00e3  
     172                    
     173 00000270     0b41          cmpi    MODE_BLOCK,a1
         00000280     fff8  
     174 00000290     cb09          jrnz    zowhnoblock
     175                    
     176                    ;       move    *a13(FACING_DIR),a0             ;check for hit
     177                    ;       move    *a13(NEW_FACING_DIR),a1         ;from behind
     178                    ;       and     a0,a1
     179                    ;       andi    MOVE_LEFT|MOVE_RIGHT,a1
     180                    ;       jrz     zowhnoblock
     181                    
     182 000002a0     0d5f          calla   block_hit_flail
         000002b0 00000000! 
     183                    
     184 000002d0     09e0          movi    [3,0],a0
         000002e0 00030000  
     185 00000300     b20d          move    a0,*a13(OBJ_YVEL),L
         00000310     02f0  
     186                    
     187 00000320     c079          jruc    zowhgotblk
     188                    
     189 00000330           zowhnoblock
     190                    ;If player is on ground, ignore running collisions!
     191 00000330     b5a0          move    *a13(PLYRMODE),a0
         00000340     05c0  
     192 00000350     0b40          cmpi    MODE_ONGROUND,a0
         00000360     fffb  
     193 00000370     ca00          jrz     zowhisdead
         00000380     00d1  
     194                    
     195 00000390                   GETLIFE
     196 000003e0     ca00          jrz     zowhisdead
         000003f0     00ca  
     197                    
     198 00000400                   WRSNDX  LBOWDROP_L1,LBOWDROP_L2
     199                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

     200 00000740                   SETMODE NORMAL
     201                    
     202 000007f0                   FACETBL zowhlosebal
     203                    
     204 00000860     b541          move    *a10(WRESTLERNUM),a1
         00000870     0590  
     205 00000880     0b41          cmpi    3,a1
         00000890     fffc  
     206 000008a0     cb1e          jrnz    zowhnotyok2
     207                    ;Yoko ran into me!
     208                            .ref    fall_back_tbl
     209 000008b0                   FACETBL fall_back_tbl
     210 00000920     0d5f          calla   change_anim1a
         00000930 00000000! 
     211                    
     212                    
     213                            .ref    hit_damage_pending
     214 00000950     09c0          movi    -D_GUTPUSH,a0
         00000960     fff1  
     215 00000970     0580          move    a0,@hit_damage_pending
         00000980 00000000! 
     216                    
     217                    
     218 000009a0     09e2          movi    [3,0],a2
         000009b0 00030000  
     219 000009d0     b540          move    *a10(OBJ_XPOSINT),a0
         000009e0     0110  
     220 000009f0     b5a1          move    *a13(OBJ_XPOSINT),a1
         00000a00     0110  
     221 00000a10     4801          cmp     a0,a1                   ;offx - defx
     222 00000a20     c703          jrgt    zowhfall_right          ;attacker on left
     223 00000a30     09e2          movi    [-3,0],a2
         00000a40 fffd0000  
     224 00000a60           zowhfall_right
     225 00000a60     b24d          move    a2,*a13(OBJ_XVEL),L
         00000a70     02d0  
     226                    
     227 00000a80     c003          jruc    zowhgotblk
     228                    
     229                    ;       move    *a13(PLYR_DIZZY),a1
     230                    ;       jrz     zowhnotdiz
     231                    ;;Guy is dizzy, need to stay in dizzy after losing balance
     232                    ;       FACETBL zowhlosebal_dizzy
     233                    ;
     234                    ;zowhnotdiz
     235                    
     236 00000a90           zowhnotyok2
     237 00000a90     0d5f          calla   change_anim1a
         00000aa0 00000000! 
     238                    
     239 00000ac0           zowhgotblk
     240 00000ac0     0d5f          calla   wres_collis_off
         00000ad0 00000000! 
     241                    
     242                    ;This is what happens to running wrestler.
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

     243                    
     244 00000af0     09e0          movi    [3,0],a0
         00000b00 00030000  
     245 00000b20     b20a          move    a0,*a10(OBJ_YVEL),L
         00000b30     02f0  
     246                    
     247 00000b40     09c0          movi    MODE_NORMAL,a0
         00000b50     0000  
     248 00000b60     b00a          move    a0,*a10(PLYRMODE)
         00000b70     05c0  
     249                    
     250 00000b80     b540          move    *a10(PLYR_DIZZY),a0
         00000b90     0600  
     251 00000ba0     ca0e          jrz     zowhnotdiz0
     252                    
     253                    ;Running guy is in dizzy mode, bounce off and stay dizzy!
     254 00000bb0     5600          clr     a0
     255 00000bc0     b00a          move    a0,*a10(RUN_TIME)
         00000bd0     07b0  
     256 00000be0                   SWAP    a10,a13
     257                    
     258 00000c10                   FACETBL zowhbncoff_dizzy
     259 00000c80     c02f          jruc    zowhcnt
     260                    
     261 00000c90           zowhnotdiz0
     262 00000c90     b540          move    *a10(GETUP_TIME),a0
         00000ca0     0460  
     263 00000cb0     ca15          jrz     zowhskipm
     264                    
     265                    
     266                    ;Cause getup meter to slide off screen.
     267 00000cc0     b740          move    *a10(METER_PROC),a0,L
         00000cd0     0870  
     268 00000ce0     ca12          jrz     zowhskipm                       ;skip if we don't have a getup meter
     269 00000cf0                   PUSH    a8,a9,a10
     270 00000d10     b608          move    *a0(PA8),a8,L
         00000d20     00c0  
     271 00000d30     b609          move    *a0(PA9),a9,L
         00000d40     00a0  
     272 00000d50     b60a          move    *a0(PA10),a10,L
         00000d60     0080  
     273 00000d70     09c1          movi    GETUP_PID,a1
         00000d80     012b  
     274 00000d90     09e7          movi    slide_offscr,a7
         00000da0 00000000! 
     275 00000dc0     0d5f          calla   XFERPROC
         00000dd0 00000000! 
     276 00000df0                   PULL    a8,a9,a10
     277                    
     278 00000e10     5600  zowhskipm       clr     a0
     279 00000e20     b00a          move    a0,*a10(RUN_TIME)
         00000e30     07b0  
     280 00000e40     b00d          move    a0,*a13(RUN_TIME)
         00000e50     07b0  
     281 00000e60     b00a          move    a0,*a10(GETUP_TIME)
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

         00000e70     0460  
     282                    
     283                    
     284 00000e80                   SWAP    a10,a13
     285                    
     286 00000eb0                   FACE24TBL bncoff
     287 00000f80           zowhcnt
     288 00000f80     0d5f          calla   change_anim1a
         00000f90 00000000! 
     289 00000fb0                   SWAP    a10,a13
     290                    
     291 00000fe0     09e2          movi    [3,0],a2
         00000ff0 00030000  
     292 00001010     b540          move    *a10(OBJ_XPOSINT),a0
         00001020     0110  
     293 00001030     b5a1          move    *a13(OBJ_XPOSINT),a1
         00001040     0110  
     294 00001050     4801          cmp     a0,a1                   ;offx - defx
     295 00001060     c401          jrlt    zowhright
     296 00001070     03a2          neg     a2
     297 00001080           zowhright
     298 00001080     b24a          move    a2,*a10(OBJ_XVEL),L
         00001090     02d0  
     299                    
     300 000010a0           zowhisdead
     301 000010a0     0d5f          calla   wres_collis_off
         000010b0 00000000! 
     302 000010d0     0960          rets
     303 000010e0     b5ae  zowhskip        move    *a13(MOVE_DIR),a14
         000010f0     04b0  
     304                            .ref    new_victim_movedir
     305 00001100     058e          move    a14,@new_victim_movedir
         00001110 00000000! 
     306 00001130     0d5f          calla   wres_collis_off
         00001140 00000000! 
     307 00001160     0960          rets
     308                    
     309 00001170           zowhlosebal
     310 00001170 00000000!         .long   hrt_4_losebal_anim              ;0 Bret Hart
     311 00001190 00000000!         .long   rzr_4_losebal_anim              ;1 Razor Ramon
     312 000011b0 00000000!         .long   und_4_losebal_anim              ;2 Undertaker
     313 000011d0 00000000!         .long   yok_4_losebal_anim              ;3 Yokozuna
     314 000011f0 00000000!         .long   shn_4_losebal_anim              ;4 Shawn Michaels
     315 00001210 00000000!         .long   bam_4_losebal_anim              ;5 Bam Bam
     316 00001230 00000000!         .long   dnk_4_losebal_anim              ;6 Doink
     317 00001250 00000000!         .long   dnk_4_losebal_anim              ;7 spare
     318 00001270 00000000!         .long   lex_4_losebal_anim              ;8 Lex Luger
     319 00001290 00000000!         .long   dnk_4_losebal_anim              ;9 Referee
     320                    
     321                    ;Fix!!!
     322                    ;zowhlosebal_dizzy
     323                    ;       .long   hrt_4_losebal_dizzy_anim        ;0 Bret Hart
     324                    ;       .long   dnk_4_losebal_dizzy_anim        ;1 Razor Ramon
     325                    ;       .long   und_4_losebal_dizzy_anim        ;2 Undertaker
     326                    ;       .long   dnk_4_losebal_dizzy_anim        ;3 Yokozuna
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

     327                    ;       .long   dnk_4_losebal_dizzy_anim        ;4 Shawn Michaels
     328                    ;       .long   dnk_4_losebal_dizzy_anim        ;5 Bam Bam
     329                    ;       .long   dnk_4_losebal_dizzy_anim        ;6 Doink
     330                    ;       .long   dnk_4_losebal_dizzy_anim        ;7 spare
     331                    ;       .long   dnk_4_losebal_dizzy_anim        ;8 Lex Luger
     332                    ;       .long   dnk_4_losebal_dizzy_anim        ;9 Referee
     333 000012b0            SUBR    bncoff
     334                            .ref    rzr_2_bncoff_anim,rzr_4_bncoff_anim
     335                            .ref    hrt_2_bncoff_anim,hrt_4_bncoff_anim
     336                            .ref    bam_2_bncoff_anim,bam_4_bncoff_anim
     337                            .ref    yok_2_bncoff_anim,yok_4_bncoff_anim
     338                            .ref    shn_2_bncoff_anim,shn_4_bncoff_anim
     339                            .ref    lex_2_bncoff_anim,lex_4_bncoff_anim
     340                            .ref    und_2_bncoff_anim,und_4_bncoff_anim
     341                    
     342 000012b0 00000000!         .long   hrt_2_bncoff_anim,hrt_4_bncoff_anim     ;0 Bret Hart
     343 000012f0 00000000!         .long   rzr_2_bncoff_anim,rzr_4_bncoff_anim     ;1 Razor Ramon
     344 00001330 00000000!         .long   und_2_bncoff_anim,und_4_bncoff_anim     ;2 Undertaker
     345 00001370 00000000!         .long   yok_2_bncoff_anim,yok_4_bncoff_anim     ;3 Yokozuna
     346 000013b0 00000000!         .long   shn_2_bncoff_anim,shn_4_bncoff_anim     ;4 Shawn Michaels
     347 000013f0 00000000!         .long   bam_2_bncoff_anim,bam_4_bncoff_anim     ;5 Bam Bam
     348 00001430 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;6 Doink
     349 00001470 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;7 spare
     350 000014b0 00000000!         .long   lex_2_bncoff_anim,lex_4_bncoff_anim     ;8 Lex Luger
     351 000014f0 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;9 Referee
     352                    
     353 00001530            SUBR    bncoff_gate
     354                    
     355                            .ref    yok_2_bncoff_gate_anim,yok_4_bncoff_gate_anim
     356                    
     357 00001530 00000000!         .long   hrt_2_bncoff_anim,hrt_4_bncoff_anim     ;0 Bret Hart
     358 00001570 00000000!         .long   rzr_2_bncoff_anim,rzr_4_bncoff_anim     ;1 Razor Ramon
     359 000015b0 00000000!         .long   und_2_bncoff_anim,und_4_bncoff_anim     ;2 Undertaker
     360 000015f0 00000000!         .long   yok_2_bncoff_gate_anim,yok_4_bncoff_gate_anim   ;3 Yokozuna
     361 00001630 00000000!         .long   shn_2_bncoff_anim,shn_4_bncoff_anim     ;4 Shawn Michaels
     362 00001670 00000000!         .long   bam_2_bncoff_anim,bam_4_bncoff_anim     ;5 Bam Bam
     363 000016b0 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;6 Doink
     364 000016f0 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;7 spare
     365 00001730 00000000!         .long   lex_2_bncoff_anim,lex_4_bncoff_anim     ;8 Lex Luger
     366 00001770 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;9 Referee
     367                    
     368                    
     369 000017b0           zowhbncoff_dizzy
     370                            .ref    rzr_4_bncoff_dizzy_anim
     371                            .ref    hrt_4_bncoff_dizzy_anim
     372                            .ref    bam_4_bncoff_dizzy_anim
     373                            .ref    yok_4_bncoff_dizzy_anim
     374                            .ref    shn_4_bncoff_dizzy_anim
     375                            .ref    und_4_bncoff_dizzy_anim
     376                            .ref    lex_4_bncoff_dizzy_anim
     377                    
     378 000017b0 00000000!         .long   hrt_4_bncoff_dizzy_anim         ;0 Bret Hart
     379 000017d0 00000000!         .long   rzr_4_bncoff_dizzy_anim         ;1 Razor Ramon
     380 000017f0 00000000!         .long   und_4_bncoff_dizzy_anim         ;2 Undertaker
     381 00001810 00000000!         .long   yok_4_bncoff_dizzy_anim         ;3 Yokozuna
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     382 00001830 00000000!         .long   shn_4_bncoff_dizzy_anim         ;4 Shawn Michaels
     383 00001850 00000000!         .long   bam_4_bncoff_dizzy_anim         ;5 Bam Bam
     384 00001870 00000000!         .long   dnk_4_bncoff_dizzy_anim         ;6 Doink
     385 00001890 00000000!         .long   dnk_4_bncoff_dizzy_anim         ;7 spare
     386 000018b0 00000000!         .long   lex_4_bncoff_dizzy_anim         ;8 Lex Luger
     387 000018d0 00000000!         .long   dnk_4_bncoff_dizzy_anim         ;9 Referee
     388                    
     389                    
     390                    *****************************************************************************
     391                    ;AMODE_PUPPET   21
     392 000018f0            SUBR   hit_puppet
     393                    
     394 000018f0     b5a1          move    *a13(PLYRMODE),a1
         00001900     05c0  
     395 00001910     0b41          cmpi    MODE_BLOCK,a1
         00001920     fff8  
     396 00001930     cb04          jrnz    cugsnoblock
     397                    
     398 00001940     0d5f          calla   block_hit
         00001950 00000000! 
     399 00001970     0960          rets
     400                    
     401 00001980           cugsnoblock
     402                            ;no need for this check now.  AMODE_PUPPET vs. dead guy won't even
     403                            ; register a collision now.
     404                    ;       ;don't grab dead guys
     405                    ;       move    *a13(PLYRMODE),a14
     406                    ;       cmpi    MODE_DEAD,a14
     407                    ;       jreq    cugsdone
     408                    
     409 00001980            SUBR   hit_puppet_even_if_dead
     410 00001980                   SETMODE PUPPET
     411                    
     412 00001a30     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00001a40     03e0  
     413 00001a50     b3aa          move    a13,*a10(ATTACH_PROC),L
         00001a60     03e0  
     414                    
     415 00001a70     09e0          movi    wres_slave_anim,a0
         00001a80 00000000! 
     416 00001aa0     0d5f          calla   change_anim1a
         00001ab0 00000000! 
     417                    
     418 00001ad0     5600          clr     a0
     419 00001ae0     b00d          move    a0,*a13(GETUP_TIME)
         00001af0     0460  
     420                    
     421 00001b00     0d5f  cugsdone        calla   wres_collis_off
         00001b10 00000000! 
     422 00001b30     0960          rets
     423                    
     424                    *****************************************************************************
     425                    ;AMODE_PUPPET   53
     426 00001b40            SUBR   hit_puppet_noflail
     427                    ;Used for puppet moves that will not flail opponent
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   10

     428                    ;just cause them to do regular hit block
     429                    
     430 00001b40     b5a1          move    *a13(PLYRMODE),a1
         00001b50     05c0  
     431 00001b60     0b41          cmpi    MODE_BLOCK,a1
         00001b70     fff8  
     432 00001b80     cb04          jrnz    yugwnoblock
     433                    
     434 00001b90     0d5f          calla   block_hit
         00001ba0 00000000! 
     435 00001bc0     0960          rets
     436                    
     437 00001bd0           yugwnoblock
     438                            ;don't grab dead guys
     439 00001bd0     b5ae          move    *a13(PLYRMODE),a14
         00001be0     05c0  
     440 00001bf0     0b4e          cmpi    MODE_DEAD,a14
         00001c00     fff6  
     441 00001c10     ca18          jreq    yugwdone
     442                    
     443 00001c20                   SETMODE PUPPET
     444                    
     445 00001cd0     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00001ce0     03e0  
     446 00001cf0     b3aa          move    a13,*a10(ATTACH_PROC),L
         00001d00     03e0  
     447                    
     448 00001d10     09e0          movi    wres_slave_anim,a0
         00001d20 00000000! 
     449 00001d40     0d5f          calla   change_anim1a
         00001d50 00000000! 
     450                    
     451 00001d70     5600          clr     a0
     452 00001d80     b00d          move    a0,*a13(GETUP_TIME)
         00001d90     0460  
     453                    
     454 00001da0     0d5f  yugwdone        calla   wres_collis_off
         00001db0 00000000! 
     455 00001dd0     0960          rets
     456                    
     457                    *****************************************************************************
     458                    ;AMODE_PUPPET2  31
     459 00001de0            SUBR   hit_puppet2
     460                    
     461                    ;A puppet mode for ignoring puppet move if getup time is zero
     462                    ;Used for hair pickup against a rolling/getting up opponent!
     463                    
     464 00001de0     b5a0          move    *a13(GETUP_TIME),a0
         00001df0     0460  
     465 00001e00     ca21          jrz     ewaaout
     466                    
     467                            ;don't grab dead guys
     468 00001e10     b5ae          move    *a13(PLYRMODE),a14
         00001e20     05c0  
     469 00001e30     0b4e          cmpi    MODE_DEAD,a14
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   11

         00001e40     fff6  
     470 00001e50     ca23          jreq    ewaadone
     471                    
     472 00001e60                   SETMODE PUPPET
     473                    
     474 00001f10     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00001f20     03e0  
     475 00001f30     b3aa          move    a13,*a10(ATTACH_PROC),L
         00001f40     03e0  
     476                    
     477 00001f50     09e0          movi    wres_slave_anim,a0
         00001f60 00000000! 
     478 00001f80     0d5f          calla   change_anim1a
         00001f90 00000000! 
     479                    
     480 00001fb0     5600          clr     a0
     481 00001fc0     b00d          move    a0,*a13(GETUP_TIME)
         00001fd0     0460  
     482                    
     483 00001fe0     0d5f          calla   wres_collis_off
         00001ff0 00000000! 
     484 00002010     0960          rets
     485 00002020           ewaaout
     486 00002020     b541          move    *a10(ANIMODE),a1
         00002030     0660  
     487 00002040     0b81          andni   MODE_STATUS2,a1
         00002050 00000200  
     488 00002070     b02a          move    a1,*a10(ANIMODE)
         00002080     0660  
     489                    
     490 00002090     0d5f  ewaadone        calla   wres_collis_off
         000020a0 00000000! 
     491 000020c0     0960          rets
     492                    
     493                    
     494                    *****************************************************************************
     495                    ;AMODE_PUPPET   32
     496 000020d0            SUBR   hit_puppet_hdgrab
     497                    
     498                    ;This is a special attack mode which ignores blocking opponents!
     499                    ;UNLESS they've got a safe time set.
     500 000020d0     b5a0          move    *a13(SAFE_TIME),a0
         000020e0     0ac0  
     501 000020f0     ca09          jrz     kmfbnoblock
     502                    
     503 00002100     b5a1          move    *a13(PLYRMODE),a1
         00002110     05c0  
     504 00002120     0b41          cmpi    MODE_BLOCK,a1
         00002130     fff8  
     505 00002140     cb04          jrne    kmfbnoblock
     506                    
     507 00002150     0d5f          calla   block_hit_flail
         00002160 00000000! 
     508 00002180     0960          rets
     509                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   12

     510 00002190           kmfbnoblock
     511                            ;don't grab dead guys
     512 00002190     b5ae          move    *a13(PLYRMODE),a14
         000021a0     05c0  
     513 000021b0     0b4e          cmpi    MODE_DEAD,a14
         000021c0     fff6  
     514 000021d0     ca20          jreq    kmfbdone
     515                    
     516 000021e0     57ce          clr     a14
     517 000021f0     b1ca          move    a14,*a10(HITBLOCKER)
         00002200     0540  
     518                    
     519 00002210     05ae          move    @PCNT,a14
         00002220 00000000! 
     520 00002240     b1cd          move    a14,*a13(HEAD_GRAB_TIME)
         00002250     0c10  
     521                    
     522 00002260                   SETMODE PUPPET
     523                    
     524 00002310     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00002320     03e0  
     525 00002330     b3aa          move    a13,*a10(ATTACH_PROC),L
         00002340     03e0  
     526                    
     527 00002350     09e0          movi    wres_slave_anim,a0
         00002360 00000000! 
     528 00002380     0d5f          calla   change_anim1a
         00002390 00000000! 
     529                    
     530 000023b0     5600          clr     a0
     531 000023c0     b00d          move    a0,*a13(GETUP_TIME)
         000023d0     0460  
     532                    
     533 000023e0     0d5f  kmfbdone        calla   wres_collis_off
         000023f0 00000000! 
     534 00002410     0960          rets
     535                    
     536                    
     537                    *****************************************************************************
     538                    ;AMODE_PUPPET   54
     539 00002420            SUBR   hit_puppet_toss
     540                    
     541                    ;This is a special attack mode which ignores blocking opponents!
     542 00002420     b5a0          move    *a13(SAFE_TIME),a0
         00002430     0ac0  
     543 00002440     ca09          jrz     thycnoblock
     544                    
     545                    ;If safe time is set, just holding block will suffice
     546 00002450     b5a1          move    *a13(PLYRMODE),a1
         00002460     05c0  
     547 00002470     0b41          cmpi    MODE_BLOCK,a1
         00002480     fff8  
     548 00002490     cb1e          jrnz    thycnoblock2
     549                    
     550 000024a0     0d5f          calla   block_hit
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   13

         000024b0 00000000! 
     551 000024d0     0960          rets
     552                    
     553 000024e0           thycnoblock
     554 000024e0     b5a1          move    *a13(PLYRMODE),a1
         000024f0     05c0  
     555 00002500     0b41          cmpi    MODE_BLOCK,a1
         00002510     fff8  
     556 00002520     cb15          jrnz    thycnoblock2
     557                    
     558                    ;If stick is down & away - skip toss
     559 00002530     b5ae          move    *a13(STICK_VAL_CUR),a14
         00002540     0bc0  
     560 00002550     0b8e          andi    0ch,a14
         00002560 fffffff3  
     561 00002580     ca0f          jrz     thycnoblock2
     562 00002590     b5a1          move    *a13(NEW_FACING_DIR),a1
         000025a0     04d0  
     563 000025b0     0b81          andi    0ch,a1
         000025c0 fffffff3  
     564 000025e0     49c1          cmp     a14,a1
     565 000025f0     ca08          jrz     thycnoblock2
     566                    
     567 00002600     b5ae          move    *a13(STICK_VAL_CUR),a14
         00002610     0bc0  
     568 00002620     1fce          btst    1,a14
     569 00002630     ca04          jrz     thycnoblock2
     570                    ;Pulling down & away!
     571                    ;Don't allow hiptoss
     572                    
     573 00002640     0d5f          calla   block_hit
         00002650 00000000! 
     574 00002670     0960          rets
     575                    
     576                    
     577 00002680           thycnoblock2
     578                    
     579                    ;;don't grab dead guys
     580                    ;       move    *a13(PLYRMODE),a14
     581                    ;       cmpi    MODE_DEAD,a14
     582                    ;       jreq    thycdone
     583                    
     584 00002680     57ce          clr     a14
     585 00002690     b1ca          move    a14,*a10(HITBLOCKER)
         000026a0     0540  
     586                    
     587                    ;       move    @PCNT,a14
     588                    ;       move    a14,*a13(HEAD_GRAB_TIME)
     589                    
     590 000026b0                   SETMODE PUPPET
     591                    
     592 00002760     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00002770     03e0  
     593 00002780     b3aa          move    a13,*a10(ATTACH_PROC),L
         00002790     03e0  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   14

     594                    
     595 000027a0     09e0          movi    wres_slave_anim,a0
         000027b0 00000000! 
     596 000027d0     0d5f          calla   change_anim1a
         000027e0 00000000! 
     597                    
     598 00002800     5600          clr     a0
     599 00002810     b00d          move    a0,*a13(GETUP_TIME)
         00002820     0460  
     600                    
     601 00002830     0d5f  thycdone        calla   wres_collis_off
         00002840 00000000! 
     602 00002860     0960          rets
     603                    
     604                    *****************************************************************************
     605                    ;AMODE_BACKHAND 22 - SLAP
     606 00002870            SUBR   hit_backhand
     607                    
     608 00002870     b5a1          move    *a13(PLYRMODE),a1
         00002880     05c0  
     609 00002890     0b41          cmpi    MODE_BLOCK,a1
         000028a0     fff8  
     610 000028b0     cb04          jrnz    pipqnoblock
     611                    
     612 000028c0     0d5f          calla   block_hit_flail
         000028d0 00000000! 
     613 000028f0     0960          rets
     614                    
     615 00002900           pipqnoblock
     616                    
     617                            ;if it's shawn, do 33h instead of 43h
     618 00002900     09c0          movi    33h,a0
         00002910     0033  
     619 00002920     b54e          move    *a10(WRESTLERNUM),a14
         00002930     0590  
     620 00002940     148e          subk    W_SHAWN,a14
     621 00002950     ca02          jrz     pipqsnd_ok
     622 00002960     09c0          movi    43h,a0
         00002970     0043  
     623 00002980     0d5f  pipqsnd_ok      calla   triple_sound
         00002990 00000000! 
     624                    
     625 000029b0     0d5f          calla   CALL_AVERAGE_MOVE
         000029c0 00000000! 
     626                    
     627 000029e0                   GETLIFE
     628 00002a30     ca41          jrz     pipqisdead
     629                    
     630 00002a40                   WRSNDX  UPRCUT_L2
     631                    
     632                    ;       WRSNDX  HDBUTT_L1,HDBUTT_L2
     633                    
     634                    ;       move    *a13(PLYR_DIZZY),a0
     635                    ;       jrnz    pipqdiz
     636                    ;
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   15

     637                    ;       calla   check_dizzy
     638                    ;       jrz     pipqnot_dizzy
     639                    ;
     640                    ;       movi    5*TSEC,a0
     641                    ;       move    a0,*a13(GETUP_TIME)
     642                    ;
     643                    ;pipqdiz
     644                    ;       FACE24TBL pipqhead_hit_dizzy
     645                    ;       calla   change_anim1a
     646                    ;
     647                    ;
     648                    ;pipqnot_dizzy
     649                    
     650 00002be0                   SETMODE NORMAL
     651 00002c90     b5ae          move    *a13(OBJ_YPOSINT),a14
         00002ca0     0130  
     652 00002cb0     b5a0          move    *a13(GROUND_Y),a0
         00002cc0     0570  
     653 00002cd0     440e          sub     a0,a14
     654 00002ce0     0b4e          cmpi    20,a14
         00002cf0     ffeb  
     655 00002d00     c518          jrge    pipqfall_back
     656                    
     657                    
     658 00002d10                   FACE24TBL pipqhead_hit2
     659 00002de0     0d5f          calla   change_anim1a
         00002df0 00000000! 
     660 00002e10     0d5f          calla   wres_collis_off
         00002e20 00000000! 
     661                    
     662 00002e40     0960          rets
     663                    
     664 00002e50           pipqisdead
     665 00002e50     0d5f          calla   wres_collis_off
         00002e60 00000000! 
     666 00002e80     0960          rets
     667                    
     668 00002e90           pipqfall_back
     669 00002e90                   FACETBL fall_back_tbl
     670                    
     671 00002f00     0d5f          calla   change_anim1a
         00002f10 00000000! 
     672 00002f30     0d5f          calla   wres_collis_off
         00002f40 00000000! 
     673                    
     674 00002f60     09e2          movi    [3,0],a2
         00002f70 00030000  
     675 00002f90     b540          move    *a10(OBJ_XPOSINT),a0
         00002fa0     0110  
     676 00002fb0     b5a1          move    *a13(OBJ_XPOSINT),a1
         00002fc0     0110  
     677 00002fd0     4801          cmp     a0,a1                   ;offx - defx
     678 00002fe0     c701          jrgt    pipqfall_right          ;attacker on left
     679 00002ff0     03a2          neg     a2
     680 00003000           pipqfall_right
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   16

     681 00003000     b24d          move    a2,*a13(OBJ_XVEL),L
         00003010     02d0  
     682                    
     683 00003020     0960          rets
     684                    
     685 00003030           pipqhead_hit2
     686                    ;No z float..
     687                            .ref    lex_2_head_hit3_anim,lex_4_head_hit3_anim
     688                            .ref    rzr_2_head_hit3_anim,rzr_4_head_hit3_anim
     689                            .ref    yok_2_head_hit3_anim,yok_4_head_hit3_anim
     690                            .ref    hrt_2_head_hit3_anim,hrt_4_head_hit3_anim
     691                    
     692 00003030 00000000!         .long   hrt_2_head_hit3_anim,hrt_4_head_hit3_anim               ;0 Bret Hart
     693 00003070 00000000!         .long   rzr_2_head_hit3_anim,rzr_4_head_hit3_anim               ;1 Razor Ramon
     694 000030b0 00000000!         .long   und_2_head_hit2_anim,und_4_head_hit2_anim               ;2 Undertaker
     695 000030f0 00000000!         .long   yok_2_head_hit3_anim,yok_4_head_hit3_anim               ;3 Yokozuna
     696 00003130 00000000!         .long   shn_2_head_hit3_anim,shn_4_head_hit3_anim               ;4 Shawn Michaels
     697 00003170 00000000!         .long   bam_2_head_hit2_anim,bam_4_head_hit2_anim               ;5 Bam Bam
     698 000031b0 00000000!         .long   dnk_2_head_hit2_anim,dnk_4_head_hit2_anim               ;6 Doink
     699 000031f0 00000000          .long   0,0                                                     ;7 spare
     700 00003230 00000000!         .long   lex_2_head_hit3_anim,lex_4_head_hit3_anim               ;8 Lex Luger
     701 00003270 00000000          .long   0,0                                                     ;9 Referee
     702                    
     703                    ;pipqhead_hit_dizzy
     704                    ;       .ref    bam_head_hit_dizzy_anim,rzr_4_head_hit_dizzy_anim
     705                    ;       .ref    und_head_hit_dizzy_anim,yok_4_head_hit_dizzy_anim
     706                    ;
     707                    ;       .long   hrt_4_head_hit_dizzy_anim,hrt_4_head_hit_dizzy_anim     ;0 Bret Hart
     708                    ;       .long   rzr_4_head_hit_dizzy_anim,rzr_4_head_hit_dizzy_anim     ;1 Razor Ramon
     709                    ;       .long   und_head_hit_dizzy_anim,und_head_hit_dizzy_anim         ;2 Undertaker
     710                    ;       .long   yok_4_head_hit_dizzy_anim,yok_4_head_hit_dizzy_anim     ;3 Yokozuna
     711                    ;       .long   shn_4_head_hit_dizzy_anim,shn_4_head_hit_dizzy_anim     ;4 Shawn Michaels
     712                    ;       .long   bam_head_hit_dizzy_anim,bam_head_hit_dizzy_anim         ;5 Bam Bam
     713                    ;       .long   dnk_head_hit_dizzy_anim,dnk_head_hit_dizzy_anim         ;6 Doink
     714                    ;       .long   0,0                                                     ;7 spare
     715                    ;       .long   lex_head_hit_dizzy_anim,lex_head_hit_dizzy_anim         ;8 Lex Luger
     716                    ;       .long   0,0                                                     ;9 Referee
     717                    ;
     718                    
     719                    *****************************************************************************
     720                    ;AMODE_EARSLAP  28 - SLAP
     721 000032b0            SUBR   hit_earslap
     722                    
     723 000032b0     b5a1          move    *a13(PLYRMODE),a1
         000032c0     05c0  
     724 000032d0     0b41          cmpi    MODE_BLOCK,a1
         000032e0     fff8  
     725 000032f0     cb04          jrnz    ehzjnoblock
     726                    
     727 00003300     0d5f          calla   block_hit
         00003310 00000000! 
     728 00003330     0960          rets
     729                    
     730 00003340           ehzjnoblock
     731                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   17

     732 00003340     09c0          movi    43h,a0
         00003350     0043  
     733 00003360     0d5f          calla   triple_sound
         00003370 00000000! 
     734                    
     735 00003390                   GETLIFE
     736 000033e0     ca2f          jrz     ehzjisdead
     737                    
     738 000033f0                   WRSNDX  HDBUTT_L2
     739                    
     740                    ;       move    *a13(PLYR_DIZZY),a0
     741                    ;       jrnz    ehzjdiz
     742                    ;
     743                    ;       calla   check_dizzy
     744                    ;       jrz     ehzjnot_dizzy
     745                    ;
     746                    ;       movi    5*TSEC,a0
     747                    ;       move    a0,*a13(GETUP_TIME)
     748                    ;
     749                    ;ehzjdiz
     750                    ;       FACETBL ehzjhead_hit_dizzy
     751                    ;       calla   change_anim1a
     752                    ;
     753                    ;ehzjisdead
     754                    ;       calla   wres_collis_off
     755                    ;       rets
     756                    ;ehzjnot_dizzy
     757                    
     758 00003590                   SETMODE NORMAL
     759                    
     760 00003640                   FACETBL ehzjhead_hit2
     761 000036b0     0d5f          calla   change_anim1a
         000036c0 00000000! 
     762                    
     763 000036e0           ehzjisdead
     764 000036e0     0d5f          calla   wres_collis_off
         000036f0 00000000! 
     765 00003710     0960          rets
     766                    
     767 00003720           ehzjhead_hit2
     768                    ;No z float..
     769                            .ref    lex_4_head_hit4_anim
     770                            .ref    rzr_4_head_hit4_anim
     771                            .ref    yok_4_head_hit4_anim
     772                            .ref    hrt_4_head_hit4_anim
     773                            .ref    und_4_head_hit4_anim
     774                            .ref    bam_4_head_hit4_anim
     775                            .ref    dnk_4_head_hit4_anim
     776                            .ref    shn_4_head_hit4_anim
     777                    
     778 00003720 00000000!         .long   hrt_4_head_hit4_anim            ;0 Bret Hart
     779 00003740 00000000!         .long   rzr_4_head_hit4_anim            ;1 Razor Ramon
     780 00003760 00000000!         .long   und_4_head_hit4_anim            ;2 Undertaker
     781 00003780 00000000!         .long   yok_4_head_hit4_anim            ;3 Yokozuna
     782 000037a0 00000000!         .long   shn_4_head_hit4_anim            ;4 Shawn Michaels
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   18

     783 000037c0 00000000!         .long   bam_4_head_hit4_anim            ;5 Bam Bam
     784 000037e0 00000000!         .long   dnk_4_head_hit4_anim            ;6 Doink
     785 00003800 00000000          .long   0                                                       ;7 spare
     786 00003820 00000000!         .long   lex_4_head_hit4_anim            ;8 Lex Luger
     787 00003840 00000000          .long   0                                                       ;9 Referee
     788                    
     789                    ;ehzjhead_hit_dizzy
     790                    ;
     791                    ;       .long   hrt_4_head_hit_dizzy_anim
     792                    ;       .long   rzr_4_head_hit_dizzy_anim
     793                    ;       .long   und_head_hit_dizzy_anim
     794                    ;       .long   yok_4_head_hit_dizzy_anim
     795                    ;       .long   shn_4_head_hit_dizzy_anim
     796                    ;       .long   bam_head_hit_dizzy_anim
     797                    ;       .long   dnk_head_hit_dizzy_anim
     798                    ;       .long   0                                                       ;7 spare
     799                    ;       .long   lex_head_hit_dizzy_anim
     800                    ;       .long   0                                                       ;9 Referee
     801                    
     802                    
     803                    *****************************************************************************
     804                    ;AMODE_BUZZ     23
     805 00003860            SUBR   hit_buzz
     806                    
     807 00003860     b5a1          move    *a13(PLYRMODE),a1
         00003870     05c0  
     808 00003880     0b41          cmpi    MODE_BLOCK,a1
         00003890     fff8  
     809 000038a0     cb04          jrnz    zbnbnoblock
     810                    
     811 000038b0     0d5f          calla   block_hit
         000038c0 00000000! 
     812 000038e0     0960          rets
     813                    
     814 000038f0           zbnbnoblock
     815                    
     816                    ;All of the damage amounts need to be in lookup tables linked to the wrestler
     817                    ;who actually struck the blow.
     818                    ;       calla   CALL_NASTY_MOVE
     819                    
     820                    
     821 000038f0                   GETLIFE
     822                    ;Bug!  We want to see the electrocution!
     823                    ;FIX!!
     824 00003940     ca0b          jrz     zbnbisdead
     825                    
     826 00003950                   SETMODE NORMAL
     827                    
     828 00003a00           zbnbisdead
     829 00003a00     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00003a10     03e0  
     830 00003a20     b3aa          move    a13,*a10(ATTACH_PROC),L
         00003a30     03e0  
     831                    
     832                    ;       movi    wres_slave_anim,a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   19

     833                    ;       calla   change_anim1a
     834                    
     835                    
     836                    ;       calla   create_damage_points
     837                    ;Buzz sound
     838 00003a40                   WRSNDX  PUNCH_L1,PUNCH_L2
     839                    
     840 00003d80                   FACETBL zbnbget_buzz
     841 00003df0     0d5f          calla   change_anim1a
         00003e00 00000000! 
     842 00003e20     0d5f          calla   wres_collis_off
         00003e30 00000000! 
     843                    
     844 00003e50     0960          rets
     845                    
     846 00003e60           zbnbget_buzz
     847 00003e60 00000000!         .long   hrt_get_buzz_anim               ;0 Bret Hart
     848 00003e80 00000000!         .long   rzr_get_buzz_anim               ;1 Razor Ramon
     849 00003ea0 00000000!         .long   und_get_buzz_anim               ;2 Undertaker
     850 00003ec0 00000000!         .long   yok_get_buzz_anim               ;3 Yokozuna
     851 00003ee0 00000000!         .long   shn_get_buzz_anim               ;4 Shawn Michaels
     852 00003f00 00000000!         .long   bam_get_buzz_anim               ;5 Bam Bam
     853 00003f20 00000000!         .long   dnk_get_buzz_anim               ;6 Doink
     854 00003f40 00000000          .long   0                               ;7 spare
     855 00003f60 00000000!         .long   lex_get_buzz_anim               ;8 Lex Luger
     856 00003f80 00000000          .long   0                               ;9 Referee
     857                    
     858                    *****************************************************************************
     859                    ;AMODE_HAYMAKER 24
     860 00003fa0            SUBR   hit_haymaker
     861                    
     862 00003fa0     b5a1          move    *a13(PLYRMODE),a1
         00003fb0     05c0  
     863 00003fc0     0b41          cmpi    MODE_BLOCK,a1
         00003fd0     fff8  
     864 00003fe0     cb04          jrnz    txionoblock
     865                    
     866 00003ff0     0d5f          calla   block_hit_flail
         00004000 00000000! 
     867 00004020     0960          rets
     868                    
     869 00004030           txionoblock
     870                    
     871                    
     872                    ;       movi    40,a0
     873                    ;       calla   inc_getup_time
     874                    
     875                    ;Any hit mode which does a fall back sequence onto the ground
     876                    ;will not check dizzy at the start.
     877                    ;The check dizzy happens in the sequence.
     878                    
     879 00004030                   WRSNDX  FLYKICK_L1,FLYKICK_L2
     880 00004370                   GETLIFE
     881 000043c0     ca0b          jrz     txioskip
     882                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:10 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   20

     883 000043d0                   SETMODE NORMAL
     884 00004480           txioskip
     885 00004480                   FACETBL txiofall_back
     886 000044f0     0d5f          calla   change_anim1a
         00004500 00000000! 
     887                    
     888 00004520     09e2          movi    [4,0],a2
         00004530 00040000  
     889 00004550     b540          move    *a10(OBJ_XPOSINT),a0
         00004560     0110  
     890 00004570     b5a1          move    *a13(OBJ_XPOSINT),a1
         00004580     0110  
     891 00004590     4801          cmp     a0,a1                   ;offx - defx
     892 000045a0     c701          jrgt    txiogo_rgt                      ;attacker on left
     893 000045b0     03a2          neg     a2
     894 000045c0           txiogo_rgt
     895 000045c0     b24d          move    a2,*a13(OBJ_XVEL),L
         000045d0     02d0  
     896                    
     897 000045e0           txioisdead
     898 000045e0     0d5f          calla   wres_collis_off
         000045f0 00000000! 
     899 00004610     0960          rets
     900                    
     901 00004620           txiofall_back
     902 00004620 00000000!         .long   hrt_fall_back_anim              ;0 Bret Hart
     903 00004640 00000000!         .long   rzr_fall_back_anim              ;1 Razor Ramon
     904 00004660 00000000!         .long   und_fall_back_anim              ;2 Undertaker
     905 00004680 00000000!         .long   yok_fall_back_anim              ;3 Yokozuna
     906 000046a0 00000000!         .long   shn_fall_back_anim              ;4 Shawn Michaels
     907 000046c0 00000000!         .long   bam_fall_back_anim              ;5 Bam Bam
     908 000046e0 00000000!         .long   dnk_fall_back_anim              ;6 Doink
     909 00004700 00000000          .long   0                               ;7 spare
     910 00004720 00000000!         .long   lex_fall_back_anim              ;8 Lex Luger
     911 00004740 00000000          .long   0                               ;9 Referee
     912                    
     913                    
     914                    ******************************************************************************
     915                    
     916                            .end

 No Errors,  No Warnings
