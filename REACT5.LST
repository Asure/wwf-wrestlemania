TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    
       2                            .file   "react5.asm"
       4                            .width  132
       5                            .option b,d,l,t
       6                            .mnolist
       7                    
       8                    
       9                            .include        "macros.h"
      10                            .include        "mproc.equ"             ;Mproc equates
      11                            .include        "display.equ"           ;Display proc equates
      12                            .include        "gsp.equ"               ;Gsp asm equates
      13                            .include        "sys.equ"
      14                            .include        "game.equ"
      15                            .include        "plyr.equ"
      16                            .include        "anim.equ"
      17                            .include        "audit.equ"
      18                            .include        "sound.h"
      19                            .include        "ring.equ"
      20                            .include        "lifebar.h"
      21                            .include        "damage.equ"
      22                    
      23                    
      24                    
      25                            .ref    change_anim1a
      26                            .ref    wres_collis_off
      27                            .ref    block_hit_flail
      28                            .ref    block_hit
      29                            .ref    slide_offscr
      30                            .ref    wres_slave_anim
      31                            .ref    triple_sound,CALL_AVERAGE_MOVE
      32                            .ref    CALL_NASTY_MOVE,PCNT
      33                    
      34                    
      35                    
      36                    
      37                            .ref    bam_2_head_hit2_anim
      38                            .ref    bam_4_head_hit2_anim
      39                            .ref    bam_4_losebal_anim
      40                            .ref    bam_fall_back_anim
      41                            .ref    bam_get_buzz_anim
      42                    
      43                            .ref    dnk_2_bncoff_anim
      44                            .ref    dnk_4_bncoff_dizzy_anim
      45                            .ref    dnk_4_bncoff_anim
      46                            .ref    dnk_4_losebal_anim
      47                            .ref    dnk_4_losebal_dizzy_anim
      48                            .ref    dnk_get_buzz_anim
      49                            .ref    dnk_head_hit2_anim
      50                            .ref    dnk_head_hit_dizzy_anim
      51                            .ref    dnk_2_head_hit2_anim,dnk_4_head_hit2_anim
      52                            .ref    dnk_fall_back_anim
      53                    
      54                            .ref    hrt_fall_back_anim,hrt_4_losebal_dizzy_anim
      55                            .ref    hrt_2_head_hit2_anim,hrt_4_head_hit2_anim
      56                            .ref    hrt_4_head_hit_dizzy_anim
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                            .ref    hrt_get_buzz_anim,hrt_4_losebal_anim
      58                    
      59                            .ref    lex_2_head_hit2_anim,lex_4_head_hit2_anim
      60                            .ref    lex_head_hit_dizzy_anim
      61                            .ref    lex_4_losebal_anim
      62                            .ref    lex_fall_back_anim
      63                            .ref    lex_get_buzz_anim
      64                    
      65                            .ref    rzr_2_head_hit2_anim,rzr_4_head_hit2_anim
      66                            .ref    rzr_4_losebal_anim
      67                            .ref    rzr_fall_back_anim
      68                            .ref    rzr_get_buzz_anim
      69                    
      70                            .ref    shn_4_head_hit_dizzy_anim
      71                            .ref    shn_2_head_hit3_anim,shn_4_head_hit3_anim
      72                            .ref    shn_fall_back_anim
      73                            .ref    shn_4_losebal_anim
      74                            .ref    shn_get_buzz_anim
      75                    
      76                            .ref    und_fall_back_anim
      77                            .ref    und_get_buzz_anim
      78                            .ref    und_2_head_hit2_anim,und_4_head_hit2_anim
      79                            .ref    und_head_hit_dizzy_anim
      80                            .ref    und_4_losebal_dizzy_anim
      81                            .ref    und_4_losebal_anim
      82                            .ref    und_4_bncoff_dizzy_anim
      83                            .ref    und_2_bncoff_anim,und_4_bncoff_anim
      84                    
      85                            .ref    yok_fall_back_anim
      86                            .ref    yok_get_buzz_anim
      87                            .ref    yok_4_losebal_anim
      88                    
      89                    
      90                    
      91                    
      92                    
      93                    
      94                    
      95 00000000            SUBR   good_run_hit
      96                    
      97 00000000     b7a0          move    *a13(OBJ_ZPOS),a0,L
         00000010     0140  
      98 00000020     b741          move    *a10(OBJ_ZPOS),a1,L
         00000030     0140  
      99 00000040     4401          sub     a0,a1
     100 00000050     0381          abs     a1
     101 00000060     2e01          srl     16,a1
     102 00000070     b540          move    *a10(WRESTLERNUM),a0
         00000080     0590  
     103 00000090     0b40          cmpi    3,a0
         000000a0     fffc  
     104 000000b0     cb06          jrnz    hpginotyok
     105                    
     106                    
     107 000000c0     b540          move    *a10(GETUP_TIME),a0             ;delay b4 gaining control
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

         000000d0     0460  
     108 000000e0     cb08          jrnz    hpgibad
     109                    
     110                    
     111                    
     112                    
     113 000000f0     0b41          cmpi    5,a1            ;if yoko        ;15
         00000100     fffa  
     114 00000110     c403          jrlt    hpgigood
     115 00000120           hpginotyok      
     116 00000120     0b41          cmpi    2,a1            ;6
         00000130     fffd  
     117 00000140     c702          jrgt    hpgibad
     118                    
     119 00000150     0de0  hpgigood        setc
     120 00000160     0960          rets
     121 00000170     0320  hpgibad clrc
     122 00000180     0960          rets
     123                    
     124 00000190            SUBR   hit_run
     125                    
     126 00000190     0d3f          callr   good_run_hit
         000001a0     ffe5  
     127 000001b0     c900          jrnc    hpgiskip
         000001c0     00f1  
     128                    
     129 000001d0     b5a1          move    *a13(PLYRMODE),a1
         000001e0     05c0  
     130                    
     131 000001f0     0b41          cmpi    MODE_INAIR,a1
         00000200     fffd  
     132 00000210     ca00          jrz     hpgiisdead
         00000220     00e7  
     133 00000230     0b41          cmpi    MODE_INAIR2,a1
         00000240     ffea  
     134 00000250     ca00          jrz     hpgiisdead
         00000260     00e3  
     135                    
     136 00000270     0b41          cmpi    MODE_BLOCK,a1
         00000280     fff8  
     137 00000290     cb09          jrnz    hpginoblock
     138                    
     139                    
     140 000002a0     0d5f          calla   block_hit_flail
         000002b0 00000000! 
     141                    
     142 000002d0     09e0          movi    [3,0],a0
         000002e0 00030000  
     143 00000300     b20d          move    a0,*a13(OBJ_YVEL),L
         00000310     02f0  
     144                    
     145 00000320     c079          jruc    hpgigotblk
     146                    
     147 00000330           hpginoblock
     148 00000330     b5a0          move    *a13(PLYRMODE),a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

         00000340     05c0  
     149 00000350     0b40          cmpi    MODE_ONGROUND,a0
         00000360     fffb  
     150 00000370     ca00          jrz     hpgiisdead
         00000380     00d1  
     151                    
     152 00000390                   GETLIFE
     153 000003e0     ca00          jrz     hpgiisdead
         000003f0     00ca  
     154                    
     155 00000400                   WRSNDX  LBOWDROP_L1,LBOWDROP_L2
     156                    
     157 00000740                   SETMODE NORMAL
     158                    
     159 000007f0                   FACETBL hpgilosebal
     160                    
     161 00000860     b541          move    *a10(WRESTLERNUM),a1
         00000870     0590  
     162 00000880     0b41          cmpi    3,a1
         00000890     fffc  
     163 000008a0     cb1e          jrnz    hpginotyok2
     164                            .ref    fall_back_tbl
     165 000008b0                   FACETBL fall_back_tbl
     166 00000920     0d5f          calla   change_anim1a
         00000930 00000000! 
     167                    
     168                    
     169                            .ref    hit_damage_pending
     170 00000950     09c0          movi    -D_GUTPUSH,a0
         00000960     fff1  
     171 00000970     0580          move    a0,@hit_damage_pending
         00000980 00000000! 
     172                    
     173                    
     174 000009a0     09e2          movi    [3,0],a2
         000009b0 00030000  
     175 000009d0     b540          move    *a10(OBJ_XPOSINT),a0
         000009e0     0110  
     176 000009f0     b5a1          move    *a13(OBJ_XPOSINT),a1
         00000a00     0110  
     177 00000a10     4801          cmp     a0,a1                   ;offx - defx
     178 00000a20     c703          jrgt    hpgifall_right          ;attacker on left
     179 00000a30     09e2          movi    [-3,0],a2
         00000a40 fffd0000  
     180 00000a60           hpgifall_right
     181 00000a60     b24d          move    a2,*a13(OBJ_XVEL),L
         00000a70     02d0  
     182                    
     183 00000a80     c003          jruc    hpgigotblk
     184                    
     185                    
     186 00000a90           hpginotyok2
     187 00000a90     0d5f          calla   change_anim1a
         00000aa0 00000000! 
     188                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

     189 00000ac0           hpgigotblk
     190 00000ac0     0d5f          calla   wres_collis_off
         00000ad0 00000000! 
     191                    
     192                    
     193 00000af0     09e0          movi    [3,0],a0
         00000b00 00030000  
     194 00000b20     b20a          move    a0,*a10(OBJ_YVEL),L
         00000b30     02f0  
     195                    
     196 00000b40     09c0          movi    MODE_NORMAL,a0
         00000b50     0000  
     197 00000b60     b00a          move    a0,*a10(PLYRMODE)
         00000b70     05c0  
     198                    
     199 00000b80     b540          move    *a10(PLYR_DIZZY),a0
         00000b90     0600  
     200 00000ba0     ca0e          jrz     hpginotdiz0
     201                    
     202 00000bb0     5600          clr     a0
     203 00000bc0     b00a          move    a0,*a10(RUN_TIME)
         00000bd0     07b0  
     204 00000be0                   SWAP    a10,a13
     205                    
     206 00000c10                   FACETBL hpgibncoff_dizzy
     207 00000c80     c02f          jruc    hpgicnt
     208                    
     209 00000c90           hpginotdiz0
     210 00000c90     b540          move    *a10(GETUP_TIME),a0
         00000ca0     0460  
     211 00000cb0     ca15          jrz     hpgiskipm
     212                    
     213                    
     214 00000cc0     b740          move    *a10(METER_PROC),a0,L
         00000cd0     0870  
     215 00000ce0     ca12          jrz     hpgiskipm                       ;skip if we don't have a getup meter
     216 00000cf0                   PUSH    a8,a9,a10
     217 00000d10     b608          move    *a0(PA8),a8,L
         00000d20     00c0  
     218 00000d30     b609          move    *a0(PA9),a9,L
         00000d40     00a0  
     219 00000d50     b60a          move    *a0(PA10),a10,L
         00000d60     0080  
     220 00000d70     09c1          movi    GETUP_PID,a1
         00000d80     012b  
     221 00000d90     09e7          movi    slide_offscr,a7
         00000da0 00000000! 
     222 00000dc0     0d5f          calla   XFERPROC
         00000dd0 00000000! 
     223 00000df0                   PULL    a8,a9,a10
     224                    
     225 00000e10     5600  hpgiskipm       clr     a0
     226 00000e20     b00a          move    a0,*a10(RUN_TIME)
         00000e30     07b0  
     227 00000e40     b00d          move    a0,*a13(RUN_TIME)
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

         00000e50     07b0  
     228 00000e60     b00a          move    a0,*a10(GETUP_TIME)
         00000e70     0460  
     229                    
     230                    
     231 00000e80                   SWAP    a10,a13
     232                    
     233 00000eb0                   FACE24TBL bncoff
     234 00000f80           hpgicnt
     235 00000f80     0d5f          calla   change_anim1a
         00000f90 00000000! 
     236 00000fb0                   SWAP    a10,a13
     237                    
     238 00000fe0     09e2          movi    [3,0],a2
         00000ff0 00030000  
     239 00001010     b540          move    *a10(OBJ_XPOSINT),a0
         00001020     0110  
     240 00001030     b5a1          move    *a13(OBJ_XPOSINT),a1
         00001040     0110  
     241 00001050     4801          cmp     a0,a1                   ;offx - defx
     242 00001060     c401          jrlt    hpgiright
     243 00001070     03a2          neg     a2
     244 00001080           hpgiright
     245 00001080     b24a          move    a2,*a10(OBJ_XVEL),L
         00001090     02d0  
     246                    
     247 000010a0           hpgiisdead
     248 000010a0     0d5f          calla   wres_collis_off
         000010b0 00000000! 
     249 000010d0     0960          rets
     250 000010e0     b5ae  hpgiskip        move    *a13(MOVE_DIR),a14
         000010f0     04b0  
     251                            .ref    new_victim_movedir
     252 00001100     058e          move    a14,@new_victim_movedir
         00001110 00000000! 
     253 00001130     0d5f          calla   wres_collis_off
         00001140 00000000! 
     254 00001160     0960          rets
     255                    
     256 00001170           hpgilosebal
     257 00001170 00000000!         .long   hrt_4_losebal_anim              ;0 Bret Hart
     258 00001190 00000000!         .long   rzr_4_losebal_anim              ;1 Razor Ramon
     259 000011b0 00000000!         .long   und_4_losebal_anim              ;2 Undertaker
     260 000011d0 00000000!         .long   yok_4_losebal_anim              ;3 Yokozuna
     261 000011f0 00000000!         .long   shn_4_losebal_anim              ;4 Shawn Michaels
     262 00001210 00000000!         .long   bam_4_losebal_anim              ;5 Bam Bam
     263 00001230 00000000!         .long   dnk_4_losebal_anim              ;6 Doink
     264 00001250 00000000!         .long   dnk_4_losebal_anim              ;7 spare
     265 00001270 00000000!         .long   lex_4_losebal_anim              ;8 Lex Luger
     266 00001290 00000000!         .long   dnk_4_losebal_anim              ;9 Referee
     267                    
     268 000012b0            SUBR    bncoff
     269                            .ref    rzr_2_bncoff_anim,rzr_4_bncoff_anim
     270                            .ref    hrt_2_bncoff_anim,hrt_4_bncoff_anim
     271                            .ref    bam_2_bncoff_anim,bam_4_bncoff_anim
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

     272                            .ref    yok_2_bncoff_anim,yok_4_bncoff_anim
     273                            .ref    shn_2_bncoff_anim,shn_4_bncoff_anim
     274                            .ref    lex_2_bncoff_anim,lex_4_bncoff_anim
     275                            .ref    und_2_bncoff_anim,und_4_bncoff_anim
     276                    
     277 000012b0 00000000!         .long   hrt_2_bncoff_anim,hrt_4_bncoff_anim     ;0 Bret Hart
     278 000012f0 00000000!         .long   rzr_2_bncoff_anim,rzr_4_bncoff_anim     ;1 Razor Ramon
     279 00001330 00000000!         .long   und_2_bncoff_anim,und_4_bncoff_anim     ;2 Undertaker
     280 00001370 00000000!         .long   yok_2_bncoff_anim,yok_4_bncoff_anim     ;3 Yokozuna
     281 000013b0 00000000!         .long   shn_2_bncoff_anim,shn_4_bncoff_anim     ;4 Shawn Michaels
     282 000013f0 00000000!         .long   bam_2_bncoff_anim,bam_4_bncoff_anim     ;5 Bam Bam
     283 00001430 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;6 Doink
     284 00001470 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;7 spare
     285 000014b0 00000000!         .long   lex_2_bncoff_anim,lex_4_bncoff_anim     ;8 Lex Luger
     286 000014f0 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;9 Referee
     287                    
     288 00001530            SUBR    bncoff_gate
     289                    
     290                            .ref    yok_2_bncoff_gate_anim,yok_4_bncoff_gate_anim
     291                    
     292 00001530 00000000!         .long   hrt_2_bncoff_anim,hrt_4_bncoff_anim     ;0 Bret Hart
     293 00001570 00000000!         .long   rzr_2_bncoff_anim,rzr_4_bncoff_anim     ;1 Razor Ramon
     294 000015b0 00000000!         .long   und_2_bncoff_anim,und_4_bncoff_anim     ;2 Undertaker
     295 000015f0 00000000!         .long   yok_2_bncoff_gate_anim,yok_4_bncoff_gate_anim   ;3 Yokozuna
     296 00001630 00000000!         .long   shn_2_bncoff_anim,shn_4_bncoff_anim     ;4 Shawn Michaels
     297 00001670 00000000!         .long   bam_2_bncoff_anim,bam_4_bncoff_anim     ;5 Bam Bam
     298 000016b0 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;6 Doink
     299 000016f0 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;7 spare
     300 00001730 00000000!         .long   lex_2_bncoff_anim,lex_4_bncoff_anim     ;8 Lex Luger
     301 00001770 00000000!         .long   dnk_2_bncoff_anim,dnk_4_bncoff_anim     ;9 Referee
     302                    
     303                    
     304 000017b0           hpgibncoff_dizzy
     305                            .ref    rzr_4_bncoff_dizzy_anim
     306                            .ref    hrt_4_bncoff_dizzy_anim
     307                            .ref    bam_4_bncoff_dizzy_anim
     308                            .ref    yok_4_bncoff_dizzy_anim
     309                            .ref    shn_4_bncoff_dizzy_anim
     310                            .ref    und_4_bncoff_dizzy_anim
     311                            .ref    lex_4_bncoff_dizzy_anim
     312                    
     313 000017b0 00000000!         .long   hrt_4_bncoff_dizzy_anim         ;0 Bret Hart
     314 000017d0 00000000!         .long   rzr_4_bncoff_dizzy_anim         ;1 Razor Ramon
     315 000017f0 00000000!         .long   und_4_bncoff_dizzy_anim         ;2 Undertaker
     316 00001810 00000000!         .long   yok_4_bncoff_dizzy_anim         ;3 Yokozuna
     317 00001830 00000000!         .long   shn_4_bncoff_dizzy_anim         ;4 Shawn Michaels
     318 00001850 00000000!         .long   bam_4_bncoff_dizzy_anim         ;5 Bam Bam
     319 00001870 00000000!         .long   dnk_4_bncoff_dizzy_anim         ;6 Doink
     320 00001890 00000000!         .long   dnk_4_bncoff_dizzy_anim         ;7 spare
     321 000018b0 00000000!         .long   lex_4_bncoff_dizzy_anim         ;8 Lex Luger
     322 000018d0 00000000!         .long   dnk_4_bncoff_dizzy_anim         ;9 Referee
     323                    
     324                    
     325 000018f0            SUBR   hit_puppet
     326                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

     327 000018f0     b5a1          move    *a13(PLYRMODE),a1
         00001900     05c0  
     328 00001910     0b41          cmpi    MODE_BLOCK,a1
         00001920     fff8  
     329 00001930     cb04          jrnz    katvnoblock
     330                    
     331 00001940     0d5f          calla   block_hit
         00001950 00000000! 
     332 00001970     0960          rets
     333                    
     334 00001980           katvnoblock
     335                            ;no need for this check now.  AMODE_PUPPET vs. dead guy won't even
     336                            ; register a collision now.
     337                    
     338 00001980            SUBR   hit_puppet_even_if_dead
     339 00001980                   SETMODE PUPPET
     340                    
     341 00001a30     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00001a40     03e0  
     342 00001a50     b3aa          move    a13,*a10(ATTACH_PROC),L
         00001a60     03e0  
     343                    
     344 00001a70     09e0          movi    wres_slave_anim,a0
         00001a80 00000000! 
     345 00001aa0     0d5f          calla   change_anim1a
         00001ab0 00000000! 
     346                    
     347 00001ad0     5600          clr     a0
     348 00001ae0     b00d          move    a0,*a13(GETUP_TIME)
         00001af0     0460  
     349                    
     350 00001b00     0d5f  katvdone        calla   wres_collis_off
         00001b10 00000000! 
     351 00001b30     0960          rets
     352                    
     353 00001b40            SUBR   hit_puppet_noflail
     354                    
     355 00001b40     b5a1          move    *a13(PLYRMODE),a1
         00001b50     05c0  
     356 00001b60     0b41          cmpi    MODE_BLOCK,a1
         00001b70     fff8  
     357 00001b80     cb04          jrnz    yolsnoblock
     358                    
     359 00001b90     0d5f          calla   block_hit
         00001ba0 00000000! 
     360 00001bc0     0960          rets
     361                    
     362 00001bd0           yolsnoblock
     363                            ;don't grab dead guys
     364 00001bd0     b5ae          move    *a13(PLYRMODE),a14
         00001be0     05c0  
     365 00001bf0     0b4e          cmpi    MODE_DEAD,a14
         00001c00     fff6  
     366 00001c10     ca18          jreq    yolsdone
     367                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     368 00001c20                   SETMODE PUPPET
     369                    
     370 00001cd0     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00001ce0     03e0  
     371 00001cf0     b3aa          move    a13,*a10(ATTACH_PROC),L
         00001d00     03e0  
     372                    
     373 00001d10     09e0          movi    wres_slave_anim,a0
         00001d20 00000000! 
     374 00001d40     0d5f          calla   change_anim1a
         00001d50 00000000! 
     375                    
     376 00001d70     5600          clr     a0
     377 00001d80     b00d          move    a0,*a13(GETUP_TIME)
         00001d90     0460  
     378                    
     379 00001da0     0d5f  yolsdone        calla   wres_collis_off
         00001db0 00000000! 
     380 00001dd0     0960          rets
     381                    
     382 00001de0            SUBR   hit_puppet2
     383                    
     384                    
     385 00001de0     b5a0          move    *a13(GETUP_TIME),a0
         00001df0     0460  
     386 00001e00     ca21          jrz     mttvout
     387                    
     388                            ;don't grab dead guys
     389 00001e10     b5ae          move    *a13(PLYRMODE),a14
         00001e20     05c0  
     390 00001e30     0b4e          cmpi    MODE_DEAD,a14
         00001e40     fff6  
     391 00001e50     ca23          jreq    mttvdone
     392                    
     393 00001e60                   SETMODE PUPPET
     394                    
     395 00001f10     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00001f20     03e0  
     396 00001f30     b3aa          move    a13,*a10(ATTACH_PROC),L
         00001f40     03e0  
     397                    
     398 00001f50     09e0          movi    wres_slave_anim,a0
         00001f60 00000000! 
     399 00001f80     0d5f          calla   change_anim1a
         00001f90 00000000! 
     400                    
     401 00001fb0     5600          clr     a0
     402 00001fc0     b00d          move    a0,*a13(GETUP_TIME)
         00001fd0     0460  
     403                    
     404 00001fe0     0d5f          calla   wres_collis_off
         00001ff0 00000000! 
     405 00002010     0960          rets
     406 00002020           mttvout
     407 00002020     b541          move    *a10(ANIMODE),a1
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   10

         00002030     0660  
     408 00002040     0b81          andni   MODE_STATUS2,a1
         00002050 00000200  
     409 00002070     b02a          move    a1,*a10(ANIMODE)
         00002080     0660  
     410                    
     411 00002090     0d5f  mttvdone        calla   wres_collis_off
         000020a0 00000000! 
     412 000020c0     0960          rets
     413                    
     414                    
     415 000020d0            SUBR   hit_puppet_hdgrab
     416                    
     417 000020d0     b5a0          move    *a13(SAFE_TIME),a0
         000020e0     0ac0  
     418 000020f0     ca09          jrz     yxqqnoblock
     419                    
     420 00002100     b5a1          move    *a13(PLYRMODE),a1
         00002110     05c0  
     421 00002120     0b41          cmpi    MODE_BLOCK,a1
         00002130     fff8  
     422 00002140     cb04          jrne    yxqqnoblock
     423                    
     424 00002150     0d5f          calla   block_hit_flail
         00002160 00000000! 
     425 00002180     0960          rets
     426                    
     427 00002190           yxqqnoblock
     428                            ;don't grab dead guys
     429 00002190     b5ae          move    *a13(PLYRMODE),a14
         000021a0     05c0  
     430 000021b0     0b4e          cmpi    MODE_DEAD,a14
         000021c0     fff6  
     431 000021d0     ca20          jreq    yxqqdone
     432                    
     433 000021e0     57ce          clr     a14
     434 000021f0     b1ca          move    a14,*a10(HITBLOCKER)
         00002200     0540  
     435                    
     436 00002210     05ae          move    @PCNT,a14
         00002220 00000000! 
     437 00002240     b1cd          move    a14,*a13(HEAD_GRAB_TIME)
         00002250     0c10  
     438                    
     439 00002260                   SETMODE PUPPET
     440                    
     441 00002310     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00002320     03e0  
     442 00002330     b3aa          move    a13,*a10(ATTACH_PROC),L
         00002340     03e0  
     443                    
     444 00002350     09e0          movi    wres_slave_anim,a0
         00002360 00000000! 
     445 00002380     0d5f          calla   change_anim1a
         00002390 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   11

     446                    
     447 000023b0     5600          clr     a0
     448 000023c0     b00d          move    a0,*a13(GETUP_TIME)
         000023d0     0460  
     449                    
     450 000023e0     0d5f  yxqqdone        calla   wres_collis_off
         000023f0 00000000! 
     451 00002410     0960          rets
     452                    
     453                    
     454 00002420            SUBR   hit_puppet_toss
     455                    
     456 00002420     b5a0          move    *a13(SAFE_TIME),a0
         00002430     0ac0  
     457 00002440     ca09          jrz     fxamnoblock
     458                    
     459 00002450     b5a1          move    *a13(PLYRMODE),a1
         00002460     05c0  
     460 00002470     0b41          cmpi    MODE_BLOCK,a1
         00002480     fff8  
     461 00002490     cb1e          jrnz    fxamnoblock2
     462                    
     463 000024a0     0d5f          calla   block_hit
         000024b0 00000000! 
     464 000024d0     0960          rets
     465                    
     466 000024e0           fxamnoblock
     467 000024e0     b5a1          move    *a13(PLYRMODE),a1
         000024f0     05c0  
     468 00002500     0b41          cmpi    MODE_BLOCK,a1
         00002510     fff8  
     469 00002520     cb15          jrnz    fxamnoblock2
     470                    
     471 00002530     b5ae          move    *a13(STICK_VAL_CUR),a14
         00002540     0bc0  
     472 00002550     0b8e          andi    0ch,a14
         00002560 fffffff3  
     473 00002580     ca0f          jrz     fxamnoblock2
     474 00002590     b5a1          move    *a13(NEW_FACING_DIR),a1
         000025a0     04d0  
     475 000025b0     0b81          andi    0ch,a1
         000025c0 fffffff3  
     476 000025e0     49c1          cmp     a14,a1
     477 000025f0     ca08          jrz     fxamnoblock2
     478                    
     479 00002600     b5ae          move    *a13(STICK_VAL_CUR),a14
         00002610     0bc0  
     480 00002620     1fce          btst    1,a14
     481 00002630     ca04          jrz     fxamnoblock2
     482                    
     483 00002640     0d5f          calla   block_hit
         00002650 00000000! 
     484 00002670     0960          rets
     485                    
     486                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   12

     487 00002680           fxamnoblock2
     488                    
     489                    
     490 00002680     57ce          clr     a14
     491 00002690     b1ca          move    a14,*a10(HITBLOCKER)
         000026a0     0540  
     492                    
     493                    
     494 000026b0                   SETMODE PUPPET
     495                    
     496 00002760     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00002770     03e0  
     497 00002780     b3aa          move    a13,*a10(ATTACH_PROC),L
         00002790     03e0  
     498                    
     499 000027a0     09e0          movi    wres_slave_anim,a0
         000027b0 00000000! 
     500 000027d0     0d5f          calla   change_anim1a
         000027e0 00000000! 
     501                    
     502 00002800     5600          clr     a0
     503 00002810     b00d          move    a0,*a13(GETUP_TIME)
         00002820     0460  
     504                    
     505 00002830     0d5f  fxamdone        calla   wres_collis_off
         00002840 00000000! 
     506 00002860     0960          rets
     507                    
     508 00002870            SUBR   hit_backhand
     509                    
     510 00002870     b5a1          move    *a13(PLYRMODE),a1
         00002880     05c0  
     511 00002890     0b41          cmpi    MODE_BLOCK,a1
         000028a0     fff8  
     512 000028b0     cb04          jrnz    kqywnoblock
     513                    
     514 000028c0     0d5f          calla   block_hit_flail
         000028d0 00000000! 
     515 000028f0     0960          rets
     516                    
     517 00002900           kqywnoblock
     518                    
     519                            ;if it's shawn, do 33h instead of 43h
     520 00002900     09c0          movi    33h,a0
         00002910     0033  
     521 00002920     b54e          move    *a10(WRESTLERNUM),a14
         00002930     0590  
     522 00002940     148e          subk    W_SHAWN,a14
     523 00002950     ca02          jrz     kqywsnd_ok
     524 00002960     09c0          movi    43h,a0
         00002970     0043  
     525 00002980     0d5f  kqywsnd_ok      calla   triple_sound
         00002990 00000000! 
     526                    
     527 000029b0     0d5f          calla   CALL_AVERAGE_MOVE
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   13

         000029c0 00000000! 
     528                    
     529 000029e0                   GETLIFE
     530 00002a30     ca41          jrz     kqywisdead
     531                    
     532 00002a40                   WRSNDX  UPRCUT_L2
     533                    
     534                    
     535                    
     536 00002be0                   SETMODE NORMAL
     537 00002c90     b5ae          move    *a13(OBJ_YPOSINT),a14
         00002ca0     0130  
     538 00002cb0     b5a0          move    *a13(GROUND_Y),a0
         00002cc0     0570  
     539 00002cd0     440e          sub     a0,a14
     540 00002ce0     0b4e          cmpi    20,a14
         00002cf0     ffeb  
     541 00002d00     c518          jrge    kqywfall_back
     542                    
     543                    
     544 00002d10                   FACE24TBL kqywhead_hit2
     545 00002de0     0d5f          calla   change_anim1a
         00002df0 00000000! 
     546 00002e10     0d5f          calla   wres_collis_off
         00002e20 00000000! 
     547                    
     548 00002e40     0960          rets
     549                    
     550 00002e50           kqywisdead
     551 00002e50     0d5f          calla   wres_collis_off
         00002e60 00000000! 
     552 00002e80     0960          rets
     553                    
     554 00002e90           kqywfall_back
     555 00002e90                   FACETBL fall_back_tbl
     556                    
     557 00002f00     0d5f          calla   change_anim1a
         00002f10 00000000! 
     558 00002f30     0d5f          calla   wres_collis_off
         00002f40 00000000! 
     559                    
     560 00002f60     09e2          movi    [3,0],a2
         00002f70 00030000  
     561 00002f90     b540          move    *a10(OBJ_XPOSINT),a0
         00002fa0     0110  
     562 00002fb0     b5a1          move    *a13(OBJ_XPOSINT),a1
         00002fc0     0110  
     563 00002fd0     4801          cmp     a0,a1                   ;offx - defx
     564 00002fe0     c701          jrgt    kqywfall_right          ;attacker on left
     565 00002ff0     03a2          neg     a2
     566 00003000           kqywfall_right
     567 00003000     b24d          move    a2,*a13(OBJ_XVEL),L
         00003010     02d0  
     568                    
     569 00003020     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   14

     570                    
     571 00003030           kqywhead_hit2
     572                            .ref    lex_2_head_hit3_anim,lex_4_head_hit3_anim
     573                            .ref    rzr_2_head_hit3_anim,rzr_4_head_hit3_anim
     574                            .ref    yok_2_head_hit3_anim,yok_4_head_hit3_anim
     575                            .ref    hrt_2_head_hit3_anim,hrt_4_head_hit3_anim
     576                    
     577 00003030 00000000!         .long   hrt_2_head_hit3_anim,hrt_4_head_hit3_anim               ;0 Bret Hart
     578 00003070 00000000!         .long   rzr_2_head_hit3_anim,rzr_4_head_hit3_anim               ;1 Razor Ramon
     579 000030b0 00000000!         .long   und_2_head_hit2_anim,und_4_head_hit2_anim               ;2 Undertaker
     580 000030f0 00000000!         .long   yok_2_head_hit3_anim,yok_4_head_hit3_anim               ;3 Yokozuna
     581 00003130 00000000!         .long   shn_2_head_hit3_anim,shn_4_head_hit3_anim               ;4 Shawn Michaels
     582 00003170 00000000!         .long   bam_2_head_hit2_anim,bam_4_head_hit2_anim               ;5 Bam Bam
     583 000031b0 00000000!         .long   dnk_2_head_hit2_anim,dnk_4_head_hit2_anim               ;6 Doink
     584 000031f0 00000000          .long   0,0                                                     ;7 spare
     585 00003230 00000000!         .long   lex_2_head_hit3_anim,lex_4_head_hit3_anim               ;8 Lex Luger
     586 00003270 00000000          .long   0,0                                                     ;9 Referee
     587                    
     588                    
     589 000032b0            SUBR   hit_earslap
     590                    
     591 000032b0     b5a1          move    *a13(PLYRMODE),a1
         000032c0     05c0  
     592 000032d0     0b41          cmpi    MODE_BLOCK,a1
         000032e0     fff8  
     593 000032f0     cb04          jrnz    jrpnnoblock
     594                    
     595 00003300     0d5f          calla   block_hit
         00003310 00000000! 
     596 00003330     0960          rets
     597                    
     598 00003340           jrpnnoblock
     599                    
     600 00003340     09c0          movi    43h,a0
         00003350     0043  
     601 00003360     0d5f          calla   triple_sound
         00003370 00000000! 
     602                    
     603 00003390                   GETLIFE
     604 000033e0     ca2f          jrz     jrpnisdead
     605                    
     606 000033f0                   WRSNDX  HDBUTT_L2
     607                    
     608                    
     609 00003590                   SETMODE NORMAL
     610                    
     611 00003640                   FACETBL jrpnhead_hit2
     612 000036b0     0d5f          calla   change_anim1a
         000036c0 00000000! 
     613                    
     614 000036e0           jrpnisdead
     615 000036e0     0d5f          calla   wres_collis_off
         000036f0 00000000! 
     616 00003710     0960          rets
     617                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   15

     618 00003720           jrpnhead_hit2
     619                            .ref    lex_4_head_hit4_anim
     620                            .ref    rzr_4_head_hit4_anim
     621                            .ref    yok_4_head_hit4_anim
     622                            .ref    hrt_4_head_hit4_anim
     623                            .ref    und_4_head_hit4_anim
     624                            .ref    bam_4_head_hit4_anim
     625                            .ref    dnk_4_head_hit4_anim
     626                            .ref    shn_4_head_hit4_anim
     627                    
     628 00003720 00000000!         .long   hrt_4_head_hit4_anim            ;0 Bret Hart
     629 00003740 00000000!         .long   rzr_4_head_hit4_anim            ;1 Razor Ramon
     630 00003760 00000000!         .long   und_4_head_hit4_anim            ;2 Undertaker
     631 00003780 00000000!         .long   yok_4_head_hit4_anim            ;3 Yokozuna
     632 000037a0 00000000!         .long   shn_4_head_hit4_anim            ;4 Shawn Michaels
     633 000037c0 00000000!         .long   bam_4_head_hit4_anim            ;5 Bam Bam
     634 000037e0 00000000!         .long   dnk_4_head_hit4_anim            ;6 Doink
     635 00003800 00000000          .long   0                                                       ;7 spare
     636 00003820 00000000!         .long   lex_4_head_hit4_anim            ;8 Lex Luger
     637 00003840 00000000          .long   0                                                       ;9 Referee
     638                    
     639                    
     640                    
     641 00003860            SUBR   hit_buzz
     642                    
     643 00003860     b5a1          move    *a13(PLYRMODE),a1
         00003870     05c0  
     644 00003880     0b41          cmpi    MODE_BLOCK,a1
         00003890     fff8  
     645 000038a0     cb04          jrnz    lxyqnoblock
     646                    
     647 000038b0     0d5f          calla   block_hit
         000038c0 00000000! 
     648 000038e0     0960          rets
     649                    
     650 000038f0           lxyqnoblock
     651                    
     652                    
     653                    
     654 000038f0                   GETLIFE
     655 00003940     ca0b          jrz     lxyqisdead
     656                    
     657 00003950                   SETMODE NORMAL
     658                    
     659 00003a00           lxyqisdead
     660 00003a00     b34d          move    a10,*a13(ATTACH_PROC),L         ;proc attached to
         00003a10     03e0  
     661 00003a20     b3aa          move    a13,*a10(ATTACH_PROC),L
         00003a30     03e0  
     662                    
     663                    
     664                    
     665 00003a40                   WRSNDX  PUNCH_L1,PUNCH_L2
     666                    
     667 00003d80                   FACETBL lxyqget_buzz
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   16

     668 00003df0     0d5f          calla   change_anim1a
         00003e00 00000000! 
     669 00003e20     0d5f          calla   wres_collis_off
         00003e30 00000000! 
     670                    
     671 00003e50     0960          rets
     672                    
     673 00003e60           lxyqget_buzz
     674 00003e60 00000000!         .long   hrt_get_buzz_anim               ;0 Bret Hart
     675 00003e80 00000000!         .long   rzr_get_buzz_anim               ;1 Razor Ramon
     676 00003ea0 00000000!         .long   und_get_buzz_anim               ;2 Undertaker
     677 00003ec0 00000000!         .long   yok_get_buzz_anim               ;3 Yokozuna
     678 00003ee0 00000000!         .long   shn_get_buzz_anim               ;4 Shawn Michaels
     679 00003f00 00000000!         .long   bam_get_buzz_anim               ;5 Bam Bam
     680 00003f20 00000000!         .long   dnk_get_buzz_anim               ;6 Doink
     681 00003f40 00000000          .long   0                               ;7 spare
     682 00003f60 00000000!         .long   lex_get_buzz_anim               ;8 Lex Luger
     683 00003f80 00000000          .long   0                               ;9 Referee
     684                    
     685 00003fa0            SUBR   hit_haymaker
     686                    
     687 00003fa0     b5a1          move    *a13(PLYRMODE),a1
         00003fb0     05c0  
     688 00003fc0     0b41          cmpi    MODE_BLOCK,a1
         00003fd0     fff8  
     689 00003fe0     cb04          jrnz    arvpnoblock
     690                    
     691 00003ff0     0d5f          calla   block_hit_flail
         00004000 00000000! 
     692 00004020     0960          rets
     693                    
     694 00004030           arvpnoblock
     695                    
     696                    
     697                    
     698                    
     699 00004030                   WRSNDX  FLYKICK_L1,FLYKICK_L2
     700 00004370                   GETLIFE
     701 000043c0     ca0b          jrz     arvpskip
     702                    
     703 000043d0                   SETMODE NORMAL
     704 00004480           arvpskip
     705 00004480                   FACETBL arvpfall_back
     706 000044f0     0d5f          calla   change_anim1a
         00004500 00000000! 
     707                    
     708 00004520     09e2          movi    [4,0],a2
         00004530 00040000  
     709 00004550     b540          move    *a10(OBJ_XPOSINT),a0
         00004560     0110  
     710 00004570     b5a1          move    *a13(OBJ_XPOSINT),a1
         00004580     0110  
     711 00004590     4801          cmp     a0,a1                   ;offx - defx
     712 000045a0     c701          jrgt    arvpgo_rgt                      ;attacker on left
     713 000045b0     03a2          neg     a2
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:26 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   17

     714 000045c0           arvpgo_rgt
     715 000045c0     b24d          move    a2,*a13(OBJ_XVEL),L
         000045d0     02d0  
     716                    
     717 000045e0           arvpisdead
     718 000045e0     0d5f          calla   wres_collis_off
         000045f0 00000000! 
     719 00004610     0960          rets
     720                    
     721 00004620           arvpfall_back
     722 00004620 00000000!         .long   hrt_fall_back_anim              ;0 Bret Hart
     723 00004640 00000000!         .long   rzr_fall_back_anim              ;1 Razor Ramon
     724 00004660 00000000!         .long   und_fall_back_anim              ;2 Undertaker
     725 00004680 00000000!         .long   yok_fall_back_anim              ;3 Yokozuna
     726 000046a0 00000000!         .long   shn_fall_back_anim              ;4 Shawn Michaels
     727 000046c0 00000000!         .long   bam_fall_back_anim              ;5 Bam Bam
     728 000046e0 00000000!         .long   dnk_fall_back_anim              ;6 Doink
     729 00004700 00000000          .long   0                               ;7 spare
     730 00004720 00000000!         .long   lex_fall_back_anim              ;8 Lex Luger
     731 00004740 00000000          .long   0                               ;9 Referee
     732                    
     733                    
     734                    
     735                            .end

 No Errors,  No Warnings
