TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    
       2                            .file   "shawn.asm"
       4                            .width  132
       5                            .option b,d,l,t
       6                            .mnolist
       7                    
       8                    
       9                            .include        "macros.h"
      10                            .include        "mproc.equ"             ;Mproc equates
      11                            .include        "display.equ"           ;Display proc equates
      12                            .include        "gsp.equ"               ;Gsp asm equates
      13                            .include        "sys.equ"
      14                            .include        "game.equ"
      15                            .include        "plyr.equ"
      16                            .include        "anim.equ"
      17                            .include        "audit.equ"
      18                            .include        "sound.h"
      19                            .include        "ring.equ"
      20                            .include        "lifebar.h"
      21                            .include        "jjxm.h"
      22                            .include        "damage.equ"
      23                    
      24                    
      25                    
      26                            .ref    change_anim1a,change_anim2a,do_taunt
      27                            .ref    shn_2_hair_pickup_anim,bounce_off_ropes
      28                            .ref    check_secret_moves,ck_teammate_pin,raisearm_check
      29                            .ref    master_keep_attached,round_award,set_raisearm_bit
      30                            .ref    ck_ignore,climb_turnbuckle,execute_walk,get_opp_plyrmode
      31                            .ref    get_punch_dtime,get_opp_process,std_taunt,std_walk_fast
      32                            .ref    process_ptrs,form_button_value,keep_attached,change_anim1
      33                            .ref    change_anim2,halve_combo_meter,HALT
      34                            .ref    mode_inair2,mode_choking,mode_puppet
      35                            .ref    JUMP_ROPES,DO_REVERSAL,DO_REVERSAL_MESS
      36                            .ref    CHECK_COMBO_GO,FIND_AND_KILL_ENDLESS
      37                            .ref    CLIMB_ROPES,ADD_IF_SILENT,PCNT
      38                            .ref    get_powerk_dtime,drone_change_back
      39                    
      40                            .ref    BONUS_MESS,can_pin
      41                            .ref    blocking_off
      42                            .ref    hyper_speed_on
      43                            .ref    in_finish_move
      44                            .ref    p1rounds,p2rounds
      45                            .if NUM_SHAWN_FINISHES
      46                            .ref    shn_finish1_move
      47                            .if NUM_SHAWN_FINISHES > 1
      48                            .ref    shn_finish2_move
      49                            .endif
      50                            .endif
      51                    
      52                    
      53                            .ref    shn_rpt_hdbutts_anim
      54                            .ref    shn_3_head_hold2_anim
      55                            .ref    shn_3_head_hold_anim
      56                            .ref    start_run_anim
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                    
      58                            ;stands
      59                            .ref    shn_stand2_anim,shn_stand8_anim
      60                            .ref    shn_stand4_anim,shn_stand6_anim
      61                            .ref    shn_torso2_anim,shn_torso8_anim
      62                            .ref    shn_torso4_anim,shn_torso6_anim
      63                            .ref    shn_3_head_held_stand_anim
      64                    
      65                            ;turns
      66                            .ref    shn_2_to_4_turn_anim,shn_8_to_6_turn_anim       ;stand
      67                            .ref    shn_4_to_2_turn_anim,shn_6_to_8_turn_anim
      68                            .ref    shn_4_to_6_turn_anim,shn_6_to_4_turn_anim
      69                            .ref    shn_2_to_8_turn_anim,shn_8_to_2_turn_anim
      70                            .ref    shn_4_to_8_turn_anim,shn_6_to_2_turn_anim
      71                            .ref    shn_2_to_6_turn_anim,shn_8_to_4_turn_anim
      72                    
      73                            .ref    shn_2_to_4_turn2_anim,shn_8_to_6_turn2_anim     ;torso
      74                            .ref    shn_4_to_2_turn2_anim,shn_6_to_8_turn2_anim
      75                            .ref    shn_4_to_6_turn2_anim,shn_6_to_4_turn2_anim
      76                            .ref    shn_2_to_8_turn2_anim,shn_8_to_2_turn2_anim
      77                            .ref    shn_4_to_8_turn2_anim,shn_6_to_2_turn2_anim
      78                            .ref    shn_2_to_6_turn2_anim,shn_8_to_4_turn2_anim
      79                    
      80                            ;walks
      81                            .ref    shn_walk1_f2_anim,shn_walk2_f2_anim,shn_walk4_f2_anim
      82                            .ref    shn_walk5_f2_anim,shn_walk6_f2_anim,shn_walk8_f2_anim
      83                            .ref    shn_walk1_f4_anim,shn_walk2_f4_anim,shn_walk4_f4_anim
      84                            .ref    shn_walk5_f4_anim,shn_walk6_f4_anim,shn_walk8_f4_anim
      85                    
      86                            .ref    shn_run2_anim,shn_climb_down_anim,shn_climb_up_anim
      87                    
      88                            ;mundane attacks
      89                            .ref    shn_2_punch_anim,shn_4_punch_anim
      90                            .ref    shn_2_kick_anim,shn_4_kick_anim
      91                            .ref    shn_4_push_anim
      92                            .ref    shn_2_butt_anim,shn_4_butt_anim
      93                            .ref    shn_2_knee_anim,shn_4_knee_anim
      94                            .ref    shn_2_stomp_anim,shn_4_stomp_anim
      95                            .ref    shn_2_falling_punch_anim,shn_4_falling_punch_anim
      96                            .ref    shn_bstomp_anim,shn_belbow_anim
      97                            .ref    shn_flipslam_anim
      98                    
      99                            ;special attacks
     100                            .ref    shn_4_hair_pickup_anim
     101                            .ref    shn_spinkick_anim,shn_flying_kick_anim
     102                            .ref    shn_gsuplex_anim,shn_run_stomp_anim
     103                            .ref    shn_2_raise_arm_anim,shn_4_raise_arm_anim
     104                            .ref    shn_super_speedkick_anim
     105                            .ref    shn_fstein_anim
     106                            .ref    shn_2_pin_anim,shn_4_pin_anim
     107                            .ref    shn_2_hiptoss_anim
     108                            .ref    shn_4_hiptoss_anim
     109                            .ref    shn_2_hiptoss2_anim
     110                            .ref    shn_4_hiptoss2_anim
     111                            .ref    shn_speed_spinkick_anim,shn_knee_fstein_anim
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

     112                            .ref    shn_sliding_kicktoss_anim,shn_break_arm_anim
     113                            .ref    shn_4_jump_kick_anim
     114                            .ref    shn_gsuplex_run_anim
     115                    
     116                            .ref    shn_2_slap_anim,shn_4_slap_anim
     117                            .ref    shn_4_pummel_anim,shn_2_pummel_anim
     118                    
     119                            ;reactions
     120                            .ref    shn_dizzy_anim,shn_fall_back_anim
     121                            .ref    shn_2_grabfling_anim,shn_4_grabfling_anim
     122                    
     123                            ;blocks
     124                            .ref    shn_4_block_anim
     125                    
     126                            ;combos
     127                            .ref    shn_combo_kick_anim,shn_combo_punch_anim
     128                            .ref    BLOCK_WOOSH
     129                    
     130                    
     131                    
     132                    
     133 00000000           shn_secret_moves
     134 00000000 00001890'         .long   xsqbcharge_flying_kick  ;must have this one
     135 00000020 00000da0'         .long   xsqbgrab_fling
     136 00000040 00000700'         .long   xsqbhip_toss
     137 00000060 00000c10'         .long   xsqbgrab_fling2
     138 00000080 00000c60'         .long   xsqbhip_toss2
     139 000000a0 000014d0'         .long   xsqbneck_grab
     140 000000c0 00001e30'         .long   xsqbfrankensteiner
     141 000000e0 000002e0'         .long   xsqbjump_kick
     142 00000100 00000000          .long   0
     143                    
     144                    
     145 00000120            SUBR   shn_smove_table
     146 00000120 000094b0'         .long   shn_hdhold_combo2
     147 00000140 00008510'         .long   shn_hdhold_combo1
     148 00000160 000075e0'         .long   shn_charge_suplex
     149 00000180 00002260'         .long   shn_swirl_speedkick
     150 000001a0 00007b10'         .long   shn_sliding_kicktoss
     151 000001c0 00004970'         .long   shn_hdhold_suplex
     152 000001e0 00006080'         .long   shn_hdhold_frank
     153 00000200 000054f0'         .long   shn_hdhold_kicktoss
     154 00000220 00006c00'         .long   shn_hdhold_butts
     155 00000240 00003130'         .long   shn_flipslam            ;Can do from headhold also
     156 00000260 00003c70'         .long   shn_grab_toss_air
     157 00000280 00000000!         .long   std_walk_fast
     158 000002a0 00000000!         .long   std_taunt
     159                    
     160                            .if NUM_SHAWN_FINISHES
     161                            .long   shn_finish_move1
     162                            .endif
     163                            .if NUM_SHAWN_FINISHES > 1
     164                            .long   shn_finish_move2
     165                            .endif
     166 000002c0 00000000          .long   0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

     167                    
     168                    
     169 000002e0           xsqbjump_kick
     170 000002e0     0100          .word   B_SKICK,                J_ALL
     171 00000300     0004          .word   J_AWAY,                 J_REAL_LR | J_UP | J_DOWN
     172 00000320     0004          .word   J_AWAY,                 J_REAL_LR | J_UP | J_DOWN
     173 00000340     8020          .word   8000h | 32              ;max
     174 00000350 00000370'         .long   xsqbscrt_flykick
     175                    
     176 00000370           xsqbscrt_flykick
     177 00000370     b5a0          move    *a13(ANIMODE),a0
         00000380     0660  
     178 00000390     1fa0          btst    MODE_UNINT_BIT,a0
     179 000003a0     cb00          jrnz    xsqbout
         000003b0     0145  
     180                    
     181 000003c0     0d5f          calla   get_opp_plyrmode
         000003d0 00000000! 
     182 000003f0     0b40          cmpi    MODE_ONGROUND,a0
         00000400     fffb  
     183 00000410     ca00          jrz     xsqbout
         00000420     013e  
     184 00000430     0b40          cmpi    MODE_DEAD,a0
         00000440     fff6  
     185 00000450     ca00          jrz     xsqbout
         00000460     013a  
     186 00000470     0b40          cmpi    MODE_HEADHELD,a0
         00000480     ffec  
     187 00000490     ca00          jrz     xsqbout
         000004a0     0136  
     188 000004b0     0b40          cmpi    MODE_ATTACHED,a0
         000004c0     fffc  
     189 000004d0     ca00          jrz     xsqbout
         000004e0     0132  
     190                    
     191 000004f0     09e0          movi    shn_4_jump_kick_anim,a0
         00000500 00000000! 
     192 00000520     0d5f          calla   change_anim1a
         00000530 00000000! 
     193                    
     194 00000550                   WRSND   W_SHAWN,FLYKICK_T1,FLYKICK_T2
     195                    
     196 000006f0     0960          rets
     197                    
     198                    
     199 00000700           xsqbhip_toss
     200                    
     201 00000700     0010          .word   B_PUNCH,                J_ALL
     202 00000720     0004          .word   J_AWAY,         J_REAL_LR
     203 00000740     0004          .word   J_AWAY,         J_REAL_LR
     204 00000760     8020          .word   8000h | 32              ;max
     205 00000770 00000790'         .long   xsqbscrt_hiptoss
     206                    
     207                    
     208 00000790           xsqbscrt_hiptoss
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

     209 00000790     b5a0          move    *a13(ANIMODE),a0
         000007a0     0660  
     210 000007b0     1fa0          btst    MODE_UNINT_BIT,a0
     211 000007c0     cb00          jrnz    xsqbout
         000007d0     0103  
     212                    
     213 000007e0     0d5f          calla   get_opp_plyrmode
         000007f0 00000000! 
     214 00000810     0b40          cmpi    MODE_ONGROUND,a0
         00000820     fffb  
     215 00000830     ca00          jrz     xsqbout
         00000840     00fc  
     216 00000850     0b40          cmpi    MODE_DEAD,a0
         00000860     fff6  
     217 00000870     ca00          jrz     xsqbout
         00000880     00f8  
     218 00000890     0b40          cmpi    MODE_HEADHELD,a0
         000008a0     ffec  
     219 000008b0     ca00          jrz     xsqbout
         000008c0     00f4  
     220 000008d0     0b40          cmpi    MODE_INAIR,a0
         000008e0     fffd  
     221 000008f0     ca09          jrz     xsqbdoit
     222 00000900     0b40          cmpi    MODE_INAIR2,a0
         00000910     ffea  
     223 00000920     ca06          jrz     xsqbdoit
     224                    
     225 00000930     b5a0          move    *a13(CLOSEST_DIST),a0
         00000940     0360  
     226 00000950     0b40          cmpi    70h,a0
         00000960     ff8f  
     227 00000970     c700          jrgt    xsqbout
         00000980     00e8  
     228                    
     229 00000990           xsqbdoit
     230 00000990                   FACE24  shn,hiptoss_anim
     231 00000a30     0d5f          calla   change_anim1a
         00000a40 00000000! 
     232                    
     233 00000a60                   WRSND   W_SHAWN,HIPTOSS_T1,PUNCH_T2
     234 00000c00     0960          rets
     235                    
     236                    
     237 00000c10           xsqbgrab_fling2
     238 00000c10     0044          .word   B_SPUNCH | J_AWAY,      J_REAL_LR | J_UP | J_DOWN
     239 00000c30     800a          .word   8000h | 10              ;max
     240 00000c40 00000cb0'         .long   xsqbscrt_grabfling2
     241                    
     242 00000c60           xsqbhip_toss2
     243 00000c60     0014          .word   B_PUNCH | J_AWAY,       J_REAL_LR | J_UP | J_DOWN
     244 00000c80     800a          .word   8000h | 10              ;max
     245 00000c90 00000cb0'         .long   xsqbscrt_grabfling2
     246                    
     247 00000cb0           xsqbscrt_grabfling2
     248 00000cb0     b5a0          move    *a13(ANIMODE),a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

         00000cc0     0660  
     249 00000cd0     1fa0          btst    MODE_UNINT_BIT,a0
     250 00000ce0     cb00          jrnz    xsqbout
         00000cf0     00b1  
     251                    
     252 00000d00     0d5f          calla   get_opp_plyrmode
         00000d10 00000000! 
     253 00000d30     0b40          cmpi    MODE_BOUNCING,a0
         00000d40     fffa  
     254 00000d50     ca1b          jrz     xsqbyes
     255 00000d60     0b40          cmpi    MODE_RUNNING,a0
         00000d70     fffe  
     256 00000d80     ca18          jrz     xsqbyes
     257 00000d90     0960          rets
     258                    
     259                    
     260 00000da0           xsqbgrab_fling
     261                    
     262 00000da0     0040          .word   B_SPUNCH,               J_ALL
     263 00000dc0     0004          .word   J_AWAY,         J_REAL_LR
     264 00000de0     0004          .word   J_AWAY,         J_REAL_LR
     265 00000e00     8020          .word   8000h | 32              ;max
     266 00000e10 00000e30'         .long   xsqbscrt_grabfling
     267                    
     268 00000e30           xsqbscrt_grabfling
     269                    
     270                    
     271 00000e30     b5a0          move    *a13(ANIMODE),a0
         00000e40     0660  
     272 00000e50     1fa0          btst    MODE_UNINT_BIT,a0
     273 00000e60     cb00          jrnz    xsqbout
         00000e70     0099  
     274                    
     275 00000e80     0d5f          calla   get_opp_plyrmode
         00000e90 00000000! 
     276 00000eb0     0b40          cmpi    MODE_BOUNCING,a0
         00000ec0     fffa  
     277 00000ed0     ca03          jrz     xsqbyes
     278 00000ee0     0b40          cmpi    MODE_RUNNING,a0
         00000ef0     fffe  
     279 00000f00     cb28          jrnz    xsqbnope
     280 00000f10           xsqbyes
     281 00000f10                   FACE24  shn,hiptoss_anim
     282 00000fb0     0d5f          calla   change_anim1a
         00000fc0 00000000! 
     283                    
     284 00000fe0                   WRSND   W_SHAWN,GRABFLING_T1,PUNCH_T2
     285 00001180     0960          rets
     286                    
     287 00001190           xsqbnope
     288 00001190     0d5f          calla   get_opp_plyrmode
         000011a0 00000000! 
     289 000011c0     0b40          cmpi    MODE_HEADHELD,a0
         000011d0     ffec  
     290 000011e0     ca62          jrz     xsqbout
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

     291 000011f0     0b40          cmpi    MODE_ONGROUND,a0
         00001200     fffb  
     292 00001210     ca5f          jrz     xsqbout
     293 00001220     0b40          cmpi    MODE_DEAD,a0
         00001230     fff6  
     294 00001240     ca5c          jrz     xsqbout
     295                    
     296                    
     297 00001250                   FACE24  shn,grabfling_anim
     298 000012f0     0d5f          calla   change_anim1a
         00001300 00000000! 
     299                    
     300 00001320                   WRSND   W_SHAWN,GRABFLING_T1,PUNCH_T2
     301 000014c0     0960          rets
     302                    
     303                    
     304 000014d0           xsqbneck_grab
     305 000014d0     0040          .word   B_SPUNCH,               J_ALL
     306 000014f0     0008          .word   J_TOWARD,               J_REAL_LR
     307 00001510     0008          .word   J_TOWARD,               J_REAL_LR
     308 00001530     8020          .word   8000h | 32              ;max
     309 00001540 00001560'         .long   xsqbscrt_neck
     310                    
     311 00001560           xsqbscrt_neck
     312 00001560     b5a0          move    *a13(ANIMODE),a0
         00001570     0660  
     313 00001580     1fa0          btst    MODE_UNINT_BIT,a0
     314 00001590     cb27          jrnz    xsqbout
     315                    
     316 000015a0     0d5f          calla   get_opp_plyrmode
         000015b0 00000000! 
     317 000015d0     0b40          cmpi    MODE_ONGROUND,a0
         000015e0     fffb  
     318 000015f0     ca21          jrz     xsqbout
     319 00001600     0b40          cmpi    MODE_DEAD,a0
         00001610     fff6  
     320 00001620     ca1e          jrz     xsqbout
     321 00001630     0b40          cmpi    MODE_HEADHELD,a0
         00001640     ffec  
     322 00001650     ca1b          jrz     xsqbout
     323                    
     324 00001660     b7ae          move    *a13(LAST_HEADHOLD),a14,L
         00001670     0cd0  
     325 00001680     07a0          move    @PCNT,a0,L
         00001690 00000000! 
     326 000016b0     45c0          sub     a14,a0
     327 000016c0     0b40          cmpi    2*60,a0
         000016d0     ff87  
     328 000016e0     c507          jrge    xsqbok2a
     329                    
     330                            .ref    shn_3_fake_hold_anim
     331 000016f0     09e0          movi    shn_3_fake_hold_anim,a0
         00001700 00000000! 
     332 00001720     0d5f          calla   change_anim1a
         00001730 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

     333 00001750     0960          rets
     334                    
     335 00001760           xsqbok2a
     336 00001760     b5a1          move    *a13(CLOSEST_XDIST),a1
         00001770     0370  
     337 00001780     0b41          cmpi    90,a1
         00001790     ffa5  
     338 000017a0     c707          jrgt    xsqbstd_grab
     339                    
     340 000017b0     09e0          movi    shn_3_head_hold2_anim,a0
         000017c0 00000000! 
     341 000017e0     0d5f          calla   change_anim1a
         000017f0 00000000! 
     342 00001810     0960  xsqbout rets
     343                    
     344 00001820           xsqbstd_grab
     345 00001820     09e0          movi    shn_3_head_hold_anim,a0
         00001830 00000000! 
     346 00001850     0d5f          calla   change_anim1a
         00001860 00000000! 
     347 00001880     0960          rets
     348                    
     349                    
     350 00001890           xsqbcharge_flying_kick
     351 00001890     b5a0          move    *a13(BUT_VAL_UP),a0
         000018a0     0bb0  
     352 000018b0     1f60          btst    PLAYER_SKICK_BIT,a0
     353 000018c0     ca0c          jrz     xsqbno_kick
     354                    
     355 000018d0     b5a0          move    *a13(PLYRNUM),a0
         000018e0     0580  
     356 000018f0     0d5f          calla   get_powerk_dtime
         00001900 00000000! 
     357 00001920     0b40          cmpi    85,a0                   ;> min?
         00001930     ffaa  
     358 00001940     c404          jrlt    xsqbno_kick
     359                    
     360 00001950     0d3f          callr   xsqbscrt_kick
         00001960     0004  
     361 00001970     0de0          setc
     362 00001980     0960          rets
     363                    
     364 00001990           xsqbno_kick
     365 00001990     0320          clrc
     366 000019a0     0960          rets
     367                    
     368 000019b0           xsqbscrt_kick
     369                    
     370 000019b0     b5a0          move    *a13(PLYRMODE),a0
         000019c0     05c0  
     371 000019d0     0b40          cmpi    MODE_HEADHELD,a0
         000019e0     ffec  
     372 000019f0     cae1          jrz     xsqbout
     373 00001a00     0b40          cmpi    MODE_HEADHOLD,a0
         00001a10     ffef  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     374 00001a20     cade          jrz     xsqbout
     375                    
     376 00001a30     b5a0          move    *a13(ANIMODE),a0
         00001a40     0660  
     377 00001a50     1fa0          btst    MODE_UNINT_BIT,a0
     378 00001a60     cbda          jrnz    xsqbout
     379                    
     380                            .ref    ck_ignore
     381 00001a70     0d5f          calla   ck_ignore
         00001a80 00000000! 
     382 00001aa0     c8d6          jrc     xsqbout
     383                    
     384 00001ab0     0d5f          calla   get_opp_plyrmode
         00001ac0 00000000! 
     385 00001ae0     0b40          cmpi    MODE_ONGROUND,a0
         00001af0     fffb  
     386 00001b00     cad0          jrz     xsqbout
     387 00001b10     0b40          cmpi    MODE_DEAD,a0
         00001b20     fff6  
     388 00001b30     cacd          jrz     xsqbout
     389                    
     390 00001b40           xsqbok
     391                    
     392 00001b40                   SETMODE INAIR
     393                    
     394 00001bf0     1820          movk    1,a0                    ;Ensure leap at
     395 00001c00     b208          move    a0,*a8(OBJ_XVEL),L
         00001c10     02d0  
     396                    
     397 00001c20     09e0          movi    shn_flying_kick_anim,a0
         00001c30 00000000! 
     398 00001c50     0d5f          calla   change_anim1a
         00001c60 00000000! 
     399                    
     400                    
     401 00001c80                   WRSND   W_SHAWN,FLYKICK_T1,FLYKICK_T2
     402                    
     403 00001e20     0960          rets
     404                    
     405                    
     406 00001e30           xsqbfrankensteiner
     407 00001e30     0100          .word   B_SKICK,                J_ALL
     408 00001e50     0008          .word   J_TOWARD,               J_REAL_LR
     409 00001e70     0008          .word   J_TOWARD,               J_REAL_LR
     410 00001e90     8020          .word   8000h | 32              ;max
     411 00001ea0 00001ec0'         .long   xsqbscrt_fstein
     412                    
     413 00001ec0           xsqbscrt_fstein
     414 00001ec0     b5a0          move    *a13(ANIMODE),a0
         00001ed0     0660  
     415 00001ee0     1fa0          btst    MODE_UNINT_BIT,a0
     416 00001ef0     cb35          jrnz    xsqbrets
     417 00001f00     b5a0          move    *a13(PLYRMODE),a0
         00001f10     05c0  
     418 00001f20     0b40          CMPI    MODE_HEADHOLD,a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   10

         00001f30     ffef  
     419 00001f40     ca30          jrz     xsqbrets
     420                    
     421 00001f50     0d5f          calla   get_opp_plyrmode
         00001f60 00000000! 
     422 00001f80     0b40          cmpi    MODE_ONGROUND,a0
         00001f90     fffb  
     423 00001fa0     ca2a          jreq    xsqbrets
     424 00001fb0     0b40          cmpi    MODE_DEAD,a0
         00001fc0     fff6  
     425 00001fd0     ca27          jreq    xsqbrets
     426                    
     427                            ;don't do it if opponent is behind you
     428 00001fe0     0d5f          calla   ck_ignore
         00001ff0 00000000! 
     429 00002010     c823          jrc     xsqbrets
     430                            
     431 00002020     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00002030 00000000! 
     432 00002050     09e0          movi    shn_fstein_anim,a0
         00002060 00000000! 
     433 00002080     0d5f          calla   change_anim1a
         00002090 00000000! 
     434 000020b0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
     435 00002250     0960  xsqbrets        rets
     436                    
     437                            .if NUM_SHAWN_FINISHES
     438                     SUBRP  shn_finish_move1
     439                    
     440                    btpgTIMEOUT     .equ    TSEC
     441                    
     442                    btpgend_wait
     443                            SLEEP           TSEC/4
     444                            move            @p1rounds,a0                    ; Get player 1 rounds
     445                            move            @p2rounds,a1                    ; Get player 2 rounds
     446                            or              a1,a0                           ; Put em together
     447                            cmpi            2,a0                            ; Anybody got 2?
     448                            jrlt            btpgend_wait                    ; br = no
     449                    
     450                    btpgreset
     451                            clr             a11
     452                            move            a11,@in_finish_move
     453                            SLEEPK          1
     454                            WAITSWITCH_DWN  J_UP,0,btpgreset
     455                            movi            btpgTIMEOUT,a11
     456                            move            a11,@in_finish_move
     457                            WAITSWITCH_DWN  J_DOWN,0,btpgreset
     458                            WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,btpgreset
     459                            WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,btpgreset
     460                            WAITSWITCH_DWN  B_PUNCH,J_ALL,btpgreset
     461                    
     462                            movi            shn_finish1_move,a0
     463                            move            a0,*a8(SPECIAL_MOVE_ADDR),L
     464                            DIE
     465                            .endif
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   11

     466                            
     467                    
     468                            .if NUM_SHAWN_FINISHES > 1
     469                     SUBRP  shn_finish_move2
     470                    
     471                    nglyTIMEOUT     .equ    TSEC
     472                    
     473                    nglyend_wait
     474                            SLEEP           TSEC/4
     475                            move            @p1rounds,a0                    ; Get player 1 rounds
     476                            move            @p2rounds,a1                    ; Get player 2 rounds
     477                            or              a1,a0                           ; Put em together
     478                            cmpi            2,a0                            ; Anybody got 2?
     479                            jrlt            nglyend_wait                    ; br = no
     480                    
     481                    nglyreset
     482                            clr             a11
     483                            move            a11,@in_finish_move
     484                            SLEEPK          1
     485                            WAITSWITCH_DWN  J_UP,0,nglyreset
     486                            movi            nglyTIMEOUT,a11
     487                            move            a11,@in_finish_move
     488                            WAITSWITCH_DWN  J_UP,0,nglyreset
     489                            WAITSWITCH_DWN  J_RIGHT,J_UP,nglyreset
     490                            WAITSWITCH_DWN  J_RIGHT,J_UP,nglyreset
     491                            WAITSWITCH_DWN  B_SPUNCH,J_ALL,nglyreset
     492                    
     493                            movi            shn_finish2_move,a0
     494                            move            a0,*a8(SPECIAL_MOVE_ADDR),L
     495                            DIE
     496                            .endif
     497                    
     498                    
     499 00002260           shn_swirl_speedkick
     500                    
     501              003c  piafTIMEOUT     .equ    60
     502                    
     503 00002260           piaflp0
     504 00002260                   SLEEPK  1
     505 000022a0           piaflp
     506 000022a0     b500          move    *a8(GETUP_TIME),a0
         000022b0     0460  
     507 000022c0     cbf9          jrnz    piaflp0
     508 000022d0     576b          clr     a11
     509                    
     510 000022e0                   WAITSWITCH_DWN  J_DOWN,0,piaflp
     511                    
     512 00002440     09cb          movi    piafTIMEOUT,a11
         00002450     003c  
     513 00002460                   WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,piaflp
     514 000025c0                   WAITSWITCH_DWN  B_KICK,J_ALL,piaflp
     515                    
     516 00002720     b500          move    *a8(ANIMODE),a0
         00002730     0660  
     517 00002740     1fa0          btst    MODE_UNINT_BIT,a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   12

     518 00002750     cbb0          jrnz    piaflp0
     519                    
     520 00002760     b500          move    *a8(PLYRMODE),a0
         00002770     05c0  
     521 00002780     0b40          cmpi    MODE_DEAD,a0
         00002790     fff6  
     522 000027a0     caab          jrz     piaflp0
     523 000027b0     0b40          cmpi    MODE_HEADHOLD,a0
         000027c0     ffef  
     524 000027d0     ca44          jrz     piafknee
     525 000027e0     0b40          cmpi    MODE_HEADHELD,a0
         000027f0     ffec  
     526 00002800     cb16          jrnz    piafslam
     527 00002810     b50e          move    *a8(I_WILL_DIE),a14
         00002820     0b30  
     528 00002830     cba2          jrnz    piaflp0
     529                    
     530 00002840     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00002850     0ae0  
     531 00002860     cb9f          jrnz    piaflp0                         ;ignore
     532                    
     533 00002870     0d5f          CALLA   DO_REVERSAL
         00002880 00000000! 
     534 000028a0     0d5f          CALLA   DO_REVERSAL_MESS
         000028b0 00000000! 
     535                    
     536                            ;target WHOHITME -- don't hit anyone else
     537 000028d0                   SMRTTGT a8,WHOHITME
     538                    
     539                    
     540 00002970           piafslam
     541 00002970     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00002980     0ae0  
     542 00002990     cb8c          jrnz    piaflp0                         ;ignore
     543                    
     544                    
     545                    
     546                    
     547 000029a0           piafis_reversal
     548                    
     549 000029a0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000029b0 00000000! 
     550                    
     551 000029d0     09ee          movi    shn_super_speedkick_anim,a14
         000029e0 00000000! 
     552 00002a00     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00002a10     0930  
     553 00002a20                   WRSND   W_SHAWN,KICK_T1,KICK_T2
     554 00002bc0                   SLEEPK  20
     555 00002c00     c000          jruc    piaflp
         00002c10     ff68  
     556                    
     557 00002c20           piafknee
     558 00002c20     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00002c30 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   13

     559 00002c50     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00002c60     0ae0  
     560 00002c70     cb00          jrnz    piaflp0                         ;ignore
         00002c80     ff5d  
     561                    
     562                    
     563                    
     564 00002c90     b700          move    *a8(WHOIHIT),a0,L
         00002ca0     0500  
     565 00002cb0     09ce          movi    6*60,a14
         00002cc0     0168  
     566 00002cd0     b1c0          move    a14,*a0(DELAY_METER)
         00002ce0     0ad0  
     567                    
     568 00002cf0                   SPCDMG  D_FLYKICK/2,20
     569                    
     570 00002da0     09ee          movi    shn_flying_kick_anim,a14
         00002db0 00000000! 
     571 00002dd0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00002de0     0930  
     572                    
     573 00002df0                   SETMODE INAIR
     574                    
     575                    
     576 00002ea0                   WRSND   W_SHAWN,FLYKICK_T1,FLYKICK_T2
     577 00003040                   SLEEPK  5
     578 00003080     09e0          movi    40000h,a0
         00003090 00040000  
     579 000030b0     b208          move    a0,*a8(OBJ_YVEL),L
         000030c0     02f0  
     580 000030d0                   SLEEPK  20
     581 00003110     c000          jruc    piaflp
         00003120     ff17  
     582                    
     583                    
     584 00003130           shn_flipslam
     585                    
     586              001e  uwglTIMEOUT     .equ    30
     587                    
     588 00003130           uwgllp0
     589 00003130                   SLEEPK  1
     590 00003170           uwgllp
     591 00003170     b500          move    *a8(GETUP_TIME),a0
         00003180     0460  
     592 00003190     cbf9          jrnz    uwgllp0
     593                    
     594 000031a0     576b          clr     a11
     595                    
     596 000031b0                   WAITSWITCH_DWN  J_UP,0,uwgllp
     597                    
     598 00003310     1bcb          movk    uwglTIMEOUT,a11
     599                    
     600 00003320                   WAITSWITCH_DWN  J_TOWARD,0,uwgllp
     601 00003480                   WAITSWITCH_DWN  B_SPUNCH,J_ALL,uwgllp
     602                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   14

     603 000035e0     b500          move    *a8(ANIMODE),a0
         000035f0     0660  
     604 00003600     1fa0          btst    MODE_UNINT_BIT,a0
     605 00003610     cbb5          jrnz    uwgllp
     606                    
     607 00003620     b500          move    *a8(PLYRMODE),a0
         00003630     05c0  
     608 00003640     0b40          cmpi    MODE_HEADHELD,a0
         00003650     ffec  
     609 00003660     cb19          jrnz    uwglslam
     610 00003670     b50e          move    *a8(I_WILL_DIE),A14
         00003680     0b30  
     611 00003690     cba9          jrnz    uwgllp0
     612                    
     613 000036a0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         000036b0     0ae0  
     614 000036c0     cba6          jrnz    uwgllp0                         ;ignore
     615                    
     616 000036d0     0d5f          CALLA   DO_REVERSAL
         000036e0 00000000! 
     617 00003700     0d5f          CALLA   DO_REVERSAL_MESS
         00003710 00000000! 
     618                    
     619                            ;target WHOHITME -- don't hit anyone else
     620 00003730                   SMRTTGT a8,WHOHITME
     621                    
     622                            ;immobilize WHOHITME
     623 000037d0     b700          move    *a8(WHOHITME),a0,L
         000037e0     04e0  
     624 000037f0     c01c          jruc    uwglis_reversal
     625                    
     626 00003800           uwglslam
     627 00003800     0b40          cmpi    MODE_HEADHOLD,a0
         00003810     ffef  
     628 00003820     cb1f          jrnz    uwglslam2
     629 00003830     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00003840     0ae0  
     630 00003850     cb8d          jrnz    uwgllp0                         ;ignore
     631                    
     632 00003860     09ca          movi    39,a10
         00003870     0027  
     633 00003880                   CREATE  MESSAGE_PID,BONUS_MESS
     634                    
     635                            ;target WHOIHIT -- don't hit anyone else
     636 00003900                   SMRTTGT a8,WHOIHIT
     637                    
     638                            ;immobilize WHOIHIT
     639 000039a0     b700          move    *a8(WHOIHIT),a0,L
         000039b0     0500  
     640                    
     641 000039c0           uwglis_reversal
     642 000039c0     19ee          movk    15,a14
     643 000039d0     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         000039e0     0ae0  
     644                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   15

     645 000039f0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00003a00 00000000! 
     646 00003a20           uwglslam2
     647 00003a20     09ee          movi    shn_flipslam_anim,a14
         00003a30 00000000! 
     648 00003a50     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00003a60     0930  
     649 00003a70                   WRSND   W_SHAWN,KICK_T1,KICK_T2
     650                    
     651 00003c10                   SLEEPK  20
     652                    
     653 00003c50     c000          jruc    uwgllp
         00003c60     ff50  
     654                    
     655                    
     656 00003c70           shn_grab_toss_air
     657                    
     658              0028  xnjgTIMEOUT     .equ    40
     659                    
     660 00003c70           xnjglp0
     661 00003c70                   SLEEPK  1
     662 00003cb0           xnjglp
     663 00003cb0     576b          clr     a11
     664                    
     665 00003cc0                   WAITSWITCH_DWN  J_AWAY,0,xnjglp
     666                    
     667 00003e20     09cb          movi    xnjgTIMEOUT,a11
         00003e30     0028  
     668                    
     669 00003e40                   WAITSWITCH_DWN  J_AWAY,0,xnjglp
     670 00003fa0                   WAITSWITCH_DWN  B_PUNCH,J_ALL,xnjglp
     671                    
     672 00004100     b500          move    *a8(ANIMODE),a0
         00004110     0660  
     673 00004120     1fa0          btst    MODE_UNINT_BIT,a0
     674 00004130     cbb7          jrnz    xnjglp
     675                    
     676 00004140     b500          move    *a8(PLYRMODE),a0
         00004150     05c0  
     677 00004160     0b40          cmpi    MODE_HEADHOLD,a0
         00004170     ffef  
     678 00004180     caae          jreq    xnjglp0
     679                    
     680 00004190                   SWAP    a8,a13
     681 000041c0     0d5f          calla   get_opp_plyrmode
         000041d0 00000000! 
     682 000041f0                   SWAP    a8,a13
     683 00004220     0b40          cmpi    MODE_ONGROUND,a0
         00004230     fffb  
     684 00004240     caa6          jrz     xnjglp
     685 00004250     0b40          cmpi    MODE_DEAD,a0
         00004260     fff6  
     686 00004270     caa3          jrz     xnjglp
     687 00004280     0b40          cmpi    MODE_INAIR,a0
         00004290     fffd  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   16

     688 000042a0     ca40          jrz     xnjgdoit2
     689 000042b0     0b40          cmpi    MODE_INAIR2,a0
         000042c0     ffea  
     690 000042d0     ca3d          jrz     xnjgdoit2
     691                    
     692 000042e0     b500          move    *a8(CLOSEST_NUM),a0
         000042f0     03a0  
     693 00004300                   X32     a0
     694 00004310     0b20          addi    process_ptrs,a0
         00004320 00000000! 
     695 00004340     8600          move    *a0,a0,L
     696 00004350     b400          move    *a0(ATTACK_TYPE),a0
         00004360     05e0  
     697 00004370     0b40          cmpi    AT_LEAPING,a0
         00004380     ffc6  
     698 00004390     ca31          jrz     xnjgdoit2
     699                    
     700 000043a0     b500          move    *a8(CLOSEST_DIST),a0
         000043b0     0360  
     701 000043c0     0b40          cmpi    6ch,a0
         000043d0     ff93  
     702 000043e0     c78c          jrgt    xnjglp
     703                    
     704 000043f0                   FACE24  shn,hiptoss_anim
     705 00004490     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         000044a0     0930  
     706                    
     707 000044b0                   WRSND   W_SHAWN,HIPTOSS_T1,PUNCH_T2
     708                    
     709 00004650                   SLEEPK  20
     710                    
     711 00004690     c000          jruc    xnjglp
         000046a0     ff60  
     712                    
     713 000046b0           xnjgdoit2       FACE24  shn,hiptoss2_anim
     714 00004750     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00004760     0930  
     715                    
     716 00004770                   WRSND   W_SHAWN,HIPTOSS_T1,PUNCH_T2
     717                    
     718 00004910                   SLEEPK  20
     719                    
     720 00004950     c000          jruc    xnjglp
         00004960     ff34  
     721                    
     722 00004970           shn_hdhold_suplex
     723                    
     724              003c  kwqmTIMEOUT     .equ    60
     725                    
     726 00004970           kwqmlp0
     727 00004970                   SLEEPK  1
     728 000049b0           kwqmlp
     729 000049b0     b500          move    *a8(GETUP_TIME),a0
         000049c0     0460  
     730 000049d0     cbf9          jrnz    kwqmlp0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   17

     731                    
     732 000049e0     b500          move    *a8(PLYRMODE),a0
         000049f0     05c0  
     733 00004a00     0b40          cmpi    MODE_HEADHOLD,a0
         00004a10     ffef  
     734 00004a20     ca03          jrz     kwqmcont
     735 00004a30     0b40          cmpi    MODE_HEADHELD,a0
         00004a40     ffec  
     736 00004a50     cbf1          jrnz    kwqmlp0
     737                    
     738 00004a60           kwqmcont
     739 00004a60     576b          clr     a11
     740                    
     741 00004a70                   WAITSWITCH_DWN  J_DOWN,0,kwqmlp
     742                    
     743 00004bd0     09cb          movi    kwqmTIMEOUT,a11
         00004be0     003c  
     744                    
     745 00004bf0                   WAITSWITCH_DWN  J_DOWN,0,kwqmlp
     746 00004d50                   WAITSWITCH_DWN  B_SKICK,J_ALL,kwqmlp
     747 00004eb0           kwqmcontz
     748 00004eb0     b500          move    *a8(PLYRMODE),a0
         00004ec0     05c0  
     749 00004ed0     0b40          cmpi    MODE_HEADHOLD,a0
         00004ee0     ffef  
     750 00004ef0     ca1c          jrz     kwqmslam
     751 00004f00     0b40          cmpi    MODE_HEADHELD,a0
         00004f10     ffec  
     752 00004f20     cba4          jrnz    kwqmlp0
     753 00004f30     b50e          move    *a8(I_WILL_DIE),A14
         00004f40     0b30  
     754 00004f50     cba1          jrnz    kwqmlp0
     755                    
     756 00004f60     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00004f70     0ae0  
     757 00004f80     cb9e          jrnz    kwqmlp0                         ;ignore
     758                    
     759 00004f90     0d5f          CALLA   DO_REVERSAL
         00004fa0 00000000! 
     760 00004fc0     0d5f          CALLA   DO_REVERSAL_MESS
         00004fd0 00000000! 
     761                    
     762                            ;target WHOHITME -- don't hit anyone else
     763 00004ff0                   SMRTTGT a8,WHOHITME
     764                    
     765                            ;immobilize WHOHITME
     766 00005090     b700          move    *a8(WHOHITME),a0,L
         000050a0     04e0  
     767 000050b0     c018          jruc    kwqmis_reversal
     768                    
     769 000050c0           kwqmslam
     770 000050c0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         000050d0     0ae0  
     771 000050e0     cb88          jrnz    kwqmlp0                         ;ignore
     772                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   18

     773 000050f0     182a          movk    1,a10
     774 00005100                   CREATE  MESSAGE_PID,BONUS_MESS
     775                    
     776                            ;target WHOIHIT -- don't hit anyone else
     777 00005180                   SMRTTGT a8,WHOIHIT
     778                    
     779                            ;immobilize WHOIHIT
     780 00005220     b700          move    *a8(WHOIHIT),a0,L
         00005230     0500  
     781                    
     782 00005240           kwqmis_reversal
     783 00005240     19ee          movk    15,a14
     784 00005250     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         00005260     0ae0  
     785                    
     786 00005270     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00005280 00000000! 
     787                    
     788 000052a0     09ee          movi    shn_gsuplex_anim,a14
         000052b0 00000000! 
     789 000052d0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         000052e0     0930  
     790 000052f0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
     791                    
     792 00005490                   SLEEPK  20
     793                    
     794 000054d0     c000          jruc    kwqmlp
         000054e0     ff4c  
     795                    
     796 000054f0           shn_hdhold_kicktoss
     797                    
     798              003c  iutcTIMEOUT     .equ    60
     799                    
     800 000054f0           iutclp0
     801 000054f0                   SLEEPK  1
     802 00005530           iutclp
     803 00005530     b500          move    *a8(GETUP_TIME),a0
         00005540     0460  
     804 00005550     cbf9          jrnz    iutclp0
     805 00005560     b500          move    *a8(PLYRMODE),a0
         00005570     05c0  
     806 00005580     0b40          cmpi    MODE_HEADHOLD,a0
         00005590     ffef  
     807 000055a0     ca03          jrz     iutccont
     808 000055b0     0b40          cmpi    MODE_HEADHELD,a0
         000055c0     ffec  
     809 000055d0     cbf1          jrnz    iutclp0
     810 000055e0           iutccont
     811 000055e0     576b          clr     a11
     812                    
     813 000055f0                   WAITSWITCH_DWN  J_TOWARD,0,iutclp
     814                    
     815 00005750     09cb          movi    iutcTIMEOUT,a11
         00005760     003c  
     816                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   19

     817 00005770                   WAITSWITCH_DWN  J_TOWARD,0,iutclp
     818 000058d0                   WAITSWITCH_DWN  B_KICK,J_ALL,iutclp
     819                    
     820 00005a30     b500          move    *a8(PLYRMODE),a0
         00005a40     05c0  
     821 00005a50     0b40          cmpi    MODE_HEADHOLD,a0
         00005a60     ffef  
     822 00005a70     ca1c          jrz     iutcslam
     823 00005a80     0b40          cmpi    MODE_HEADHELD,a0
         00005a90     ffec  
     824 00005aa0     cba4          jrnz    iutclp0
     825 00005ab0     b50e          move    *a8(I_WILL_DIE),A14
         00005ac0     0b30  
     826 00005ad0     cba1          jrnz    iutclp0
     827                    
     828 00005ae0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00005af0     0ae0  
     829 00005b00     cb9e          jrnz    iutclp0                         ;ignore
     830                    
     831 00005b10     0d5f          CALLA   DO_REVERSAL
         00005b20 00000000! 
     832 00005b40     0d5f          CALLA   DO_REVERSAL_MESS
         00005b50 00000000! 
     833                    
     834                            ;target WHOHITME -- don't hit anyone else
     835 00005b70                   SMRTTGT a8,WHOHITME
     836                    
     837                            ;immobilize WHOHITME
     838 00005c10     b700          move    *a8(WHOHITME),a0,L
         00005c20     04e0  
     839 00005c30     c019          jruc    iutcis_reversal
     840                    
     841 00005c40           iutcslam
     842 00005c40     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00005c50     0ae0  
     843 00005c60     cb88          jrnz    iutclp0                         ;ignore
     844                    
     845 00005c70     09ca          movi    36,a10
         00005c80     0024  
     846 00005c90                   CREATE  MESSAGE_PID,BONUS_MESS
     847                    
     848                            ;target WHOIHIT -- don't hit anyone else
     849 00005d10                   SMRTTGT a8,WHOIHIT
     850                    
     851                            ;immobilize WHOIHIT
     852 00005db0     b700          move    *a8(WHOIHIT),a0,L
         00005dc0     0500  
     853                    
     854 00005dd0           iutcis_reversal
     855 00005dd0     1b2e          movk    25,a14
     856 00005de0     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         00005df0     0ae0  
     857                    
     858 00005e00     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00005e10 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   20

     859                    
     860 00005e30                   WRSND   W_SHAWN,KICK_T1,KICK_T2
     861 00005fd0     09ee          movi    shn_sliding_kicktoss_anim,a14
         00005fe0 00000000! 
     862 00006000     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00006010     0930  
     863                    
     864 00006020                   SLEEPK  20
     865                    
     866 00006060     c000          jruc    iutclp
         00006070     ff4b  
     867                    
     868 00006080           shn_hdhold_frank
     869                    
     870              003c  bztrTIMEOUT     .equ    60
     871                    
     872 00006080           bztrlp0
     873 00006080                   SLEEPK  1
     874 000060c0           bztrlp
     875 000060c0     b500          move    *a8(GETUP_TIME),a0
         000060d0     0460  
     876 000060e0     cbf9          jrnz    bztrlp0
     877 000060f0     b500          move    *a8(PLYRMODE),a0
         00006100     05c0  
     878 00006110     0b40          cmpi    MODE_HEADHOLD,a0
         00006120     ffef  
     879 00006130     ca03          jrz     bztrcont
     880 00006140     0b40          cmpi    MODE_HEADHELD,a0
         00006150     ffec  
     881 00006160     cbf1          jrnz    bztrlp0
     882                    
     883 00006170           bztrcont
     884 00006170     576b          clr     a11
     885                    
     886 00006180                   WAITSWITCH_DWN  J_TOWARD,0,bztrlp
     887                    
     888 000062e0     09cb          movi    bztrTIMEOUT,a11
         000062f0     003c  
     889                    
     890 00006300                   WAITSWITCH_DWN  J_TOWARD,0,bztrlp
     891 00006460                   WAITSWITCH_DWN  B_SPUNCH,J_ALL,bztrlp
     892                    
     893 000065c0     b500          move    *a8(PLYRMODE),a0
         000065d0     05c0  
     894 000065e0     0b40          cmpi    MODE_HEADHOLD,a0
         000065f0     ffef  
     895 00006600     ca1c          jrz     bztrslam
     896 00006610     0b40          cmpi    MODE_HEADHELD,a0
         00006620     ffec  
     897 00006630     cba4          jrnz    bztrlp0
     898 00006640     b50e          move    *a8(I_WILL_DIE),A14
         00006650     0b30  
     899 00006660     cba1          jrnz    bztrlp0
     900                    
     901 00006670     b50e          move    *a8(IMMOBILIZE_TIME),a14
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   21

         00006680     0ae0  
     902 00006690     cb9e          jrnz    bztrlp0                         ;ignore
     903                    
     904 000066a0     0d5f          CALLA   DO_REVERSAL
         000066b0 00000000! 
     905 000066d0     0d5f          CALLA   DO_REVERSAL_MESS
         000066e0 00000000! 
     906                    
     907                            ;target WHOHITME -- don't hit anyone else
     908 00006700                   SMRTTGT a8,WHOHITME
     909                    
     910                            ;immobilize WHOHITME
     911 000067a0     b700          move    *a8(WHOHITME),a0,L
         000067b0     04e0  
     912 000067c0     c018          jruc    bztris_reversal
     913                    
     914 000067d0           bztrslam
     915 000067d0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         000067e0     0ae0  
     916 000067f0     cb88          jrnz    bztrlp0                         ;ignore
     917                    
     918 00006800     186a          movk    3,a10
     919 00006810                   CREATE  MESSAGE_PID,BONUS_MESS
     920                    
     921                            ;target WHOIHIT -- don't hit anyone else
     922 00006890                   SMRTTGT a8,WHOIHIT
     923                    
     924                            ;immobilize WHOIHIT
     925 00006930     b700          move    *a8(WHOIHIT),a0,L
         00006940     0500  
     926                    
     927 00006950           bztris_reversal
     928 00006950     180e          movk    32,a14
     929 00006960     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         00006970     0ae0  
     930                    
     931 00006980     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00006990 00000000! 
     932                    
     933 000069b0     09ee          movi    shn_fstein_anim,a14
         000069c0 00000000! 
     934 000069e0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         000069f0     0930  
     935 00006a00                   WRSND   W_SHAWN,KICK_T1,KICK_T2
     936                    
     937 00006ba0                   SLEEPK  20
     938                    
     939 00006be0     c000          jruc    bztrlp
         00006bf0     ff4c  
     940                    
     941 00006c00           shn_hdhold_butts
     942                    
     943              003c  lnitTIMEOUT     .equ    60
     944                    
     945 00006c00           lnitlp0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   22

     946 00006c00                   SLEEPK  1
     947 00006c40           lnitlp
     948 00006c40     b500          move    *a8(GETUP_TIME),a0
         00006c50     0460  
     949 00006c60     cbf9          jrnz    lnitlp0
     950 00006c70     b500          move    *a8(PLYRMODE),a0
         00006c80     05c0  
     951 00006c90     0b40          cmpi    MODE_HEADHOLD,a0
         00006ca0     ffef  
     952 00006cb0     ca03          jrz     lnitcont
     953 00006cc0     0b40          cmpi    MODE_HEADHELD,a0
         00006cd0     ffec  
     954 00006ce0     cbf1          jrnz    lnitlp0
     955                    
     956 00006cf0           lnitcont
     957 00006cf0     576b          clr     a11
     958                    
     959 00006d00                   WAITSWITCH_DWN  J_TOWARD,0,lnitlp
     960                    
     961 00006e60     09cb          movi    lnitTIMEOUT,a11
         00006e70     003c  
     962                    
     963 00006e80                   WAITSWITCH_DWN  J_TOWARD,0,lnitlp
     964 00006fe0                   WAITSWITCH_DWN  B_SKICK,J_ALL,lnitlp
     965                    
     966 00007140     b500          move    *a8(PLYRMODE),a0
         00007150     05c0  
     967 00007160     0b40          cmpi    MODE_HEADHOLD,a0
         00007170     ffef  
     968 00007180     ca1c          jrz     lnitslam
     969 00007190     0b40          cmpi    MODE_HEADHELD,a0
         000071a0     ffec  
     970 000071b0     cba4          jrnz    lnitlp0
     971 000071c0     b50e          move    *a8(I_WILL_DIE),A14
         000071d0     0b30  
     972 000071e0     cba1          jrnz    lnitlp0
     973                    
     974 000071f0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00007200     0ae0  
     975 00007210     cb9e          jrnz    lnitlp0                         ;ignore
     976                    
     977 00007220     0d5f          CALLA   DO_REVERSAL
         00007230 00000000! 
     978 00007250     0d5f          CALLA   DO_REVERSAL_MESS
         00007260 00000000! 
     979                    
     980                            ;target WHOHITME -- don't hit anyone else
     981 00007280                   SMRTTGT a8,WHOHITME
     982                    
     983                            ;immobilize WHOHITME
     984 00007320     b700          move    *a8(WHOHITME),a0,L
         00007330     04e0  
     985 00007340     c018          jruc    lnitis_reversal
     986                    
     987 00007350           lnitslam
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   23

     988 00007350     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00007360     0ae0  
     989 00007370     cb88          jrnz    lnitlp0                         ;ignore
     990                    
     991 00007380     186a          movk    3,a10
     992 00007390                   CREATE  MESSAGE_PID,BONUS_MESS
     993                    
     994                            ;target WHOIHIT -- don't hit anyone else
     995 00007410                   SMRTTGT a8,WHOIHIT
     996                    
     997                            ;immobilize WHOIHIT
     998 000074b0     b700          move    *a8(WHOIHIT),a0,L
         000074c0     0500  
     999                    
    1000 000074d0           lnitis_reversal
    1001 000074d0     180e          movk    32,a14
    1002 000074e0     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         000074f0     0ae0  
    1003                    
    1004 00007500     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00007510 00000000! 
    1005                    
    1006 00007530     09ee          movi    shn_rpt_hdbutts_anim,a14
         00007540 00000000! 
    1007 00007560     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00007570     0930  
    1008                    
    1009 00007580                   SLEEPK  20
    1010                    
    1011 000075c0     c000          jruc    lnitlp
         000075d0     ff66  
    1012                    
    1013                    
    1014              0160  adhsCHARGE_TIME .equ    SM_USRW1
    1015                    
    1016 000075e0           shn_charge_suplex
    1017                    
    1018                    
    1019 000075e0           adhsstart_over
    1020 000075e0     57ce          clr     a14
    1021 000075f0     b1cd          move    a14,*a13(adhsCHARGE_TIME),W
         00007600     0160  
    1022 00007610           adhsloop1
    1023 00007610                   SLEEPK  1
    1024                    
    1025 00007650     b5ae          move    *a13(adhsCHARGE_TIME),a14,W
         00007660     0160  
    1026 00007670     102e          inc     a14
    1027 00007680     b1cd          move    a14,*a13(adhsCHARGE_TIME),W
         00007690     0160  
    1028                    
    1029 000076a0     b500          move    *a8(BUT_VAL_CUR),a0
         000076b0     0b90  
    1030 000076c0     1fe0          btst    PLAYER_PUNCH_BIT,a0
    1031 000076d0     ca01          jrz     adhsp1
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   24

    1032                    
    1033 000076e0     c0f2          jruc    adhsloop1
    1034                    
    1035 000076f0           adhsp1
    1036                    
    1037 000076f0     b5ae          move    *a13(adhsCHARGE_TIME),a14
         00007700     0160  
    1038 00007710     0b4e          cmpi    100,a14
         00007720     ff9b  
    1039 00007730     c4ea          jrlt    adhsstart_over
    1040                    
    1041 00007740     b500          move    *a8(GETUP_TIME),a0
         00007750     0460  
    1042 00007760     cbe7          jrnz    adhsstart_over
    1043 00007770     b500          move    *a8(PLYRMODE),a0
         00007780     05c0  
    1044 00007790     0b40          cmpi    MODE_HEADHELD,a0
         000077a0     ffec  
    1045 000077b0     cae2          jrz     adhsstart_over
    1046 000077c0     0b40          cmpi    MODE_HEADHOLD,a0
         000077d0     ffef  
    1047 000077e0     cadf          jrz     adhsstart_over
    1048 000077f0     0b40          cmpi    MODE_ONGROUND,a0
         00007800     fffb  
    1049 00007810     cadc          jrz     adhsstart_over
    1050 00007820     0b40          cmpi    MODE_DEAD,a0
         00007830     fff6  
    1051 00007840     cad9          jrz     adhsstart_over
    1052                    
    1053 00007850     b50e          move    *a8(ANIMODE),a14
         00007860     0660  
    1054 00007870     1fae          btst    MODE_UNINT_BIT,a14
    1055 00007880     cbd5          jrnz    adhsstart_over
    1056                    
    1057 00007890     09ee          movi    shn_gsuplex_anim,a14
         000078a0 00000000! 
    1058                    
    1059 000078c0     b500          move    *a8(PLYRMODE),a0
         000078d0     05c0  
    1060 000078e0     0b40          cmpi    MODE_RUNNING,a0
         000078f0     fffe  
    1061 00007900     cb03          jrnz    adhscont
    1062                    
    1063 00007910     09ee          movi    shn_gsuplex_run_anim,a14
         00007920 00000000! 
    1064                    
    1065 00007940           adhscont
    1066 00007940     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00007950     0930  
    1067 00007960                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1068                    
    1069 00007b00     c0ad          jruc    adhsstart_over
    1070                            
    1071                    
    1072                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   25

    1073 00007b10           shn_sliding_kicktoss
    1074                    
    1075              003c  oxmyTIMEOUT     .equ    60
    1076                    
    1077 00007b10           oxmylp0
    1078 00007b10                   SLEEPK  1
    1079 00007b50           oxmylp
    1080 00007b50     576b          clr     a11
    1081                    
    1082 00007b60                   WAITSWITCH_DWN  J_TOWARD,0,oxmylp
    1083                    
    1084 00007cc0     09cb          movi    oxmyTIMEOUT,a11
         00007cd0     003c  
    1085                    
    1086 00007ce0                   WAITSWITCH_DWN  J_TOWARD,0,oxmylp
    1087 00007e40                   WAITSWITCH_DWN  B_KICK,J_ALL,oxmylp
    1088                    
    1089 00007fa0     b500          move    *a8(PLYRMODE),a0
         00007fb0     05c0  
    1090 00007fc0     0b40          cmpi    MODE_HEADHELD,a0
         00007fd0     ffec  
    1091 00007fe0     cab2          jrz     oxmylp0
    1092 00007ff0     0b40          cmpi    MODE_HEADHOLD,a0
         00008000     ffef  
    1093 00008010     caaf          jrz     oxmylp0
    1094 00008020     0b40          cmpi    MODE_ONGROUND,a0
         00008030     fffb  
    1095 00008040     caac          jrz     oxmylp0
    1096 00008050     0b40          cmpi    MODE_DEAD,a0
         00008060     fff6  
    1097 00008070     caa9          jrz     oxmylp0
    1098                    
    1099 00008080     b500          move    *a8(ANIMODE),a0
         00008090     0660  
    1100 000080a0     1fa0          btst    MODE_UNINT_BIT,a0
    1101 000080b0     cba5          jrnz    oxmylp0
    1102                    
    1103 000080c0     b500          move    *a8(GETUP_TIME),a0
         000080d0     0460  
    1104 000080e0     cba2          jrnz    oxmylp0
    1105                    
    1106                    
    1107 000080f0                   SWAP    a8,a13
    1108 00008120     0d5f          calla   get_opp_plyrmode
         00008130 00000000! 
    1109 00008150                   SWAP    a8,a13
    1110 00008180     0b40          cmpi    MODE_ONGROUND,a0
         00008190     fffb  
    1111 000081a0     ca9a          jrz     oxmylp
    1112 000081b0     0b40          cmpi    MODE_DEAD,a0
         000081c0     fff6  
    1113 000081d0     ca97          jrz     oxmylp
    1114                    
    1115 000081e0                   SWAP    a8,a13
    1116 00008210     0d5f          calla   ck_ignore
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   26

         00008220 00000000! 
    1117 00008240     c904          jrnc    oxmynorm
    1118 00008250                   SWAP    a8,a13
    1119 00008280     c08c          jruc    oxmylp
    1120 00008290           oxmynorm        
    1121 00008290                   SWAP    a8,a13
    1122                    
    1123 000082c0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1124 00008460     09ee          movi    shn_sliding_kicktoss_anim,a14
         00008470 00000000! 
    1125 00008490     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         000084a0     0930  
    1126                    
    1127 000084b0                   SLEEPK  20
    1128                    
    1129 000084f0     c000          jruc    oxmylp
         00008500     ff64  
    1130                    
    1131                    
    1132                    
    1133 00008510           shn_hdhold_combo1
    1134                    
    1135              003c  hiwqTIMEOUT     .equ    60
    1136                    
    1137 00008510           hiwqlp0
    1138 00008510                   SLEEPK  1
    1139 00008550           hiwqlp
    1140 00008550     b500          move    *a8(PLYRMODE),a0
         00008560     05c0  
    1141 00008570     0b40          cmpi    MODE_HEADHOLD,a0
         00008580     ffef  
    1142 00008590     ca03          jrz     hiwqcont
    1143 000085a0     0b40          cmpi    MODE_HEADHELD,a0
         000085b0     ffec  
    1144 000085c0     cbf4          jrnz    hiwqlp0
    1145 000085d0           hiwqcont
    1146                    
    1147 000085d0     576b          clr     a11
    1148                    
    1149 000085e0                   WAITSWITCH_DWN  J_TOWARD,0,hiwqlp
    1150                    
    1151 00008740     09cb          movi    hiwqTIMEOUT,a11
         00008750     003c  
    1152                    
    1153 00008760                   WAITSWITCH_DWN  J_TOWARD,0,hiwqlp
    1154 000088c0                   WAITSWITCH_DWN  B_PUNCH,J_ALL,hiwqlp
    1155                    
    1156 00008a20     0d5f          calla   CHECK_COMBO_GO
         00008a30 00000000! 
    1157 00008a50     c43d          jrlt    hiwqtryarm
    1158                    
    1159 00008a60     b500          move    *a8(PLYRMODE),a0
         00008a70     05c0  
    1160 00008a80     0b40          cmpi    MODE_HEADHOLD,a0
         00008a90     ffef  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   27

    1161 00008aa0     ca03          jrz     hiwqslam
    1162 00008ab0     0b40          cmpi    MODE_HEADHELD,a0
         00008ac0     ffec  
    1163 00008ad0     cba3          jrnz    hiwqlp0
    1164                    
    1165 00008ae0           hiwqslam
    1166 00008ae0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00008af0     0ae0  
    1167 00008b00     cba0          jrnz    hiwqlp0                         ;ignore
    1168                    
    1169                    
    1170                            ;target WHOIHIT
    1171 00008b10                   SMRTTGT a8,WHOIHIT
    1172                    
    1173 00008bb0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00008bc0 00000000! 
    1174 00008be0     09ee          movi    shn_combo_kick_anim,a14
         00008bf0 00000000! 
    1175 00008c10     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00008c20     0930  
    1176 00008c30                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1177                    
    1178 00008dd0                   SLEEPK  20
    1179                    
    1180 00008e10     c000          jruc    hiwqlp
         00008e20     ff72  
    1181 00008e30           hiwqtryarm
    1182 00008e30     b500          move    *a8(PLYRMODE),a0
         00008e40     05c0  
    1183 00008e50     0b40          cmpi    MODE_HEADHOLD,a0
         00008e60     ffef  
    1184 00008e70     ca1f          jrz     hiwqslam2
    1185 00008e80     0b40          cmpi    MODE_HEADHELD,a0
         00008e90     ffec  
    1186 00008ea0     cb00          jrnz    hiwqlp0
         00008eb0     ff65  
    1187 00008ec0     b50e          move    *a8(I_WILL_DIE),A14
         00008ed0     0b30  
    1188 00008ee0     cb00          jrnz    hiwqlp0
         00008ef0     ff61  
    1189                    
    1190 00008f00     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00008f10     0ae0  
    1191 00008f20     cb00          jrnz    hiwqlp0                         ;ignore
         00008f30     ff5d  
    1192                    
    1193 00008f40     0d5f          CALLA   DO_REVERSAL
         00008f50 00000000! 
    1194 00008f70     0d5f          CALLA   DO_REVERSAL_MESS
         00008f80 00000000! 
    1195                    
    1196                            ;target WHOHITME -- don't hit anyone else
    1197 00008fa0                   SMRTTGT a8,WHOHITME
    1198                    
    1199                            ;immobilize WHOHITME
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   28

    1200 00009040     b700          move    *a8(WHOHITME),a0,L
         00009050     04e0  
    1201 00009060     c019          jruc    hiwqis_reversal
    1202                    
    1203 00009070           hiwqslam2
    1204 00009070     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00009080     0ae0  
    1205 00009090     cb00          jrnz    hiwqlp0                         ;ignore
         000090a0     ff46  
    1206                    
    1207 000090b0     192a          movk    9,a10
    1208 000090c0                   CREATE  MESSAGE_PID,BONUS_MESS
    1209                    
    1210                            ;target WHOIHIT -- don't hit anyone else
    1211 00009140                   SMRTTGT a8,WHOIHIT
    1212                    
    1213                            ;immobilize WHOIHIT
    1214 000091e0     b700          move    *a8(WHOIHIT),a0,L
         000091f0     0500  
    1215                    
    1216 00009200           hiwqis_reversal
    1217 00009200     180e          movk    32,a14
    1218 00009210     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         00009220     0ae0  
    1219                    
    1220 00009230     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00009240 00000000! 
    1221                    
    1222 00009260     09ee          movi    shn_break_arm_anim,a14
         00009270 00000000! 
    1223 00009290     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         000092a0     0930  
    1224 000092b0                   WRSND   W_SHAWN,GRABHOLD_T1,GRABHOLD_T2
    1225                    
    1226 00009450                   SLEEPK  20
    1227                    
    1228 00009490     c000          jruc    hiwqlp
         000094a0     ff0a  
    1229                    
    1230                    
    1231 000094b0           shn_hdhold_combo2
    1232                    
    1233              003c  rwjbTIMEOUT     .equ    60
    1234                    
    1235 000094b0           rwjblp0
    1236 000094b0                   SLEEPK  1
    1237 000094f0           rwjblp
    1238 000094f0     b500          move    *a8(PLYRMODE),a0
         00009500     05c0  
    1239 00009510     0b40          cmpi    MODE_HEADHOLD,a0
         00009520     ffef  
    1240 00009530     cbf7          jrnz    rwjblp0
    1241 00009540     0d5f          calla   CHECK_COMBO_GO
         00009550 00000000! 
    1242 00009570     c4f3          jrlt    rwjblp0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   29

    1243                    
    1244 00009580     576b          clr     a11
    1245                    
    1246 00009590                   WAITSWITCH_DWN  J_TOWARD,0,rwjblp
    1247                    
    1248 000096f0     09cb          movi    rwjbTIMEOUT,a11
         00009700     003c  
    1249                    
    1250 00009710                   WAITSWITCH_DWN  J_TOWARD,0,rwjblp
    1251 00009870                   WAITSWITCH_DWN  B_KICK,J_ALL,rwjblp
    1252                    
    1253 000099d0     b500          move    *a8(PLYRMODE),a0
         000099e0     05c0  
    1254 000099f0     0b40          cmpi    MODE_HEADHOLD,a0
         00009a00     ffef  
    1255 00009a10     ca03          jrz     rwjbslam
    1256 00009a20     0b40          cmpi    MODE_HEADHELD,a0
         00009a30     ffec  
    1257 00009a40     cba6          jrnz    rwjblp0
    1258                    
    1259                    
    1260 00009a50           rwjbslam
    1261 00009a50     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00009a60     0ae0  
    1262 00009a70     cba3          jrnz    rwjblp0                         ;ignore
    1263                    
    1264                    
    1265                            ;target WHOIHIT
    1266 00009a80                   SMRTTGT a8,WHOIHIT
    1267                    
    1268 00009b20     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00009b30 00000000! 
    1269 00009b50     09ee          movi    shn_combo_punch_anim,A14
         00009b60 00000000! 
    1270 00009b80     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00009b90     0930  
    1271 00009ba0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1272                    
    1273 00009d40                   SLEEPK  20
    1274                    
    1275 00009d80     c000          jruc    rwjblp
         00009d90     ff75  
    1276                    
    1277                    
    1278 00009da0            SUBR   shawn_ani_init
    1279                    
    1280 00009da0     b5a0          move    *a13(FACING_DIR),a0
         00009db0     04c0  
    1281 00009dc0     1f80          btst    PLAYER_RIGHT_BIT,a0
    1282 00009dd0     cb18          jrnz    ydgrp1
    1283 00009de0     09e0          movi    shn_stand4_anim,a0
         00009df0 00000000! 
    1284 00009e10     0d5f          calla   change_anim1a
         00009e20 00000000! 
    1285                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   30

    1286 00009e40     09e0          movi    shn_torso4_anim,a0
         00009e50 00000000! 
    1287 00009e70     0d5f          calla   change_anim2a
         00009e80 00000000! 
    1288                    
    1289 00009ea0                   PUSH    a10
    1290 00009eb0     4daa          move    a13,a10
    1291 00009ec0                   CREATE  TAUNT_PID,do_taunt
    1292 00009f40                   PULL    a10
    1293                    
    1294 00009f50     0960          rets
    1295                    
    1296 00009f60           ydgrp1
    1297 00009f60     09e0          movi    shn_stand2_anim,a0
         00009f70 00000000! 
    1298 00009f90     0d5f          calla   change_anim1a
         00009fa0 00000000! 
    1299                    
    1300 00009fc0     09e0          movi    shn_torso2_anim,a0
         00009fd0 00000000! 
    1301 00009ff0     0d5f          calla   change_anim2a
         0000a000 00000000! 
    1302                    
    1303 0000a020     0960          rets
    1304                    
    1305                    
    1306                    
    1307 0000a030            SUBR   move_shawn
    1308                    
    1309                    
    1310 0000a030     09eb          movi    shn_secret_moves,a11
         0000a040 00000000' 
    1311 0000a060     0d5f          calla   check_secret_moves
         0000a070 00000000! 
    1312                    
    1313 0000a090     b5a0          move    *a13(PLYRMODE),a0
         0000a0a0     05c0  
    1314 0000a0b0     24a0          sll     5,a0                    ;x 32
    1315 0000a0c0     0b20          addi    nzyrmode_table,a0
         0000a0d0 0000a120' 
    1316 0000a0f0     8600          move    *a0,a0,L
    1317 0000a100     0920          call    a0
    1318 0000a110     0960          rets
    1319                    
    1320 0000a120           nzyrmode_table
    1321 0000a120 0000a460'         .long   mode_normal             ;0
    1322 0000a140 000113d0'         .long   mode_running            ;1
    1323 0000a160 00013f90'         .long   mode_inair              ;2
    1324 0000a180 00013fa0'         .long   mode_attached           ;3
    1325 0000a1a0 00014110'         .long   mode_onground           ;4
    1326 0000a1c0 00014120'         .long   mode_bouncing           ;5
    1327 0000a1e0 000143c0'         .long   mode_onturnbkl          ;6
    1328 0000a200 00015020'         .long   mode_block              ;7
    1329 0000a220 00015aa0'         .long   mode_dizzy              ;8
    1330 0000a240                   REFLONG mode_dead               ;9
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   31

    1331 0000a260 00015ab0'         .long   mode_oppoverhead        ;10
    1332 0000a280 00015ac0'         .long   mode_climbturnbkl       ;11
    1333 0000a2a0 00015ad0'         .long   mode_waitanim           ;12
    1334 0000a2c0 00015b50'         .long   mode_grapple            ;13
    1335 0000a2e0 00015b60'         .long   mode_master             ;14
    1336 0000a300 00015ba0'         .long   mode_slave              ;15
    1337 0000a320 00015bb0'         .long   mode_headhold           ;16
    1338 0000a340 00016e50'         .long   mode_puppet2            ;17
    1339 0000a360 0000a460'         .long   mode_normal     ;18
    1340 0000a380 00016e60'         .long   mode_headheld           ;19
    1341 0000a3a0 00000000!         .long   mode_puppet             ;20
    1342 0000a3c0 00000000!         .long   mode_inair2             ;21
    1343 0000a3e0 0000a460'         .long   mode_normal     ;22
    1344 0000a400 0000a460'         .long   mode_normal     ;23
    1345 0000a420 00017320'         .long   mode_chokehold          ;24
    1346 0000a440 00000000!         .long   mode_choking            ;25
    1347                    
    1348                    
    1349 0000a460           mode_normal
    1350                    
    1351 0000a460     b5a0          move    *a13(ANIMODE),a0
         0000a470     0660  
    1352 0000a480     1fa0          btst    MODE_UNINT_BIT,a0
    1353 0000a490     cb00          jrnz    nsmzno_interrupt
         0000a4a0     00b0  
    1354                    
    1355 0000a4b0     b5a0          move    *a13(I_WILL_DIE),a0
         0000a4c0     0b30  
    1356 0000a4d0     ca1f          jrz     nsmznope
    1357 0000a4e0     b5a0          move    *a13(IMMOBILIZE_TIME),a0
         0000a4f0     0ae0  
    1358 0000a500     cb1c          jrnz    nsmznope
    1359 0000a510     09e0          movi    shn_fall_back_anim,a0
         0000a520 00000000! 
    1360 0000a540     0d5f          calla   change_anim1a
         0000a550 00000000! 
    1361                    
    1362 0000a570     09c0          movi    -10,a0
         0000a580     fff6  
    1363 0000a590     b5a1          move    *a13(PLYRNUM),a1
         0000a5a0     0580  
    1364 0000a5b0     0d5f          calla   adjust_health
         0000a5c0 00000000! 
    1365                    
    1366 0000a5e0                   SETMODE DEAD
    1367                    
    1368 0000a690     5600          clr     a0
    1369 0000a6a0     b00d          move    a0,*a13(I_WILL_DIE)
         0000a6b0     0b30  
    1370                    
    1371 0000a6c0     0960          rets
    1372                    
    1373 0000a6d0           nsmznope
    1374                    
    1375 0000a6d0     0d5f          calla   get_opp_plyrmode
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   32

         0000a6e0 00000000! 
    1376 0000a700     0b40          cmpi    MODE_DEAD,a0
         0000a710     fff6  
    1377 0000a720     cb49          jrne    nsmzopp_not_dead
    1378                    
    1379                            ;if closest is a zombie, skip pin section.
    1380 0000a730     0d5f          calla   get_opp_process
         0000a740 00000000! 
    1381 0000a760     b40e          move    *a0(STATUS_FLAGS),a14
         0000a770     0b50  
    1382 0000a780     1f8e          btst    B_ZOMBIE,a14
    1383 0000a790     cb42          jrnz    nsmzopp_not_dead
    1384                            
    1385                            ;all opponents are dead.  Check for pins/raisearms
    1386                    
    1387                            ;if we're attached to someone, don't interrupt it.
    1388 0000a7a0     b7a1          move    *a13(ATTACH_PROC),a1,L
         0000a7b0     03e0  
    1389 0000a7c0     ca04          jrz     nsmzno_attch
    1390 0000a7d0     b622          move    *a1(ATTACH_PROC),a2,L
         0000a7e0     03e0  
    1391 0000a7f0     484d          cmp     a2,a13
    1392 0000a800     ca3b          jreq    nsmzno_pin_yet
    1393 0000a810           nsmzno_attch
    1394                    
    1395                            ;if a teammate has pinned, raise yer arm.
    1396 0000a810     0d5f          calla   ck_teammate_pin 
         0000a820 00000000! 
    1397 0000a840     c823          jrc     nsmzraisearm
    1398                    
    1399                            ;nobody has pinned.  if we're outside or all our opponents are
    1400                            ; outside, do a raisearm.
    1401 0000a850     0d5f          calla   raisearm_check
         0000a860 00000000! 
    1402 0000a880     c81f          jrc     nsmzraisearm
    1403                    
    1404                            ;we're inside with a pinnable opponent.  any button pins.
    1405 0000a890     b5a0          move    *a13(BUT_VAL_CUR),a0
         0000a8a0     0b90  
    1406 0000a8b0     ca30          jrz     nsmzno_pin_yet
    1407                    
    1408                            ;we have a press -- make sure opponent is on the ground
    1409 0000a8c0     0d5f          calla   can_pin
         0000a8d0 00000000! 
    1410 0000a8f0     c92c          jrnc    nsmzopp_notgnd
    1411                    
    1412                            ;opponent is on the ground.  pin him.
    1413 0000a900                   FACE24  shn,pin_anim
    1414 0000a9a0     0d5f          calla   change_anim1a
         0000a9b0 00000000! 
    1415                    
    1416                            ;set the 'I did a pin' flag.
    1417 0000a9d0     b5ae          move    *a13(STATUS_FLAGS),a14
         0000a9e0     0b50  
    1418 0000a9f0     0bae          ori     M_DID_PIN,a14
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   33

         0000aa00 00000002  
    1419 0000aa20     b1cd          move    a14,*a13(STATUS_FLAGS)
         0000aa30     0b50  
    1420                    
    1421                            ;if we're a temp drone for auto-pin purposes, turn back into
    1422                            ; a normal player here.
    1423 0000aa40     0d5f          calla   drone_change_back
         0000aa50 00000000! 
    1424                    
    1425 0000aa70     0960          rets
    1426                    
    1427 0000aa80           nsmzraisearm
    1428 0000aa80                   FACE24  shn,raise_arm_anim
    1429 0000ab20     0d5f          calla   change_anim1a
         0000ab30 00000000! 
    1430 0000ab50     0d5f          calla   set_raisearm_bit
         0000ab60 00000000! 
    1431                    
    1432                            ;if we're a temp drone for auto-pin purposes, turn back into
    1433                            ; a normal player here.
    1434 0000ab80     0d5f          calla   drone_change_back
         0000ab90 00000000! 
    1435                    
    1436 0000abb0     0960          rets
    1437                    
    1438 0000abc0           nsmztoo_far_to_pin
    1439 0000abc0           nsmzopp_notgnd
    1440 0000abc0           nsmzopp_not_dead
    1441 0000abc0           nsmzno_pin_yet
    1442                    
    1443 0000abc0     b5a0          move    *a13(IMMOBILIZE_TIME),a0
         0000abd0     0ae0  
    1444 0000abe0     cb36          jrnz    nsmzimmobilized
    1445                    
    1446 0000abf0     b5a0          move    *a13(BUT_VAL_CUR),a0
         0000ac00     0b90  
    1447 0000ac10     1fc0          btst    PLAYER_BLOCK_BIT,a0     ;maybe have to action tables?
    1448 0000ac20     ca07          jrz     nsmznblk                        ;1 for down transitions
    1449 0000ac30     0d3f          callr   nsmzblock                       ;& 1 for current buttons
         0000ac40     01bf  
    1450 0000ac50     c804          jrc     nsmznblk
    1451 0000ac60     5600          clr     a0
    1452 0000ac70     b00d          move    a0,*a13(ATTACK_TYPE)
         0000ac80     05e0  
    1453 0000ac90     0960          rets
    1454 0000aca0           nsmznblk
    1455 0000aca0     b5a0          move    *a13(BUT_VAL_CUR),a0
         0000acb0     0b90  
    1456 0000acc0     0b80          andi    011111b,a0
         0000acd0 ffffffe0  
    1457 0000acf0     0b40          cmpi    PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,a0
         0000ad00     fff6  
    1458 0000ad10     ca00          jrz     nsmzpunchkick
         0000ad20     0524  
    1459                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   34

    1460 0000ad30     b5a0          move    *a13(BUT_VAL_DOWN),a0
         0000ad40     0ba0  
    1461 0000ad50     0b80          andi    011111b,a0
         0000ad60 ffffffe0  
    1462 0000ad80                   X32     a0
    1463 0000ad90     0b20          addi    nsmzaction_table,a0
         0000ada0 0000afc0' 
    1464 0000adc0     8600          move    *a0,a0,L
    1465 0000add0     0920          call    a0
    1466                    
    1467 0000ade0     b5a0          move    *a13(ANIMODE),a0
         0000adf0     0660  
    1468 0000ae00     1fa0          btst    MODE_UNINT_BIT,a0
    1469 0000ae10     cb19          jrnz    nsmzno_interrupt
    1470                    
    1471                    
    1472 0000ae20     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000ae30     0bc0  
    1473 0000ae40     b00d          move    a0,*a13(MOVE_DIR)
         0000ae50     04b0  
    1474 0000ae60     0d5f          calla   climb_turnbuckle
         0000ae70 00000000! 
    1475 0000ae90     c90e          jrnc    nsmzno_climb
    1476 0000aea0     b5a5          move    *a13(WRESTLERNUM),A5
         0000aeb0     0590  
    1477 0000aec0     09e2          MOVI    CLIMB_ROPES,A2
         0000aed0 00000000! 
    1478 0000aef0     09c0          MOVI    1000,A0
         0000af00     03e8  
    1479 0000af10     0d5f          CALLA   ADD_IF_SILENT
         0000af20 00000000! 
    1480 0000af40     0960          rets
    1481                    
    1482 0000af50           nsmzimmobilized
    1483 0000af50     57ce          clr     a14
    1484 0000af60     b1cd          move    a14,*a13(MOVE_DIR)
         0000af70     04b0  
    1485 0000af80           nsmzno_climb
    1486 0000af80     0d5f          calla   execute_walk
         0000af90 00000000! 
    1487                    
    1488 0000afb0           nsmzno_interrupt
    1489 0000afb0     0960          rets
    1490                    
    1491 0000afc0           nsmzaction_table
    1492 0000afc0 0000b3c0'         .long   nsmzz,nsmzpunch,nsmzblock,nsmzblock                     ;0-3
    1493 0000b040 0000ca20'         .long   nsmzsuper_punch,nsmzsuper_punch,nsmzblock,nsmzblock     ;4-7
    1494 0000b0c0 0000e8b0'         .long   nsmzkick,nsmzpunchkick,nsmzblock,nsmzblock              ;8-11
    1495 0000b140 0000ca20'         .long   nsmzsuper_punch,nsmzpunchkick,nsmzblock,nsmzblock       ;12-15
    1496 0000b1c0 0000ffe0'         .long   nsmzsuper_kick,nsmzsuper_kick,nsmzblock,nsmzblock       ;16-19
    1497 0000b240 0000d9b0'         .long   nsmzgraboh,nsmzgraboh,nsmzblock,nsmzblock               ;20-23
    1498 0000b2c0 0000ffe0'         .long   nsmzsuper_kick,nsmzpunchkick,nsmzblock,nsmzblock        ;24-27
    1499 0000b340 0000d9b0'         .long   nsmzgraboh,nsmzgraboh,nsmzblock,nsmzblock               ;28-31
    1500                    
    1501 0000b3c0           nsmzz
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   35

    1502 0000b3c0     0960          rets
    1503                    
    1504 0000b3d0           nsmzpunch               ;1
    1505                    
    1506                    
    1507 0000b3d0                   JJXM_INIT
    1508 0000b440                   JJXM    NORMAL,          50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1509 0000b510                   JJXM    BLOCK,           50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1510 0000b5e0                   JJXM    DIZZY,           50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1511 0000b6b0                   JJXM    ONGROUND,       160,140,nsmzpunch_lbdrop,nsmzpunch_punch
    1512 0000b780                   JJXM    RUNNING,         50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1513 0000b850                   JJXM    BOUNCING,        50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1514 0000b920                   JJXM    ONTURNBKL,              nsmzpunch_punch
    1515 0000b970                   JJXM    CLIMBTURNBKL,           nsmzpunch_punch
    1516 0000b9c0                   JJXM    PUPPET,          50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1517 0000ba90                   JJXM    PUPPET2,         50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1518 0000bb50                   JJXM    INAIR,           50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1519 0000bc00                   JJXM    ATTACHED,        50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1520 0000bcb0                   JJXM    DEAD,           160,140,nsmzpunch_lbdrop,nsmzpunch_punch
    1521 0000bd60                   JJXM    OPPOVERHEAD,     50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1522 0000be00                   JJXM    WAITANIM,        50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1523 0000bea0                   JJXM    GRAPPLE,         50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1524 0000bf40                   JJXM    MASTER,          50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1525 0000bfe0                   JJXM    SLAVE,           50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1526 0000c080                   JJXM    HEADHOLD,        50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1527 0000c120                   JJXM    HEADHELD,        50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1528 0000c1c0                   JJXM    CHOKEHOLD,       50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1529 0000c260                   JJXM    INAIR2,          50, 45,nsmzpunch_hdbutt,nsmzpunch_punch
    1530 0000c300                   JJXM_END
    1531                    
    1532 0000c320           nsmzpunch_punch
    1533 0000c320           std_punch
    1534                    
    1535 0000c320                   FACE24  shn,punch_anim
    1536 0000c3c0     0d5f          calla   change_anim1a
         0000c3d0 00000000! 
    1537                    
    1538 0000c3f0                   WRSND   W_SHAWN,PUNCH_T1,PUNCH_T2
    1539                    
    1540 0000c590     0960          rets
    1541                    
    1542 0000c5a0           nsmzpunch_hdbutt
    1543 0000c5a0     c000          jruc    nsmzhdbutt
         0000c5b0     0195  
    1544                    
    1545 0000c5c0           nsmzpunch_lbdrop
    1546                    
    1547 0000c5c0                   FACE24  shn,falling_punch_anim
    1548 0000c660     0d5f          calla   change_anim1a
         0000c670 00000000! 
    1549                    
    1550 0000c690                   WRSND   W_SHAWN,LBOWDROP_T1,LBOWDROP_T2
    1551 0000c830     0960          rets
    1552                    
    1553 0000c840           nsmzblock               ;2
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   36

    1554 0000c840           std_block
    1555 0000c840     05a0          move    @blocking_off,a0
         0000c850 00000000! 
    1556 0000c870     cb18          jrnz    nsmzno_blocking
    1557                    
    1558 0000c880                   RND_AWARD       a13,BLOCKS_AWD
    1559                    
    1560 0000c920     09e0          movi    shn_4_block_anim,a0
         0000c930 00000000! 
    1561 0000c950     0d5f          calla   change_anim1a
         0000c960 00000000! 
    1562                    
    1563 0000c980     0d5f          calla   BLOCK_WOOSH
         0000c990 00000000! 
    1564                    
    1565 0000c9b0     5600          clr     a0
    1566 0000c9c0     b00d          move    a0,*a13(BLOCK_TIME)
         0000c9d0     0d30  
    1567 0000c9e0     0320          clrc
    1568 0000c9f0     0960          rets
    1569                    
    1570 0000ca00           nsmzno_blocking
    1571 0000ca00     0de0          setc
    1572 0000ca10     0960          rets
    1573                    
    1574                    
    1575 0000ca20           nsmzsuper_punch ;4
    1576                    
    1577 0000ca20                   JJXM_INIT
    1578 0000ca90                   JJXM    NORMAL,          85, 45,nsmzspunch_special,nsmzspunch_slap      ;0
    1579 0000cb60                   JJXM    RUNNING,         85, 45,nsmzspunch_special,nsmzspunch_slap      ;1
    1580 0000cc30                   JJXM    INAIR,           85, 45,nsmzspunch_special,nsmzspunch_slap      ;2
    1581 0000cd00                   JJXM    ATTACHED,        85, 45,nsmzspunch_special,nsmzspunch_slap      ;3
    1582 0000cdd0                   JJXM    ONGROUND,       160,140,nsmzspunch_lbowdrop,std_punch   ;4
    1583 0000cea0                   JJXM    BOUNCING,        85, 45,nsmzspunch_special,nsmzspunch_slap      ;1
    1584 0000cf70                   JJXM    ONTURNBKL,              nsmzspunch_slap                 ;6
    1585 0000cfc0                   JJXM    BLOCK,           85, 45,nsmzspunch_special,nsmzspunch_slap      ;7
    1586 0000d090                   JJXM    DIZZY,           85, 45,nsmzspunch_special,nsmzspunch_slap      ;8
    1587 0000d160                   JJXM    DEAD,           160,140,nsmzspunch_lbowdrop,std_punch   ;9
    1588 0000d230                   JJXM    OPPOVERHEAD,     85, 45,nsmzspunch_special,nsmzspunch_slap      ;10
    1589 0000d2e0                   JJXM    CLIMBTURNBKL,           std_punch                       ;11
    1590 0000d330                   JJXM    WAITANIM,        85, 45,nsmzspunch_special,nsmzspunch_slap      ;12
    1591 0000d3e0                   JJXM    GRAPPLE,         85, 45,nsmzspunch_special,nsmzspunch_slap      ;13
    1592 0000d480                   JJXM    MASTER,          85, 45,nsmzspunch_special,nsmzspunch_slap      ;14
    1593 0000d520                   JJXM    SLAVE,           85, 45,nsmzspunch_special,nsmzspunch_slap      ;15
    1594 0000d5c0                   JJXM    HEADHOLD,        85, 45,nsmzspunch_special,nsmzspunch_slap      ;16
    1595 0000d660                   JJXM    HEADHELD,        85, 45,nsmzspunch_special,nsmzspunch_slap      ;17
    1596 0000d700                   JJXM    CHOKEHOLD,       85, 45,nsmzspunch_special,nsmzspunch_slap      ;16
    1597 0000d7a0                   JJXM    PUPPET,          85, 45,nsmzspunch_special,nsmzspunch_slap      ;20
    1598 0000d840                   JJXM    PUPPET2,         85, 45,nsmzspunch_special,nsmzspunch_slap      ;20
    1599 0000d8e0                   JJXM    INAIR2,          85, 45,nsmzspunch_special,nsmzspunch_slap      ;21
    1600 0000d980                   JJXM_END
    1601                    
    1602 0000d9a0           nsmzspunch_rets
    1603 0000d9a0     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   37

    1604                    
    1605 0000d9b0           nsmzgraboh
    1606 0000d9b0           nsmzspunch_slap
    1607                    
    1608 0000d9b0                   FACE24  shn,slap_anim
    1609 0000da50     0d5f          calla   change_anim1a
         0000da60 00000000! 
    1610                    
    1611 0000da80                   WRSND   W_SHAWN,SPUNCH_T1,SPUNCH_T2
    1612                    
    1613 0000dc20     0960          rets
    1614                    
    1615 0000dc30           nsmzspunch_special
    1616 0000dc30     b5a1          move    *a13(CLOSEST_XDIST),a1
         0000dc40     0370  
    1617 0000dc50     0b41          cmpi    64,a1
         0000dc60     ffbf  
    1618 0000dc70     c700          jrgt    std_punch
         0000dc80     fe69  
    1619                    
    1620 0000dc90                   FACE24  shn,pummel_anim
    1621 0000dd30     0d5f          calla   change_anim1
         0000dd40 00000000! 
    1622 0000dd60                   WRSND   W_SHAWN,HDBUTT_T1,HDBUTT_T2
    1623                    
    1624 0000df00     0960          rets
    1625                    
    1626 0000df10           nsmzhdbutt
    1627                    
    1628 0000df10                   FACE24  shn,butt_anim
    1629 0000dfb0     0d5f          calla   change_anim1
         0000dfc0 00000000! 
    1630                    
    1631 0000dfe0                   WRSND   W_SHAWN,HDBUTT_T1,HDBUTT_T2
    1632                    
    1633 0000e180     0960          rets
    1634                    
    1635 0000e190           nsmzspunch_lbowdrop
    1636                    
    1637                    
    1638 0000e190     b5ae          move    *a13(CLOSEST_NUM),a14
         0000e1a0     03a0  
    1639 0000e1b0                   X32     a14
    1640 0000e1c0     0b2e          addi    process_ptrs,a14
         0000e1d0 00000000! 
    1641 0000e1f0     87ce          move    *a14,a14,L
    1642 0000e200     b5c2          move    *a14(PLYRMODE),a2
         0000e210     05c0  
    1643 0000e220     0b42          cmpi    MODE_DEAD,a2
         0000e230     fff6  
    1644 0000e240     ca3e          jrz     nsmzno
    1645 0000e250     b7a1          move    *a13(OBJ_XPOS),a1,L 
         0000e260     0100  
    1646 0000e270     b7c2          move    *a14(OBJ_XPOS),a2,L
         0000e280     0100  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   38

    1647 0000e290     4441          sub     a2,a1
    1648 0000e2a0     0381          abs     a1
    1649 0000e2b0     2e01          srl     16,a1
    1650 0000e2c0     0b41          cmpi    20h,a1  ;28
         0000e2d0     ffdf  
    1651 0000e2e0     c434          jrlt    nsmzno
    1652                    
    1653                    
    1654 0000e2f0     b5ce          move    *a14(OBJ_CONTROL),a14
         0000e300     0780  
    1655 0000e310     0b8e          andi    M_FLIPH,a14
         0000e320 ffffffef  
    1656 0000e340     b5a0          move    *a13(OBJ_CONTROL),a0
         0000e350     0780  
    1657 0000e360     0b80          andi    M_FLIPH,a0
         0000e370 ffffffef  
    1658 0000e390     480e          cmp     a0,a14
    1659 0000e3a0     ca28          jrz     nsmzno
    1660                    
    1661                    
    1662 0000e3b0                   FACE24  shn,hair_pickup_anim
    1663 0000e450     0d5f          calla   change_anim1
         0000e460 00000000! 
    1664 0000e480                   WRSND   W_SHAWN,LBOWDROP_T1,LBOWDROP_T2
    1665 0000e620     0960          rets
    1666                    
    1667 0000e630           nsmzno  FACE24  shn,falling_punch_anim
    1668 0000e6d0     0d5f          calla   change_anim1a
         0000e6e0 00000000! 
    1669 0000e700                   WRSND   W_SHAWN,LBOWDROP_T1,LBOWDROP_T2
    1670 0000e8a0     0960          rets
    1671                    
    1672                    
    1673 0000e8b0           nsmzkick                ;8
    1674                    
    1675                    
    1676 0000e8b0                   JJXM_INIT
    1677 0000e920                   JJXM    NORMAL,          60, 50,nsmzkick_knee,nsmzkick_kick
    1678 0000e9f0                   JJXM    DIZZY,           60, 50,nsmzkick_knee,nsmzkick_kick
    1679 0000eac0                   JJXM    BLOCK,           60, 50,nsmzkick_knee,nsmzkick_kick
    1680 0000eb90                   JJXM    ONGROUND,       160,140,nsmzkick_stomp,nsmzkick_kick
    1681 0000ec60                   JJXM    RUNNING,                nsmzkick_kick
    1682 0000ecb0                   JJXM    BOUNCING,               nsmzkick_kick
    1683 0000ed00                   JJXM    ONTURNBKL,              nsmzkick_kick
    1684 0000ed50                   JJXM    CLIMBTURNBKL,           nsmzkick_kick
    1685 0000eda0                   JJXM    PUPPET,                 nsmzkick_kick
    1686 0000edf0                   JJXM    PUPPET2,                nsmzkick_kick
    1687 0000ee40                   JJXM    INAIR,                  nsmzkick_kick
    1688 0000ee90                   JJXM    ATTACHED,        60, 50,nsmzkick_knee,nsmzkick_kick
    1689 0000ef60                   JJXM    DEAD,           160,140,nsmzkick_stomp,nsmzkick_kick
    1690 0000f010                   JJXM    OPPOVERHEAD,     60, 50,nsmzkick_knee,nsmzkick_kick
    1691 0000f0c0                   JJXM    WAITANIM,        60, 50,nsmzkick_knee,nsmzkick_kick
    1692 0000f170                   JJXM    GRAPPLE,         60, 50,nsmzkick_knee,nsmzkick_kick
    1693 0000f220                   JJXM    MASTER,          60, 50,nsmzkick_knee,nsmzkick_kick
    1694 0000f2c0                   JJXM    SLAVE,           60, 50,nsmzkick_knee,nsmzkick_kick
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   39

    1695 0000f360                   JJXM    HEADHOLD,        60, 50,nsmzkick_knee,nsmzkick_kick
    1696 0000f400                   JJXM    HEADHELD,        60, 50,nsmzkick_knee,nsmzkick_kick
    1697 0000f4a0                   JJXM    CHOKEHOLD,       60, 50,nsmzkick_knee,nsmzkick_kick
    1698 0000f540                   JJXM    INAIR2,                 nsmzkick_TB
    1699 0000f580                   JJXM_END
    1700                    
    1701 0000f5a0           nsmzkick_TB
    1702                            .ref    shn_spinkick_TB_anim
    1703 0000f5a0     09e0          movi    shn_spinkick_TB_anim,a0
         0000f5b0 00000000! 
    1704 0000f5d0     0d5f          calla   change_anim1a
         0000f5e0 00000000! 
    1705                    
    1706 0000f600                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1707 0000f7a0     0960          rets
    1708                    
    1709                    
    1710 0000f7b0           nsmzkick_kick
    1711 0000f7b0           std_kick
    1712                    
    1713 0000f7b0                   FACE24  shn,kick_anim
    1714 0000f850     0d5f          calla   change_anim1a
         0000f860 00000000! 
    1715                    
    1716 0000f880                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1717 0000fa20     0960          rets
    1718                    
    1719 0000fa30           nsmzkick_knee
    1720 0000fa30           std_knee
    1721                    
    1722 0000fa30                   FACE24  shn,knee_anim
    1723 0000fad0     c003          jruc    nsmzknee_set
    1724 0000fae0           std_knee_4
    1725 0000fae0     09e0          movi    shn_4_knee_anim,a0
         0000faf0 00000000! 
    1726 0000fb10           nsmzknee_set
    1727 0000fb10     0d5f          calla   change_anim1a
         0000fb20 00000000! 
    1728                    
    1729 0000fb40                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1730 0000fce0     0960          rets
    1731                    
    1732 0000fcf0           nsmzkick_stomp
    1733                    
    1734 0000fcf0                   FACE24  shn,stomp_anim
    1735 0000fd90     0d5f          calla   change_anim1a
         0000fda0 00000000! 
    1736                    
    1737 0000fdc0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1738 0000ff60     0960          rets
    1739                    
    1740 0000ff70           nsmzpunchkick   ;9
    1741                    
    1742 0000ff70     09e0          movi    start_run_anim,a0
         0000ff80 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   40

    1743 0000ffa0     0d5f          calla   change_anim1a
         0000ffb0 00000000! 
    1744                    
    1745 0000ffd0     0960          rets
    1746                    
    1747 0000ffe0           nsmzsuper_kick  ;16
    1748                    
    1749 0000ffe0                   JJXM_INIT
    1750 00010050                   JJXM    NORMAL,                 nsmzskick_kick
    1751 000100a0                   JJXM    DIZZY,                  nsmzskick_kick
    1752 000100f0                   JJXM    BLOCK,                  nsmzskick_kick
    1753 00010140                   JJXM    ONGROUND,       160,140,nsmzskick_stomp,std_kick
    1754 00010210                   JJXM    RUNNING,                nsmzskick_frank
    1755 00010250                   JJXM    BOUNCING,               nsmzskick_frank
    1756 00010290                   JJXM    ONTURNBKL,              nsmzskick_kick
    1757 000102d0                   JJXM    CLIMBTURNBKL,           nsmzskick_kick
    1758 00010310                   JJXM    PUPPET,                 nsmzskick_kick
    1759 00010350                   JJXM    PUPPET2,                nsmzskick_kick
    1760 00010390                   JJXM    INAIR,                  nsmzskick_kick
    1761 000103d0                   JJXM    ATTACHED,               nsmzskick_kick
    1762 00010410                   JJXM    DEAD,           160,140,nsmzskick_stomp,std_kick
    1763 000104d0                   JJXM    OPPOVERHEAD,            nsmzskick_kick
    1764 00010510                   JJXM    WAITANIM,               nsmzskick_kick
    1765 00010550                   JJXM    GRAPPLE,                nsmzskick_kick
    1766 00010590                   JJXM    MASTER,                 nsmzskick_kick
    1767 000105d0                   JJXM    SLAVE,                  nsmzskick_kick
    1768 00010610                   JJXM    HEADHOLD,               nsmzskick_kick
    1769 00010650                   JJXM    HEADHELD,               nsmzskick_kick
    1770 00010690                   JJXM    CHOKEHOLD,              nsmzskick_kick
    1771 000106d0                   JJXM    INAIR2,                 nsmzkick_TB
    1772 00010720                   JJXM_END
    1773                    
    1774 00010740           nsmzskick_frank
    1775                    
    1776 00010740     0d5f          calla   ck_ignore
         00010750 00000000! 
    1777 00010770     c821          jrc     nsmzskick_kick
    1778                    
    1779 00010780     09e0          movi    shn_fstein_anim,a0
         00010790 00000000! 
    1780 000107b0     0d5f          calla   change_anim1a
         000107c0 00000000! 
    1781 000107e0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1782 00010980     0960          rets
    1783                    
    1784 00010990           nsmzskick_kick
    1785                    
    1786 00010990     09e0          movi    shn_spinkick_anim,a0
         000109a0 00000000! 
    1787 000109c0     0d5f          calla   change_anim1a
         000109d0 00000000! 
    1788                    
    1789 000109f0                   WRSND   W_SHAWN,FLYKICK_T1,FLYKICK_T2
    1790 00010b90     0960          rets
    1791                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   41

    1792 00010ba0           nsmzskick_stomp
    1793                    
    1794 00010ba0                   FACE24  shn,stomp_anim
    1795 00010c40     0d5f          calla   change_anim1a
         00010c50 00000000! 
    1796                    
    1797 00010c70                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1798 00010e10     0960          rets
    1799                    
    1800 00010e20           nsmzskick_flykick
    1801 00010e20           attack_flykick
    1802                    
    1803 00010e20     0d5f          calla   ck_ignore
         00010e30 00000000! 
    1804 00010e50     c800          jrc     nsmzz
         00010e60     fa55  
    1805                    
    1806                            ;don't do it if the bad guy is on the ground
    1807 00010e70     0d5f          calla   get_opp_plyrmode
         00010e80 00000000! 
    1808 00010ea0     0b40          cmpi    MODE_ONGROUND,a0
         00010eb0     fffb  
    1809 00010ec0     ca2e          jreq    nsmzrets
    1810 00010ed0     0b40          cmpi    MODE_DEAD,a0
         00010ee0     fff6  
    1811 00010ef0     ca2b          jreq    nsmzrets
    1812                    
    1813 00010f00                   SETMODE INAIR
    1814                    
    1815 00010fb0     09e0          movi    shn_flying_kick_anim,a0
         00010fc0 00000000! 
    1816 00010fe0     0d5f          calla   change_anim1a
         00010ff0 00000000! 
    1817                    
    1818 00011010                   WRSND   W_SHAWN,FLYKICK_T1,FLYKICK_T2
    1819 000111b0           nsmzrets
    1820 000111b0     0960          rets
    1821                    
    1822 000111c0           nsmzskick_super_speedkick
    1823                    
    1824 000111c0     09e0          movi    shn_super_speedkick_anim,a0
         000111d0 00000000! 
    1825 000111f0     0d5f          calla   change_anim1a
         00011200 00000000! 
    1826                    
    1827 00011220                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    1828 000113c0     0960          rets
    1829                    
    1830                    
    1831                    
    1832          00064000  oswzXRUN_VAL    equ     SHN_XRUN
    1833          00028000  oswzZDRIFT_VAL  equ     SHN_ZDRIFT
    1834                    
    1835 000113d0           mode_running
    1836                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   42

    1837 000113d0     b5a0          move    *a13(RUN_TIME),a0               ;Used for flying kick
         000113e0     07b0  
    1838 000113f0     1020          addk    1,a0
    1839 00011400     b00d          move    a0,*a13(RUN_TIME)
         00011410     07b0  
    1840                    
    1841 00011420     b5a0          move    *a13(USR_VAR1),a0
         00011430     0850  
    1842 00011440     cb11          jrnz    oswzno_vel
    1843                    
    1844 00011450     0d5f          calla   bounce_off_ropes
         00011460 00000000! 
    1845                    
    1846 00011480     09e0          movi    oswzXRUN_VAL,a0
         00011490 00064000  
    1847 000114b0     b5ae          move    *a13(MOVE_DIR),a14
         000114c0     04b0  
    1848 000114d0     1f8e          btst    PLAYER_RIGHT_BIT,a14
    1849 000114e0     cb01          jrnz    oswzpos
    1850 000114f0     03a0          neg     a0
    1851 00011500           oswzpos
    1852 00011500     05ae          move    @hyper_speed_on,a14
         00011510 00000000! 
    1853 00011530     63c0          sll     a14,a0
    1854 00011540     b20d          move    a0,*a13(OBJ_XVEL),L
         00011550     02d0  
    1855                    
    1856 00011560           oswzno_vel
    1857                    
    1858 00011560     b5a0          move    *a13(GETUP_TIME),a0             ;delay b4 gaining control
         00011570     0460  
    1859 00011580     cb38          jrnz    oswzout_of_control
    1860                    
    1861 00011590     b5a0          move    *a13(ANIMODE),a0
         000115a0     0660  
    1862 000115b0     1fa0          btst    MODE_UNINT_BIT,a0
    1863 000115c0     cb16          jrnz    oswzno_interrupt
    1864                    
    1865 000115d0     b5a0          move    *a13(STICK_VAL_CUR),a0
         000115e0     0bc0  
    1866 000115f0     b5a1          move    *a13(MOVE_DIR),a1
         00011600     04b0  
    1867 00011610     5401          or      a0,a1
    1868 00011620     0b81          andi    MOVE_LEFT|MOVE_RIGHT,a1
         00011630 fffffff3  
    1869 00011650     0b41          cmpi    MOVE_LEFT|MOVE_RIGHT,a1
         00011660     fff3  
    1870 00011670     cb0b          jrne    oswzcontinue_run
    1871                    
    1872                            ;braking with stick.  abort run.
    1873                    
    1874 00011680                   SETMODE NORMAL
    1875                    
    1876 00011730           oswzcontinue_run
    1877 00011730           oswzno_interrupt
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   43

    1878                    
    1879 00011730     b5a0          move    *a13(STICK_VAL_CUR),a0
         00011740     0bc0  
    1880 00011750     5621          clr     a1
    1881                    
    1882 00011760     09e1          movi    -oswzZDRIFT_VAL,a1
         00011770 fffd8000  
    1883 00011790     1fe0          btst    PLAYER_UP_BIT,a0
    1884 000117a0     cb06          jrnz    oswzsetvel
    1885                    
    1886 000117b0     09e1          movi    oswzZDRIFT_VAL,a1
         000117c0 00028000  
    1887 000117e0     1fc0          btst    PLAYER_DOWN_BIT,a0
    1888 000117f0     cb01          jrnz    oswzsetvel
    1889                    
    1890 00011800     5621          clr     a1
    1891 00011810           oswzsetvel
    1892 00011810     b22d          move    a1,*a13(OBJ_ZVEL),L
         00011820     0310  
    1893                    
    1894 00011830     b5a0          move    *a13(DELAY_BUTNS),a0
         00011840     0ab0  
    1895 00011850     cb0b          jrnz    oswzout_of_control
    1896                    
    1897 00011860     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00011870     0ba0  
    1898 00011880     0b80          andi    011111b,a0
         00011890 ffffffe0  
    1899 000118b0                   X32     a0
    1900 000118c0     0b20          addi    oswzaction_table,a0
         000118d0 00011920' 
    1901 000118f0     8600          move    *a0,a0,L
    1902 00011900     0920          call    a0
    1903 00011910           oswzout_of_control
    1904 00011910     0960          rets
    1905                    
    1906 00011920           oswzaction_table
    1907 00011920 00011d20'         .long   oswzz,oswzpunch,oswzblock,oswzblock                     ;0-3
    1908 000119a0 00012490'         .long   oswzsuper_punch,oswzsuper_punch,oswzblock,oswzblock     ;4-7
    1909 00011a20 00012e40'         .long   oswzkick,oswzpunchkick,oswzblock,oswzblock              ;8-11
    1910 00011aa0 00012490'         .long   oswzsuper_punch,oswzpunchkick,oswzblock,oswzblock       ;12-15
    1911 00011b20 00013640'         .long   oswzsuper_kick,oswzsuper_kick,oswzblock,oswzblock       ;16-19
    1912 00011ba0 00012490'         .long   oswzgraboh,oswzgraboh,oswzblock,oswzblock               ;20-23
    1913 00011c20 00013640'         .long   oswzsuper_kick,oswzpunchkick,oswzblock,oswzblock        ;24-27
    1914 00011ca0 00012490'         .long   oswzgraboh,oswzgraboh,oswzblock,oswzblock               ;28-31
    1915                    
    1916 00011d20           oswzz           ;0
    1917                    
    1918 00011d20     0960          rets
    1919                    
    1920                    
    1921 00011d30           oswzpunch               ;1
    1922 00011d30           oswzpunchkick   ;9
    1923                    
    1924 00011d30                   JJXM_INIT
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   44

    1925 00011da0                   JJXM    NORMAL,                 oswzpunch_rets
    1926 00011de0                   JJXM    DIZZY,                  oswzpunch_rets
    1927 00011e20                   JJXM    BLOCK,                  oswzpunch_rets
    1928 00011e60                   JJXM    ONGROUND,               attack_runstomp
    1929 00011eb0                   JJXM    RUNNING,                oswzpunch_rets
    1930 00011ef0                   JJXM    BOUNCING,               oswzpunch_rets
    1931 00011f30                   JJXM    ONTURNBKL,              oswzpunch_rets
    1932 00011f70                   JJXM    CLIMBTURNBKL,           oswzpunch_rets
    1933 00011fb0                   JJXM    PUPPET,                 oswzpunch_rets
    1934 00011ff0                   JJXM    PUPPET2,                oswzpunch_rets
    1935 00012030                   JJXM    INAIR,                  oswzpunch_rets
    1936 00012070                   JJXM    ATTACHED,               oswzpunch_rets
    1937 000120b0                   JJXM    DEAD,                   attack_runstomp
    1938 00012100                   JJXM    OPPOVERHEAD,            oswzpunch_rets
    1939 00012140                   JJXM    WAITANIM,               oswzpunch_rets
    1940 00012180                   JJXM    GRAPPLE,                oswzpunch_rets
    1941 000121c0                   JJXM    MASTER,                 oswzpunch_rets
    1942 00012200                   JJXM    SLAVE,                  oswzpunch_rets
    1943 00012240                   JJXM    HEADHOLD,               oswzpunch_rets
    1944 00012280                   JJXM    HEADHELD,               oswzpunch_rets
    1945 000122c0                   JJXM    CHOKEHOLD,              oswzpunch_rets
    1946 00012300                   JJXM    INAIR2,                 oswzpunch_rets
    1947 00012340                   JJXM_END
    1948                    
    1949 00012360           oswzpunch_rets
    1950 00012360     0960          rets
    1951                    
    1952                    
    1953 00012370           oswzblock               ;2
    1954                    
    1955 00012370     b7a0          move    *a13(OBJ_XVEL),a0,L
         00012380     02d0  
    1956 00012390     2be0          sra     1,a0
    1957 000123a0     b20d          move    a0,*a13(OBJ_XVEL),L
         000123b0     02d0  
    1958 000123c0                   SETMODE NORMAL
    1959 00012470     c000          jruc    std_block
         00012480     fa3b  
    1960                    
    1961                    
    1962 00012490           oswzsuper_punch ;4
    1963 00012490           oswzgraboh              ;20
    1964                    
    1965 00012490                   JJXM_INIT
    1966 00012500                   JJXM    NORMAL,                 oswzpunch_flipslam
    1967 00012540                   JJXM    DIZZY,                  oswzpunch_flipslam
    1968 00012580                   JJXM    BLOCK,                  oswzpunch_flipslam
    1969 000125c0                   JJXM    ONGROUND,       176,176,attack_runstomp,oswzspunch_rets
    1970 00012670                   JJXM    RUNNING,                oswzpunch_flipslam
    1971 000126b0                   JJXM    BOUNCING,               oswzpunch_flipslam
    1972 000126f0                   JJXM    ONTURNBKL,              oswzspunch_rets
    1973 00012730                   JJXM    CLIMBTURNBKL,           oswzspunch_rets
    1974 00012770                   JJXM    PUPPET,                 oswzspunch_rets
    1975 000127b0                   JJXM    PUPPET2,                oswzspunch_rets
    1976 000127f0                   JJXM    INAIR,                  oswzspunch_rets
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   45

    1977 00012830                   JJXM    ATTACHED,               oswzspunch_rets
    1978 00012870                   JJXM    DEAD,         176,176,attack_runstomp,oswzspunch_rets
    1979 00012920                   JJXM    OPPOVERHEAD,            oswzspunch_rets
    1980 00012960                   JJXM    WAITANIM,               oswzspunch_rets
    1981 000129a0                   JJXM    GRAPPLE,                oswzspunch_rets
    1982 000129e0                   JJXM    MASTER,                 oswzspunch_rets
    1983 00012a20                   JJXM    SLAVE,                  oswzspunch_rets
    1984 00012a60                   JJXM    HEADHOLD,               oswzspunch_rets
    1985 00012aa0                   JJXM    HEADHELD,               oswzspunch_rets
    1986 00012ae0                   JJXM    CHOKEHOLD,              oswzspunch_rets
    1987 00012b20                   JJXM    INAIR2,                 oswzspunch_rets
    1988 00012b60                   JJXM_END
    1989                    
    1990 00012b80           oswzspunch_rets
    1991 00012b80     0960          rets
    1992                    
    1993                    
    1994 00012b90           oswzpunch_flipslam
    1995                    
    1996                            ;don't do it if you're running away from your opponent.
    1997 00012b90     b5a0          move    *a13(FACING_DIR),a0
         00012ba0     04c0  
    1998 00012bb0     b5a1          move    *a13(NEW_FACING_DIR),a1
         00012bc0     04d0  
    1999 00012bd0     5001          and     a0,a1
    2000 00012be0     0b81          andi    MOVE_LEFT|MOVE_RIGHT,a1
         00012bf0 fffffff3  
    2001 00012c10     ca00          jrz     oswzz
         00012c20     ff0f  
    2002                    
    2003 00012c30     09e0          movi    shn_flipslam_anim,a0
         00012c40 00000000! 
    2004 00012c60     0d5f          calla   change_anim1a
         00012c70 00000000! 
    2005                    
    2006 00012c90                   WRSND   W_SHAWN,HIPTOSS_T1,PUNCH_T2
    2007 00012e30     0960          rets
    2008                    
    2009 00012e40           oswzkick                ;8
    2010                    
    2011 00012e40                   JJXM_INIT
    2012 00012eb0                   JJXM    NORMAL,                 attack_flykick
    2013 00012f00                   JJXM    DIZZY,                  attack_flykick
    2014 00012f50                   JJXM    BLOCK,                  attack_flykick
    2015 00012fa0                   JJXM    ONGROUND,               oswzkick_runstomp
    2016 00012fe0                   JJXM    RUNNING,                attack_flykick
    2017 00013030                   JJXM    BOUNCING,               attack_flykick
    2018 00013080                   JJXM    ONTURNBKL,              attack_flykick
    2019 000130d0                   JJXM    CLIMBTURNBKL,           attack_flykick
    2020 00013120                   JJXM    PUPPET,                 attack_flykick
    2021 00013170                   JJXM    PUPPET2,                attack_flykick
    2022 000131c0                   JJXM    INAIR,                  attack_flykick
    2023 00013210                   JJXM    ATTACHED,               attack_flykick
    2024 00013260                   JJXM    DEAD,                   oswzkick_runstomp
    2025 000132a0                   JJXM    OPPOVERHEAD,            attack_flykick
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   46

    2026 000132f0                   JJXM    WAITANIM,               attack_flykick
    2027 00013340                   JJXM    GRAPPLE,                attack_flykick
    2028 00013390                   JJXM    MASTER,                 attack_flykick
    2029 000133e0                   JJXM    SLAVE,                  attack_flykick
    2030 00013430                   JJXM    HEADHOLD,               attack_flykick
    2031 00013480                   JJXM    HEADHELD,               attack_flykick
    2032 000134d0                   JJXM    CHOKEHOLD,              attack_flykick
    2033 00013520                   JJXM    INAIR2,                 attack_flykick
    2034 00013570                   JJXM_END
    2035                            
    2036                    
    2037 00013590           oswzkick_runstomp
    2038 00013590           attack_runstomp
    2039                    
    2040 00013590     0d5f          calla   ck_ignore
         000135a0 00000000! 
    2041 000135c0     c806          jrc     oswzkick_rets
    2042                    
    2043 000135d0     09e0          movi    shn_run_stomp_anim,a0
         000135e0 00000000! 
    2044 00013600     0d5f          calla   change_anim1a
         00013610 00000000! 
    2045 00013630           oswzkick_rets
    2046 00013630     0960          rets
    2047                    
    2048                    
    2049                    
    2050 00013640           oswzsuper_kick  ;16
    2051                    
    2052 00013640                   JJXM_INIT
    2053 000136b0                   JJXM    NORMAL,                 oswzattack_fstein
    2054 000136f0                   JJXM    DIZZY,                  oswzattack_fstein
    2055 00013730                   JJXM    BLOCK,                  oswzattack_fstein
    2056 00013770                   JJXM    ONGROUND,               attack_runstomp
    2057 000137b0                   JJXM    RUNNING,                oswzattack_fstein
    2058 000137f0                   JJXM    BOUNCING,               oswzattack_fstein
    2059 00013830                   JJXM    ONTURNBKL,              attack_flykick
    2060 00013880                   JJXM    CLIMBTURNBKL,           attack_flykick
    2061 000138d0                   JJXM    INAIR,                  attack_flykick
    2062 00013920                   JJXM    PUPPET,                 attack_flykick
    2063 00013970                   JJXM    PUPPET2,                attack_flykick
    2064 000139c0                   JJXM    ATTACHED,               oswzattack_fstein
    2065 00013a00                   JJXM    DEAD,                   attack_runstomp
    2066 00013a40                   JJXM    OPPOVERHEAD,            oswzattack_fstein
    2067 00013a80                   JJXM    WAITANIM,               oswzattack_fstein
    2068 00013ac0                   JJXM    GRAPPLE,                oswzattack_fstein
    2069 00013b00                   JJXM    MASTER,                 oswzattack_fstein
    2070 00013b40                   JJXM    SLAVE,                  oswzattack_fstein
    2071 00013b80                   JJXM    HEADHOLD,               oswzattack_fstein
    2072 00013bc0                   JJXM    HEADHELD,               oswzattack_fstein
    2073 00013c00                   JJXM    CHOKEHOLD,              oswzattack_fstein
    2074 00013c40                   JJXM    INAIR2,                 oswzattack_fstein
    2075 00013c80                   JJXM_END
    2076                            
    2077                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   47

    2078 00013ca0           oswzattack_fstein
    2079                    
    2080 00013ca0     0d5f          calla   ck_ignore
         00013cb0 00000000! 
    2081 00013cd0     c82b          jrc     oswzrets
    2082                    
    2083 00013ce0     09e0          movi    shn_fstein_anim,a0
         00013cf0 00000000! 
    2084 00013d10     0d5f          calla   change_anim1a
         00013d20 00000000! 
    2085                    
    2086 00013d40                   SETMODE INAIR
    2087                    
    2088 00013df0                   WRSND   W_SHAWN,GRABHOLD_T1,GRABHOLD_T2
    2089 00013f90           oswzrets
    2090                    
    2091                    
    2092 00013f90           mode_inair      ;2
    2093                    
    2094 00013f90     0960          rets
    2095                    
    2096                    
    2097 00013fa0           mode_attached   ;3
    2098                    
    2099 00013fa0     0d5f          calla   keep_attached
         00013fb0 00000000! 
    2100 00013fd0     cb12          jrnz    ujzfstill_attached
    2101                    
    2102 00013fe0     5600          clr     a0
    2103 00013ff0     b20d          move    a0,*a13(ATTACH_PROC),L
         00014000     03e0  
    2104                    
    2105 00014010                   SETMODE NORMAL
    2106                    
    2107 000140c0     09c0          movi    MODE_NORMAL,a0
         000140d0     0000  
    2108 000140e0     b00d          move    a0,*a13(ANIMODE)
         000140f0     0660  
    2109                    
    2110 00014100           ujzfstill_attached
    2111 00014100     0960          rets
    2112                    
    2113                    
    2114 00014110           mode_onground   ;4
    2115                    
    2116 00014110     0960          rets
    2117                    
    2118                    
    2119                    
    2120 00014120           mode_bouncing   ;5
    2121                    
    2122 00014120     5600          clr     a0
    2123 00014130     b20d          move    a0,*a13(OBJ_XVEL),L
         00014140     02d0  
    2124 00014150     b20d          move    a0,*a13(OBJ_ZVEL),L
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   48

         00014160     0310  
    2125                    
    2126 00014170     b5a0          move    *a13(ANIMODE),a0
         00014180     0660  
    2127 00014190     1fe0          btst    MODE_END_BIT,a0
    2128 000141a0     ca20          jrz     lxnonot_ended
    2129                    
    2130 000141b0     b5a0          move    *a13(MOVE_DIR),a0
         000141c0     04b0  
    2131 000141d0     0bc0          xori    MOVE_LEFT+MOVE_RIGHT,a0 ;flip LEFT/RIGHT
         000141e0 0000000c  
    2132 00014200     b00d          move    a0,*a13(MOVE_DIR)
         00014210     04b0  
    2133                    
    2134 00014220     b5a1          move    *a13(NEW_FACING_DIR),a1
         00014230     04d0  
    2135 00014240     0b81          andi    MOVE_UP+MOVE_DOWN,a1
         00014250 fffffffc  
    2136 00014270     5401          or      a0,a1                   ;LEFT or RIGHT
    2137 00014280     b02d          move    a1,*a13(FACING_DIR)     ;face same dir as run
         00014290     04c0  
    2138                    
    2139 000142a0     09e0          movi    shn_run2_anim,a0
         000142b0 00000000! 
    2140 000142d0     0d5f          calla   change_anim1a
         000142e0 00000000! 
    2141                    
    2142 00014300                   SETMODE RUNNING
    2143                    
    2144                    
    2145 000143b0           lxnonot_ended
    2146 000143b0     0960          rets
    2147                    
    2148                    
    2149 000143c0           mode_onturnbkl  ;6
    2150                    
    2151                    
    2152 000143c0     b5a0          move    *a13(STICK_VAL_CUR),a0
         000143d0     0bc0  
    2153 000143e0     1fc0          btst    PLAYER_DOWN_BIT,a0
    2154 000143f0     ca12          jrz     jrzyno_climbdown
    2155                    
    2156 00014400     09e0          movi    shn_climb_down_anim,a0
         00014410 00000000! 
    2157 00014430     0d5f          calla   change_anim1a
         00014440 00000000! 
    2158                    
    2159 00014460                   SETMODE CLIMBTURNBKL
    2160                    
    2161 00014510           jrzyno_interrupt
    2162 00014510     0960          rets
    2163                    
    2164 00014520           jrzyno_climbdown
    2165 00014520     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00014530     0ba0  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   49

    2166 00014540     0b80          andi    011111b,a0
         00014550 ffffffe0  
    2167 00014570     ca51          jrz     jrzyz
    2168                    
    2169 00014580                   X32     a0
    2170 00014590     0b20          addi    jrzyaction_table,a0
         000145a0 00014690' 
    2171 000145c0     8600          move    *a0,a0,L
    2172 000145d0     0920          call    a0
    2173                    
    2174 000145e0     b5a5          move    *a13(PLYRNUM),a5
         000145f0     0580  
    2175 00014600     09e2          movi    JUMP_ROPES,a2
         00014610 00000000! 
    2176 00014630     09c0          movi    1000,a0
         00014640     03e8  
    2177 00014650     0d5f          calla   ADD_IF_SILENT
         00014660 00000000! 
    2178                    
    2179 00014680     0960          rets
    2180                    
    2181                    
    2182                    
    2183 00014690           jrzyaction_table
    2184 00014690 00014a90'         .long   jrzyz,jrzypunch,jrzyblock,jrzyblock                     ;0-3
    2185 00014710 00014aa0'         .long   jrzysuper_punch,jrzysuper_punch,jrzyblock,jrzyblock     ;4-7
    2186 00014790 00014d60'         .long   jrzykick,jrzypunchkick,jrzyblock,jrzyblock              ;8-11
    2187 00014810 00014aa0'         .long   jrzysuper_punch,jrzypunchkick,jrzyblock,jrzyblock       ;12-15
    2188 00014890 00014d60'         .long   jrzysuper_kick,jrzysuper_kick,jrzyblock,jrzyblock       ;16-19
    2189 00014910 00014aa0'         .long   jrzygraboh,jrzygraboh,jrzyblock,jrzyblock               ;20-23
    2190 00014990 00014d60'         .long   jrzysuper_kick,jrzypunchkick,jrzyblock,jrzyblock        ;24-27
    2191 00014a10 00014aa0'         .long   jrzygraboh,jrzygraboh,jrzyblock,jrzyblock               ;28-31
    2192                    
    2193                    
    2194 00014a90           jrzyz
    2195 00014a90     0960          rets
    2196                    
    2197 00014aa0           jrzypunch               ;1
    2198 00014aa0           jrzyblock               ;2
    2199 00014aa0           jrzysuper_punch ;4
    2200 00014aa0           jrzypunchkick   ;5
    2201 00014aa0           jrzygraboh              ;20
    2202                    
    2203 00014aa0                   SETMODE INAIR
    2204                    
    2205 00014b50     09e0          movi    shn_belbow_anim,a0
         00014b60 00000000! 
    2206 00014b80     0d5f          calla   change_anim1a
         00014b90 00000000! 
    2207 00014bb0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    2208 00014d50     0960          rets
    2209                    
    2210 00014d60           jrzykick                ;8
    2211 00014d60           jrzysuper_kick  ;16
    2212                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   50

    2213 00014d60                   SETMODE INAIR
    2214                    
    2215 00014e10     09e0          movi    shn_bstomp_anim,a0
         00014e20 00000000! 
    2216 00014e40     0d5f          calla   change_anim1a
         00014e50 00000000! 
    2217 00014e70                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    2218 00015010     0960          rets
    2219                    
    2220                    
    2221                    
    2222 00015020           mode_block      ;7
    2223                    
    2224 00015020     b5a0          move    *a13(BLOCK_TIME),a0
         00015030     0d30  
    2225 00015040     1020          inc     a0
    2226 00015050     b00d          move    a0,*a13(BLOCK_TIME)
         00015060     0d30  
    2227 00015070     0b40          cmpi    160,a0
         00015080     ff5f  
    2228 00015090     c413          jrlt    uyawno
    2229                    
    2230 000150a0     0d5f          calla   get_opp_plyrmode
         000150b0 00000000! 
    2231 000150d0     0b40          cmpi    MODE_BLOCK,a0
         000150e0     fff8  
    2232 000150f0     cb0d          jrnz    uyawno
    2233 00015100     b5a0          move    *a13(CLOSEST_XDIST),a0
         00015110     0370  
    2234 00015120     0b40          cmpi    61h,a0
         00015130     ff9e  
    2235 00015140     c508          jrge    uyawno
    2236 00015150     0b40          cmpi    45,a0
         00015160     ffd2  
    2237 00015170     c405          jrlt    uyawno
    2238 00015180     b5a0          move    *a13(CLOSEST_ZDIST),a0
         00015190     0390  
    2239 000151a0     0b40          cmpi    30,a0
         000151b0     ffe1  
    2240 000151c0     c461          jrlt    uyawpunchblock
    2241                    
    2242 000151d0           uyawno
    2243 000151d0     b5a0          move    *a13(BUT_VAL_DOWN),a0
         000151e0     0ba0  
    2244 000151f0     0b80          andi    011111b,a0
         00015200 ffffffe0  
    2245 00015220     ca0c          jrz     uyawno_interrupt
    2246                    
    2247                            ;press.  if block isn't down, let mode_normal handle it
    2248 00015230     4c02          move    a0,a2                   ;save a0 from ...val_down
    2249 00015240     b5a0          move    *a13(BUT_VAL_CUR),a0
         00015250     0b90  
    2250 00015260     1fc0          btst    PLAYER_BLOCK_BIT,a0
    2251 00015270     ca08          jrz     uyawset_mode_normal
    2252 00015280     4c40          move    a2,a0                   ;restore a0 from ...val_down
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   51

    2253                    
    2254 00015290                   X32     a0
    2255 000152a0     0b20          addi    uyawaction_table,a0
         000152b0 000153d0' 
    2256 000152d0     8600          move    *a0,a0,L
    2257 000152e0     0920          call    a0
    2258                    
    2259 000152f0           uyawno_interrupt
    2260 000152f0     0960          rets
    2261                    
    2262 00015300           uyawset_mode_normal
    2263 00015300                   SETMODE NORMAL
    2264 000153b0     c000          jruc    mode_normal
         000153c0     f509  
    2265                    
    2266 000153d0           uyawaction_table
    2267 000153d0 000157d0'         .long   uyawz,uyawpunchblock,uyawz      ;0-2
    2268 00015430 000157e0'         .long   uyawpunchblock          ;3
    2269 00015450 000157d0'         .long   uyawz,uyawz,uyawz,uyawz,uyawz,uyawz,uyawz       ;4-10
    2270 00015530 000157d0'         .long   uyawz,uyawz,uyawz,uyawz,uyawz,uyawz,uyawz       ;11-17
    2271 00015610 000157d0'         .long   uyawz,uyawz,uyawz,uyawz,uyawz,uyawz,uyawz       ;18-24
    2272 000156f0 000157d0'         .long   uyawz,uyawz,uyawz,uyawz,uyawz,uyawz,uyawz       ;25-31
    2273                    
    2274 000157d0           uyawz
    2275 000157d0     0960          rets
    2276                    
    2277 000157e0           uyawpunchblock  ;3
    2278                    
    2279 000157e0                   SETMODE NORMAL
    2280                    
    2281 00015890     09e0          movi    shn_4_push_anim,a0
         000158a0 00000000! 
    2282 000158c0     0d5f          calla   change_anim1a
         000158d0 00000000! 
    2283                    
    2284 000158f0                   WRSND   W_SHAWN,PUSH_T1,PUSH_T2
    2285                    
    2286 00015a90     0960          rets
    2287                    
    2288                    
    2289                    
    2290 00015aa0           mode_dizzy      ;8
    2291                    
    2292 00015aa0     0960          rets
    2293                    
    2294                    
    2295 00015ab0           mode_oppoverhead ;10
    2296                    
    2297 00015ab0     0960          rets
    2298                    
    2299                    
    2300 00015ac0           mode_climbturnbkl       ;11
    2301                    
    2302 00015ac0     0960          rets
    2303                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   52

    2304                    
    2305                    
    2306 00015ad0           mode_waitanim   ;12
    2307                    
    2308 00015ad0     b5a0          move    *a13(ANIMODE),a0
         00015ae0     0660  
    2309 00015af0     1fe0          btst    MODE_END_BIT,a0
    2310 00015b00     ca03          jrz     bvvwnot_ended
    2311                    
    2312 00015b10     b7a0          move    *a13(CODE_ADDR),a0,L
         00015b20     0430  
    2313 00015b30     0920          call    a0
    2314                    
    2315 00015b40           bvvwnot_ended
    2316 00015b40     0960          rets
    2317                    
    2318                    
    2319                    
    2320 00015b50           mode_grapple    ;13
    2321                    
    2322 00015b50     0960          rets
    2323                    
    2324                    
    2325 00015b60           mode_master     ;14
    2326                    
    2327 00015b60     0d5f          calla   master_keep_attached    ;keep slave attached to me
         00015b70 00000000! 
    2328                    
    2329 00015b90     0960          rets
    2330                    
    2331                    
    2332 00015ba0           mode_slave      ;15
    2333 00015ba0     0960          rets
    2334                    
    2335                    
    2336 00015bb0           mode_headhold   ;16
    2337                    
    2338                            .ref    bozo_check
    2339 00015bb0     0d5f          calla   bozo_check
         00015bc0 00000000! 
    2340 00015be0     c929          jrnc    admafail
    2341                    
    2342 00015bf0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    2343                    
    2344 00015d90     09e0          movi    shn_fstein_anim,a0
         00015da0 00000000! 
    2345 00015dc0     05ae          move    @PCNT,a14
         00015dd0 00000000! 
    2346 00015df0     1fee          btst    0,a14
    2347 00015e00     ca03          jrz     admatag
    2348 00015e10     09e0          movi    shn_sliding_kicktoss_anim,a0
         00015e20 00000000! 
    2349 00015e40     0d5f  admatag calla   change_anim1a
         00015e50 00000000! 
    2350                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   53

    2351 00015e70     0960          rets
    2352                    
    2353 00015e80           admafail
    2354 00015e80     b7a0          move    *a13(WHOIHIT),a0,L
         00015e90     0500  
    2355 00015ea0     b400          move    *a0(PLYRMODE),a0
         00015eb0     05c0  
    2356 00015ec0     0b40          cmpi    MODE_HEADHELD,a0
         00015ed0     ffec  
    2357 00015ee0     cb10          jrnz    admaexit
    2358                    
    2359                    
    2360 00015ef0     b5a0          move    *a13(ANIMODE),a0
         00015f00     0660  
    2361 00015f10     1fa0          btst    MODE_UNINT_BIT,a0
    2362 00015f20     cb0b          jrnz    admano_interrupt
    2363                    
    2364 00015f30     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00015f40     0ba0  
    2365 00015f50     0b80          andi    011111b,a0
         00015f60 ffffffe0  
    2366 00015f80                   X32     a0
    2367 00015f90     0b20          addi    admaaction_table,a0
         00015fa0 000161c0' 
    2368 00015fc0     8600          move    *a0,a0,L
    2369 00015fd0     0920          call    a0
    2370                    
    2371 00015fe0           admano_interrupt
    2372 00015fe0     0960          rets
    2373                    
    2374 00015ff0           admaexit
    2375 00015ff0     b7ae          move    *a13(OBJ_ZPOS),a14,L
         00016000     0140  
    2376 00016010     0d0e          subi    [6,0],a14
         00016020 fff9ffff  
    2377 00016040     b3cd          move    a14,*a13(OBJ_ZPOS),L
         00016050     0140  
    2378                    
    2379 00016060     1941          movk    MOVE_DOWN_RIGHT,a1
    2380 00016070     b5a0          move    *a13(OBJ_CONTROL),a0
         00016080     0780  
    2381 00016090     1f60          btst    B_FLIPH,a0
    2382 000160a0     ca01          jrz     admaright
    2383 000160b0     18c1          movk    MOVE_DOWN_LEFT,a1
    2384 000160c0     b02d  admaright       move    a1,*a13(FACING_DIR)
         000160d0     04c0  
    2385 000160e0     b02d          move    a1,*a13(NEW_FACING_DIR)
         000160f0     04d0  
    2386                    
    2387 00016100                   SETMODE NORMAL
    2388                    
    2389 000161b0     0960          rets
    2390                    
    2391 000161c0           admaaction_table
    2392 000161c0 000165c0'         .long   admaz,admapunch,admablock,admablock                     ;0-3
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   54

    2393 00016240 00016620'         .long   admasuper_punch,admasuper_punch,admablock,admablock     ;4-7
    2394 000162c0 000168f0'         .long   admakick,admapunchkick,admablock,admablock              ;8-11
    2395 00016340 00016620'         .long   admasuper_punch,admapunchkick,admablock,admablock       ;12-15
    2396 000163c0 00016b80'         .long   admasuper_kick,admasuper_kick,admablock,admablock       ;16-19
    2397 00016440 000165c0'         .long   admagraboh,admagraboh,admablock,admablock               ;20-23
    2398 000164c0 00016b80'         .long   admasuper_kick,admapunchkick,admablock,admablock        ;24-27
    2399 00016540 000165c0'         .long   admagraboh,admagraboh,admablock,admablock               ;28-31
    2400                    
    2401                    
    2402 000165c0           admablock
    2403 000165c0           admagraboh
    2404 000165c0           admaz           ;0
    2405 000165c0     0960          rets
    2406                    
    2407                    
    2408 000165d0           admapunch               ;1
    2409 000165d0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000165e0 00000000! 
    2410                    
    2411 00016600     c000          jruc    std_knee_4
         00016610     f94c  
    2412                    
    2413                    
    2414 00016620           admasuper_punch ;4
    2415 00016620     b5a0          move    *a13(STICK_VAL_CUR),a0
         00016630     0bc0  
    2416 00016640     b5a1          move    *a13(NEW_FACING_DIR),a1
         00016650     04d0  
    2417 00016660     0b81          andi    0ch,a1
         00016670 fffffff3  
    2418 00016690     4801          cmp     a0,a1
    2419 000166a0     cbf1          jrnz    admaz
    2420                    
    2421 000166b0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000166c0 00000000! 
    2422                            .ref    shn_rpt_hdbutts2_anim
    2423 000166e0     09e0          movi    shn_rpt_hdbutts2_anim,a0
         000166f0 00000000! 
    2424 00016710     0d5f          calla   change_anim1a
         00016720 00000000! 
    2425                    
    2426 00016740                   WRSND   W_SHAWN,GRABHOLD_T1,GRABHOLD_T2
    2427                    
    2428 000168e0     0960          rets
    2429                    
    2430 000168f0           admapunchkick
    2431 000168f0           admakick
    2432 000168f0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00016900 00000000! 
    2433 00016920     b5a0          move    *a13(STICK_REL_CUR),a0
         00016930     0bf0  
    2434 00016940     1f80          btst    MOVE_TOWARD_BIT,a0
    2435 00016950     ca00          jrz     std_knee_4
         00016960     f917  
    2436                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   55

    2437                            ;speed kick - speed kick - speed kick - spin kick
    2438 00016970     09e0          movi    shn_speed_spinkick_anim,a0
         00016980 00000000! 
    2439 000169a0     0d5f          calla   change_anim1a
         000169b0 00000000! 
    2440 000169d0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    2441 00016b70     0960          rets
    2442                    
    2443 00016b80           admasuper_kick  ;16
    2444 00016b80     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00016b90 00000000! 
    2445 00016bb0     b5a0          move    *a13(STICK_VAL_CUR),a0
         00016bc0     0bc0  
    2446 00016bd0     b5a1          move    *a13(NEW_FACING_DIR),a1
         00016be0     04d0  
    2447 00016bf0     0b81          andi    0ch,a1
         00016c00 fffffff3  
    2448 00016c20     4801          cmp     a0,a1
    2449 00016c30     cb98          jrnz    admaz
    2450                    
    2451                            ;knee - knee - knee - frankensteiner
    2452 00016c40     09e0          movi    shn_knee_fstein_anim,a0
         00016c50 00000000! 
    2453 00016c70     0d5f          calla   change_anim1a
         00016c80 00000000! 
    2454 00016ca0                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    2455 00016e40     0960          rets
    2456                    
    2457                    
    2458 00016e50           mode_puppet2    ;17
    2459                    
    2460 00016e50     0960          rets
    2461                    
    2462 00016e60           mode_headheld   ;19
    2463                    
    2464 00016e60     b5a0          move    *a13(ANIMODE),a0
         00016e70     0660  
    2465 00016e80     1f40          btst    MODE_NOGRAVITY_BIT,a0
    2466 00016e90     cb80          janz    mode_choking
         00016ea0 00000000! 
    2467                    
    2468 00016ec0     0d5f          calla   bozo_check
         00016ed0 00000000! 
    2469 00016ef0     c932          jrnc    auicfail
    2470                    
    2471 00016f00                   PUSH    a8
    2472 00016f10     4da8          move    a13,a8
    2473 00016f20     0d5f          CALLA   DO_REVERSAL
         00016f30 00000000! 
    2474 00016f50     0d5f          CALLA   DO_REVERSAL_MESS
         00016f60 00000000! 
    2475 00016f80                   PULL    a8
    2476                    
    2477 00016f90                   WRSND   W_SHAWN,KICK_T1,KICK_T2
    2478                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   56

    2479 00017130     09e0          movi    shn_fstein_anim,a0
         00017140 00000000! 
    2480 00017160     05ae          move    @PCNT,a14
         00017170 00000000! 
    2481 00017190     1fee          btst    0,a14
    2482 000171a0     ca03          jrz     auictag
    2483 000171b0     09e0          movi    shn_sliding_kicktoss_anim,a0
         000171c0 00000000! 
    2484 000171e0     0d5f  auictag calla   change_anim1a
         000171f0 00000000! 
    2485                    
    2486 00017210     0960          rets
    2487 00017220           auicfail
    2488                    
    2489 00017220     b7a0          move    *a13(ATTACH_PROC),a0,L
         00017230     03e0  
    2490 00017240     cb0c          jrnz    auicno_luck
    2491                    
    2492 00017250     b5a0          move    *a13(OBJ_YPOSINT),a0
         00017260     0130  
    2493 00017270     b5a1          move    *a13(GROUND_Y),a1
         00017280     0570  
    2494 00017290     4820          cmp     a1,a0                   ;a0-a1
    2495 000172a0     c706          jrgt    auicno_luck
    2496                    
    2497                    
    2498 000172b0     09e0          movi    shn_3_head_held_stand_anim,a0
         000172c0 00000000! 
    2499 000172e0     0d5f          calla   change_anim1a
         000172f0 00000000! 
    2500                    
    2501 00017310           auicno_luck
    2502 00017310     0960          rets
    2503                    
    2504 00017320           mode_chokehold  ;24
    2505 00017320     0960          rets
    2506                    
    2507                    
    2508          0003a000  pstlVEL equ     3a000h          ;38000h ;30000h
    2509          00031000  pstlDVEL        equ     31000h          ;27978h ;21f0eh
    2510                    
    2511                    
    2512 00017330            SUBR shn_velocity_table
    2513                    
    2514                    
    2515 00017330 00000000          .long   0,      -pstlVEL        ;0 UP
    2516                    
    2517 00017370 00031000          .long   pstlDVEL,       -pstlDVEL       ;1 UP-RIGHT
    2518                    
    2519 000173b0 0003a000          .long   pstlVEL,        0       ;2 RIGHT
    2520                    
    2521 000173f0 00031000          .long   pstlDVEL,       pstlDVEL        ;3 DOWN-RIGHT
    2522                    
    2523 00017430 00000000          .long   0,      pstlVEL ;4 DOWN
    2524                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   57

    2525 00017470 fffcf000          .long   -pstlDVEL,      pstlDVEL        ;5 DOWN-LEFT
    2526                    
    2527 000174b0 fffc6000          .long   -pstlVEL,       0       ;6 LEFT
    2528                    
    2529 000174f0 fffcf000          .long   -pstlDVEL,      -pstlDVEL       ;7 UP-LEFT
    2530                    
    2531                    
    2532                    
    2533 00017530            SUBR   shn_rotate_anims_table
    2534 00017530 00000000!         .long   shn_stand2_anim         ;new = up right
    2535 00017550 00000000!         .long   shn_2_to_4_turn_anim    ;    = down right
    2536 00017570 00000000!         .long   shn_2_to_6_turn_anim    ;    = down left
    2537 00017590 00000000!         .long   shn_2_to_8_turn_anim    ;    = up left
    2538                    
    2539 000175b0 00000000!         .long   shn_4_to_2_turn_anim    ;new = up right
    2540 000175d0 00000000!         .long   shn_stand4_anim         ;    = down right
    2541 000175f0 00000000!         .long   shn_4_to_6_turn_anim    ;    = down left
    2542 00017610 00000000!         .long   shn_4_to_8_turn_anim    ;    = up left
    2543                    
    2544 00017630 00000000!         .long   shn_6_to_2_turn_anim    ;new = up right
    2545 00017650 00000000!         .long   shn_6_to_4_turn_anim    ;    = down right
    2546 00017670 00000000!         .long   shn_stand6_anim         ;    = down left
    2547 00017690 00000000!         .long   shn_6_to_8_turn_anim    ;    = up left
    2548                    
    2549 000176b0 00000000!         .long   shn_8_to_2_turn_anim    ;new = up right
    2550 000176d0 00000000!         .long   shn_8_to_4_turn_anim    ;    = down right
    2551 000176f0 00000000!         .long   shn_8_to_6_turn_anim    ;    = down left
    2552 00017710 00000000!         .long   shn_stand8_anim         ;    = up left
    2553                    
    2554                    
    2555 00017730            SUBR   shn_leg_anims_table
    2556 00017730 00000000!         .long   shn_walk1_f2_anim       ;1 (UP)
    2557 00017750 00000000!         .long   shn_walk1_f2_anim       ;2 (UP_RIGHT)
    2558 00017770 00000000!         .long   shn_walk1_f4_anim       ;3 (RIGHT)
    2559 00017790 00000000!         .long   shn_walk1_f4_anim       ;4 (DOWN_RIGHT)
    2560 000177b0 00000000!         .long   shn_walk1_f4_anim       ;5 (DOWN)
    2561 000177d0 00000000!         .long   shn_walk1_f4_anim       ;6 (DOWN_LEFT)
    2562 000177f0 00000000!         .long   shn_walk1_f2_anim       ;7 (LEFT)
    2563 00017810 00000000!         .long   shn_walk1_f2_anim       ;8 (UP-LEFT)
    2564                    
    2565 00017830 00000000!         .long   shn_walk2_f2_anim       ;1 (UP)
    2566 00017850 00000000!         .long   shn_walk2_f2_anim       ;2 (UP_RIGHT)
    2567 00017870 00000000!         .long   shn_walk2_f2_anim       ;3 (RIGHT)
    2568 00017890 00000000!         .long   shn_walk2_f4_anim       ;4 (DOWN_RIGHT)
    2569 000178b0 00000000!         .long   shn_walk8_f4_anim       ;5 (DOWN)
    2570 000178d0 00000000!         .long   shn_walk8_f4_anim       ;6 (DOWN_LEFT)
    2571 000178f0 00000000!         .long   shn_walk4_f2_anim       ;7 (LEFT)
    2572 00017910 00000000!         .long   shn_walk4_f2_anim       ;8 (UP-LEFT)
    2573                    
    2574 00017930 00000000!         .long   shn_walk2_f2_anim       ;1 (UP)
    2575 00017950 00000000!         .long   shn_walk2_f2_anim       ;2 (UP_RIGHT)
    2576 00017970 00000000!         .long   shn_walk2_f2_anim       ;3 (RIGHT)
    2577 00017990 00000000!         .long   shn_walk4_f4_anim       ;4 (DOWN_RIGHT)
    2578 000179b0 00000000!         .long   shn_walk4_f4_anim       ;5 (DOWN)
    2579 000179d0 00000000!         .long   shn_walk8_f4_anim       ;6 (DOWN_LEFT)
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   58

    2580 000179f0 00000000!         .long   shn_walk6_f2_anim       ;7 (LEFT)
    2581 00017a10 00000000!         .long   shn_walk6_f2_anim       ;8 (UP-LEFT)
    2582                    
    2583                    
    2584 00017a30 00000000!         .long   shn_walk2_f2_anim       ;1 (UP)
    2585 00017a50 00000000!         .long   shn_walk8_f2_anim       ;2 (UP_RIGHT)
    2586 00017a70 00000000!         .long   shn_walk4_f4_anim       ;3 (RIGHT)
    2587 00017a90 00000000!         .long   shn_walk4_f4_anim       ;4 (DOWN_RIGHT)
    2588 00017ab0 00000000!         .long   shn_walk2_f4_anim       ;5 (DOWN)
    2589 00017ad0 00000000!         .long   shn_walk6_f4_anim       ;6 (DOWN_LEFT)
    2590 00017af0 00000000!         .long   shn_walk2_f2_anim       ;7 (LEFT)
    2591 00017b10 00000000!         .long   shn_walk6_f2_anim       ;8 (UP-LEFT)
    2592                    
    2593 00017b30 00000000!         .long   shn_walk5_f2_anim       ;1 (UP)
    2594 00017b50 00000000!         .long   shn_walk5_f2_anim       ;2 (UP_RIGHT)
    2595 00017b70 00000000!         .long   shn_walk5_f4_anim       ;3 (RIGHT)
    2596 00017b90 00000000!         .long   shn_walk5_f4_anim       ;4 (DOWN_RIGHT)
    2597 00017bb0 00000000!         .long   shn_walk5_f4_anim       ;5 (DOWN)
    2598 00017bd0 00000000!         .long   shn_walk5_f4_anim       ;6 (DOWN_LEFT)
    2599 00017bf0 00000000!         .long   shn_walk5_f2_anim       ;7 (LEFT)
    2600 00017c10 00000000!         .long   shn_walk5_f2_anim       ;8 (UP-LEFT)
    2601                    
    2602 00017c30 00000000!         .long   shn_walk2_f2_anim       ;1 (UP)
    2603 00017c50 00000000!         .long   shn_walk6_f2_anim       ;2 (UP_RIGHT)
    2604 00017c70 00000000!         .long   shn_walk2_f2_anim       ;3 (RIGHT)
    2605 00017c90 00000000!         .long   shn_walk6_f4_anim       ;4 (DOWN_RIGHT)
    2606 00017cb0 00000000!         .long   shn_walk2_f4_anim       ;5 (DOWN)
    2607 00017cd0 00000000!         .long   shn_walk4_f4_anim       ;6 (DOWN_LEFT)
    2608 00017cf0 00000000!         .long   shn_walk2_f2_anim       ;7 (LEFT)
    2609 00017d10 00000000!         .long   shn_walk8_f2_anim       ;8 (UP-LEFT)
    2610                    
    2611 00017d30 00000000!         .long   shn_walk2_f2_anim       ;1 (UP)
    2612 00017d50 00000000!         .long   shn_walk6_f2_anim       ;2 (UP_RIGHT)
    2613 00017d70 00000000!         .long   shn_walk6_f2_anim       ;3 (RIGHT)
    2614 00017d90 00000000!         .long   shn_walk8_f4_anim       ;4 (DOWN_RIGHT)
    2615 00017db0 00000000!         .long   shn_walk4_f4_anim       ;5 (DOWN)
    2616 00017dd0 00000000!         .long   shn_walk4_f4_anim       ;6 (DOWN_LEFT)
    2617 00017df0 00000000!         .long   shn_walk2_f2_anim       ;7 (LEFT)
    2618 00017e10 00000000!         .long   shn_walk2_f2_anim       ;8 (UP-LEFT)
    2619                    
    2620 00017e30 00000000!         .long   shn_walk2_f2_anim       ;1 (UP)
    2621 00017e50 00000000!         .long   shn_walk4_f2_anim       ;2 (UP_RIGHT)
    2622 00017e70 00000000!         .long   shn_walk6_f2_anim       ;3 (RIGHT)
    2623 00017e90 00000000!         .long   shn_walk8_f4_anim       ;4 (DOWN_RIGHT)
    2624 00017eb0 00000000!         .long   shn_walk6_f4_anim       ;5 (DOWN)
    2625 00017ed0 00000000!         .long   shn_walk2_f4_anim       ;6 (DOWN_LEFT)
    2626 00017ef0 00000000!         .long   shn_walk2_f2_anim       ;7 (LEFT)
    2627 00017f10 00000000!         .long   shn_walk2_f2_anim       ;8 (UP-LEFT)
    2628                    
    2629                    
    2630 00017f30            SUBR   shn_torso_anims_table
    2631 00017f30 00000000!         .long   shn_torso2_anim         ;new = up right
    2632 00017f50 00000000!         .long   shn_2_to_4_turn2_anim   ;    = down right
    2633 00017f70 00000000!         .long   shn_2_to_6_turn2_anim   ;    = down left
    2634 00017f90 00000000!         .long   shn_2_to_8_turn2_anim   ;    = up left
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:18 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   59

    2635                    
    2636 00017fb0 00000000!         .long   shn_4_to_2_turn2_anim   ;new = up right
    2637 00017fd0 00000000!         .long   shn_torso4_anim         ;    = down right
    2638 00017ff0 00000000!         .long   shn_4_to_6_turn2_anim   ;    = down left
    2639 00018010 00000000!         .long   shn_4_to_8_turn2_anim   ;    = up left
    2640                    
    2641 00018030 00000000!         .long   shn_6_to_2_turn2_anim   ;new = up right
    2642 00018050 00000000!         .long   shn_6_to_4_turn2_anim   ;    = down right
    2643 00018070 00000000!         .long   shn_torso6_anim         ;    = down left
    2644 00018090 00000000!         .long   shn_6_to_8_turn2_anim   ;    = up left
    2645                    
    2646 000180b0 00000000!         .long   shn_8_to_2_turn2_anim   ;new = up right
    2647 000180d0 00000000!         .long   shn_8_to_4_turn2_anim   ;    = down right
    2648 000180f0 00000000!         .long   shn_8_to_6_turn2_anim   ;    = down left
    2649 00018110 00000000!         .long   shn_torso8_anim         ;    = up left
    2650                    
    2651                    
    2652                    
    2653                            .end

 No Errors,  No Warnings
