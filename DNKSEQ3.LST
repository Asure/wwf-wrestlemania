TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    **************************************************************
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            5/2/94
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "dnkseq3.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "mproc.equ"             ;Mproc equates
      19                            .include        "sys.equ"
      20                            .include        "display.equ"
      21                            .include        "game.equ"
      22                            .include        "plyr.equ"
      23                            .include        "anim.equ"
      24                            .include        "sound.h"
      25                            .include        "ring.equ"
      26                    
      27                    
      28                            .include        "bretimg.h"
      29                            .include        "razorimg.h"
      30                            .include        "takerimg.h"
      31                            .include        "yokoimg.h"
      32                            .include        "shawnimg.h"
      33                            .include        "bamimg.h"
      34                            .include        "doinkimg.h"
      35                            .include        "leximg.h"
      36                    
      37                            .include        "fontsimg.glo"
      38                            .include        "miscimg.glo"
      39                            .include        "damage.equ"
      40                    
      41                    ******************************************************************************
      42                    * EXTERNAL REFERENCES
      43                    
      44                            .ref    PCNT,MOVE_NAME_ANNC,DO_WAIL,DO_NONO,DO_DOINK_SLAM
      45                            .ref    FIND_AND_KILL_ENDLESS,CALL_MISS_YOKO,triple_sound
      46                            .ref    RNDRNG0,HIT_THE_MAT,SMALL_BOUNCE,CALL_MISSES,CALL_SETUP
      47                            .ref    CALL_THROWN_OUT,CALL_SPECIAL_MOVE,get_leap,shake_all_ropes
      48                            .ref    dnk_dizzy_anim,dnk_2_faceup_getup_anim,no_debris,reduce_bog
      49                            .ref    dnk_4_faceup_getup_anim,dnk_hitonground_anim
      50                            .ref    dnk_faceup_getup_anim,dnk_hitonground_xflip_anim
      51                            .ref    dnk_4_combo_butt_anim,DO_COMBO_MESS,dnk_4_box_anim
      52                            .ref    dnk_4_knee_fall_anim,dnk_flying_kick_anim,NUM_OPPS
      53                            .ref    MAYBE_SHOCKING,target_whoihit,PSTATUS,royal_rumble
      54                            .ref    punch_dtime1,change_anim_anim,dnk_combo_box_anim
      55                            .ref    dnk_fall_back_anim,dnk_combo_knee_fall_anim
      56                            .ref    pal_getf,lex_break_face2_anim,dnk_combo_flying_kick_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    2

      57                            .ref    set_xdrift,CALL_OTHER_AVERAGE,get_health
      58                            .ref    lex_break_neck2_anim,ckzpos,dnk_stand4_anim
      59                            .ref    yok_3_head_held_brk_anim,lex_break_face_anim
      60                            .ref    free_toss_check,setup_freetoss,process_ptrs
      61                            .ref    dnk_2_hiptoss_anim
      62                    
      63                    ******************************************************************************
      64                    * SYMBOLS DEFINED IN THIS FILE
      65                    
      66                    ******************************************************************************
      67                    * EQUATES FOR THIS FILE
      68                    
      69              0035  TSEC    equ     53
      70                    
      71                    *****************************************************************************
      72                    *
      73                    * JOY BUZZER
      74                    
      75 00000000            SUBR   dnk_2_buzz_anim
      76                    
      77 00000000     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
      78 00000020     8016          .word   ANI_FRICTION,2000h
      79 00000040     8026          .word   ANI_SETSPEED,100h
      80                    
      81 00000060     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
      82 00000070     805f          .word   ANI_SET_WRESTLER_XFLIP
      83                    
      84 00000080     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
      85 000000a0     8003          .word   ANI_ZEROVELS
      86                    
      87 000000b0     8075          .word   ANI_STARTATTACK,AT_PUPPET,20
      88 000000e0                   WL      2,D1TT5Z+FR2
      89 00000110                   WL      2,D1TT5Z+FR3
      90 00000140                   WL      ANI_GOTO,minacont
      91                    
      92 00000170            SUBR   dnk_4_buzz_anim
      93                    
      94 00000170     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
      95 00000190     8016          .word   ANI_FRICTION,2000h
      96 000001b0     8026          .word   ANI_SETSPEED,100h
      97 000001d0     8003          .word   ANI_ZEROVELS
      98                    
      99 000001e0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     100 000001f0     805f          .word   ANI_SET_WRESTLER_XFLIP
     101                    
     102                    ;Comes in from head held mode!
     103 00000200     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     104 00000220     800a          .word   ANI_DETACH
     105                    
     106 00000230           minacont
     107 00000230     8075          .word   ANI_STARTATTACK,AT_PUPPET,20
     108 00000260                   WL      3,D4BZ3A+FR1
     109                    
     110 00000290     8003          .word   ANI_ZEROVELS
     111 000002a0     801a          .WORD   ANI_SOUND,020FH         ;PUT IT THERE
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    3

     112                    
     113 000002c0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_7,2,2
     114 00000300     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,23,62,59,29 ;mode,x,y,w,h
     115 00000360                   WWL     ANI_WAITHITOPP,35,D4BZ3A+FR2
     116 000003a0     8007          .word   ANI_ATTACK_OFF
     117 000003b0           minacont4
     118 000003b0                   WL      ANI_IFSTATUS2,minagothim
     119                    
     120                    
     121 000003e0                   WL      35,D4BZ3A+FR2
     122                    
     123                    
     124 00000410                   WL      ANI_GOTO,minacont2
     125                    
     126 00000440           minagothim
     127                    ;       WL      ANI_CODE,merge_xvels
     128                    
     129 00000440     8012          .word   ANI_ATTACHZ,0,0,-4              ;x & y don't matter.
     130 00000480     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
     131                    
     132 000004a0                   WWLLW   ANI_SUPERSLAVE2,1,D4BZ3A+FR3,minapuppet_tbl,0
     133                    
     134                            ;SMART-TARGET, so we buzz the right guy!
     135 00000510                   WL      ANI_CODE,target_whoihit
     136                    
     137 00000540     8006          .word   ANI_ATTACK_ON, AMODE_BUZZ,53,62,50,29   ;mode,x,y,w,h
     138 000005a0                   WL      1,D4BZ3A+FR3
     139 000005d0     8007          .word   ANI_ATTACK_OFF
     140                    
     141 000005e0                   WL      ANI_CODE,start_sparks
     142                    
     143 00000610                   WL      1,D4BZ3A+FR3
     144 00000640                   WL      3,D4BZ3A+FR4
     145 00000670                   WL      3,D4BZ3A+FR5
     146 000006a0                   WL      3,D4BZ3A+FR6
     147 000006d0                   WL      3,D4BZ3A+FR3
     148 00000700                   WL      3,D4BZ3A+FR4
     149                    
     150 00000730     807a          .word   ANI_DRAW_NAME,28
     151                    
     152                    ;       .word   ANI_WAITHITGND
     153                    ;       .word   ANI_ZEROVELS
     154                    
     155 00000750                   WL      3,D4BZ3A+FR5
     156 00000780     8028          .word   ANI_ZERO_XZVELS
     157 00000790                   WL      3,D4BZ3A+FR6
     158 000007c0                   WL      3,D4BZ3A+FR3
     159 000007f0                   WL      3,D4BZ3A+FR4
     160 00000820                   WL      3,D4BZ3A+FR5
     161 00000850                   WL      3,D4BZ3A+FR6
     162 00000880                   WL      3,D4BZ3A+FR3
     163 000008b0                   WL      3,D4BZ3A+FR4
     164 000008e0                   WL      3,D4BZ3A+FR5
     165 00000910                   WL      3,D4BZ3A+FR6
     166 00000940                   WL      3,D4BZ3A+FR3
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    4

     167 00000970                   WL      3,D4BZ3A+FR4
     168 000009a0                   WL      3,D4BZ3A+FR5
     169 000009d0                   WL      3,D4BZ3A+FR6
     170                    
     171                    ;Stay in this buzz sequence longer if player keeps whacking on his punch button!
     172                    
     173 00000a00                   WWL     ANI_SLIDE_BACK,30h,-70000h,minacont2
     174                    
     175 00000a60                   WL      ANI_SET_YVEL,30000h
     176 00000a90                   WL      3,D4BZ3A+FR2
     177 00000ac0           minacont2
     178 00000ac0                   WL      6,D4BZ3A+FR2
     179 00000af0                   WL      3,D4BZ3A+FR1
     180                    
     181 00000b20                   WL      ANI_CODE,minazero_butn
     182                    
     183 00000b50     800a          .word   ANI_DETACH
     184 00000b60     8022          .word   ANI_FACEDOWN
     185 00000b70     8002          .word   ANI_SETMODE,MODE_NORMAL
     186 00000b90     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     187 00000bb0     8049          .word   ANI_END
     188                    
     189 00000bc0            SUBR   dnk_2_buzz2_anim
     190                    ;Running or pushing toward buzzer
     191                    
     192 00000bc0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     193 00000be0     8016          .word   ANI_FRICTION,2000h
     194 00000c00     8026          .word   ANI_SETSPEED,100h
     195                    
     196                    ;       .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     197                    ;       .word   ANI_SET_WRESTLER_XFLIP
     198                    
     199 00000c20     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     200                    
     201 00000c40     8075          .word   ANI_STARTATTACK,AT_LEAPING,9
     202 00000c70                   WL      3,D1TT5Z+FR2
     203 00000ca0                   WL      3,D1TT5Z+FR3
     204 00000cd0                   WL      ANI_GOTO,minacont3
     205                    
     206 00000d00            SUBR   dnk_4_buzz2_anim
     207                    
     208 00000d00     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     209 00000d20     8016          .word   ANI_FRICTION,2000h
     210 00000d40     8026          .word   ANI_SETSPEED,100h
     211                    
     212                    ;       .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     213                    ;       .word   ANI_SET_WRESTLER_XFLIP
     214                    
     215 00000d60     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     216                    
     217 00000d80           minacont3
     218 00000d80     8075          .word   ANI_STARTATTACK,AT_LEAPING,3
     219 00000db0                   WL      3,D4BZ3A+FR1
     220                    
     221 00000de0                   WL      ANI_CODE,get_leap
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    5

     222 00000e10                   WL      ANI_IFNOTSTATUS2,minanormal
     223                    
     224 00000e40     8003          .word   ANI_ZEROVELS
     225 00000e50     803a          .word   ANI_CLR_STATUS
     226 00000e60                   WL      ANI_GOTO,minacontz
     227                    
     228 00000e90           minanormal
     229                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     230 00000e90                   LEAPATOPP 9,999,38h,80,90000h,TGT_HEAD,80,85,0
     231                    ;       WL      ANI_SET_YVEL,30000h
     232                    
     233 00000f40           minacontz
     234 00000f40     801a          .WORD   ANI_SOUND,020FH         ;PUT IT THERE
     235 00000f60     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,23,62,59,29 ;mode,x,y,w,h
     236 00000fc0                   WWL     ANI_WAITHITOPP,20,D4BZ3A+FR2
     237 00001000     8007          .word   ANI_ATTACK_OFF
     238 00001010                   WLW     ANI_SET_ZVEL,0h,AM_ABS
     239 00001050                   WL      ANI_GOTO,minacont4
     240                    
     241 00001080            SUBR   dnk_combo_buzz2_anim
     242                    
     243 00001080     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     244 000010a0     8016          .word   ANI_FRICTION,2000h
     245 000010c0     8026          .word   ANI_SETSPEED,100h
     246                    
     247 000010e0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     248                    
     249 00001100     8075          .word   ANI_STARTATTACK,AT_LEAPING,3
     250 00001130                   WL      3,D4BZ3A+FR1
     251                    
     252 00001160                   WL      ANI_CODE,get_leap
     253 00001190                   WL      ANI_IFNOTSTATUS2,minanormalc
     254                    
     255 000011c0     8003          .word   ANI_ZEROVELS
     256 000011d0     803a          .word   ANI_CLR_STATUS
     257 000011e0                   WL      ANI_GOTO,minacontzc
     258                    
     259 00001210           minanormalc
     260                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
     261 00001210                   LEAPATOPP 9,999,38h,80,90000h,TGT_HEAD,80,85,0
     262                    
     263 000012c0           minacontzc
     264 000012c0     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,23,62,59,29 ;mode,x,y,w,h
     265 00001320                   WWL     ANI_WAITHITOPP,20,D4BZ3A+FR2
     266 00001360     8007          .word   ANI_ATTACK_OFF
     267 00001370                   WLW     ANI_SET_ZVEL,0h,AM_ABS
     268 000013b0     8072          .WORD   ANI_INC_COMBO
     269 000013c0                   WL      ANI_CODE,DO_COMBO_MESS
     270 000013f0     8073          .WORD   ANI_CLEAR_COMBO
     271 00001400                   WL      ANI_GOTO,minacont4
     272                    
     273 00001430           minazero_butn
     274                    ;Force player to start holding his button down starting at the end
     275                    ;of the current buzz sequence.
     276                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    6

     277 00001430     b5a0          move    *a13(PLYRNUM),a0
         00001440     0580  
     278 00001450                   X16     a0
     279 00001460     0b20          addi    punch_dtime1,a0
         00001470 00000000! 
     280 00001490     57ce          clr     a14
     281 000014a0     81c0          move    a14,*a0
     282 000014b0     0960          rets
     283                    
     284                    
     285 000014c0           start_sparks
     286 000014c0     05ae          move    @no_debris,a14
         000014d0 00000000! 
     287 000014f0     05a1          move    @reduce_bog,a1
         00001500 00000000! 
     288 00001520     542e          or      a1,a14
     289 00001530     cb08          jrnz    minarets
     290 00001540     4daa          move    a13,a10
     291 00001550                   CREATE0 hand_sparks
     292 000015c0           minarets
     293 000015c0                   CREATE0 MAYBE_SHOCKING
     294 00001630     0960          rets
     295                    *************************
     296                    * Puppets table
     297                    
     298 00001640           minapuppet_tbl
     299 00001640 00001760'  .long minaBret
     300 00001660 000017b0'  .long minaRazor
     301 00001680 00001800'  .long minaTaker
     302 000016a0 00001850'  .long minaYokozuna
     303 000016c0 000018a0'  .long minaShawn
     304 000016e0 000018f0'  .long minaBamBam
     305 00001700 00001940'  .long minaDoink
     306 00001720 00001990'  .long minaAdam
     307 00001740 000019b0'  .long minaLex
     308                    
     309 00001760           minaBret
     310                            .ref    H4BZ4A
     311 00001760            LWWW H4BZ4A+FR1,80,28,1
     312 000017b0           minaRazor
     313                            .ref    R4BZ4A
     314 000017b0            LWWW R4BZ4A+FR1,75,30,1
     315 00001800           minaTaker
     316                            .ref    U4BZ4A
     317 00001800            LWWW U4BZ4A+FR1,75,30,1
     318 00001850           minaYokozuna
     319                            .ref    Y4BZ4A
     320 00001850            LWWW Y4BZ4A+FR1,75,26,1
     321 000018a0           minaShawn
     322                            .ref    S4BZ4A
     323 000018a0            LWWW S4BZ4A+FR1,75,24,1
     324 000018f0           minaBamBam
     325                            .ref    B4BZ4A
     326 000018f0            LWWW B4BZ4A+FR1,75,15,1
     327 00001940           minaDoink
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    7

     328 00001940            LWWW D4BZ4A+FR1,75,30,1
     329 00001990           minaAdam
     330 00001990 00000000   .long 0
     331 000019b0           minaLex
     332                            .ref    L4BZ4A
     333 000019b0            LWWW L4BZ4A+FR1,75,23,1
     334                    
     335                    *****************************************************************************
     336                    *
     337                    * GET BUZZED FROM DOINK
     338                    
     339 00001a00            SUBR   dnk_get_buzz_anim
     340                    
     341 00001a00     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     342                    ;       .word   ANI_ZEROVELS
     343 00001a20     8026          .word   ANI_SETSPEED,100h
     344                    
     345                    ;       .word   ANI_XFLIP
     346 00001a40     8010          .word   ANI_GRAVITY_OFF
     347                    
     348                    
     349                    ;Put this Doink into the blue doink pal, then replace whatever
     350                    ;pal he was using at the end!
     351                    
     352                    ;We have to change pals on whatever guy we are showing in order
     353                    ;to show the blue skeleton.
     354                    
     355 00001a50                   WL      ANI_CODE,set_position
     356 00001a80                   WL      2,D4SK4A+FR1
     357 00001ab0                   WL      3,D4BZ4A+FR1
     358                    
     359 00001ae0                   WL      ANI_CODE,make_white
     360 00001b10                   WL      3,D4SK4A+FR1
     361 00001b40                   WL      ANI_CODE,make_norm
     362                            
     363 00001b70                   WL      3,D4BZ4A+FR1
     364 00001ba0                   WL      3,D4SK4A+FR1
     365 00001bd0                   WL      3,D4BZ4A+FR1
     366 00001c00                   WL      3,D4SK4A+FR1
     367 00001c30                   WL      ANI_CODE,make_white
     368 00001c60                   WL      3,D4BZ4A+FR1
     369 00001c90                   WL      ANI_CODE,make_norm
     370 00001cc0                   WL      3,D4SK4A+FR1
     371 00001cf0                   WL      3,D4BZ4A+FR1
     372 00001d20                   WL      3,D4SK4A+FR1
     373 00001d50                   WL      3,D4BZ4A+FR1
     374 00001d80                   WL      ANI_CODE,make_white
     375 00001db0                   WL      3,D4SK4A+FR1
     376 00001de0                   WL      ANI_CODE,make_norm
     377 00001e10                   WL      3,D4BZ4A+FR1
     378 00001e40                   WL      3,D4SK4A+FR1
     379 00001e70                   WL      ANI_CODE,start_smoke
     380                    
     381 00001ea0     800a          .word   ANI_DETACH
     382 00001eb0     800f          .word   ANI_GRAVITY_ON
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    8

     383 00001ec0                   WL      ANI_SET_YVEL,60000h
     384 00001ef0                   WLW     ANI_SET_XVEL,-30000h,AM_FACE_REL
     385 00001f30                   WLW     ANI_SET_ZVEL,20000h,AM_ABS
     386 00001f70                   WL      ANI_CODE,cmzvmake_black
     387 00001fa0                   WL      3,D4BZ4A+FR1
     388 00001fd0                   WL      ANI_CODE,make_norm
     389 00002000                   WL      3,D4BZ4A+FR1
     390 00002030                   WL      ANI_CODE,cmzvmake_black
     391 00002060                   WL      3,D4BZ4A+FR1
     392 00002090                   WL      ANI_CODE,make_norm
     393 000020c0                   WL      3,D4BZ4A+FR1
     394 000020f0                   WL      ANI_CODE,cmzvmake_black
     395 00002120                   WL      3,D4BZ4A+FR1
     396 00002150                   WL      ANI_CODE,make_norm
     397 00002180                   WL      3,D4BZ4A+FR1
     398                    
     399 000021b0     800b          .word   ANI_WAITHITGND
     400 000021c0     800c          .word   ANI_XFLIP
     401 000021d0     8022          .word   ANI_FACEDOWN
     402 000021e0     8015          .word   ANI_OFFSET,-20,0,0                      ;x,y,z
     403                    
     404 00002220                   WL      1,D4ST4E+FR3
     405                    
     406 00002250                   WL      ANI_CODE,am_I_dead
     407                    ;If I'm dead, goto fall back
     408 00002280                   WL      ANI_IFNOTSTATUS2,cmzvnodead
     409                    
     410 000022b0                   WL      ANI_CHANGEANIM,dnk_fall_back_anim
     411                    ;       .word   ANI_END
     412                    
     413 000022e0           cmzvnodead
     414 000022e0     8002          .word   ANI_SETMODE,MODE_NORMAL
     415 00002300     8049          .word   ANI_END
     416                    
     417 00002310            SUBR   am_I_dizzy
     418 00002310     b5a1          move    *a13(ANIMODE),a1
         00002320     0660  
     419 00002330     0b81          andni   MODE_STATUS2,a1
         00002340 00000200  
     420 00002360     b5a0          move    *a13(PLYRMODE),a0
         00002370     05c0  
     421 00002380     0b40          cmpi    MODE_DEAD,a0
         00002390     fff6  
     422 000023a0     ca06          jrz     cmzvnot_dizzy
     423 000023b0     b5a0          move    *a13(PLYR_DIZZY),a0
         000023c0     0600  
     424 000023d0     ca03          jrz     cmzvnot_dizzy
     425 000023e0     0ba1          ori     MODE_STATUS2,a1
         000023f0 00000200  
     426 00002410           cmzvnot_dizzy
     427 00002410     b02d          move    a1,*a13(ANIMODE)
         00002420     0660  
     428 00002430     0960          rets
     429                    
     430 00002440            SUBR   am_I_dead
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE    9

     431                            
     432 00002440     b5a1          move    *a13(PLYRNUM),a1
         00002450     0580  
     433 00002460     0d5f          calla   get_health
         00002470 00000000! 
     434 00002490     cb0c          jrnz    cmzvnotdead
     435                    
     436 000024a0     b5a1          move    *a13(ANIMODE),a1
         000024b0     0660  
     437 000024c0     0ba1          ori     MODE_STATUS2,a1
         000024d0 00000200  
     438 000024f0     b02d          move    a1,*a13(ANIMODE)
         00002500     0660  
     439 00002510     09c1          movi    MODE_DEAD,a1
         00002520     0009  
     440 00002530     b02d          move    a1,*a13(PLYRMODE)
         00002540     05c0  
     441 00002550     0960          rets
     442 00002560           cmzvnotdead
     443 00002560     b5a1          move    *a13(ANIMODE),a1
         00002570     0660  
     444 00002580     0b81          andni   MODE_STATUS2,a1
         00002590 00000200  
     445 000025b0     b5a0          move    *a13(PLYRMODE),a0
         000025c0     05c0  
     446 000025d0     0b40          cmpi    MODE_DEAD,a0
         000025e0     fff6  
     447 000025f0     cb03          jrnz    cmzvnot_dead
     448 00002600     0ba1          ori     MODE_STATUS2,a1
         00002610 00000200  
     449 00002630           cmzvnot_dead
     450 00002630     b02d          move    a1,*a13(ANIMODE)
         00002640     0660  
     451 00002650     0960          rets
     452                    
     453 00002660            SUBR   make_white
     454 00002660     09ce          movi    0101h,a14
         00002670     0101  
     455 00002680     b1cd          move    a14,*a13(OBJ_CONST)
         00002690     0790  
     456 000026a0     b5ae          move    *a13(OBJ_CONTROL),a14
         000026b0     0780  
     457 000026c0     0b8e          andni   01111b,a14
         000026d0 0000000f  
     458 000026f0     0bae          ori     M_CONNON,a14
         00002700 00000008  
     459 00002720     b1cd          move    a14,*a13(OBJ_CONTROL)
         00002730     0780  
     460 00002740     0960          rets
     461                    
     462 00002750           cmzvmake_black
     463 00002750     09ce          movi    0b0bh,a14
         00002760     0b0b  
     464 00002770     b1cd          move    a14,*a13(OBJ_CONST)
         00002780     0790  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   10

     465 00002790     b5ae          move    *a13(OBJ_CONTROL),a14
         000027a0     0780  
     466 000027b0     0b8e          andni   01111b,a14
         000027c0 0000000f  
     467 000027e0     0bae          ori     M_CONNON,a14
         000027f0 00000008  
     468 00002810     b1cd          move    a14,*a13(OBJ_CONTROL)
         00002820     0780  
     469 00002830     0960          rets
     470                    
     471 00002840            SUBR   make_norm
     472 00002840     b5ae          move    *a13(OBJ_CONTROL),a14
         00002850     0780  
     473 00002860     0b8e          andni   01111b,a14
         00002870 0000000f  
     474 00002890     0bae          ori     DMAWNZ,a14
         000028a0 00008002  
     475 000028c0     b1cd          move    a14,*a13(OBJ_CONTROL)
         000028d0     0780  
     476 000028e0     0960          rets
     477                    
     478 000028f0            SUBR   set_position
     479 000028f0     b7a0          move    *a13(WHOHITME),a0,L
         00002900     04e0  
     480 00002910     b401          move    *a0(OBJ_XPOSINT),a1
         00002920     0110  
     481 00002930     b5a2          move    *a13(OBJ_XPOSINT),a2
         00002940     0110  
     482 00002950     4822          cmp     a1,a2
     483 00002960     c404          jrlt    cmzvlft
     484 00002970           cmzvrgt
     485 00002970     0b01          addi    140,a1
         00002980     008c  
     486 00002990     b542          move    *a10(OBJ_XPOSINT),a2
         000029a0     0110  
     487 000029b0     0be1  cmzvlft subi    70,a1
         000029c0     ffb9  
     488                    ;       move    a1,*a13(OBJ_XPOSINT)
     489 000029d0     b401          move    *a0(OBJ_YPOSINT),a1
         000029e0     0130  
     490 000029f0     0b01          addi    12,a1
         00002a00     000c  
     491                    ;       move    a1,*a13(OBJ_YPOSINT)
     492 00002a10     b401          move    *a0(OBJ_ZPOSINT),a1
         00002a20     0150  
     493 00002a30     0be1          subi    20,a1
         00002a40     ffeb  
     494                    ;       move    a1,*a13(OBJ_ZPOSINT)
     495 00002a50     09e0          movi    DNKBLU_P,a0
         00002a60 00000000! 
     496 00002a80     0d5f          calla   pal_getf
         00002a90 00000000! 
     497 00002ab0     b00d          move    a0,*a13(SKELETON_PAL)
         00002ac0     08b0  
     498 00002ad0     b5a0          move    *a13(OBJ_PAL),a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   11

         00002ae0     07a0  
     499 00002af0     b00d          move    a0,*a13(MY_PAL)
         00002b00     08a0  
     500                            
     501 00002b10     0960          rets
     502                    
     503 00002b20            SUBR   set_skeleton_pal
     504 00002b20     b5a0          move    *a13(SKELETON_PAL),a0
         00002b30     08b0  
     505 00002b40     b00d          move    a0,*a13(OBJ_PAL)
         00002b50     07a0  
     506                    
     507                            ;set the TEMP_PAL bit
     508 00002b60     b5ae          move    *a13(STATUS_FLAGS),a14
         00002b70     0b50  
     509 00002b80     0bae          ori     M_TEMP_PAL,a14
         00002b90 00000004  
     510 00002bb0     b1cd          move    a14,*a13(STATUS_FLAGS)
         00002bc0     0b50  
     511                    
     512 00002bd0     0960          rets
     513                    
     514 00002be0            SUBR   set_my_pal
     515 00002be0     b5a0          move    *a13(MY_PAL),a0
         00002bf0     08a0  
     516 00002c00     b00d          move    a0,*a13(OBJ_PAL)
         00002c10     07a0  
     517                    
     518                            ;clear TEMP_PAL bit
     519 00002c20     b5ae          move    *a13(STATUS_FLAGS),a14
         00002c30     0b50  
     520 00002c40     0b8e          andni   M_TEMP_PAL,a14
         00002c50 00000004  
     521 00002c70     b1cd          move    a14,*a13(STATUS_FLAGS)
         00002c80     0b50  
     522                    
     523 00002c90     0960          rets
     524                    
     525 00002ca0            SUBR   start_smoke
     526                    
     527 00002ca0     05ae          move    @no_debris,a14
         00002cb0 00000000! 
     528 00002cd0     cb0c          jrnz    cmzvrets
     529 00002ce0     05ae          move    @reduce_bog,a14
         00002cf0 00000000! 
     530 00002d10     cb08          jrnz    cmzvrets
     531                    
     532 00002d20     4daa          move    a13,a10
     533 00002d30                   CREATE0 body_smoke
     534                    
     535 00002da0     0960  cmzvrets        rets
     536                    
     537                    *****************************************************************************
     538                    
     539 00002db0            SUBR   dnk_3_pile_driver_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   12

     540                    
     541 00002db0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     542 00002dd0     8003          .word   ANI_ZEROVELS
     543 00002de0     8026          .word   ANI_SETSPEED,100h
     544 00002e00     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     545                    
     546                    ;Put cool cheers here
     547                    
     548 00002e20     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,32,15,45,41 ;mode,x,y,w,h
     549 00002e80                   WWL     ANI_WAITHITOPP,4,D4GH3A+FR8     ;D3PP3Z+FR1
     550 00002ec0     8007          .word   ANI_ATTACK_OFF
     551                    
     552 00002ed0                   WL      ANI_IFNOTSTATUS2,iueymissed
     553                    
     554                    ;Check to see if I have tried to pile drive Yokozuna!
     555                    
     556 00002f00     801a          .word   ANI_SOUND,82h                   ;Effort grunt
     557                    
     558                    ;got him
     559 00002f20     8012          .word   ANI_ATTACHZ,0,0,-2              ;x & y don't matter.
     560 00002f60     8050          .word   ANI_SETOPPMODE,MODE_GHOST
     561 00002f80     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
     562                    
     563 00002fa0                   WWLLW   ANI_SUPERSLAVE2,4,D3PP3Z+FR1,iueypuppet_tbl,0
     564 00003010     800b          .word   ANI_WAITHITGND
     565                    
     566 00003020     8074          .WORD   ANI_ADD_MOVE,MOVE_C_5,2,2
     567                    
     568 00003060                   WWLLW   ANI_SUPERSLAVE2,4,D3PP3Z+FR2,iueypuppet_tbl,1
     569 000030d0                   WWLLW   ANI_SUPERSLAVE2,20,D3PP3Z+FR3,iueypuppet_tbl,2
     570 00003140                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3Z+FR4,iueypuppet_tbl,3
     571                    
     572 000031b0                   WL      ANI_SET_YVEL,80000h
     573                    ;Float toward the center of ring!
     574 000031e0                   WL      ANI_CODE,set_xdrift
     575                    
     576 00003210                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3Z+FR5,iueypuppet_tbl,4
     577 00003280     8015          .word   ANI_OFFSET,0,26,0                       ;x,y,z
     578                    
     579 000032c0                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3Z+FR6,iueypuppet_tbl,5
     580 00003330                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR6,iueypuppet_tbl,6
     581 000033a0                   WWLLW   ANI_SUPERSLAVE2,7,D4HS3B+FR6,iueypuppet_tbl,7
     582                    
     583                    ;Mess with the physics!
     584                    
     585 00003410                   WL      ANI_SET_YVEL,-20000h
     586                    
     587 00003440     800b          .word   ANI_WAITHITGND
     588 00003450     8003          .word   ANI_ZEROVELS
     589                    
     590                    ;Maybe do a bounce
     591                    
     592                            ;impact
     593 00003460                   WL      ANI_CODE,HIT_THE_MAT
     594 00003490     8037          .word   ANI_SHAKEALL,2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   13

     595 000034b0     801f          .word   ANI_SHAKER,40
     596 000034d0     8042          .word   ANI_DAMAGEOPP,D_PILEDRIVER,RD_PILEDRIVER
     597                    
     598 00003500                   WWLLW   ANI_SUPERSLAVE2,4,D4HS3B+FR7,iueypuppet_tbl,8
     599 00003570                   WWLLW   ANI_SUPERSLAVE2,4,D4HS3B+FR8,iueypuppet_tbl,9
     600                    
     601 000035e0                   WL      ANI_CODE,CALL_SPECIAL_MOVE
     602 00003610                   WL      ANI_CODE,iueyset_opp_xflip
     603                    
     604 00003640                   WL      ANI_SLAVEANIM,iueyrollout_tbl
     605 00003670     8051          .word   ANI_CLROPPMODE,MODE_GHOST
     606 00003690     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
     607                    
     608 000036b0     800a          .word   ANI_DETACH
     609 000036c0                   WL      18,D4HS3B+FR8
     610                    
     611 000036f0                   WLW     ANI_SET_ZVEL,-10000h,AM_ABS
     612                    
     613                    ;Getting up, set no_collis
     614 00003730     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
     615                    
     616 00003750                   WL      3,D3GU4A+FR5
     617 00003780                   WL      3,D3GU4A+FR6
     618                    ;Check for a flip here
     619 000037b0                   WL      1,D3GU4A+FR7
     620 000037e0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     621 000037f0     805f          .word   ANI_SET_WRESTLER_XFLIP
     622 00003800                   WL      2,D3GU4A+FR7
     623 00003830                   WL      3,D3GU4A+FR8
     624 00003860                   WL      3,D3GU4A+FR9
     625                    
     626 00003890     8068          .word   ANI_SAFE_TIME,30
     627                    
     628 000038b0                   WL      ANI_CODE,free_toss_check
     629 000038e0                   WL      ANI_IFNOTSTATUS2,iueyno_freetoss
     630 00003910     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
     631 00003970                   WL      1,D3GU4A+FR9
     632 000039a0     8007          .word   ANI_ATTACK_OFF
     633 000039b0                   WL      ANI_IFNOTSTATUS2,iueyno_freetoss
     634                    
     635                            ;Opponent standing too close -- free toss
     636 000039e0                   WL      ANI_CODE,setup_freetoss
     637                            .ref    dnk_4_push_anim
     638 00003a10                   WL      ANI_CHANGEANIM,dnk_4_push_anim
     639 00003a40           iueyno_freetoss
     640                    
     641 00003a40     8022          .word   ANI_FACEDOWN
     642 00003a50     8002          .word   ANI_SETMODE,MODE_NORMAL
     643 00003a70     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     644 00003a90     8049          .word   ANI_END
     645                    
     646                    
     647 00003aa0           iueymissed
     648 00003aa0                   WL      ANI_CODE,CALL_MISSES
     649 00003ad0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   14

     650                    
     651 00003af0                   WL      3,D3PP3Z+FR1
     652 00003b20                   WL      3,D3PP3Z+FR2
     653 00003b50                   WL      3,D3PP3Z+FR3
     654 00003b80                   WL      3,D3PP3Z+FR4
     655                    
     656 00003bb0                   WL      ANI_SET_YVEL,80000h
     657                    
     658 00003be0                   WL      3,D3PP3Z+FR5
     659 00003c10     8015          .word   ANI_OFFSET,0,26,0                       ;x,y,z
     660                    
     661 00003c50                   WL      3,D3PP3Z+FR6
     662 00003c80                   WL      3,D4HS3B+FR6
     663 00003cb0                   WL      7,D4HS3B+FR6
     664                    
     665                    ;       WL      ANI_SET_YVEL,-20000h
     666                    
     667 00003ce0     800b          .word   ANI_WAITHITGND
     668 00003cf0     8003          .word   ANI_ZEROVELS
     669                    
     670                    ;Maybe do a bounce
     671                    
     672                            ;impact
     673 00003d00                   WL      ANI_CODE,SMALL_BOUNCE
     674 00003d30     8037          .word   ANI_SHAKEALL,2
     675 00003d50     801f          .word   ANI_SHAKER,30
     676                    
     677 00003d70                   WL      4,D4HS3B+FR7
     678 00003da0                   WL      4,D4HS3B+FR8
     679                    
     680                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
     681 00003dd0                   WL      18,D4HS3B+FR8
     682                    
     683 00003e00                   WLW     ANI_SET_ZVEL,-10000h,AM_ABS
     684                    
     685                    ;Getting up, set no_collis
     686 00003e40     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP    ;uninterruptable
     687                    
     688 00003e60                   WL      3,D3GU4A+FR5
     689 00003e90                   WL      3,D3GU4A+FR6
     690                    ;Check for a flip here
     691 00003ec0                   WL      1,D3GU4A+FR7
     692 00003ef0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
     693 00003f00     805f          .word   ANI_SET_WRESTLER_XFLIP
     694 00003f10                   WL      2,D3GU4A+FR7
     695 00003f40                   WL      3,D3GU4A+FR8
     696 00003f70                   WL      3,D3GU4A+FR9
     697                    
     698 00003fa0     8068          .word   ANI_SAFE_TIME,30
     699                    
     700 00003fc0                   WL      ANI_CODE,free_toss_check
     701 00003ff0                   WL      ANI_IFNOTSTATUS2,iueyno_freetoss2
     702 00004020     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
     703 00004080                   WL      1,D3GU4A+FR9
     704 000040b0     8007          .word   ANI_ATTACK_OFF
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   15

     705 000040c0                   WL      ANI_IFNOTSTATUS2,iueyno_freetoss2
     706                    
     707                            ;Opponent standing too close -- free toss
     708 000040f0                   WL      ANI_CODE,setup_freetoss
     709 00004120                   WL      ANI_CHANGEANIM,dnk_4_push_anim
     710 00004150           iueyno_freetoss2
     711                    
     712 00004150     8022          .word   ANI_FACEDOWN
     713 00004160     8002          .word   ANI_SETMODE,MODE_NORMAL
     714 00004180     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     715 000041a0     8049          .word   ANI_END
     716                    
     717 000041b0           iueyset_opp_xflip
     718 000041b0     b7a0          move    *a13(ATTACH_PROC),a0,L
         000041c0     03e0  
     719                    
     720 000041d0     b40e          move    *a0(OBJ_CONTROL),a14
         000041e0     0780  
     721 000041f0     0bce          xori    M_FLIPH,a14
         00004200 00000010  
     722 00004220     b1c0          move    a14,*a0(OBJ_CONTROL)
         00004230     0780  
     723                    
     724 00004240     0960          rets
     725                    
     726                    ;Check to see if I have tried to pile drive Yokozuna!
     727                    
     728 00004250            SUBR   is_this_yoko
     729                    
     730 00004250     b7a0          move    *a13(ATTACH_PROC),a0,L
         00004260     03e0  
     731 00004270     b400          move    *a0(WRESTLERNUM),a0
         00004280     0590  
     732 00004290     0b40          cmpi    3,a0
         000042a0     fffc  
     733 000042b0     cb08          jrnz    iueyok
     734                    
     735                    ;Yes, this is Yoko!
     736                    
     737 000042c0     b5a1          move    *a13(ANIMODE),a1
         000042d0     0660  
     738 000042e0     0ba1          ori     MODE_STATUS2,a1
         000042f0 00000200  
     739 00004310     b02d          move    a1,*a13(ANIMODE)
         00004320     0660  
     740 00004330     0960          rets
     741 00004340           iueyok
     742 00004340     b5a1          move    *a13(ANIMODE),a1
         00004350     0660  
     743 00004360     0b81          andni   MODE_STATUS2,a1
         00004370 00000200  
     744 00004390     b02d          move    a1,*a13(ANIMODE)
         000043a0     0660  
     745 000043b0     0960          rets
     746                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   16

     747                    ;For Yoko breaking free
     748 000043c0           iueybreak
     749 000043c0     b7a2          move    *a13(ATTACH_PROC),a2,L
         000043d0     03e0  
     750 000043e0     09e0          movi    yok_3_head_held_brk_anim,a0
         000043f0 00000000! 
     751                    ;a0 = * animation script
     752                    ;a2 = * wrestler process
     753 00004410     0d5f          calla   change_anim_anim
         00004420 00000000! 
     754 00004440     0960          rets
     755                    
     756                    
     757 00004450           iueypuppet_tbl
     758 00004450 00004570'  .long iueyBret
     759 00004470 000048b0'  .long iueyRazor
     760 00004490 00004bf0'  .long iueyTaker
     761 000044b0 00004f30'  .long iueyYokozuna
     762 000044d0 000052c0'  .long iueyShawn
     763 000044f0 00005600'  .long iueyBamBam
     764 00004510 00005940'  .long iueyDoink
     765 00004530 00005c80'  .long iueyAdam
     766 00004550 00005ca0'  .long iueyLex
     767                    
     768 00004570           iueyBret
     769                            .ref    H4AM3A,H3BF3A,H3PP3X
     770 00004570            LWWW H4AM3A+FR5,48,-37,0
     771 000045c0            LWWW H3BF3A+FR3,32,-34,0
     772 00004610            LWWW H3PP3X+FR1,9,-30,0
     773 00004660            LWWW H3PP3X+FR2,4,9,0
     774 000046b0            LWWW H3PP3X+FR3,13,23,0
     775 00004700            LWWW H3PP3X+FR4,36,23,0
     776 00004750            LWWW H3PP3X+FR5,54,44,0
     777 000047a0            LWWW H3PP3X+FR6,60,48,0
     778 000047f0            LWWW H3PP3X+FR7,63,18,0
     779 00004840            LWWW H3PP3X+FR8,59,8,0
     780 00004890 00000000   .long 0
     781 000048b0           iueyRazor
     782                            .ref    R4AM4B,R3BF3A,R3GP3Z
     783 000048b0            LWWW R4AM4B+FR5,42,-33,0
     784 00004900            LWWW R3BF3A+FR9,26,-32,0
     785 00004950            LWWW R3GP3Z+FR1,14,-20,0
     786 000049a0            LWWW R3GP3Z+FR2,14,-16,0
     787 000049f0            LWWW R3GP3Z+FR3,23,6,0
     788 00004a40            LWWW R3GP3Z+FR4,54,22,0
     789 00004a90            LWWW R3GP3Z+FR5,63,41,0
     790 00004ae0            LWWW R3GP3Z+FR6,70,43,0
     791 00004b30            LWWW R3GP3Z+FR7,66,32,0
     792 00004b80            LWWW R3GP3Z+FR8,62,0,0
     793 00004bd0 00000000   .long 0
     794 00004bf0           iueyTaker
     795                            .ref    U4MP4A,U4BF3Z,U3PP3X,U3GP3X
     796 00004bf0            LWWW U4MP4A+FR7,46,-11,0
     797 00004c40            LWWW U4BF3Z+FR1,28,-26,0
     798 00004c90            LWWW U3PP3X+FR1,15,-22,1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   17

     799 00004ce0            LWWW U3PP3X+FR2,18,-18,1
     800 00004d30            LWWW U3PP3X+FR3,20,-22,1
     801 00004d80            LWWW U3PP3X+FR4,36,-8,1
     802 00004dd0            LWWW U3PP3X+FR5,57,35,1
     803 00004e20            LWWW U3PP3X+FR6,65,60,1
     804 00004e70            LWWW U3GP3X+FR1,62,8,1
     805 00004ec0            LWWW U3GP3X+FR2,69,-7,1
     806 00004f10 00000000   .long 0
     807 00004f30           iueyYokozuna
     808                            .ref    Y4AM4A,Y3BF3A,Y3PP3Q,Y3FD3N
     809 00004f30            LWWW Y4AM4A+FR4,59,-27,0
     810 00004f80            LWWW Y3BF3A+FR11,31,-25,0
     811 00004fd0            LWWW Y3PP3Q+FR1,16,-15,0
     812 00005020            LWWW Y3PP3Q+FR2,13,-17,0
     813 00005070            LWWW Y3PP3Q+FR3,26,-20,0
     814 000050c0            LWWW Y3PP3Q+FR4,52,-18,0
     815 00005110            LWWW Y3PP3Q+FR6,50,5,0
     816 00005160            LWWW Y3PP3Q+FR7,52,13,0
     817 000051b0            LWWW Y3FD3N+FR2,57,13,0
     818 00005200            LWWW Y3FD3N+FR3,58,22,0
     819 00005250            LWWW Y3FD3N+FR4,63,11,0
     820 000052a0 00000000   .long 0
     821 000052c0           iueyShawn
     822                            .ref    S4BF3A,S3BF3A,S3GP3X,S3OS3X,S3FD3X
     823 000052c0            LWWW S4BF3A+FR3,25,-24,0
     824 00005310            LWWW S3BF3A+FR5,14,-39,0
     825 00005360            LWWW S3GP3X+FR1,15,-24,0
     826 000053b0            LWWW S3GP3X+FR2,12,-19,0
     827 00005400            LWWW S3GP3X+FR3,27,-5,0
     828 00005450            LWWW S3GP3X+FR4,53,23,0
     829 000054a0            LWWW S3GP3X+FR5,67,39,0
     830 000054f0            LWWW S3OS3X+FR8,71,31,1
     831 00005540            LWWW S3FD3X+FR2,69,23,0
     832 00005590            LWWW S3GP3X+FR6,66,4,0
     833 000055e0 00000000   .long 0
     834 00005600           iueyBamBam
     835                            .ref    B3BF3C,B4AM4A,B3PP3Q,B3FD3C
     836 00005600            LWWW B3BF3C+FR5,48,-27,0
     837 00005650            LWWW B4AM4A+FR5,27,-24,0
     838 000056a0            LWWW B3PP3Q+FR1,12,-26,0
     839 000056f0            LWWW B3PP3Q+FR2,11,-15,0
     840 00005740            LWWW B3PP3Q+FR3,31,3,0
     841 00005790            LWWW B3PP3Q+FR4,57,16,0
     842 000057e0            LWWW B3PP3Q+FR5,64,33,0
     843 00005830            LWWW B3PP3Q+FR6,57,40,0
     844 00005880            LWWW B3PP3Q+FR7,60,28,0
     845 000058d0            LWWW B3PP3Q+FR7,61,46,0
     846                    ; LWWW B3PP3Q+FR7,61,46,0
     847                    ; LWWW B3FD3C+FR1,57,13,0
     848 00005920 00000000   .long 0
     849 00005940           iueyDoink
     850 00005940            LWWW D3HT3Z+FR1,36,-41,1
     851 00005990            LWWW D3BF3A+FR1,27,-34,0
     852 000059e0            LWWW D3PD3Z+FR1,16,-35,1
     853 00005a30            LWWW D3PD3Z+FR2,13,-22,1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   18

     854 00005a80            LWWW D3PD3Z+FR3,23,0,1
     855 00005ad0            LWWW D3PD3Z+FR4,39,25,1
     856 00005b20            LWWW D3PD3Z+FR5,46,33,1
     857 00005b70            LWWW D3PD3Z+FR6,58,23,1
     858 00005bc0            LWWW D3PD3Z+FR8,58,7,1
     859 00005c10            LWWW D3PD3Z+FR9,59,-3,1
     860 00005c60 00000000   .long 0
     861 00005c80           iueyAdam
     862 00005c80 00000000   .long 0
     863 00005ca0           iueyLex
     864                            .ref    L4AM4B,L3BF3B,L3GP3Z,L3FH3A,L3FD3B
     865 00005ca0            LWWW L4AM4B+FR6,52,-39,0
     866 00005cf0            LWWW L3BF3B+FR1,9,-34,0
     867 00005d40            LWWW L3GP3Z+FR1,13,-22,0
     868 00005d90            LWWW L3GP3Z+FR2,16,-16,0
     869 00005de0            LWWW L3GP3Z+FR3,27,-16,0
     870 00005e30            LWWW L3GP3Z+FR4,46,-5,0
     871 00005e80            LWWW L3GP3Z+FR5,63,13,0
     872 00005ed0            LWWW L3GP3Z+FR6,67,33,0
     873 00005f20            LWWW L3FH3A+FR6,58,20,0
     874 00005f70            LWWW L3FD3B+FR1,61,2,0
     875 00005fc0 00000000   .long 0
     876                    
     877 00005fe0           iueyrollout_tbl
     878 00005fe0                   REFLONG hrt_break_neck2_anim,rzr_break_neck2_anim
     879 00006020                   REFLONG und_break_neck2_anim
     880 00006040                   REFLONG yok_break_neck2_anim
     881 00006060                   REFLONG shn_break_neck2_anim,bam_break_neck2_anim
     882 000060a0                   REFLONG dnk_break_neck2_anim
     883 000060c0 00000000          .long   0
     884 000060e0                   REFLONG lex_break_neck2_anim
     885                    
     886                    
     887                    *****************************************************************************
     888 00006100            SUBR   dnk_combo_head_slam_anim
     889                    
     890 00006100     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
     891 00006120     8003          .word   ANI_ZEROVELS
     892 00006130     8026          .word   ANI_SETSPEED,100h
     893 00006150     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
     894                    
     895                    ;Put cool cheers here
     896                    
     897 00006170     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,32,49,50,21 ;mode,x,y,w,h
     898                    
     899 000061d0                   WWL     ANI_WAITHITOPP,3,D4GH3A+FR8
     900 00006210     8007          .word   ANI_ATTACK_OFF
     901                    
     902 00006220                   WL      ANI_IFNOTSTATUS2,cqcamissedc
     903                    
     904                    ;got him
     905 00006250     8012          .word   ANI_ATTACHZ,0,0,-2              ;x & y don't matter.
     906 00006290     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
     907                    
     908                    ; attacker sequence
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   19

     909 000062b0                   WL      ANI_CODE,DO_DOINK_SLAM
     910 000062e0                   WL      ANI_SET_YVEL,60000h     ;50000h
     911                    
     912                    ;Float toward the center of ring!
     913 00006310                   WL      ANI_CODE,set_xdrift
     914                    
     915 00006340     8062          .word   ANI_SET_RPTCOUNT,4      ;2 times
     916 00006360     8061          .word   ANI_CLR_BUTCOUNT
     917                    
     918 00006370                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR1,cqcapuppet_tbl,0
     919 000063e0                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR2,cqcapuppet_tbl,1
     920 00006450                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR3,cqcapuppet_tbl,2
     921                    ;On the way down!
     922 000064c0                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR5,cqcapuppet_tbl,3
     923 00006530     8015          .word   ANI_OFFSET,0,34,0                       ;x,y,z
     924 00006570                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR6,cqcapuppet_tbl,4
     925 000065e0     800b          .word   ANI_WAITHITGND
     926 000065f0     8074          .WORD   ANI_ADD_MOVE,MOVE_C_6,2,2
     927 00006630     8003          .word   ANI_ZEROVELS
     928 00006640                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR7,cqcapuppet_tbl,5
     929 000066b0     801a          .word   ANI_SOUND,33h                   ;neck break (5-7 ticks late)
     930 000066d0                   WWLLW   ANI_SUPERSLAVE2,2,D4HS3B+FR8,cqcapuppet_tbl,6
     931                    
     932                    ;Maybe do a bounce
     933                    
     934 00006740     8072          .WORD   ANI_INC_COMBO
     935                            ;impact
     936 00006750                   WL      ANI_CODE,HIT_THE_MAT
     937 00006780     8037          .word   ANI_SHAKEALL,2
     938 000067a0     801f          .word   ANI_SHAKER,30
     939 000067c0     8042          .word   ANI_DAMAGEOPP,D_FACESLAM1,RD_FACESLAM1
     940 000067f0                   WWLLW   ANI_SUPERSLAVE2,1,D4HS3B+FR8,cqcapuppet_tbl,6
     941                    
     942 00006860           cqcatry_rptc
     943                    
     944 00006860                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,3,cqcanorepeatc
     945 000068b0     8063          .word   ANI_DEC_RPTCOUNT
     946 000068c0                   WL      ANI_IF_RPTCOUNT,cqcaslam_againc
     947 000068f0                   WL      ANI_GOTO,cqcanorepeatc
     948                    
     949 00006920           cqcaslam_againc
     950 00006920     8072          .WORD   ANI_INC_COMBO
     951 00006930     8061          .word   ANI_CLR_BUTCOUNT
     952                    
     953                    ;Slam him again using detach/reattach if button pressed again!
     954 00006940                   WL      ANI_SLAVEANIM,cqcafaced2_tbl
     955 00006970     800a          .word   ANI_DETACH
     956 00006980     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
     957                    
     958 000069a0                   WL      2,D4HS3B+FR8
     959 000069d0                   WL      ANI_CODE,DO_DOINK_SLAM
     960 00006a00                   WL      ANI_SET_YVEL,50000h
     961 00006a30                   WL      2,D4HS3B+FR7
     962 00006a60                   WL      13,D4HS3B+FR6
     963                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   20

     964                    ;Reattach me to who I'm slamming
     965 00006a90                   WL      ANI_CODE,cqcareattach
     966                    
     967 00006ac0     8012          .word   ANI_ATTACHZ,0,0,-2              ;x & y don't matter.
     968 00006b00     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
     969                    
     970 00006b20                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR6,cqcapuppet_tbl,4
     971 00006b90     800b          .word   ANI_WAITHITGND
     972 00006ba0     8003          .word   ANI_ZEROVELS
     973 00006bb0                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR7,cqcapuppet_tbl,5
     974                    ;       .word   ANI_SOUND,33h                   ;neck break (5-7 ticks late)
     975 00006c20                   WWLLW   ANI_SUPERSLAVE2,1,D4HS3B+FR8,cqcapuppet_tbl,6
     976                    
     977                    ;Maybe do a bounce
     978                    
     979                            ;impact
     980 00006c90                   WL      ANI_CODE,HIT_THE_MAT
     981 00006cc0     8037          .word   ANI_SHAKEALL,2
     982 00006ce0     801f          .word   ANI_SHAKER,30
     983 00006d00     8042          .word   ANI_DAMAGEOPP,D_FACESLAM2,RD_FACESLAM2
     984 00006d30                   WWLLW   ANI_SUPERSLAVE2,1,D4HS3B+FR8,cqcapuppet_tbl,6
     985 00006da0                   WL      ANI_GOTO,cqcatry_rptc
     986                    
     987 00006dd0           cqcanorepeatc
     988 00006dd0                   WL      ANI_SLAVEANIM,cqcafaced_tbl
     989 00006e00     800a          .word   ANI_DETACH
     990                    
     991 00006e10     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
     992 00006e30                   WL      18,D4HS3B+FR8
     993                    
     994 00006e60                   WLW     ANI_SET_ZVEL,-10000h,AM_ABS
     995                    
     996                    ;Getting up, set no_collis
     997 00006ea0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP|MODE_OVERLAP       ;uninterruptable
     998 00006ec0                   WL      ANI_CODE,DO_COMBO_MESS
     999 00006ef0     8073          .WORD   ANI_CLEAR_COMBO
    1000                    
    1001 00006f00                   WL      3,D3GU4A+FR5
    1002 00006f30                   WL      3,D3GU4A+FR6
    1003                    ;Check for a flip here
    1004 00006f60                   WL      1,D3GU4A+FR7
    1005 00006f90     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1006 00006fa0     805f          .word   ANI_SET_WRESTLER_XFLIP
    1007 00006fb0                   WL      2,D3GU4A+FR7
    1008 00006fe0                   WL      3,D3GU4A+FR8
    1009 00007010                   WL      3,D3GU4A+FR9
    1010                    
    1011 00007040     8068          .word   ANI_SAFE_TIME,30
    1012                    
    1013 00007060                   WL      ANI_CODE,free_toss_check
    1014 00007090                   WL      ANI_IFNOTSTATUS2,cqcano_freetoss
    1015 000070c0     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    1016 00007120                   WL      1,D3GU4A+FR9
    1017 00007150     8007          .word   ANI_ATTACK_OFF
    1018 00007160                   WL      ANI_IFNOTSTATUS2,cqcano_freetoss
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   21

    1019                    
    1020                            ;Opponent standing too close -- free toss
    1021 00007190                   WL      ANI_CODE,setup_freetoss
    1022 000071c0                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    1023 000071f0           cqcano_freetoss
    1024                    
    1025 000071f0     8022          .word   ANI_FACEDOWN
    1026 00007200     8002          .word   ANI_SETMODE,MODE_NORMAL
    1027 00007220     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1028 00007240     8049          .word   ANI_END
    1029                    
    1030 00007250           cqcamissedc
    1031 00007250                   WL      ANI_CODE,DO_COMBO_MESS
    1032 00007280     8073          .WORD   ANI_CLEAR_COMBO
    1033 00007290                   WL      ANI_CODE,CALL_MISSES
    1034 000072c0                   WL      6,D4HS3B+FR1
    1035                    
    1036 000072f0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1037 00007310     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1038 00007330     8049          .word   ANI_END
    1039                    
    1040                    
    1041                    *******************************************************************************
    1042                    
    1043 00007340            SUBR   dnk_3_head_slam_anim
    1044                    
    1045 00007340     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1046 00007360     8003          .word   ANI_ZEROVELS
    1047 00007370     8026          .word   ANI_SETSPEED,100h
    1048 00007390     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1049                    
    1050                    ;Put cool cheers here
    1051                    
    1052 000073b0     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,32,49,50,21 ;mode,x,y,w,h
    1053                    
    1054 00007410                   WWL     ANI_WAITHITOPP,3,D4GH3A+FR8
    1055 00007450     8007          .word   ANI_ATTACK_OFF
    1056                    
    1057 00007460                   WL      ANI_IFNOTSTATUS2,cqcamissed
    1058                    
    1059                    ;got him
    1060 00007490     801a          .word   ANI_SOUND,82h                   ;Effort grunt
    1061                    
    1062 000074b0     8012          .word   ANI_ATTACHZ,0,0,-2              ;x & y don't matter.
    1063 000074f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    1064                    
    1065                    ; attacker sequence
    1066 00007510                   WL      ANI_CODE,DO_DOINK_SLAM
    1067 00007540                   WL      ANI_SET_YVEL,60000h     ;50000h
    1068                    
    1069                    ;Float toward the center of ring!
    1070 00007570                   WL      ANI_CODE,set_xdrift
    1071                    
    1072 000075a0     8062          .word   ANI_SET_RPTCOUNT,4      ;2 times
    1073 000075c0     8061          .word   ANI_CLR_BUTCOUNT
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   22

    1074                    
    1075 000075d0                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR1,cqcapuppet_tbl,0
    1076 00007640                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR2,cqcapuppet_tbl,1
    1077 000076b0                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR3,cqcapuppet_tbl,2
    1078                    ;On the way down!
    1079 00007720                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR5,cqcapuppet_tbl,3
    1080 00007790     8015          .word   ANI_OFFSET,0,34,0                       ;x,y,z
    1081 000077d0                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR6,cqcapuppet_tbl,4
    1082 00007840     800b          .word   ANI_WAITHITGND
    1083 00007850     8074          .WORD   ANI_ADD_MOVE,MOVE_C_6,2,2
    1084 00007890     8003          .word   ANI_ZEROVELS
    1085 000078a0                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR7,cqcapuppet_tbl,5
    1086                    ;       .word   ANI_SOUND,33h                   ;neck break (5-7 ticks late)
    1087 00007910                   WWLLW   ANI_SUPERSLAVE2,2,D4HS3B+FR8,cqcapuppet_tbl,6
    1088                    
    1089                    ;Maybe do a bounce
    1090                    
    1091                    ;impact
    1092 00007980                   WL      ANI_CODE,HIT_THE_MAT
    1093 000079b0     8037          .word   ANI_SHAKEALL,2
    1094 000079d0     801f          .word   ANI_SHAKER,30
    1095 000079f0     8042          .word   ANI_DAMAGEOPP,D_FACESLAM1,RD_FACESLAM1
    1096 00007a20                   WWLLW   ANI_SUPERSLAVE2,1,D4HS3B+FR8,cqcapuppet_tbl,6
    1097                    
    1098 00007a90           cqcatry_rpt
    1099                    
    1100 00007a90                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,2,cqcanorepeat
    1101 00007ae0     8063          .word   ANI_DEC_RPTCOUNT
    1102 00007af0                   WL      ANI_IF_RPTCOUNT,cqcaslam_again
    1103 00007b20                   WL      ANI_GOTO,cqcanorepeat
    1104                    
    1105 00007b50           cqcaslam_again
    1106 00007b50     8074          .WORD   ANI_ADD_MOVE,MOVE_C_6,2,2
    1107 00007b90     8061          .word   ANI_CLR_BUTCOUNT
    1108                    
    1109                    ;Slam him again using detach/reattach if button pressed again!
    1110 00007ba0                   WL      ANI_SLAVEANIM,cqcafaced2_tbl
    1111 00007bd0     800a          .word   ANI_DETACH
    1112 00007be0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    1113                    
    1114 00007c00                   WL      2,D4HS3B+FR8
    1115 00007c30                   WL      ANI_CODE,DO_DOINK_SLAM
    1116 00007c60                   WL      ANI_SET_YVEL,50000h
    1117 00007c90                   WL      2,D4HS3B+FR7
    1118 00007cc0                   WL      13,D4HS3B+FR6
    1119                    
    1120                    ;Reattach me to who I'm slamming
    1121 00007cf0                   WL      ANI_CODE,cqcareattach
    1122                    
    1123 00007d20     8012          .word   ANI_ATTACHZ,0,0,-2              ;x & y don't matter.
    1124 00007d60     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    1125                    
    1126 00007d80                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR6,cqcapuppet_tbl,4
    1127 00007df0     800b          .word   ANI_WAITHITGND
    1128 00007e00     8003          .word   ANI_ZEROVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   23

    1129 00007e10                   WWLLW   ANI_SUPERSLAVE2,3,D4HS3B+FR7,cqcapuppet_tbl,5
    1130                    ;       .word   ANI_SOUND,33h                   ;neck break (5-7 ticks late)
    1131 00007e80                   WWLLW   ANI_SUPERSLAVE2,1,D4HS3B+FR8,cqcapuppet_tbl,6
    1132                    
    1133                    ;Maybe do a bounce
    1134                    
    1135                            ;impact
    1136 00007ef0                   WL      ANI_CODE,HIT_THE_MAT
    1137 00007f20     8037          .word   ANI_SHAKEALL,2
    1138 00007f40     801f          .word   ANI_SHAKER,30
    1139 00007f60     8042          .word   ANI_DAMAGEOPP,D_FACESLAM2,RD_FACESLAM2
    1140 00007f90                   WWLLW   ANI_SUPERSLAVE2,1,D4HS3B+FR8,cqcapuppet_tbl,6
    1141 00008000                   WL      ANI_GOTO,cqcatry_rpt
    1142                    
    1143 00008030           cqcanorepeat
    1144 00008030                   WL      ANI_CODE,CALL_SPECIAL_MOVE
    1145                    
    1146 00008060     807a          .word   ANI_DRAW_NAME,20
    1147                    
    1148 00008080                   WL      ANI_SLAVEANIM,cqcafaced_tbl
    1149 000080b0     800a          .word   ANI_DETACH
    1150                    
    1151 000080c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    1152 000080e0                   WL      18,D4HS3B+FR8
    1153                    
    1154 00008110                   WLW     ANI_SET_ZVEL,-10000h,AM_ABS
    1155                    
    1156                    ;Getting up, set no_collis
    1157 00008150     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOCOLLIS|MODE_NOAUTOFLIP|MODE_OVERLAP       ;uninterruptable
    1158                    
    1159 00008170                   WL      3,D3GU4A+FR5
    1160 000081a0                   WL      3,D3GU4A+FR6
    1161                    ;Check for a flip here
    1162 000081d0                   WL      1,D3GU4A+FR7
    1163 00008200     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1164 00008210     805f          .word   ANI_SET_WRESTLER_XFLIP
    1165 00008220                   WL      2,D3GU4A+FR7
    1166 00008250                   WL      3,D3GU4A+FR8
    1167 00008280                   WL      3,D3GU4A+FR9
    1168                    
    1169 000082b0     8068          .word   ANI_SAFE_TIME,30
    1170                    
    1171                    
    1172 000082d0                   WL      ANI_CODE,free_toss_check
    1173 00008300                   WL      ANI_IFNOTSTATUS2,cqcano_freetoss3
    1174 00008330     8006          .word   ANI_ATTACK_ON,AMODE_HITCHECK,37,88,63,9
    1175 00008390                   WL      1,D3GU4A+FR9
    1176 000083c0     8007          .word   ANI_ATTACK_OFF
    1177 000083d0                   WL      ANI_IFNOTSTATUS2,cqcano_freetoss3
    1178                    
    1179                            ;Opponent standing too close -- free toss
    1180 00008400                   WL      ANI_CODE,setup_freetoss
    1181 00008430                   WL      ANI_CHANGEANIM,dnk_4_push_anim
    1182 00008460           cqcano_freetoss3
    1183                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   24

    1184 00008460     8022          .word   ANI_FACEDOWN
    1185 00008470     8002          .word   ANI_SETMODE,MODE_NORMAL
    1186 00008490     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1187 000084b0     8049          .word   ANI_END
    1188                    
    1189 000084c0           cqcamissed
    1190 000084c0                   WL      ANI_CODE,CALL_MISSES
    1191 000084f0                   WL      6,D4HS3B+FR1
    1192                    
    1193 00008520     8002          .word   ANI_SETMODE,MODE_NORMAL
    1194 00008540     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1195 00008560     8049          .word   ANI_END
    1196                    
    1197 00008570           cqcareattach
    1198 00008570     b7a0          move    *a13(WHOIHIT),a0,L
         00008580     0500  
    1199 00008590     b20d          move    a0,*a13(ATTACH_PROC),L
         000085a0     03e0  
    1200 000085b0     b3a0          move    a13,*a0(ATTACH_PROC),L
         000085c0     03e0  
    1201 000085d0     0960          rets
    1202                    
    1203 000085e0           cqcapuppet_tbl
    1204 000085e0 00008700'  .long cqcaBret
    1205 00008600 00008950'  .long cqcaRazor
    1206 00008620 00008ba0'  .long cqcaTaker
    1207 00008640 00008df0'  .long cqcaYokozuna
    1208 00008660 00009040'  .long cqcaShawn
    1209 00008680 00009290'  .long cqcaBamBam
    1210 000086a0 000094e0'  .long cqcaDoink
    1211 000086c0 00009730'  .long cqcaAdam
    1212 000086e0 00009750'  .long cqcaLex
    1213                    
    1214 00008700           cqcaBret
    1215                            .ref    H3MS3Z,H3MS3X
    1216 00008700            LWWW H3MS3Z+FR1,36,-5,0
    1217 00008750            LWWW H3MS3Z+FR2,39,0,0
    1218 000087a0            LWWW H3MS3Z+FR3,51,-1,0
    1219 000087f0            LWWW H3MS3Z+FR4,58,-4,0
    1220 00008840            LWWW H3MS3Z+FR5,62,-6,0
    1221 00008890            LWWW H3MS3Z+FR6,57,-11,0
    1222 000088e0            LWWW H3MS3X+FR5,71,-24,0
    1223 00008930 00000000   .long 0
    1224 00008950           cqcaRazor
    1225                            .ref    R3MS3Z,R3MS3Q
    1226 00008950            LWWW R3MS3Z+FR1,48,-6,0
    1227 000089a0            LWWW R3MS3Z+FR2,46,5,0
    1228 000089f0            LWWW R3MS3Z+FR3,53,-2,0
    1229 00008a40            LWWW R3MS3Z+FR4,65,1,0
    1230 00008a90            LWWW R3MS3Z+FR5,71,-4,0
    1231 00008ae0            LWWW R3MS3Z+FR6,73,-28,0
    1232 00008b30            LWWW R3MS3Q+FR1,76,-11,0
    1233 00008b80 00000000   .long 0
    1234 00008ba0           cqcaTaker
    1235                            .ref    U3MS3Z,U3CF3Q
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   25

    1236 00008ba0            LWWW U3MS3Z+FR1,37,9,0
    1237 00008bf0            LWWW U3MS3Z+FR2,25,17,0
    1238 00008c40            LWWW U3MS3Z+FR3,28,0,0
    1239 00008c90            LWWW U3MS3Z+FR4,44,-1,0
    1240 00008ce0            LWWW U3MS3Z+FR5,53,4,0
    1241 00008d30            LWWW U3MS3Z+FR6,55,-14,0
    1242 00008d80            LWWW U3CF3Q+FR1,61,-26,0
    1243 00008dd0 00000000   .long 0
    1244 00008df0           cqcaYokozuna
    1245                            .ref    Y3MS3Z,Y3KF3B
    1246 00008df0            LWWW Y3MS3Z+FR1,54,-8,0
    1247 00008e40            LWWW Y3MS3Z+FR2,53,12,0
    1248 00008e90            LWWW Y3MS3Z+FR3,53,10,0
    1249 00008ee0            LWWW Y3MS3Z+FR4,59,6,0
    1250 00008f30            LWWW Y3MS3Z+FR5,61,-1,0
    1251 00008f80            LWWW Y3MS3Z+FR6,62,-27,0
    1252 00008fd0            LWWW Y3KF3B+FR1,66,-2,0
    1253 00009020 00000000   .long 0
    1254 00009040           cqcaShawn
    1255                            .ref    S3MS3Z,S3CF3Z
    1256 00009040            LWWW S3MS3Z+FR1,31,-10,0
    1257 00009090            LWWW S3MS3Z+FR2,29,3,0
    1258 000090e0            LWWW S3MS3Z+FR3,39,7,0
    1259 00009130            LWWW S3MS3Z+FR4,55,5,0
    1260 00009180            LWWW S3MS3Z+FR5,61,3,0
    1261 000091d0            LWWW S3MS3Z+FR6,74,-39,0
    1262 00009220            LWWW S3CF3Z+FR1,82,-23,0
    1263 00009270 00000000   .long 0
    1264 00009290           cqcaBamBam
    1265                            .ref    B3MS3Z,B3RL1A
    1266 00009290            LWWW B3MS3Z+FR1,47,2,0
    1267 000092e0            LWWW B3MS3Z+FR2,49,-4,0
    1268 00009330            LWWW B3MS3Z+FR3,52,-2,0
    1269 00009380            LWWW B3MS3Z+FR4,65,7,0
    1270 000093d0            LWWW B3MS3Z+FR5,70,21,0
    1271 00009420            LWWW B3MS3Z+FR6,72,3,0
    1272 00009470            LWWW B3RL1A+FR7,73,-15,0
    1273 000094c0 00000000   .long 0
    1274 000094e0           cqcaDoink
    1275 000094e0            LWWW D3GS3X+FR1,52,-15,0
    1276 00009530            LWWW D3GS3X+FR3,45,2,0
    1277 00009580            LWWW D3GS3X+FR4,51,-2,0
    1278 000095d0            LWWW D3GS3X+FR5,61,-4,0
    1279 00009620            LWWW D3GS3X+FR7,68,-4,0
    1280 00009670            LWWW D3GS3X+FR8,67,-39,0
    1281 000096c0            LWWW D3GS3X+FR9,75,-15,0
    1282 00009710 00000000   .long 0
    1283 00009730           cqcaAdam
    1284 00009730 00000000   .long 0
    1285 00009750           cqcaLex
    1286                            .ref    L3MS3Z,L3TF3X
    1287 00009750            LWWW L3MS3Z+FR1,55,-3,0
    1288 000097a0            LWWW L3MS3Z+FR2,44,4,0
    1289 000097f0            LWWW L3MS3Z+FR3,46,1,0
    1290 00009840            LWWW L3MS3Z+FR4,57,-4,0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   26

    1291 00009890            LWWW L3MS3Z+FR5,60,1,0
    1292 000098e0            LWWW L3MS3Z+FR6,64,-26,0
    1293 00009930            LWWW L3TF3X+FR1,60,-19,0
    1294 00009980 00000000   .long 0
    1295                    
    1296                    
    1297 000099a0           cqcafaced2_tbl
    1298 000099a0                   REFLONG hrt_break_face2_anim,rzr_break_face2_anim
    1299 000099e0                   REFLONG und_break_face2_anim
    1300 00009a00                   REFLONG yok_break_face2_anim
    1301 00009a20                   REFLONG shn_break_face2_anim,bam_break_face2_anim
    1302 00009a60                   REFLONG dnk_break_face2_anim
    1303 00009a80 00000000          .long   0
    1304 00009aa0                   REFLONG lex_break_face2_anim
    1305                    
    1306 00009ac0           cqcafaced_tbl
    1307 00009ac0                   REFLONG hrt_break_face_anim,rzr_break_face_anim
    1308 00009b00                   REFLONG und_break_face_anim
    1309 00009b20                   REFLONG yok_break_face_anim
    1310 00009b40                   REFLONG shn_break_face_anim,bam_break_face_anim
    1311 00009b80                   REFLONG dnk_break_face_anim
    1312 00009ba0 00000000          .long   0
    1313 00009bc0                   REFLONG lex_break_face_anim
    1314                    
    1315                    
    1316                    *****************************************************************************
    1317                    *
    1318                    * Head slams into mat
    1319                    ;From head slam - repeated head slam
    1320                    
    1321 00009be0            SUBR   dnk_break_face2_anim
    1322                    
    1323 00009be0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1324 00009c00     8003          .word   ANI_ZEROVELS
    1325                    
    1326 00009c10     805e          .word   ANI_DEBRIS,100,1,-8,12,0        ;%chance, tbl index, x,y,z off
    1327 00009c70                   WL      1,D3GS3X+FR9
    1328 00009ca0                   WL      ANI_SET_YVEL,80000h
    1329 00009cd0                   WL      3,D3GS3X+FR9
    1330 00009d00                   WL      5,D3GS3X+FR10
    1331 00009d30     800b          .word   ANI_WAITHITGND
    1332 00009d40     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND   ;So we can stomp him!
    1333 00009d60     8054          .word   ANI_WAITROLL
    1334 00009d70                   WL      3,D3GS3X+FR9
    1335 00009da0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    1336                            
    1337                    
    1338 00009dd0            SUBR   dnk_break_face3_anim
    1339                    
    1340 00009dd0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1341 00009df0     8003          .word   ANI_ZEROVELS
    1342                    
    1343 00009e00     805e          .word   ANI_DEBRIS,100,1,-8,12,0        ;%chance, tbl index, x,y,z off
    1344 00009e60                   WL      3,D3GS3X+FR4
    1345 00009e90                   WL      ANI_SET_YVEL,078000h
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   27

    1346 00009ec0                   WL      100,D3GS3X+FR4
    1347 00009ef0     800b          .word   ANI_WAITHITGND
    1348 00009f00     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND   ;So we can stomp him!
    1349 00009f20     8054          .word   ANI_WAITROLL
    1350 00009f30                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    1351                            
    1352                    
    1353                    * Head slams into mat
    1354                    ;From head slam
    1355                    
    1356 00009f60            SUBR   dnk_break_face_anim
    1357                    
    1358 00009f60     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    1359 00009f80     8003          .word   ANI_ZEROVELS
    1360                    
    1361 00009f90                   WL      1,D3GS3X+FR8
    1362 00009fc0     805e          .word   ANI_DEBRIS,100,1,-8,12,0        ;%chance, tbl index, x,y,z off
    1363 0000a020                   WL      ANI_SET_YVEL,40000h
    1364 0000a050                   WL      2,D3GS3X+FR8
    1365 0000a080                   WL      5,D3GS3X+FR9
    1366 0000a0b0                   WL      5,D3GS3X+FR10
    1367 0000a0e0     800b          .word   ANI_WAITHITGND
    1368 0000a0f0                   WL      ANI_CODE,SMALL_BOUNCE
    1369 0000a120     8003          .word   ANI_ZEROVELS
    1370 0000a130                   WL      4,D3GS3X+FR8
    1371 0000a160                   WL      4,D3GS3X+FR9
    1372 0000a190                   WL      4,D3GS3X+FR10
    1373 0000a1c0                   WL      4,D3GS3X+FR8
    1374                    
    1375 0000a1f0     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND   ;So we can stomp him!
    1376 0000a210                   WL      1,D3GS3X+FR8            ;Face down
    1377 0000a240     8054          .word   ANI_WAITROLL
    1378                    
    1379 0000a250                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    1380                    
    1381                    *****************************************************************************
    1382                    
    1383                    ;       .bss    vqspopp_xvel,32
    1384                    
    1385 0000a280            SUBR   dnk_3_fake_hold_anim
    1386                    ;Head hold when standing next to player
    1387                    ;No collisions possible
    1388 0000a280     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    1389 0000a2a0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1390 0000a2c0     8003          .word   ANI_ZEROVELS
    1391 0000a2d0     8026          .word   ANI_SETSPEED,100h
    1392                    
    1393                    ;vqsp4 grab to head hold
    1394                    
    1395 0000a2f0     8075          .word   ANI_STARTATTACK,AT_PUPPET,6
    1396 0000a320                   WL      2,D4GH3A+FR1
    1397 0000a350                   WL      2,D4GH3A+FR2
    1398 0000a380                   WL      2,D4GH3A+FR3
    1399 0000a3b0                   WL      7,D4GH3A+FR4
    1400 0000a3e0                   WL      ANI_GOTO,vqspmissed
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   28

    1401                    
    1402 0000a410            SUBR   dnk_3_head_hold2_anim
    1403                    ;Head hold when standing next to player
    1404                    ;No collisions possible
    1405 0000a410     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    1406 0000a430     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1407 0000a450     8003          .word   ANI_ZEROVELS
    1408 0000a460     8026          .word   ANI_SETSPEED,100h
    1409                    
    1410                    ;vqsp4 grab to head hold
    1411                    
    1412 0000a480     8075          .word   ANI_STARTATTACK,AT_PUPPET,6
    1413 0000a4b0                   WL      2,D4GH3A+FR1
    1414 0000a4e0                   WL      2,D4GH3A+FR2
    1415 0000a510                   WL      2,D4GH3A+FR3
    1416 0000a540     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET_HDGRAB,32,60,62,45 ;mode,x,y,w,h
    1417 0000a5a0                   WWL     ANI_WAITHITOPP,7,D4GH3A+FR4
    1418 0000a5e0     8007          .word   ANI_ATTACK_OFF
    1419 0000a5f0                   WL      ANI_IFNOTSTATUS2,vqspmissed
    1420 0000a620                   WL      ANI_IFBLOCKED,vqspmissedb
    1421                    
    1422 0000a650     8074          .WORD   ANI_ADD_MOVE,MOVE_C_7,2,2
    1423                    
    1424 0000a690                   WL      ANI_GOTO,vqspgothim
    1425                    
    1426 0000a6c0            SUBR   dnk_3_head_hold_anim
    1427                    
    1428 0000a6c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    1429 0000a6e0     8003          .word   ANI_ZEROVELS
    1430 0000a6f0     8026          .word   ANI_SETSPEED,100h
    1431                    
    1432                    ;vqsp4 grab to head hold
    1433 0000a710     8075          .word   ANI_STARTATTACK,AT_PUPPET,7
    1434                    
    1435 0000a740                   WL      2,D4GH3A+FR1
    1436 0000a770                   WL      2,D4GH3A+FR2
    1437                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    1438                    ;       LEAPATOPP 6,999,65,45,90000h,TGT_HEAD,60,105,0  ;88
    1439 0000a7a0                   LEAPATOPP 9,999,40,45,90000h,TGT_HEAD,60,105,0  ;88
    1440                    
    1441 0000a850                   WL      3,D4GH3A+FR3
    1442 0000a880     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET,32,60,62,45 ;mode,x,y,w,h
    1443 0000a8e0                   WWL     ANI_WAITHITOPP,5,D4GH3A+FR4
    1444 0000a920     8007          .word   ANI_ATTACK_OFF
    1445 0000a930                   WL      ANI_IFNOTSTATUS2,vqspmissed
    1446 0000a960                   WL      ANI_IFBLOCKED,vqspmissedb
    1447                    
    1448 0000a990           vqspgothim
    1449                    ;got him
    1450 0000a990     8033          .word   ANI_SETWORD,USR_VAR2,0
    1451 0000a9c0     8061          .word   ANI_CLR_BUTCOUNT
    1452 0000a9d0                   WL      ANI_CODE,head_grab_time
    1453                    
    1454 0000aa00     8012          .word   ANI_ATTACHZ,0,0,-4              ;x & y don't matter.
    1455 0000aa40                   WL      ANI_CODE,DO_NONO
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   29

    1456 0000aa70     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    1457                    
    1458 0000aa90                   WWLLW   ANI_SUPERSLAVE2,1,D4GH3A+FR4,vqsppuppet_tbl,0
    1459                    
    1460 0000ab00     800b          .word   ANI_WAITHITGND
    1461 0000ab10     8003          .word   ANI_ZEROVELS
    1462                    
    1463 0000ab20                   WWLLW   ANI_SUPERSLAVE2,4,D4GH3A+FR4,vqsppuppet_tbl,0
    1464                    
    1465 0000ab90                   WWLLW   ANI_SUPERSLAVE2,4,D4GH3A+FR5,vqsppuppet_tbl,1
    1466 0000ac00                   WWLLW   ANI_SUPERSLAVE2,4,D4GH3A+FR7,vqsppuppet_tbl,2
    1467 0000ac70                   WWLLW   ANI_SUPERSLAVE2,4,D4GH3A+FR8,vqsppuppet_tbl,3
    1468                    
    1469 0000ace0     8004          .word   ANI_SETPLYRMODE,MODE_HEADHOLD
    1470 0000ad00                   WL      ANI_SLAVEANIM,vqspheadheld_tbl
    1471                    
    1472 0000ad30                   WL      1,D4GH3A+FR8
    1473                    
    1474                    ;       .word   ANI_FACEDOWN
    1475 0000ad60     8002          .word   ANI_SETMODE,MODE_NORMAL
    1476 0000ad80     8049          .word   ANI_END
    1477                    
    1478 0000ad90           vqspmissedb
    1479 0000ad90     8003          .word   ANI_ZEROVELS
    1480 0000ada0                   WL      ANI_SET_YVEL,30000h
    1481                    
    1482 0000add0                   WL      3,D4GH3A+FR4
    1483 0000ae00     800b          .word   ANI_WAITHITGND
    1484 0000ae10     8003          .word   ANI_ZEROVELS
    1485 0000ae20                   WL      3,D4GH3A+FR3
    1486 0000ae50                   WL      3,D4GH3A+FR2
    1487 0000ae80                   WL      3,D4GH3A+FR1
    1488                    
    1489 0000aeb0     8022          .word   ANI_FACEDOWN
    1490 0000aec0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1491 0000aee0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1492 0000af00     8049          .word   ANI_END
    1493 0000af10           vqspmissed
    1494 0000af10                   WL      ANI_CODE,CALL_MISSES
    1495                    
    1496 0000af40     8028          .word   ANI_ZERO_XZVELS
    1497 0000af50     800b          .word   ANI_WAITHITGND
    1498 0000af60     8003          .word   ANI_ZEROVELS
    1499                    
    1500 0000af70                   WL      5,D4GH3A+FR4
    1501 0000afa0                   WL      3,D4GH3A+FR3
    1502 0000afd0                   WL      3,D4GH3A+FR2
    1503 0000b000                   WL      3,D4GH3A+FR1
    1504                    
    1505 0000b030     8022          .word   ANI_FACEDOWN
    1506 0000b040     8002          .word   ANI_SETMODE,MODE_NORMAL
    1507 0000b060     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1508 0000b080     8049          .word   ANI_END
    1509                    
    1510                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   30

    1511 0000b090            SUBR   head_grab_time
    1512                    
    1513 0000b090     07ae          move    @PCNT,a14,L                     ;use 32-bit PCNT!
         0000b0a0 00000000! 
    1514 0000b0c0     b3cd          move    a14,*a13(LAST_HEADHOLD),L
         0000b0d0     0cd0  
    1515 0000b0e0     0d5f          calla   CALL_SETUP
         0000b0f0 00000000! 
    1516                            ;fall through
    1517                    
    1518 0000b110            SUBR   clear_opp_counts
    1519                    ;Zero opponents buttons for later counting
    1520 0000b110     57ce          clr     a14
    1521 0000b120     b7a0          move    *a13(ATTACH_PROC),a0,L
         0000b130     03e0  
    1522 0000b140     b1c0          move    a14,*a0(PUNCHB_COUNT)
         0000b150     0800  
    1523 0000b160     b1c0          move    a14,*a0(BLOCKB_COUNT)
         0000b170     0810  
    1524 0000b180     b1c0          move    a14,*a0(SPUNCHB_COUNT)
         0000b190     0820  
    1525 0000b1a0     b1c0          move    a14,*a0(KICKB_COUNT)
         0000b1b0     0830  
    1526 0000b1c0     b1c0          move    a14,*a0(SKICKB_COUNT)
         0000b1d0     0840  
    1527                    
    1528 0000b1e0     0960          rets
    1529                    
    1530                    ;;new xvel is (attacker xvel + defender xvel)/4
    1531                    ; SUBR  merge_xvels
    1532                    ;
    1533                    ;       move    @vqspopp_xvel,a0,L
    1534                    ;       move    *a13(OBJ_XVEL),a1,L
    1535                    ;       add     a1,a0
    1536                    ;;      sra     2,a0
    1537                    ;       move    a0,*a13(OBJ_XVEL),L
    1538                    ;vqsprets
    1539                    ;       rets
    1540                    
    1541                    ;save opponent's x-velocity
    1542                    ; SUBR  store_opp_xvel
    1543                    ;       move    *a13(CLOSEST_NUM),a0
    1544                    ;       X32     a0
    1545                    ;       addi    process_ptrs,a0
    1546                    ;       move    *a0,a0,L
    1547                    ;       move    *a0(OBJ_XVEL),a0,L
    1548                    ;       move    a0,@vqspopp_xvel,L
    1549                    ;       rets
    1550                    
    1551 0000b1f0           vqsppuppet_tbl
    1552 0000b1f0 0000b310'  .long vqspBret
    1553 0000b210 0000b470'  .long vqspRazor
    1554 0000b230 0000b5d0'  .long vqspTaker
    1555 0000b250 0000b730'  .long vqspYokozuna
    1556 0000b270 0000b890'  .long vqspShawn
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   31

    1557 0000b290 0000b9f0'  .long vqspBamBam
    1558 0000b2b0 0000bb50'  .long vqspDoink
    1559 0000b2d0 0000bcb0'  .long vqspAdam
    1560 0000b2f0 0000bcd0'  .long vqspLex
    1561                    
    1562 0000b310           vqspBret
    1563 0000b310            LWWW H4AH3A+FR1,72,17,0
    1564 0000b360            LWWW H3HB3A+FR3,66,5,0
    1565 0000b3b0            LWWW H3HB3A+FR2,56,-6,0
    1566 0000b400            LWWW H3BF3A+FR1,48,-35,0
    1567 0000b450 00000000   .long 0
    1568 0000b470           vqspRazor
    1569 0000b470            LWWW R4AH4C+FR3,70,16,0
    1570 0000b4c0            LWWW R3HB3A+FR3,67,3,0
    1571 0000b510            LWWW R3HB3A+FR2,63,-17,0
    1572 0000b560            LWWW R3BF3A+FR1,53,-37,0
    1573 0000b5b0 00000000   .long 0
    1574 0000b5d0           vqspTaker
    1575 0000b5d0            LWWW U4AH3A+FR2,65,26,0
    1576 0000b620            LWWW U4BF3A+FR2,60,17,0
    1577 0000b670            LWWW U4BF3A+FR3,30,-3,0
    1578 0000b6c0            LWWW U4BF3Z+FR5,52,-16,0
    1579 0000b710 00000000   .long 0
    1580 0000b730           vqspYokozuna
    1581 0000b730            LWWW Y4AE4A+FR2,80,7,0
    1582 0000b780            LWWW Y4AM4A+FR1,79,6,0
    1583 0000b7d0            LWWW Y4AM4A+FR2,69,-5,0
    1584 0000b820            LWWW Y3BF3A+FR1,55,-25,0
    1585 0000b870 00000000   .long 0
    1586 0000b890           vqspShawn
    1587 0000b890            LWWW S4AH3D+FR5,73,6,0
    1588 0000b8e0            LWWW S4AH3D+FR1,66,10,0
    1589 0000b930            LWWW S4BF3A+FR2,62,-9,0
    1590 0000b980            LWWW S3BF3A+FR1,37,-36,0
    1591 0000b9d0 00000000   .long 0
    1592 0000b9f0           vqspBamBam
    1593 0000b9f0            LWWW B4AH4A+FR1,68,11,0
    1594 0000ba40            LWWW B4BF3A+FR1,74,15,0
    1595 0000ba90            LWWW B3HB3A+FR2,62,-20,0
    1596 0000bae0            LWWW B3BF3C+FR5,54,-29,0
    1597 0000bb30 00000000   .long 0
    1598 0000bb50           vqspDoink
    1599 0000bb50            LWWW D3AH3B+FR1,60,13,0
    1600 0000bba0            LWWW D3AK3A+FR3,59,16,0
    1601 0000bbf0            LWWW D3AK3A+FR2,64,-5,0
    1602 0000bc40            LWWW D3BF3A+FR2,51,-35,0
    1603 0000bc90 00000000   .long 0
    1604 0000bcb0           vqspAdam
    1605 0000bcb0 00000000   .long 0
    1606 0000bcd0           vqspLex
    1607 0000bcd0            LWWW L4AH4B+FR3,68,9,0
    1608 0000bd20            LWWW L3BF3A+FR1,74,11,1
    1609 0000bd70            LWWW L3BF3A+FR2,65,-10,1
    1610 0000bdc0            LWWW L3BF3B+FR5,49,-33,0
    1611 0000be10 00000000   .long 0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   32

    1612                    
    1613 0000be30           vqspheadheld_tbl
    1614 0000be30                   REFLONG hrt_3_head_held_anim
    1615 0000be50                   REFLONG rzr_3_head_held_anim
    1616 0000be70                   REFLONG und_3_head_held_anim
    1617 0000be90                   REFLONG yok_3_head_held_anim
    1618 0000beb0                   REFLONG shn_3_head_held_anim
    1619 0000bed0                   REFLONG bam_3_head_held_anim
    1620 0000bef0                   REFLONG dnk_3_head_held_anim
    1621 0000bf10 00000000          .long   0
    1622 0000bf30                   REFLONG lex_3_head_held_anim
    1623                    
    1624                    *****************************************************************************
    1625                    
    1626 0000bf50            SUBR   dnk_3_head_held_anim
    1627                    
    1628 0000bf50     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1629 0000bf70     8003          .word   ANI_ZEROVELS
    1630 0000bf80     8026          .word   ANI_SETSPEED,100h
    1631 0000bfa0     8004          .word   ANI_SETPLYRMODE,MODE_HEADHELD
    1632 0000bfc0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1633                    
    1634                    ;       WL      4,D3BF3Z+FR1
    1635                    ;       WL      4,D3BF3Z+FR2
    1636                    
    1637 0000bfd0     8033          .word   ANI_SETWORD,USR_VAR1,0          ;loop count
    1638                    
    1639 0000c000           mrwkloop
    1640 0000c000                   WL      4,D3BF3A+FR2
    1641 0000c030                   WL      4,D3BF3A+FR3
    1642 0000c060                   WL      4,D3BF3A+FR4
    1643 0000c090                   WL      4,D3BF3A+FR5
    1644 0000c0c0                   WL      4,D3BF3A+FR6
    1645 0000c0f0                   WL      4,D3BF3A+FR7
    1646 0000c120                   WL      4,D3BF3A+FR8
    1647 0000c150                   WL      4,D3BF3A+FR1
    1648 0000c180                   WL      ANI_CODE,mrwkinc_loop
    1649 0000c1b0                   WL      ANI_IFNOTSTATUS2,mrwkloop
    1650                    
    1651                    ;Continue into break...
    1652                    
    1653 0000c1e0            SUBR   dnk_3_head_held_brk_anim
    1654                    
    1655 0000c1e0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1656 0000c200     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1657                    
    1658 0000c220                   WL      ANI_CODE,FIND_AND_KILL_ENDLESS
    1659                    
    1660 0000c250                   WLW     ANI_SET_XVEL,-38000h,AM_NEWFACE_REL
    1661 0000c290                   WL      ANI_SET_YVEL,40000h
    1662 0000c2c0                   WLW     ANI_SET_ZVEL,18000h,AM_ABS
    1663                    
    1664 0000c300                   WL      4,D3AK3A+FR2
    1665 0000c330     800a          .word   ANI_DETACH
    1666                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   33

    1667                    ;Standard mrwk2 head hit from spin kick
    1668 0000c340                   WL      3,D2AH2A+FR1
    1669 0000c370                   WL      4,D2AH2A+FR2
    1670 0000c3a0     800b          .word   ANI_WAITHITGND
    1671 0000c3b0     8003          .word   ANI_ZEROVELS
    1672 0000c3c0                   WL      4,D2AH2A+FR3
    1673                    
    1674 0000c3f0     8021          .word   ANI_FACEUP
    1675 0000c400     8002          .word   ANI_SETMODE,MODE_NORMAL
    1676 0000c420     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1677 0000c440     8049          .word   ANI_END
    1678                    
    1679                    
    1680                    ;Loop 4 times, then break out!
    1681 0000c450           mrwkinc_loop
    1682 0000c450     b5a0          move    *a13(USR_VAR1),a0
         0000c460     0850  
    1683 0000c470     1020          inc     a0
    1684 0000c480     b00d          move    a0,*a13(USR_VAR1)
         0000c490     0850  
    1685 0000c4a0     0b40          cmpi    2,a0
         0000c4b0     fffd  
    1686 0000c4c0     c708          jrgt    mrwkbreakout
    1687                            
    1688                    ;He may have let me go by hitting his block butn!
    1689                    ;Handled in mode_headheld!
    1690                    ;       move    *a13(ATTACH_PROC),a0,L
    1691                    ;       jrz     mrwkbreakout
    1692                    
    1693 0000c4d0     b5a1          move    *a13(ANIMODE),a1
         0000c4e0     0660  
    1694 0000c4f0     0b81          andni   MODE_STATUS2,a1
         0000c500 00000200  
    1695 0000c520     b02d          move    a1,*a13(ANIMODE)
         0000c530     0660  
    1696 0000c540     0960          rets
    1697                    
    1698 0000c550           mrwkbreakout
    1699 0000c550     b5a1          move    *a13(ANIMODE),a1
         0000c560     0660  
    1700 0000c570     0ba1          ori     MODE_STATUS2,a1
         0000c580 00000200  
    1701 0000c5a0     b02d          move    a1,*a13(ANIMODE)
         0000c5b0     0660  
    1702 0000c5c0     0960          rets
    1703                    
    1704 0000c5d0            SUBR   dnk_3_head_held_stand_anim
    1705                    
    1706 0000c5d0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1707 0000c5f0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1708                    
    1709 0000c610                   WL      3,D3AK3A+FR2
    1710 0000c640                   WL      3,D1TT5Z+FR2    ;2.5
    1711 0000c670     800a          .word   ANI_DETACH
    1712                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   34

    1713 0000c680     8021          .word   ANI_FACEUP
    1714 0000c690     8002          .word   ANI_SETMODE,MODE_NORMAL
    1715 0000c6b0     8049          .word   ANI_END
    1716                    
    1717                    
    1718                    *****************************************************************************
    1719                    *
    1720                    * KNEE TO HEAD HELD OPPONENT
    1721                    
    1722 0000c6c0            SUBR   dnk_3_knee_to_head_anim
    1723                    
    1724 0000c6c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1725 0000c6e0     8003          .word   ANI_ZEROVELS
    1726 0000c6f0     8026          .word   ANI_SETSPEED,100h
    1727                    
    1728 0000c710     8075          .word   ANI_STARTATTACK,AT_KNEE,9
    1729 0000c740                   WL      2,D3SK3X+FR1
    1730 0000c770                   WL      2,D3SK3X+FR2
    1731 0000c7a0                   WL      2,D3SK3X+FR3
    1732                    
    1733 0000c7d0     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,20,62,68,16
    1734 0000c830                   WL      2,D3SK3X+FR4
    1735 0000c860     8007          .word   ANI_ATTACK_OFF
    1736 0000c870                   WL      17,D3SK3X+FR4
    1737                    
    1738 0000c8a0                   WL      3,D3SK3X+FR5
    1739 0000c8d0                   WL      3,D3SK3X+FR6
    1740 0000c900                   WL      3,D3SK3X+FR7
    1741                    
    1742 0000c930     8021          .word   ANI_FACEUP
    1743                    ;       .word   ANI_FACE,MOVE_RIGHT|MOVE_DOWN
    1744 0000c940     8002          .word   ANI_SETMODE,MODE_NORMAL
    1745 0000c960     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1746 0000c980     8049          .word   ANI_END
    1747                    
    1748                    
    1749 0000c990            SUBR   dnk_3_knees_to_head_anim
    1750                    
    1751                    ;Need to do a move which kicks guys in the ass!
    1752                    
    1753 0000c990     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1754 0000c9b0     8003          .word   ANI_ZEROVELS
    1755 0000c9c0     8026          .word   ANI_SETSPEED,100h
    1756                    
    1757 0000c9e0     8062          .word   ANI_SET_RPTCOUNT,3      ;2 times
    1758 0000ca00     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    1759 0000ca40                   WL      ANI_GOTO,wxmlskp
    1760 0000ca70           wxmlrpt
    1761 0000ca70     8075          .word   ANI_STARTATTACK,AT_KNEE,10
    1762 0000caa0                   WL      3,D4KH3A+FR3
    1763 0000cad0           wxmlskp
    1764 0000cad0                   WL      ANI_SET_YVEL,30000h
    1765 0000cb00     8061          .word   ANI_CLR_BUTCOUNT
    1766                    
    1767 0000cb10                   WL      2,D4KM3A+FR2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   35

    1768 0000cb40                   WL      2,D4KM3A+FR3
    1769 0000cb70                   WL      3,D4KM3A+FR4
    1770                    
    1771 0000cba0     8006          .word   ANI_ATTACK_ON, AMODE_HEADKNEES,20,42,68,36
    1772 0000cc00                   WL      4,D4KM3A+FR5
    1773 0000cc30     8007          .word   ANI_ATTACK_OFF
    1774 0000cc40                   WL      ANI_IFNOTSTATUS2,wxmlmissed
    1775                    
    1776 0000cc70                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,wxmlexit
    1777 0000ccc0     8063          .word   ANI_DEC_RPTCOUNT
    1778 0000ccd0                   WL      ANI_IF_RPTCOUNT,wxmlrpt
    1779                    
    1780 0000cd00     8061          .word   ANI_CLR_BUTCOUNT
    1781                    
    1782 0000cd10                   WL      2,D4KM3A+FR4
    1783 0000cd40                   WL      2,D4KM3A+FR3
    1784 0000cd70                   WL      ANI_SET_YVEL,40000h
    1785 0000cda0                   WL      2,D4KM3A+FR2
    1786 0000cdd0                   WL      2,D4KM3A+FR3
    1787 0000ce00                   WL      2,D4KM3A+FR4
    1788                    
    1789 0000ce30     8006          .word   ANI_ATTACK_ON, AMODE_HEADKNEES,20,42,68,36
    1790 0000ce90                   WL      4,D4KM3A+FR5
    1791 0000cec0     8007          .word   ANI_ATTACK_OFF
    1792 0000ced0                   WL      ANI_IFNOTSTATUS2,wxmlmissed
    1793                    
    1794 0000cf00                   WWWL    ANI_IF_BUTCOUNT_GE,SPUNCHB_COUNT,1,wxmldo_pile
    1795                    
    1796 0000cf50           wxmlexit
    1797 0000cf50           wxmlmissed
    1798 0000cf50     800a          .word   ANI_DETACH
    1799 0000cf60     8015          .word   ANI_OFFSET,0,0,-5                       ;x,y,z
    1800 0000cfa0                   WL      2,D4KM3A+FR6
    1801 0000cfd0                   WL      2,D4KM3A+FR7
    1802 0000d000                   WL      2,D4KM3A+FR8
    1803 0000d030                   WL      2,D4KM3A+FR9
    1804 0000d060                   WL      2,D4KM3A+FR10
    1805 0000d090     8022          .word   ANI_FACEDOWN
    1806                    
    1807 0000d0a0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1808 0000d0c0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1809 0000d0e0     8049          .word   ANI_END
    1810                    
    1811                    
    1812 0000d0f0           wxmldo_pile
    1813 0000d0f0                   WL      2,D4KM3A+FR6
    1814 0000d120                   WL      2,D4KM3A+FR7
    1815 0000d150                   WL      2,D4KM3A+FR8
    1816 0000d180                   WL      2,D4KM3A+FR9
    1817 0000d1b0                   WL      2,D4KM3A+FR10
    1818                    
    1819 0000d1e0     800a          .word   ANI_DETACH
    1820 0000d1f0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1821 0000d210     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1822 0000d230                   WL      ANI_CHANGEANIM,dnk_3_pile_driver_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   36

    1823                    ;       .word   ANI_END
    1824                    
    1825                    
    1826                    *****************************************************************************
    1827                    *
    1828                    * UPPERCUT TO HEAD HELD OPPONENT
    1829                    
    1830 0000d260            SUBR   dnk_uppercut_to_head_anim
    1831                    
    1832 0000d260     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1833 0000d280     8003          .word   ANI_ZEROVELS
    1834 0000d290     8026          .word   ANI_SETSPEED,100h
    1835                    
    1836 0000d2b0     8075          .word   ANI_STARTATTACK,AT_KNEE,16
    1837 0000d2e0                   WL      2,D4GP3C+FR2
    1838 0000d310                   WL      2,D4GP3C+FR3
    1839 0000d340                   WL      2,D4GP3C+FR4
    1840 0000d370                   WL      2,D4GP3C+FR5
    1841 0000d3a0     801a          .WORD   ANI_SOUND,43H
    1842 0000d3c0     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,44,57,32,37 ;mode,x,y,w,h
    1843 0000d420                   WL      10,D4GP3C+FR6
    1844 0000d450     8007          .word   ANI_ATTACK_OFF
    1845 0000d460                   WL      3 ,D4GP3C+FR7
    1846                    
    1847 0000d490     8022          .word   ANI_FACEDOWN
    1848 0000d4a0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1849 0000d4c0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1850 0000d4e0     8049          .word   ANI_END
    1851                    
    1852                    
    1853                    *****************************************************************************
    1854                    *
    1855                    * UPPERCUT TO IN CLOSE OPPONENT
    1856                    
    1857 0000d4f0            SUBR   dnk_4_uppercut_anim
    1858                    
    1859 0000d4f0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    1860 0000d510     8003          .word   ANI_ZEROVELS
    1861 0000d520     8026          .word   ANI_SETSPEED,100h
    1862 0000d540     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1863 0000d560     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    1864 0000d570     805f          .word   ANI_SET_WRESTLER_XFLIP
    1865                    
    1866 0000d580     8075          .word   ANI_STARTATTACK,AT_PUNCH,6
    1867 0000d5b0                   WL      1,D4GP3C+FR2
    1868 0000d5e0                   WL      1,D4GP3C+FR3
    1869 0000d610                   WL      2,D4GP3C+FR4
    1870 0000d640                   WL      2,D4GP3C+FR5
    1871                    ;       .WORD   ANI_SOUND,43H
    1872 0000d670     8006          .word   ANI_ATTACK_ON, AMODE_UPRCUT,44,57,32,37 ;mode,x,y,w,h
    1873 0000d6d0                   WL      2,D4GP3C+FR6
    1874 0000d700     8007          .word   ANI_ATTACK_OFF
    1875 0000d710                   WL      ANI_IFNOTSTATUS2,zxtamissed
    1876 0000d740     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    1877 0000d780                   WL      ANI_IFBLOCKED,zxtamissedb               ;Yes, I hit blocker
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   37

    1878                    ;Got him
    1879                    ;Hit, spray some explosions
    1880                    
    1881 0000d7b0     8071          .word   ANI_SET_ATTACH
    1882 0000d7c0     805d          .word   ANI_DEBRISAT,400,1,10,50,0      ;%chance, tbl index, x,y,z off
    1883 0000d820     800a          .word   ANI_DETACH
    1884 0000d830                   WL      ANI_CODE,CALL_OTHER_AVERAGE
    1885 0000d860     801a          .WORD   ANI_SOUND,43H
    1886                    
    1887 0000d880                   WL      ANI_CODE,zxtaset_zvel
    1888 0000d8b0     801f          .word   ANI_SHAKER,35
    1889                    ;       WL      ANI_CODE,HIT_THE_MAT
    1890 0000d8d0                   WWL     ANI_SLIDE_BACK,30h,-70000h,zxtano_hit2
    1891 0000d930                   WL      10,D4GP3C+FR6
    1892 0000d960           zxtano_hit2
    1893 0000d960                   WL      15,D4GP3C+FR6
    1894 0000d990                   WL      4,D4GP3C+FR7
    1895                    
    1896 0000d9c0     8022          .word   ANI_FACEDOWN
    1897 0000d9d0     8002          .word   ANI_SETMODE,MODE_NORMAL
    1898 0000d9f0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1899 0000da10     8049          .word   ANI_END
    1900                    
    1901 0000da20           zxtaset_zvel
    1902 0000da20     b7a0          move    *a13(WHOIHIT),a0,L
         0000da30     0500  
    1903 0000da40     b60e          move    *a0(OBJ_ZVEL),a14,L
         0000da50     0310  
    1904 0000da60     cb05          jrnz    zxtaskip
    1905 0000da70     09ee          movi    10000h,a14
         0000da80 00010000  
    1906 0000daa0     b3c0          move    a14,*a0(OBJ_ZVEL),L
         0000dab0     0310  
    1907 0000dac0     0960  zxtaskip        rets
    1908                    
    1909 0000dad0           zxtamissedb
    1910 0000dad0                   WL      12,D4GP3C+FR6
    1911 0000db00           zxtamissed
    1912 0000db00                   WL      3,D4GP3C+FR6
    1913 0000db30                   WL      3,D4GP3C+FR7
    1914                    
    1915 0000db60     8002          .word   ANI_SETMODE,MODE_NORMAL
    1916 0000db80     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1917 0000dba0     8049          .word   ANI_END
    1918                    
    1919                    
    1920                    ;FIX!!!  Make cooler...
    1921                    *****************************************************************************
    1922                    *
    1923                    * UPPERCUT TO HEAD HELD OPPONENT
    1924                    
    1925 0000dbb0            SUBR   dnk_combo_uppercut_to_head_anim
    1926                    
    1927 0000dbb0     8073          .WORD   ANI_CLEAR_COMBO
    1928 0000dbc0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   38

    1929 0000dbe0     8003          .word   ANI_ZEROVELS
    1930 0000dbf0     8026          .word   ANI_SETSPEED,100h
    1931 0000dc10     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    1932                    
    1933 0000dc30                   WLW     ANI_SET_XVEL,30000h,AM_FACE_REL
    1934                    
    1935 0000dc70     8075          .word   ANI_STARTATTACK,AT_KNEE,9
    1936 0000dca0                   WL      2,D4GP3C+FR2
    1937 0000dcd0                   WL      3,D4GP3C+FR3
    1938                    
    1939 0000dd00                   WL      2,D4GP3C+FR4
    1940 0000dd30                   WL      2,D4GP3C+FR5
    1941 0000dd60     801a          .WORD   ANI_SOUND,43H
    1942 0000dd80     8072          .WORD   ANI_INC_COMBO
    1943 0000dd90     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,44,37,32,57 ;mode,x,y,w,h
    1944 0000ddf0                   WL      1,D4GP3C+FR6
    1945 0000de20     8007          .word   ANI_ATTACK_OFF
    1946 0000de30                   WL      ANI_IFNOTSTATUS2,emxxmiss
    1947 0000de60                   WL      ANI_CODE,SET_OPTIMAL_POSITION
    1948 0000de90     8072          .WORD   ANI_INC_COMBO
    1949                    ;       .word   ANI_SET_ATTACH
    1950 0000dea0                   WLLL    ANI_SETOPPVELS,0,0h,0h          ;x,y,z vels
    1951 0000df10     8075          .word   ANI_STARTATTACK,AT_KNEE,12
    1952 0000df40                   WL      3,D4GP3C+FR6
    1953 0000df70                   WL      3 ,D4GP3C+FR7
    1954                    
    1955 0000dfa0     8061          .word   ANI_CLR_BUTCOUNT
    1956                    
    1957 0000dfb0                   WL      2,D4GP3C+FR2
    1958 0000dfe0                   WL      1,D4GP3C+FR3
    1959                    
    1960 0000e010                   WL      2,D4GP3C+FR4
    1961 0000e040                   WL      1,D4GP3C+FR5
    1962 0000e070     801a          .WORD   ANI_SOUND,43H
    1963 0000e090     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,44,37,32,57 ;mode,x,y,w,h
    1964 0000e0f0                   WL      1,D4GP3C+FR6
    1965 0000e120     8007          .word   ANI_ATTACK_OFF
    1966 0000e130                   WL      ANI_IFNOTSTATUS2,emxxmiss
    1967 0000e160     8072          .WORD   ANI_INC_COMBO
    1968                    ;       .word   ANI_SET_ATTACH
    1969 0000e170                   WLLL    ANI_SETOPPVELS,0,0h,0h          ;x,y,z vels
    1970                    
    1971 0000e1e0     8075          .word   ANI_STARTATTACK,AT_KNEE,8
    1972 0000e210                   WL      1,D4GP3C+FR6
    1973 0000e240                   WL      2 ,D4GP3C+FR7
    1974                    
    1975 0000e270                   WL      1,D4GP3C+FR2
    1976 0000e2a0                   WL      2,D4GP3C+FR3
    1977                    
    1978 0000e2d0                   WL      1,D4GP3C+FR4
    1979 0000e300                   WL      1,D4GP3C+FR5
    1980 0000e330     801a          .WORD   ANI_SOUND,43H
    1981 0000e350     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,44,37,32,57 ;mode,x,y,w,h
    1982 0000e3b0                   WL      1,D4GP3C+FR6
    1983 0000e3e0     8007          .word   ANI_ATTACK_OFF
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   39

    1984 0000e3f0                   WL      ANI_IFNOTSTATUS2,emxxmiss
    1985 0000e420     8072          .WORD   ANI_INC_COMBO
    1986                    ;       .word   ANI_SET_ATTACH
    1987 0000e430                   WLLL    ANI_SETOPPVELS,0,0h,0h          ;x,y,z vels
    1988 0000e4a0     8075          .word   ANI_STARTATTACK,AT_KNEE,8
    1989 0000e4d0                   WL      1,D4GP3C+FR6
    1990 0000e500                   WL      2 ,D4GP3C+FR7
    1991                    
    1992 0000e530                   WL      1,D4GP3C+FR2
    1993 0000e560                   WL      2,D4GP3C+FR3
    1994                    
    1995 0000e590                   WL      1,D4GP3C+FR4
    1996 0000e5c0                   WL      1,D4GP3C+FR5
    1997 0000e5f0     801a          .WORD   ANI_SOUND,43H
    1998 0000e610     8006          .word   ANI_ATTACK_ON, AMODE_KNEE,44,37,32,57 ;mode,x,y,w,h
    1999 0000e670                   WL      1,D4GP3C+FR6
    2000 0000e6a0     8007          .word   ANI_ATTACK_OFF
    2001 0000e6b0                   WL      ANI_IFNOTSTATUS2,emxxmiss
    2002 0000e6e0     8072          .WORD   ANI_INC_COMBO
    2003                    ;       .word   ANI_SET_ATTACH
    2004 0000e6f0                   WLLL    ANI_SETOPPVELS,0,0h,0h          ;x,y,z vels
    2005 0000e760                   WLW     ANI_SET_XVEL,80000h,AM_FACE_REL
    2006 0000e7a0                   WL      1,D4GP3C+FR6
    2007 0000e7d0                   WL      2 ,D4GP3C+FR7
    2008 0000e800                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,emxxNEXT_CHECK_2
    2009 0000e850                   WL      ANI_CHANGEANIM,dnk_combo_box_anim
    2010 0000e880           emxxNEXT_CHECK_2
    2011 0000e880                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,emxxNEXT_CHECK
    2012 0000e8d0                   WL      ANI_CHANGEANIM,dnk_combo_knee_fall_anim
    2013                    
    2014 0000e900           emxxNEXT_CHECK
    2015 0000e900                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,emxxmiss
    2016 0000e950                   WL      ANI_CHANGEANIM,dnk_4_combo_butt_anim
    2017                    
    2018 0000e980           emxxmiss
    2019 0000e980                   WL      ANI_CODE,DO_COMBO_MESS
    2020 0000e9b0     8073          .WORD   ANI_CLEAR_COMBO
    2021 0000e9c0     800a          .word   ANI_DETACH
    2022 0000e9d0     8022          .word   ANI_FACEDOWN
    2023 0000e9e0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2024 0000ea00     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2025 0000ea20     8049          .word   ANI_END
    2026                    
    2027 0000ea30           SET_OPTIMAL_POSITION
    2028 0000ea30     b7a0          MOVE    *A13(WHOIHIT),A0,L
         0000ea40     0500  
    2029 0000ea50     b7a2          MOVE    *A13(OBJ_XPOS),A2,L
         0000ea60     0100  
    2030 0000ea70     09e1          MOVI    [70,0],A1
         0000ea80 00460000  
    2031 0000eaa0     b5a3          MOVE    *A13(FACING_DIR),A3
         0000eab0     04c0  
    2032 0000eac0     1fa3          BTST    MOVE_LEFT_BIT,A3
    2033 0000ead0     ca01          JRZ     NO_NEED_TO_NEG_XDIR
    2034 0000eae0     03a1          NEG     A1
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   40

    2035 0000eaf0           NO_NEED_TO_NEG_XDIR
    2036 0000eaf0     4022          ADD     A1,A2
    2037 0000eb00     b240          MOVE    A2,*A0(OBJ_XPOS),L
         0000eb10     0100  
    2038 0000eb20     0960          RETS
    2039                    
    2040                    
    2041 0000eb30            SUBR   dnk_uppercuts_to_head_anim
    2042                    
    2043 0000eb30     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2044 0000eb50     8003          .word   ANI_ZEROVELS
    2045 0000eb60     8026          .word   ANI_SETSPEED,100h
    2046 0000eb80     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    2047                    
    2048 0000ebc0     8033          .word   ANI_SETWORD,USR_VAR2,0
    2049                    
    2050 0000ebf0     8061          .word   ANI_CLR_BUTCOUNT
    2051 0000ec00     8062          .word   ANI_SET_RPTCOUNT,3      ;rpt 2 times
    2052 0000ec20                   WL      3,D4GP3C+FR2
    2053 0000ec50                   WL      3,D4GP3C+FR3
    2054 0000ec80                   WL      ANI_GOTO,emxxskp
    2055 0000ecb0           emxxrpt
    2056 0000ecb0     8061          .word   ANI_CLR_BUTCOUNT
    2057                    
    2058 0000ecc0                   WL      2,D4GP3C+FR8
    2059 0000ecf0                   WL      2,D4GP3C+FR9
    2060 0000ed20                   WL      2,D4GP3C+FR3
    2061 0000ed50           emxxskp
    2062 0000ed50                   WL      2,D4GP3C+FR4
    2063 0000ed80                   WL      2,D4GP3C+FR5
    2064 0000edb0     801a          .WORD   ANI_SOUND,43H
    2065 0000edd0     8006          .word   ANI_ATTACK_ON, AMODE_HEADKNEES,44,57,32,37 ;mode,x,y,w,h
    2066 0000ee30                   WL      3,D4GP3C+FR6
    2067 0000ee60     8007          .word   ANI_ATTACK_OFF
    2068 0000ee70                   WL      ANI_IFNOTSTATUS2,emxxmissed
    2069                    
    2070 0000eea0     8071          .word   ANI_SET_ATTACH
    2071 0000eeb0     805d          .word   ANI_DEBRISAT,250,1,10,50,0      ;%chance, tbl index, x,y,z off
    2072                    ;       .word   ANI_DETACH
    2073                    
    2074 0000ef10                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,1,emxxexit
    2075 0000ef60     8063          .word   ANI_DEC_RPTCOUNT
    2076 0000ef70                   WL      ANI_IF_RPTCOUNT,emxxrpt
    2077                    
    2078                    ;Completed multiple uppercuts, allow flings, etc.
    2079                    ;       .word   ANI_SET_ATTACH
    2080                    ;       .word   ANI_SETOPP_PLYRMODE,MODE_NORMAL
    2081                    ;       .word   ANI_DETACH
    2082                    
    2083 0000efa0     8033          .word   ANI_SETWORD,USR_VAR2,1
    2084 0000efd0     8061          .word   ANI_CLR_BUTCOUNT
    2085                    
    2086 0000efe0                   WL      2,D4GP3C+FR8
    2087 0000f010                   WL      2,D4GP3C+FR9
    2088 0000f040                   WL      2,D4GP3C+FR3
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   41

    2089 0000f070                   WL      2,D4GP3C+FR4
    2090 0000f0a0                   WL      2,D4GP3C+FR5
    2091 0000f0d0     801a          .WORD   ANI_SOUND,43H
    2092 0000f0f0     8006          .word   ANI_ATTACK_ON, AMODE_HEADKNEES,44,57,32,37 ;mode,x,y,w,h
    2093 0000f150                   WL      3,D4GP3C+FR6
    2094 0000f180     8007          .word   ANI_ATTACK_OFF
    2095 0000f190                   WL      ANI_IFNOTSTATUS2,emxxmissed
    2096                    
    2097 0000f1c0                   WL      ANI_CODE,emxxgo_high
    2098                    
    2099 0000f1f0                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,emxxexit
    2100                    
    2101 0000f240                   WL      3,D4GP3C+FR7
    2102                    
    2103 0000f270                   WL      ANI_CHANGEANIM,dnk_flying_kick_anim
    2104                    ;       .word   ANI_END
    2105                    
    2106 0000f2a0           emxxexit
    2107 0000f2a0           emxxmissed
    2108 0000f2a0     8015          .word   ANI_OFFSET,0,0,-5                       ;x,y,z
    2109 0000f2e0                   WL      3,D4GP3C+FR7
    2110 0000f310     800a          .word   ANI_DETACH
    2111 0000f320     8022          .word   ANI_FACEDOWN
    2112                    
    2113 0000f330     8002          .word   ANI_SETMODE,MODE_NORMAL
    2114 0000f350     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2115 0000f370     8049          .word   ANI_END
    2116                    
    2117                    
    2118 0000f380           emxxgo_high
    2119                    ;Got rid of this because attach_proc is a zero after a hit
    2120                    ;       move    *a13(ATTACH_PROC),a0,L
    2121                    ;       move    *a0(WRESTLERNUM),A14
    2122                    ;       cmpi    3,a14                           ;Yoko
    2123                    ;       jrz     emxxx
    2124                    ;       movi    50000h,a14
    2125                    ;       move    a14,*a0(OBJ_YVEL),L
    2126                    
    2127 0000f380     b5ae          move    *a13(CLOSEST_NUM),a14
         0000f390     03a0  
    2128 0000f3a0                   X32     a14
    2129 0000f3b0     0b2e          addi    process_ptrs,a14
         0000f3c0 00000000! 
    2130 0000f3e0     87ce          move    *a14,a14,L
    2131                    
    2132 0000f3f0     b5c0          move    *a14(WRESTLERNUM),a0
         0000f400     0590  
    2133 0000f410     0b40          cmpi    3,a0                            ;Yoko too fat
         0000f420     fffc  
    2134 0000f430     ca05          jrz     emxxx
    2135                    
    2136 0000f440     09e0          movi    50000h,a0                       ;Go higher for last hit!
         0000f450 00050000  
    2137 0000f470     b20e          move    a0,*a14(OBJ_YVEL),L
         0000f480     02f0  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   42

    2138 0000f490     0960  emxxx   rets
    2139                    
    2140                    
    2141 0000f4a0           emxxchk_count
    2142 0000f4a0     b5a0          move    *a13(ANIMODE),a0
         0000f4b0     0660  
    2143 0000f4c0     0b80          andni   MODE_STATUS2,a0
         0000f4d0 00000200  
    2144 0000f4f0     b5ae          move    *a13(BUT_COUNT),a14
         0000f500     07c0  
    2145 0000f510     ca03          jrz     emxxfail
    2146 0000f520     0ba0          ori     MODE_STATUS2,a0
         0000f530 00000200  
    2147 0000f550           emxxfail
    2148 0000f550     b00d          move    a0,*a13(ANIMODE)
         0000f560     0660  
    2149 0000f570     0960          rets
    2150                    
    2151                    
    2152                    *****************************************************************************
    2153                    *
    2154                    * wgxn2 SLAP
    2155                    
    2156                    
    2157 0000f580            SUBR   dnk_2_slap_anim
    2158                    
    2159 0000f580     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2160 0000f5a0     8003          .word   ANI_ZEROVELS
    2161 0000f5b0     8026          .word   ANI_SETSPEED,100h
    2162                    
    2163 0000f5d0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2164 0000f5e0     805f          .word   ANI_SET_WRESTLER_XFLIP
    2165                    
    2166 0000f5f0     8075          .word   ANI_STARTATTACK,AT_SPINKIK,30
    2167 0000f620     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    2168 0000f660                   WL      2,D2BS3A+FR1
    2169                    
    2170                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2171 0000f690                   LEAPATOPP 0dh,999,4ah-5,50,90000h,TGT_HEAD,96,105,-30
    2172                    
    2173 0000f740                   WL      3,D2BS3A+FR2
    2174 0000f770                   WL      07h,D2BS3A+FR3
    2175 0000f7a0                   WL      3,D2BS3A+FR4
    2176                    
    2177 0000f7d0     8006          .word   ANI_ATTACK_ON, AMODE_BACKHAND,75,81,36,28       ;mode,x,y,w,h
    2178 0000f830                   WL      3,D2BS3A+FR5
    2179 0000f860                   WL      3,D2BS3A+FR6
    2180                    
    2181 0000f890     8007          .word   ANI_ATTACK_OFF
    2182                    
    2183 0000f8a0                   WWL     ANI_SLIDE_BACK,30h,-70000h,wgxnno_hit
    2184                    
    2185 0000f900                   WL      ANI_SET_YVEL,40000h
    2186 0000f930                   WL      10,D2BS3A+FR6
    2187 0000f960           wgxnno_hit
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   43

    2188                    
    2189 0000f960     800b          .word   ANI_WAITHITGND
    2190 0000f970     8003          .word   ANI_ZEROVELS
    2191                    
    2192 0000f980                   WL      5,D2BS3A+FR6
    2193                    
    2194                    
    2195 0000f9b0                   WL      ANI_CODE,spunch_delay
    2196 0000f9e0                   WL      ANI_IFNOTSTATUS2,wgxnnone
    2197 0000fa10                   WL      15,D2BS3A+FR6
    2198 0000fa40           wgxnnone
    2199                    
    2200                    
    2201 0000fa40                   WL      3,D2BS3A+FR8
    2202 0000fa70                   WL      3,D2BS3A+FR9
    2203                    
    2204 0000faa0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2205 0000fac0     8049          .word   ANI_END
    2206                    
    2207                    *
    2208                    * hjpd4 SLAP
    2209                    
    2210 0000fad0            SUBR   dnk_4_slap_anim
    2211                    
    2212 0000fad0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2213 0000faf0     8003          .word   ANI_ZEROVELS
    2214 0000fb00     8026          .word   ANI_SETSPEED,100h
    2215                    
    2216 0000fb20     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2217 0000fb30     805f          .word   ANI_SET_WRESTLER_XFLIP
    2218                    
    2219 0000fb40     8075          .word   ANI_STARTATTACK,AT_SPINKIK,30
    2220 0000fb70     8074          .WORD   ANI_ADD_MOVE,MOVE_C_3,2,2
    2221 0000fbb0                   WL      2,D4BS3A+FR1
    2222                    
    2223                            ;       ticks,range max,hiX,hiZ,hiYvel,tgt,Xoff,Yoff,Zoff
    2224 0000fbe0                   LEAPATOPP 0dh,999,4ah-5,50,90000h,TGT_HEAD,96,105,30
    2225                    
    2226 0000fc90                   WL      3,D4BS3A+FR2
    2227 0000fcc0                   WL      07h,D4BS3A+FR3
    2228 0000fcf0                   WL      3,D4BS3A+FR4
    2229                    
    2230 0000fd20     8006          .word   ANI_ATTACK_ON, AMODE_BACKHAND,75,81,36,28       ;mode,x,y,w,h
    2231 0000fd80                   WL      3,D4BS3A+FR5
    2232 0000fdb0                   WL      3,D4BS3A+FR6
    2233                    
    2234 0000fde0     8007          .word   ANI_ATTACK_OFF
    2235                    
    2236 0000fdf0                   WWL     ANI_SLIDE_BACK,30h,-70000h,hjpdno_hit2
    2237                    
    2238 0000fe50                   WL      ANI_SET_YVEL,40000h
    2239 0000fe80                   WL      10,D4BS3A+FR6
    2240 0000feb0           hjpdno_hit2
    2241 0000feb0     800b          .word   ANI_WAITHITGND
    2242 0000fec0     8003          .word   ANI_ZEROVELS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   44

    2243                    
    2244 0000fed0                   WL      5,D4BS3A+FR6
    2245                    
    2246 0000ff00                   WL      ANI_CODE,spunch_delay
    2247 0000ff30                   WL      ANI_IFNOTSTATUS2,hjpdnone
    2248 0000ff60                   WL      15,D4BS3A+FR6
    2249 0000ff90           hjpdnone
    2250                    
    2251 0000ff90                   WL      3,D4BS3A+FR8
    2252 0000ffc0                   WL      3,D4BS3A+FR9
    2253                    
    2254 0000fff0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2255 00010010     8049          .word   ANI_END
    2256                    
    2257                    
    2258 00010020            SUBR   spunch_delay
    2259                    
    2260 00010020     05a0          move    @royal_rumble,a0
         00010030 00000000! 
    2261 00010050     cb1d          jrnz    hjpdok
    2262 00010060     05a0          move    @PSTATUS,a0
         00010070 00000000! 
    2263 00010090     1460          subk    3,a0
    2264 000100a0     ca05          jrz     hjpdcont
    2265 000100b0     05a0          move    @NUM_OPPS,a0
         000100c0 00000000! 
    2266 000100e0     1420          subk    1,a0
    2267 000100f0     cb13          jrnz    hjpdok
    2268 00010100           hjpdcont
    2269 00010100     b7ae          move    *a13(LAST_SPUNCH),a14,L
         00010110     0e10  
    2270 00010120     07a0          move    @PCNT,a0,L                      ;use 32-bit PCNT!
         00010130 00000000! 
    2271 00010150     b20d          move    a0,*a13(LAST_SPUNCH),L
         00010160     0e10  
    2272 00010170     45c0          sub     a14,a0
    2273 00010180     0b40          cmpi    2*60,a0
         00010190     ff87  
    2274 000101a0     c508          jrge    hjpdok
    2275                    
    2276                    ;This blocked fling attempt is too close (in terms of time) to most recent grab
    2277 000101b0     b5a1          move    *a13(ANIMODE),a1
         000101c0     0660  
    2278 000101d0     0ba1          ori     MODE_STATUS2,a1
         000101e0 00000200  
    2279 00010200     b02d          move    a1,*a13(ANIMODE)
         00010210     0660  
    2280 00010220     0960          rets
    2281                    
    2282 00010230     b5a1  hjpdok  move    *a13(ANIMODE),a1
         00010240     0660  
    2283 00010250     0b81          andni   MODE_STATUS2,a1
         00010260 00000200  
    2284 00010280     b02d          move    a1,*a13(ANIMODE)
         00010290     0660  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   45

    2285 000102a0     0960          rets
    2286                    
    2287                    *****************************************************************************
    2288                    *
    2289                    * EAR SLAP
    2290                    
    2291                    
    2292 000102b0            SUBR   dnk_2_earslap_anim
    2293 000102b0            SUBR   dnk_4_earslap_anim
    2294                    
    2295 000102b0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2296 000102d0     8003          .word   ANI_ZEROVELS
    2297 000102e0     8026          .word   ANI_SETSPEED,100h
    2298                    
    2299 00010300     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2300 00010310     805f          .word   ANI_SET_WRESTLER_XFLIP
    2301                    
    2302 00010320     8062          .word   ANI_SET_RPTCOUNT,4      ;3 times
    2303 00010340     8061          .word   ANI_CLR_BUTCOUNT
    2304                    
    2305 00010350     8075          .word   ANI_STARTATTACK,AT_LEAPING,14
    2306 00010380                   WL      2,D3ES3A+FR1
    2307                    
    2308 000103b0                   LEAPATOPP 0dh,999,58h,80,90000h,TGT_HEAD,106,105,-30
    2309                    
    2310 00010460                   WL      3,D3ES3A+FR2
    2311 00010490                   WL      5,D3ES3A+FR3
    2312 000104c0                   WL      3,D3ES3A+FR4
    2313 000104f0                   WL      3,D3ES3A+FR5
    2314                    
    2315 00010520     8028          .word   ANI_ZERO_XZVELS
    2316                    
    2317 00010530     8006          .word   ANI_ATTACK_ON, AMODE_EARSLAP,70,74,60,42        ;mode,x,y,w,h
    2318 00010590     801a          .word   ANI_SOUND,43h
    2319 000105b0     801f          .word   ANI_SHAKER,22
    2320 000105d0                   WL      3,D3ES3A+FR6
    2321                    
    2322 00010600     8007          .word   ANI_ATTACK_OFF
    2323                    
    2324 00010610     8074          .WORD   ANI_ADD_MOVE,MOVE_C_8,2,2
    2325 00010650                   WL      ANI_IFBLOCKED,vktscontz
    2326 00010680                   WL      ANI_IFSTATUS2,vktsgothim
    2327                    
    2328 000106b0           vktscont
    2329 000106b0                   WL      10,D3ES3A+FR6
    2330 000106e0                   WL      ANI_GOTO,vktsno_hit2
    2331 00010710           vktscontz
    2332 00010710                   WL      ANI_CODE,CALL_SPECIAL_MOVE
    2333 00010740     800b          .word   ANI_WAITHITGND
    2334 00010750     8003          .word   ANI_ZEROVELS
    2335 00010760                   WL      ANI_GOTO,vktsno_hitz
    2336 00010790           vktsgothim
    2337 00010790     807a          .word   ANI_DRAW_NAME,22
    2338 000107b0     8042          .word   ANI_DAMAGEOPP,D_EARSLAP1,RD_EARSLAP1
    2339 000107e0                   WL      ANI_CODE,CALL_SPECIAL_MOVE
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   46

    2340                    
    2341 00010810     800b          .word   ANI_WAITHITGND
    2342 00010820     8003          .word   ANI_ZEROVELS
    2343                    
    2344 00010830     805e          .word   ANI_DEBRIS,100,4,120,100,0      ;%chance, tbl index, x,y,z off
    2345 00010890           vktsno_hitz
    2346 00010890                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,2,vktsfail
    2347 000108e0     8063          .word   ANI_DEC_RPTCOUNT
    2348 000108f0                   WL      ANI_IF_RPTCOUNT,vktsdnk_quick_earslap
    2349 00010920           vktsfail
    2350                    
    2351 00010920                   WWL     ANI_SLIDE_BACK,30h,-70000h,vktsno_hit3
    2352                    
    2353 00010980                   WL      ANI_SET_YVEL,40000h
    2354 000109b0                   WL      10,D3ES3A+FR6
    2355 000109e0           vktsno_hit3
    2356 000109e0                   WL      ANI_CODE,CALL_MISSES
    2357 00010a10                   WL      8,D3ES3A+FR6
    2358 00010a40                   WL      3,D3ES3A+FR5
    2359 00010a70                   WL      3,D3ES3A+FR4
    2360 00010aa0                   WL      3,D3ES3A+FR3
    2361 00010ad0                   WL      3,D3ES3A+FR2
    2362 00010b00                   WL      3,D3ES3A+FR1
    2363                    
    2364 00010b30     8022          .word   ANI_FACEDOWN
    2365 00010b40     8002          .word   ANI_SETMODE,MODE_NORMAL
    2366 00010b60     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2367 00010b80     8049          .word   ANI_END
    2368                    
    2369 00010b90           vktsdnk_quick_earslap
    2370 00010b90     8061          .word   ANI_CLR_BUTCOUNT
    2371 00010ba0     8075          .word   ANI_STARTATTACK,AT_EARSLAP1,14
    2372 00010bd0                   WL      2,D3ES3A+FR5
    2373 00010c00                   WL      2,D3ES3A+FR4
    2374 00010c30                   WL      2,D3ES3A+FR3
    2375 00010c60                   WL      2,D3ES3A+FR2
    2376 00010c90                   WL      2,D3ES3A+FR3
    2377 00010cc0                   WL      2,D3ES3A+FR4
    2378 00010cf0                   WL      2,D3ES3A+FR5
    2379                    
    2380 00010d20     8006          .word   ANI_ATTACK_ON, AMODE_EARSLAP,70,74,60,42        ;mode,x,y,w,h
    2381 00010d80     801f          .word   ANI_SHAKER,22
    2382 00010da0                   WL      3,D3ES3A+FR6
    2383 00010dd0     8007          .word   ANI_ATTACK_OFF
    2384 00010de0                   WL      ANI_IFBLOCKED,vktscont
    2385                    
    2386 00010e10     8074          .WORD   ANI_ADD_MOVE,MOVE_C_8,2,2
    2387 00010e50                   WWWL    ANI_IF_BUTCOUNT_LT,PUNCHB_COUNT,2,vktsfail2
    2388 00010ea0     8063          .word   ANI_DEC_RPTCOUNT
    2389 00010eb0                   WL      ANI_IF_RPTCOUNT,vktsdnk_quick_earslap
    2390 00010ee0           vktsfail2
    2391                    
    2392                    ;       .word   ANI_ATTACK_ON, AMODE_BACKHAND,90,74,40,42       ;mode,x,y,w,h
    2393 00010ee0     8006          .word   ANI_ATTACK_ON, AMODE_HDBUTT,70,74,60,42 ;mode,x,y,w,h
    2394                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   47

    2395 00010f40     801f          .word   ANI_SHAKER,22
    2396 00010f60                   WL      3,D3ES3A+FR6
    2397 00010f90     8007          .word   ANI_ATTACK_OFF
    2398                    
    2399 00010fa0                   WL      ANI_CODE,vktsset_opp_y
    2400                    
    2401                    ;Stay in this buzz sequence longer if player keeps whacking on his punch button!
    2402                    
    2403                    ;       WL      ANI_SLAVEANIM,vktsdrift_tbl
    2404                    ;       .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP
    2405                    ;
    2406                    ;       .word   ANI_DETACH
    2407                    
    2408 00010fd0                   WWL     ANI_SLIDE_BACK,30h,-70000h,vktsno_hitx
    2409                    
    2410 00011030                   WL      ANI_SET_YVEL,40000h
    2411 00011060                   WL      10,D3ES3A+FR6
    2412 00011090           vktsno_hitx
    2413 00011090                   WL      15-8,D3ES3A+FR6
    2414                    
    2415 000110c0           vktsno_hit2
    2416 000110c0                   WL      8,D3ES3A+FR6
    2417 000110f0                   WL      3,D3ES3A+FR5
    2418 00011120                   WL      3,D3ES3A+FR4
    2419 00011150                   WL      3,D3ES3A+FR3
    2420 00011180                   WL      3,D3ES3A+FR2
    2421 000111b0                   WL      3,D3ES3A+FR1
    2422                    
    2423 000111e0     8022          .word   ANI_FACEDOWN
    2424 000111f0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2425 00011210     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2426 00011230     8049          .word   ANI_END
    2427                    
    2428 00011240           vktsset_opp_y
    2429 00011240     b7a0          move    *a13(WHOIHIT),a0,L
         00011250     0500  
    2430 00011260     09ee          movi    [4,0],a14
         00011270 00040000  
    2431 00011290     b3c0          move    a14,*a0(OBJ_YVEL),L
         000112a0     02f0  
    2432 000112b0     0960          rets
    2433                    
    2434 000112c0            SUBR   dnk_4_combo_earslap_anim
    2435                    
    2436 000112c0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    2437 000112e0     8003          .word   ANI_ZEROVELS
    2438 000112f0     8026          .word   ANI_SETSPEED,100h
    2439                    
    2440 00011310     8062          .word   ANI_SET_RPTCOUNT,4      ;2 times
    2441                    
    2442                    ;       .word   ANI_STARTATTACK,AT_EARSLAP1,17
    2443                    
    2444 00011330                   WL      3,D3ES3A+FR1
    2445                    
    2446 00011360                   LEAPATOPP 0dh,999,50h,80,90000h,TGT_HEAD,106,105,-30
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   48

    2447                    
    2448 00011410                   WL      3,D3ES3A+FR2
    2449                    
    2450 00011440                   WL      5,D3ES3A+FR3
    2451 00011470                   WL      3,D3ES3A+FR4
    2452 000114a0                   WL      3,D3ES3A+FR5
    2453                    
    2454 000114d0     8028          .word   ANI_ZERO_XZVELS
    2455                    
    2456 000114e0     8006          .word   ANI_ATTACK_ON, AMODE_EARSLAP,70,74,60,42        ;mode,x,y,w,h
    2457 00011540     801a          .word   ANI_SOUND,43h
    2458 00011560     801f          .word   ANI_SHAKER,22
    2459 00011580                   WL      12,D3ES3A+FR6
    2460                    
    2461 000115b0     8007          .word   ANI_ATTACK_OFF
    2462                    
    2463 000115c0                   WL      ANI_IFSTATUS2,vktsgothimc
    2464 000115f0                   WL      12,D3ES3A+FR6
    2465 00011620                   WL      ANI_GOTO,vktsno_hit2c
    2466                    
    2467 00011650           vktsgothimc
    2468 00011650     8072          .WORD   ANI_INC_COMBO
    2469 00011660     8042          .word   ANI_DAMAGEOPP,D_EARSLAP2,RD_EARSLAP2
    2470                    
    2471 00011690     800b          .word   ANI_WAITHITGND
    2472 000116a0     8003          .word   ANI_ZEROVELS
    2473                    
    2474 000116b0     8061          .word   ANI_CLR_BUTCOUNT
    2475                    
    2476 000116c0           vktsdnk_quick_combo_earslap
    2477                    ;       .word   ANI_STARTATTACK,AT_EARSLAP1,10
    2478 000116c0                   WL      1,D3ES3A+FR5
    2479 000116f0                   WL      2,D3ES3A+FR4
    2480 00011720                   WL      1,D3ES3A+FR3
    2481 00011750                   WL      2,D3ES3A+FR2
    2482 00011780                   WL      1,D3ES3A+FR3
    2483 000117b0                   WL      2,D3ES3A+FR4
    2484 000117e0                   WL      1,D3ES3A+FR5
    2485                    
    2486 00011810     8006          .word   ANI_ATTACK_ON, AMODE_EARSLAP,70,74,60,42        ;mode,x,y,w,h
    2487 00011870     801f          .word   ANI_SHAKER,22
    2488 00011890                   WL      3,D3ES3A+FR6
    2489 000118c0     8007          .word   ANI_ATTACK_OFF
    2490                    
    2491 000118d0                   WL      ANI_IFNOTSTATUS2,vktsno_hit2c
    2492 00011900     8072          .WORD   ANI_INC_COMBO
    2493                    
    2494 00011910     8063          .word   ANI_DEC_RPTCOUNT
    2495 00011920                   WL      ANI_IF_RPTCOUNT,vktsdnk_quick_combo_earslap
    2496                    
    2497 00011950                   WL      3,D3ES3A+FR6
    2498 00011980                   WL      3,D3ES3A+FR5
    2499 000119b0                   WL      3,D3ES3A+FR4
    2500                    
    2501 000119e0                   WWWL    ANI_IF_BUTCOUNT_LT,KICKB_COUNT,1,vktsNEXT_CHECK
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   49

    2502                    
    2503 00011a30     806c          .word   ANI_IMMOBILIZE,30
    2504 00011a50                   WLW     ANI_SET_XVEL,10000h,AM_FACE_REL
    2505 00011a90                   WL      ANI_CHANGEANIM,dnk_combo_buzz2_anim
    2506                    
    2507 00011ac0           vktsNEXT_CHECK
    2508 00011ac0                   WWWL    ANI_IF_BUTCOUNT_LT,SPUNCHB_COUNT,1,vktsNEXT_CHEK2
    2509                    
    2510 00011b10                   WL      3,D3ES3A+FR3
    2511 00011b40                   WL      3,D3ES3A+FR2
    2512 00011b70                   WL      3,D3ES3A+FR1
    2513                    
    2514 00011ba0                   WLW     ANI_SET_XVEL,10000h,AM_FACE_REL
    2515 00011be0                   WL      ANI_CHANGEANIM,dnk_combo_flying_kick_anim
    2516 00011c10           vktsNEXT_CHEK2
    2517 00011c10                   WWWL    ANI_IF_BUTCOUNT_LT,SKICKB_COUNT,1,vktsmissed
    2518                    
    2519 00011c60                   WLW     ANI_SET_XVEL,50000h,AM_FACE_REL
    2520                    
    2521 00011ca0                   WL      3,D3ES3A+FR3
    2522 00011cd0                   WL      3,D3ES3A+FR2
    2523 00011d00                   WL      3,D3ES3A+FR1
    2524                    
    2525 00011d30                   WL      ANI_CHANGEANIM,dnk_combo_head_slam_anim
    2526                    
    2527 00011d60           vktsmissed
    2528 00011d60                   WL      ANI_CODE,DO_COMBO_MESS
    2529 00011d90     8073          .WORD   ANI_CLEAR_COMBO
    2530 00011da0     8022          .word   ANI_FACEDOWN
    2531 00011db0     8002          .word   ANI_SETMODE,MODE_NORMAL
    2532 00011dd0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2533 00011df0     8049          .word   ANI_END
    2534                    
    2535 00011e00           vktsno_hit2c
    2536 00011e00                   WL      ANI_CODE,DO_COMBO_MESS
    2537 00011e30     8073          .WORD   ANI_CLEAR_COMBO
    2538 00011e40                   WL      8,D3ES3A+FR6
    2539 00011e70                   WL      3,D3ES3A+FR5
    2540 00011ea0                   WL      3,D3ES3A+FR4
    2541 00011ed0                   WL      3,D3ES3A+FR3
    2542 00011f00                   WL      3,D3ES3A+FR2
    2543 00011f30                   WL      3,D3ES3A+FR1
    2544                    
    2545 00011f60     8022          .word   ANI_FACEDOWN
    2546 00011f70     8002          .word   ANI_SETMODE,MODE_NORMAL
    2547 00011f90     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    2548 00011fb0     8049          .word   ANI_END
    2549                    
    2550                            
    2551                    *******************************
    2552                    * Smoke trail (Process)
    2553                    * A10=*wrestler proc
    2554                    
    2555 00011fc0            SUBR   body_smoke
    2556                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   50

    2557 00011fc0     576b          clr     a11
    2558 00011fd0           cifqlp  CREATE0 smokepuff
    2559 00012040                   SLEEPK  1
    2560 00012080     102b          inc     a11
    2561 00012090     0b4b          cmpi    17,a11
         000120a0     ffee  
    2562 000120b0     c4f1          jrlt    cifqlp
    2563                    
    2564 000120c0                   DIE
    2565                    
    2566                    
    2567                    *******************************
    2568                    * Smoke trail puff (Process)
    2569                    * A10=*wrestler proc
    2570                    
    2571 000120f0            SUBRP  smokepuff
    2572                    
    2573 000120f0     b543          move    *a10(OBJ_ZPOSINT),a3
         00012100     0150  
    2574 00012110     1860          movk    3,a0
    2575 00012120     0d5f          calla   RNDRNG0
         00012130 00000000! 
    2576 00012150     1440          subk    2,a0
    2577 00012160     4003          add     a0,a3                   ;-2 to 1
    2578 00012170     1203          addk    16,a3
    2579 00012180     0ba3          ori     1000h,a3
         00012190 00001000  
    2580                    
    2581 000121b0     1860          movk    3,a0
    2582 000121c0     0d5f          calla   RNDRNG0
         000121d0 00000000! 
    2583 000121f0     24a0          sll     5,a0                    ;*32
    2584 00012200     0b20          addi    smoke_t,a0
         00012210 00012800' 
    2585 00012230     8609          move    *a0,a9,L
    2586                    
    2587 00012240     09e6          movi    [1,8000h],a6
         00012250 00018000  
    2588 00012270     09e7          movi    [-2,0],a7
         00012280 fffe0000  
    2589                    
    2590 000122a0     4d6e          move    a11,a14
    2591 000122b0     248e          sll     4,a14
    2592 000122c0     0b2e          addi    adztx_tbl,a14
         000122d0 000125e0' 
    2593 000122f0     85c1          move    *a14,a1
    2594                    
    2595 00012300     b540          move    *a10(OBJ_XPOSINT),a0
         00012310     0110  
    2596                    
    2597 00012320     b54e          move    *a10(OBJ_CONTROL),a14
         00012330     0780  
    2598 00012340     1f6e          btst    B_FLIPH,a14
    2599 00012350     ca02          jrz     adztno_flip
    2600 00012360     03a6          neg     a6
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   51

    2601 00012370     03a1          neg     a1
    2602 00012380           adztno_flip
    2603 00012380     4020          add     a1,a0
    2604 00012390     2600          sll     16,a0                   ;X
    2605                    
    2606 000123a0     4d6e          move    a11,a14
    2607 000123b0     248e          sll     4,a14
    2608 000123c0     0b2e          addi    adzty_tbl,a14
         000123d0 000126f0' 
    2609 000123f0     85ce          move    *a14,a14
    2610                    
    2611 00012400     09c2          movi    Y_SCALE_MULTIPLIER,a2
         00012410     3566  
    2612 00012420     b541          move    *a10(OBJ_ZPOSINT),a1
         00012430     0150  
    2613 00012440     5e41          mpyu    a2,a1
    2614 00012450     b542          move    *a10(OBJ_YPOSINT),a2
         00012460     0130  
    2615 00012470     45c2          sub     a14,a2
    2616 00012480     0b02          addi    0h,a2
         00012490     0000  
    2617 000124a0     2602          sll     16,a2
    2618 000124b0     4441          sub     a2,a1
    2619                    
    2620 000124c0     09e2          movi    CLDB1ORNG,a2
         000124d0 00000000! 
    2621 000124f0     09e4          movi    DMAWNZ|M_3D|M_NOCOLL,a4
         00012500 00008902  
    2622 00012520     09c5          movi    CLSDEAD,a5
         00012530     2000  
    2623                    
    2624 00012540     0d5f          calla   BEGINOBJ
         00012550 00000000! 
    2625                    
    2626 00012570                   SLEEPK  3
    2627                    
    2628 000125b0     c080          jauc    FRQDELDIE
         000125c0 00000000! 
    2629                    
    2630 000125e0     fff2  adztx_tbl       .word   -14,-3,10,25,30,31,30,39,26,-3,17,32,53,54,41,32,45
    2631 000126f0     fff2  adzty_tbl       .word   -14,-33,-51,-59,-39,-20,-2,-67,-75,-76,-84,-77,-57,-81
    2632 000127d0     ffaa          .word   -86,-98,-108
    2633                    
    2634                            .def    smoke_t
    2635 00012800           smoke_t
    2636 00012800 00012880'         .long   cldbw_l,cldblg_l,cldbgry_l,cldblg2_l
    2637                    
    2638 00012880           cldbw_l
    2639 00012880                   LW      CLDB2,3
    2640 000128b0                   LWL     CLDB3,NEWPALET|3,ORNGPAL
    2641 00012900                   LW      CLDB4,2
    2642 00012930                   LWL     CLD5,NEWPALET|2,WHTPAL
    2643 00012980                   LW      CLD6,2
    2644 000129b0                   LW      CLD7,2
    2645 000129e0                   LW      CLD8,2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   52

    2646 00012a10                   LW      CLD9,2
    2647 00012a40                   LWL0    CLD10,2
    2648 00012a90           cldblg_l
    2649 00012a90                   LW      CLDB2,2
    2650 00012ac0                   LWL     CLDB3,NEWPALET|3,ORNGPAL
    2651 00012b10                   LW      CLDB4,2
    2652 00012b40                   LWL     CLD5,NEWPALET|2,LGRYPAL
    2653 00012b90                   LW      CLD6,2
    2654 00012bc0                   LW      CLD7,2
    2655 00012bf0                   LW      CLD8,2
    2656 00012c20                   LW      CLD9,2
    2657 00012c50                   LWL0    CLD10,2
    2658 00012ca0           cldbgry_l
    2659 00012ca0                   LW      CLDB2,3
    2660 00012cd0                   LWL     CLDB3,NEWPALET|2,ORNGPAL
    2661 00012d20                   LW      CLDB4,2
    2662 00012d50                   LWL     CLD5,NEWPALET|2,GREYPAL
    2663 00012da0                   LW      CLD6,2
    2664 00012dd0                   LW      CLD7,2
    2665 00012e00                   LW      CLD8,2
    2666 00012e30                   LW      CLD9,2
    2667 00012e60                   LWL0    CLD10,2
    2668 00012eb0           cldblg2_l
    2669 00012eb0                   LW      CLDB2,2
    2670 00012ee0                   LWL     CLDB3,NEWPALET|2,ORNGPAL
    2671 00012f30                   LWL     CLDB4,NEWPALET|2,LGRYPAL
    2672 00012f80                   LW      CLD5,2
    2673 00012fb0                   LW      CLD6,2
    2674 00012fe0                   LW      CLD7,2
    2675 00013010                   LW      CLD8,2
    2676 00013040                   LW      CLD9,2
    2677 00013070                   LWL0    CLD10,2
    2678                    
    2679                    *******************************
    2680                    * Start sparks in AMODE
    2681                    * A10=*wrestler proc
    2682                    
    2683 000130c0            SUBRP  hand_sparks
    2684                    
    2685 000130c0     09cb          movi    11,a11          ;13
         000130d0     000b  
    2686 000130e0           cjyolp  CREATE0 one_spark
    2687 00013150                   CREATE0 one_spark
    2688 000131c0                   SLEEPK  3
    2689 00013200     3e6b          dsj     a11,cjyolp
    2690 00013210                   DIE
    2691                    
    2692              4000  GRAV            equ     04000h  ;9000h  ;a000h  ;6000h
    2693                    
    2694                    ********************************
    2695                    * Spark from hand buzzer (Process)
    2696                    * A10=*wrestler proc
    2697                    
    2698 00013240            SUBR   one_spark
    2699                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   53

    2700 00013240     1940          movk    0aH,a0
    2701 00013250     0d5f          calla   RNDRNG0
         00013260 00000000! 
    2702 00013280     14a0          subk    5,a0
    2703 00013290     25c0          sll     14,a0                   ;XVel
    2704 000132a0     4c06          move    a0,a6
    2705                    
    2706 000132b0     1860          movk    03H,a0
    2707 000132c0     0d5f          calla   RNDRNG0
         000132d0 00000000! 
    2708 000132f0     1020          addk    1,a0
    2709 00013300     2600          sll     16,a0                   ;YVel
    2710 00013310     03a0          neg     a0
    2711 00013320     4c07          move    a0,a7
    2712                    
    2713 00013330     b543          move    *a10(OBJ_ZPOSINT),a3
         00013340     0150  
    2714 00013350     1860          movk    3,a0
    2715 00013360     0d5f          calla   RNDRNG0
         00013370 00000000! 
    2716 00013390     1440          subk    2,a0
    2717 000133a0     4003          add     a0,a3                   ;-2 to 1
    2718 000133b0     1203          addk    16,a3
    2719 000133c0     0ba3          ori     1000h,a3
         000133d0 00001000  
    2720                    
    2721 000133f0     09c1          movi    40h,a1
         00013400     0040  
    2722 00013410     b540          move    *a10(OBJ_XPOSINT),a0
         00013420     0110  
    2723 00013430     b54e          move    *a10(OBJ_CONTROL),a14
         00013440     0780  
    2724 00013450     1f6e          btst    B_FLIPH,a14
    2725 00013460     ca01          jrz     zdxsno_flip
    2726 00013470     03a1          neg     a1
    2727 00013480           zdxsno_flip
    2728 00013480     4020          add     a1,a0
    2729 00013490     2600          sll     16,a0
    2730                    
    2731 000134a0     09ce          movi    Y_SCALE_MULTIPLIER,a14
         000134b0     3566  
    2732 000134c0     b541          move    *a10(OBJ_ZPOSINT),a1
         000134d0     0150  
    2733 000134e0     5fc1          mpyu    a14,a1
    2734 000134f0     b54e          move    *a10(OBJ_YPOSINT),a14
         00013500     0130  
    2735 00013510     0b0e          addi    52h,a14
         00013520     0052  
    2736 00013530     260e          sll     16,a14
    2737 00013540     45c1          sub     a14,a1
    2738                    
    2739 00013550     09e2          movi    SPARK1,a2
         00013560 00000000! 
    2740 00013580     09e4          movi    DMAWNZ|M_3D|M_NOCOLL,a4
         00013590 00008902  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   54

    2741 000135b0     09c5          movi    CLSDEAD,a5
         000135c0     2000  
    2742 000135d0     0d5f          calla   BEGINOBJ
         000135e0 00000000! 
    2743                    
    2744 00013600     19e0          movk    0fH,a0
    2745 00013610     0d5f          calla   RNDRNG0
         00013620 00000000! 
    2746 00013640     14e0          subk    7,a0
    2747 00013650     25c0          sll     14,a0
    2748 00013660     b208          move    a0,*a8(OZVEL),L
         00013670     0060  
    2749                    
    2750 00013680     09e9          movi    spark_l,a9
         00013690 000138d0' 
    2751                    
    2752 000136b0     186b          movk    3,a11
    2753 000136c0     c001          jruc    zdxsstrt
    2754                    
    2755 000136d0     392a  zdxslp  dsj     a10,zdxsnoani
    2756 000136e0           zdxsstrt
    2757 000136e0     4d6a          move    a11,a10
    2758 000136f0     8720          move    *a9,a0,L
    2759 00013700     ca12          jrz     zdxsdie                 ;noani
    2760 00013710     1009          addk    32,a9
    2761                    
    2762 00013720     b501          move    *a8(OCTRL),a1
         00013730     00f0  
    2763 00013740     0d5f          calla   obj_aniq
         00013750 00000000! 
    2764 00013770           zdxsnoani
    2765 00013770                   SLEEPK  3
    2766 000137b0     b702          move    *a8(OYVEL),a2,L
         000137c0     0040  
    2767 000137d0     0b22          addi    GRAV*2,a2
         000137e0 00008000  
    2768 00013800     b248          move    a2,*a8(OYVEL),L
         00013810     0040  
    2769 00013820     c0ea          jruc    zdxslp                  ;Going up?
    2770                    
    2771 00013830           zdxsdie
    2772 00013830     5600          clr     a0
    2773 00013840     b208          move    a0,*a8(OXVEL),L
         00013850     0020  
    2774 00013860     b208          move    a0,*a8(OYVEL),L
         00013870     0040  
    2775 00013880     b208          move    a0,*a8(OZVEL),L
         00013890     0060  
    2776                    
    2777 000138a0     c080          jauc    DELOBJDIE
         000138b0 00000000! 
    2778                    
    2779                    
    2780 000138d0           spark_l
    2781 000138d0 00000000!         .long   SPARK2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   55

    2782 000138f0 00000000!         .long   SPARK2
    2783 00013910 00000000!         .long   SPARK2
    2784 00013930 00000000!         .long   SPARK2
    2785 00013950 00000000!         .long   SPARK2
    2786 00013970 00000000!         .long   SPARK3
    2787 00013990 00000000!         .long   SPARK3
    2788 000139b0 00000000!         .long   SPARK3
    2789 000139d0 00000000          .long   0
    2790                    
    2791                    *******************************
    2792                    * Start sparks in AMODE
    2793                    * A10=*wrestler proc
    2794                    
    2795 000139f0           clobber_sparks
    2796                    
    2797 000139f0     190b          movk    8,a11           ;13
    2798 00013a00           hrrzlp  CREATE0 clb_spark
    2799 00013a70                   CREATE0 clb_spark
    2800 00013ae0                   SLEEPK  1
    2801 00013b20     3e6b          dsj     a11,hrrzlp
    2802 00013b30                   DIE
    2803                    
    2804              4000  GRAV            equ     04000h  ;9000h  ;a000h  ;6000h
    2805                    
    2806                    ********************************
    2807                    * Spark from hand buzzer (Process)
    2808                    * A10=*wrestler proc
    2809                    
    2810 00013b60           clb_spark
    2811                    
    2812 00013b60     1bc0          movk    30,a0
    2813 00013b70     0d5f          calla   RNDRNG0
         00013b80 00000000! 
    2814 00013ba0     15e0          subk    15,a0
    2815 00013bb0     25c0          sll     14,a0                   ;XVel
    2816 00013bc0     4c06          move    a0,a6
    2817 00013bd0     b740          move    *a10(OBJ_XVEL),a0,L
         00013be0     02d0  
    2818 00013bf0     2be0          sra     1,a0
    2819 00013c00     4006          add     a0,a6
    2820                    
    2821 00013c10     18a0          movk    05H,a0
    2822 00013c20     0d5f          calla   RNDRNG0
         00013c30 00000000! 
    2823 00013c50     1040          addk    2,a0
    2824 00013c60     2600          sll     16,a0                   ;YVel
    2825 00013c70     03a0          neg     a0
    2826 00013c80     4c07          move    a0,a7
    2827                    
    2828 00013c90     b543          move    *a10(OBJ_ZPOSINT),a3
         00013ca0     0150  
    2829 00013cb0     1860          movk    3,a0
    2830 00013cc0     0d5f          calla   RNDRNG0
         00013cd0 00000000! 
    2831 00013cf0     1440          subk    2,a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   56

    2832 00013d00     4003          add     a0,a3                   ;-2 to 1
    2833 00013d10     1203          addk    16,a3
    2834 00013d20     0ba3          ori     1000h,a3
         00013d30 00001000  
    2835                    
    2836 00013d50     09c1          movi    0h,a1
         00013d60     0000  
    2837 00013d70     b540          move    *a10(OBJ_XPOSINT),a0
         00013d80     0110  
    2838 00013d90     b54e          move    *a10(OBJ_CONTROL),a14
         00013da0     0780  
    2839 00013db0     1f6e          btst    B_FLIPH,a14
    2840 00013dc0     ca01          jrz     okjxno_flip
    2841 00013dd0     03a1          neg     a1
    2842 00013de0           okjxno_flip
    2843 00013de0     4020          add     a1,a0
    2844 00013df0     2600          sll     16,a0
    2845                    
    2846 00013e00     09ce          movi    Y_SCALE_MULTIPLIER,a14
         00013e10     3566  
    2847 00013e20     b541          move    *a10(OBJ_ZPOSINT),a1
         00013e30     0150  
    2848 00013e40     5fc1          mpyu    a14,a1
    2849 00013e50     b54e          move    *a10(OBJ_YPOSINT),a14
         00013e60     0130  
    2850 00013e70     0b0e          addi    52h,a14
         00013e80     0052  
    2851 00013e90     260e          sll     16,a14
    2852 00013ea0     45c1          sub     a14,a1
    2853                    
    2854 00013eb0     09e2          movi    SPARK1,a2
         00013ec0 00000000! 
    2855 00013ee0     09e4          movi    DMAWNZ|M_3D|M_NOCOLL,a4
         00013ef0 00008902  
    2856 00013f10     09c5          movi    CLSDEAD,a5
         00013f20     2000  
    2857 00013f30     0d5f          calla   BEGINOBJ
         00013f40 00000000! 
    2858                    
    2859 00013f60     19e0          movk    0fH,a0
    2860 00013f70     0d5f          calla   RNDRNG0
         00013f80 00000000! 
    2861 00013fa0     14e0          subk    7,a0
    2862 00013fb0     25c0          sll     14,a0
    2863 00013fc0     b208          move    a0,*a8(OZVEL),L
         00013fd0     0060  
    2864                    
    2865 00013fe0     09e9          movi    spark_l,a9
         00013ff0 000138d0' 
    2866                    
    2867 00014010     186b          movk    3,a11
    2868 00014020     c001          jruc    okjxstrt
    2869                    
    2870 00014030     392a  okjxlp  dsj     a10,okjxnoani
    2871 00014040           okjxstrt
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   57

    2872 00014040     4d6a          move    a11,a10
    2873 00014050     8720          move    *a9,a0,L
    2874 00014060     ca12          jrz     okjxdie                 ;noani
    2875 00014070     1009          addk    32,a9
    2876                    
    2877 00014080     b501          move    *a8(OCTRL),a1
         00014090     00f0  
    2878 000140a0     0d5f          calla   obj_aniq
         000140b0 00000000! 
    2879 000140d0           okjxnoani
    2880 000140d0                   SLEEPK  3
    2881 00014110     b702          move    *a8(OYVEL),a2,L
         00014120     0040  
    2882 00014130     0b22          addi    GRAV*4,a2
         00014140 00010000  
    2883 00014160     b248          move    a2,*a8(OYVEL),L
         00014170     0040  
    2884 00014180     c0ea          jruc    okjxlp                  ;Going up?
    2885                    
    2886 00014190           okjxdie
    2887 00014190     5600          clr     a0
    2888 000141a0     b208          move    a0,*a8(OXVEL),L
         000141b0     0020  
    2889 000141c0     b208          move    a0,*a8(OYVEL),L
         000141d0     0040  
    2890 000141e0     b208          move    a0,*a8(OZVEL),L
         000141f0     0060  
    2891                    
    2892 00014200     c080          jauc    DELOBJDIE
         00014210 00000000! 
    2893                    
    2894                    *****************************************************************************
    2895                    *
    2896                    * ROLL OVER AND BREAK YER STINKIN' NECK
    2897                    
    2898 00014230            SUBR   dnk_break_neck2_anim
    2899                    
    2900 00014230     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    2901                    
    2902                    ;Maybe put this z float in other neck2_anim seqs.
    2903                    ;FIX!
    2904 00014250                   WL      ANI_CODE,ckzpos
    2905                    
    2906 00014280                   WLW     ANI_SET_XVEL,-20000h,AM_HIT_REL
    2907 000142c0                   WL      ANI_SET_YVEL,60000h
    2908 000142f0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2909 00014300                   WL      15,D3FD3E+FR4
    2910 00014330                   WL      3,D3FD3E+FR5
    2911 00014360                   WL      3,D3FD3E+FR6
    2912 00014390                   WL      3,D3FD3E+FR7
    2913 000143c0                   WL      3,D3FD3E+FR8
    2914 000143f0     800b          .word   ANI_WAITHITGND
    2915 00014400                   WL      4,D3FD3E+FR9
    2916                    
    2917                    ;hit.  stay.
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   58

    2918 00014430                   WL      ANI_CODE,SMALL_BOUNCE
    2919                    ;Fix!!!???
    2920                    ;Based on flip, this offset is fucked up!
    2921 00014460     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2922                    ;       .word   ANI_OFFSET,-20,-3,0
    2923 00014470     8003          .word   ANI_ZEROVELS
    2924                    
    2925 00014480     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND   ;So we can stomp him!
    2926 000144a0                   WL      20,D3RC3A+FR9
    2927 000144d0     8054          .word   ANI_WAITROLL
    2928                    
    2929 000144e0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    2930                    ;       .word   ANI_END
    2931                    
    2932 00014510            SUBR   dnk_break_neck3_anim
    2933                    
    2934 00014510     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    2935                    
    2936 00014530                   WLW     ANI_SET_XVEL,-20000h,AM_HIT_REL
    2937 00014570                   WL      ANI_SET_YVEL,58000h
    2938 000145a0                   WLW     ANI_SET_ZVEL,18000h,AM_ABS
    2939                    
    2940 000145e0                   WL      ANI_CODE,ckzpos
    2941                    
    2942 00014610                   WL      15,D4POGO+FR4
    2943 00014640     800b          .word   ANI_WAITHITGND
    2944 00014650                   WL      ANI_CODE,HIT_THE_MAT
    2945                    
    2946 00014680     800c          .word   ANI_XFLIP
    2947 00014690     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    2948                    
    2949 000146a0                   WL      3,D3FD3E+FR6
    2950 000146d0                   WL      3,D3FD3E+FR7
    2951 00014700                   WL      3,D3FD3E+FR8
    2952 00014730     800b          .word   ANI_WAITHITGND
    2953 00014740                   WL      4,D3FD3E+FR9
    2954                    
    2955                    ;hit.  stay.
    2956 00014770                   WL      ANI_CODE,SMALL_BOUNCE
    2957                    ;Fix!!!???
    2958                    ;Based on flip, this offset is fucked up!
    2959 000147a0     8015          .word   ANI_OFFSET,-20,-3,0
    2960 000147e0     8003          .word   ANI_ZEROVELS
    2961                    
    2962 000147f0     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND   ;So we can stomp him!
    2963 00014810                   WL      10,D3RC3A+FR9
    2964 00014840     8054          .word   ANI_WAITROLL
    2965                    
    2966 00014850                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    2967                    ;       .word   ANI_END
    2968                    
    2969 00014880            SUBR   dnk_break_neck_anim
    2970                    
    2971 00014880     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    2972 000148a0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   59

    2973 000148b0     8003          .word   ANI_ZEROVELS
    2974                    
    2975 000148c0                   WWWL    ANI_IFROPE,RC_FRONT,100,tpmrfall_back
    2976                    
    2977                            ;plenty o' room.  roll over
    2978 00014910                   WL      4,D3FD3E+FR4
    2979 00014940     8015          .word   ANI_OFFSET,-7,0,0
    2980 00014980                   WL      4,D3FD3E+FR5
    2981 000149b0     8015          .word   ANI_OFFSET,-5,0,0
    2982 000149f0                   WL      4,D3FD3E+FR6
    2983 00014a20     8015          .word   ANI_OFFSET,-2,0,0
    2984 00014a60                   WL      4,D3FD3E+FR7
    2985 00014a90     8015          .word   ANI_OFFSET,-3,0,0
    2986 00014ad0                   WL      4,D3FD3E+FR8
    2987 00014b00     8015          .word   ANI_OFFSET,-22,0,0
    2988                    ;       WL      4,D3FD3E+FR9
    2989 00014b40     8015          .word   ANI_OFFSET,-25,0,0
    2990                    
    2991                            ;impact
    2992 00014b80                   WL      ANI_CODE,SMALL_BOUNCE
    2993 00014bb0                   WL      4,D3GS3X+FR8    ;10     ;Face down
    2994                    
    2995 00014be0     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    2996 00014c00     8054          .word   ANI_WAITROLL
    2997 00014c10                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    2998                    ;       .word   ANI_END
    2999                    
    3000 00014c40           tpmrfall_back
    3001                            ;too close to the ropes.  fall back
    3002 00014c40                   WL      7,D3FD3E+FR3
    3003 00014c70     8015          .word   ANI_OFFSET,-12,0,0
    3004 00014cb0                   WL      4,D3FD3E+FR2
    3005 00014ce0     8015          .word   ANI_OFFSET,-25,0,0
    3006 00014d20                   WL      4,D3UC3A+FR9
    3007 00014d50     8015          .word   ANI_OFFSET,-1,0,0
    3008 00014d90                   WL      4,D3UC3A+FR10
    3009 00014dc0                   WL      4,D3UC3A+FR11
    3010 00014df0     8015          .word   ANI_OFFSET,-3,0,0
    3011                    
    3012 00014e30     800c          .word   ANI_XFLIP
    3013 00014e40                   WL      4,D3SA3A+FR9
    3014 00014e70     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    3015 00014e90     8054          .word   ANI_WAITROLL
    3016 00014ea0                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    3017                    ;       .word   ANI_END
    3018                    
    3019                    
    3020                    ******************************************************************************
    3021                    
    3022 00014ed0            SUBR   dnk_2_hair_pickup_anim
    3023                    
    3024 00014ed0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP
    3025 00014ef0     8003          .word   ANI_ZEROVELS
    3026 00014f00     8026          .word   ANI_SETSPEED,100h
    3027                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   60

    3028 00014f20     8075          .word   ANI_STARTATTACK,AT_PUPPET,8
    3029                    
    3030 00014f50                   WL      2,D1TT5Z+FR2    ;2.5
    3031 00014f80                   WL      2,D1TT5Z+FR3    ;3.5
    3032                    
    3033 00014fb0            SUBR   dnk_4_hair_pickup_anim
    3034                    
    3035 00014fb0     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP  ;uninterruptable
    3036 00014fd0     8003          .word   ANI_ZEROVELS
    3037 00014fe0     8026          .word   ANI_SETSPEED,100h
    3038 00015000     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3039                    
    3040 00015020     8074          .WORD   ANI_ADD_MOVE,MOVE_C_4,2,2
    3041 00015060     8075          .word   ANI_STARTATTACK,AT_PUPPET,8
    3042 00015090                   WL      3,D3PP3A+FR1
    3043                    
    3044 000150c0                   LEAPATOPP 8,999,80,80,40000h,TGT_HEAD,46,6,-2
    3045 00015170                   WL      4,D3PP3A+FR2
    3046 000151a0                   WL      4,D3PP3A+FR3
    3047 000151d0     8028          .word   ANI_ZERO_XZVELS
    3048                    
    3049                    ;FIX!! on other guys!
    3050                    ;PUPPET2 MODE!
    3051                    ;If no getup time for other guy, do a miss!
    3052 000151e0     8006          .word   ANI_ATTACK_ON, AMODE_PUPPET2,21,1,43,23 ;mode,x,y,w,h
    3053 00015240                   WL      4,D3PP3A+FR3
    3054 00015270     8007          .word   ANI_ATTACK_OFF
    3055                    
    3056 00015280                   WL      ANI_IFNOTSTATUS2,mmqtmissed
    3057                    
    3058                    ;got him
    3059 000152b0     8061          .word   ANI_CLR_BUTCOUNT
    3060 000152c0                   WL      ANI_CODE,clear_opp_counts
    3061 000152f0     8012          .word   ANI_ATTACHZ,0,0,-4              ;x & y don't matter.
    3062 00015330                   WL      ANI_CODE,DO_NONO
    3063 00015360     8050          .word   ANI_SETOPPMODE,MODE_GHOST
    3064 00015380     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP|MODE_KEEPATTACHED
    3065                    
    3066 000153a0     801a          .word   ANI_SOUND,98h                   ;neck break (5-7 ticks late)
    3067 000153c0                   WL      ANI_CODE,CALL_SETUP
    3068                    
    3069 000153f0                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3A+FR5,mmqtpuppet_tbl,0
    3070 00015460                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3A+FR6,mmqtpuppet_tbl,1
    3071 000154d0                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3A+FR7,mmqtpuppet_tbl,2
    3072 00015540                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3A+FR8,mmqtpuppet_tbl,3
    3073 000155b0                   WWLLW   ANI_SUPERSLAVE2,3,D3PP3A+FR9,mmqtpuppet_tbl,4
    3074 00015620                   WWLLW   ANI_SUPERSLAVE2,3,D4GH3A+FR8,mmqtpuppet_tbl,5
    3075                    
    3076 00015690     8004          .word   ANI_SETPLYRMODE,MODE_HEADHOLD
    3077 000156b0                   WL      ANI_SLAVEANIM,mmqtheadheld_tbl
    3078                    
    3079 000156e0     8033          .word   ANI_SETWORD,USR_VAR2,0
    3080                    
    3081 00015710                   WL      1,D4GH3A+FR8
    3082 00015740     8051          .word   ANI_CLROPPMODE,MODE_GHOST
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   61

    3083                    
    3084 00015760     8002          .word   ANI_SETMODE,MODE_NORMAL
    3085 00015780     8049          .word   ANI_END
    3086                    
    3087 00015790           mmqtmissed
    3088 00015790                   WL      ANI_CODE,CALL_MISSES
    3089 000157c0                   WL      20,D3PP3A+FR3
    3090 000157f0                   WL      4,D3PP3A+FR2
    3091 00015820                   WL      4,D3PP3A+FR1
    3092                    
    3093 00015850     8022          .word   ANI_FACEDOWN
    3094 00015860     8002          .word   ANI_SETMODE,MODE_NORMAL
    3095 00015880     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3096 000158a0     8049          .word   ANI_END
    3097                    
    3098                    
    3099 000158b0            SUBR   ck_getup
    3100                    
    3101 000158b0     b5a1          move    *a13(ANIMODE),a1
         000158c0     0660  
    3102 000158d0     0b81          andni   MODE_STATUS2,a1
         000158e0 00000200  
    3103 00015900     b02d          move    a1,*a13(ANIMODE)
         00015910     0660  
    3104                    
    3105 00015920     b7a0          move    *a13(WHOIHIT),a0,L
         00015930     0500  
    3106                    
    3107 00015940     b400          move    *a0(GETUP_TIME),a0
         00015950     0460  
    3108 00015960     ca07          jrz     mmqtmisshim
    3109                    
    3110 00015970     b5a1          move    *a13(ANIMODE),a1
         00015980     0660  
    3111 00015990     0ba1          ori     MODE_STATUS2,a1
         000159a0 00000200  
    3112 000159c0     b02d          move    a1,*a13(ANIMODE)
         000159d0     0660  
    3113                    
    3114 000159e0           mmqtmisshim
    3115 000159e0     0960          rets
    3116                    
    3117 000159f0           mmqtheadheld_tbl
    3118 000159f0 00000000!         .long   hrt_3_head_held_anim
    3119 00015a10 00000000!         .long   rzr_3_head_held_anim
    3120 00015a30 00000000!         .long   und_3_head_held_anim
    3121 00015a50 00000000!         .long   yok_3_head_held_anim
    3122 00015a70 00000000!         .long   shn_3_head_held_anim
    3123 00015a90 00000000!         .long   bam_3_head_held_anim
    3124 00015ab0 0000bf50'         .long   dnk_3_head_held_anim
    3125 00015ad0 00000000          .long   0
    3126 00015af0 00000000!         .long   lex_3_head_held_anim
    3127                    
    3128 00015b10           mmqtpuppet_tbl
    3129 00015b10 00015c30'  .long mmqtBret
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   62

    3130 00015b30 00015e30'  .long mmqtRazor
    3131 00015b50 00016030'  .long mmqtTaker
    3132 00015b70 00016230'  .long mmqtYokozuna
    3133 00015b90 00016430'  .long mmqtShawn
    3134 00015bb0 00016630'  .long mmqtBamBam
    3135 00015bd0 00016830'  .long mmqtDoink
    3136 00015bf0 00016a30'  .long mmqtAdam
    3137 00015c10 00016a50'  .long mmqtLex
    3138                    
    3139 00015c30           mmqtBret
    3140 00015c30            LWWW H3GU4A+FR1,37,-31,0
    3141 00015c80            LWWW H3GU4A+FR2,49,-33,0
    3142 00015cd0            LWWW H3GU4A+FR3,63,-42,0
    3143 00015d20            LWWW H3DU3A+FR3,58,-39,1
    3144 00015d70            LWWW H3DU3A+FR4,60,-29,1
    3145 00015dc0            LWWW H3BF3A+FR1,53,-35,0
    3146 00015e10 00000000   .long 0
    3147 00015e30           mmqtRazor
    3148 00015e30            LWWW R3GU2A+FR3,41,-22,0
    3149 00015e80            LWWW R3GU4A+FR3,52,-27,0
    3150 00015ed0            LWWW R3GU4A+FR4,54,-36,0
    3151 00015f20            LWWW R3GU4A+FR5,59,-42,0
    3152 00015f70            LWWW R3DU3B+FR2,53,-43,1
    3153 00015fc0            LWWW R3BF3A+FR1,53,-37,0
    3154 00016010 00000000   .long 0
    3155 00016030           mmqtTaker
    3156 00016030            LWWW U3DU3B+FR2,42,-23,1
    3157 00016080            LWWW U3DU3B+FR5,53,-23,1
    3158 000160d0            LWWW U3DU3B+FR6,59,-29,1
    3159 00016120            LWWW U3DU3B+FR8,49,-26,1
    3160 00016170            LWWW U3DU3B+FR10,59,-21,1
    3161 000161c0            LWWW U4BF3Z+FR5,54,-16,0
    3162 00016210 00000000   .long 0
    3163 00016230           mmqtYokozuna
    3164 00016230            LWWW Y3GU2A+FR1,47,-17,0
    3165 00016280            LWWW Y3GU2A+FR2,57,-18,0
    3166 000162d0            LWWW Y3GU2A+FR4,44,-25,0
    3167 00016320            LWWW Y3GU2A+FR7,44,-37,0
    3168 00016370            LWWW Y3GU2A+FR11,60,-30,0
    3169 000163c0            LWWW Y3BF3A+FR1,57,-25,0
    3170 00016410 00000000   .long 0
    3171 00016430           mmqtShawn
    3172 00016430            LWWW S3GU2A+FR1,44,-25,0
    3173 00016480            LWWW S3GU4A+FR2,51,-25,0
    3174 000164d0            LWWW S3GU4A+FR4,58,-36,0
    3175 00016520            LWWW S3GU4A+FR5,58,-35,0
    3176 00016570            LWWW S3GU4A+FR6,59,-30,0
    3177 000165c0            LWWW S3BF3A+FR1,41,-36,0
    3178 00016610 00000000   .long 0
    3179 00016630           mmqtBamBam
    3180 00016630            LWWW B3GU4A+FR3,49,-21,0
    3181 00016680            LWWW B3GU4A+FR4,57,-28,0
    3182 000166d0            LWWW B3GU4A+FR5,64,-33,0
    3183 00016720            LWWW B3GU4A+FR8,60,-25,0
    3184 00016770            LWWW B3GU4A+FR9,60,-23,0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   63

    3185 000167c0            LWWW B3BF3C+FR5,59,-29,0
    3186 00016810 00000000   .long 0
    3187 00016830           mmqtDoink
    3188 00016830            LWWW D3GU4A+FR2,50,-28,0
    3189 00016880            LWWW D3GU4A+FR3,56,-31,0
    3190 000168d0            LWWW D3GU4A+FR4,57,-43,0
    3191 00016920            LWWW D3GU4A+FR5,52,-34,0
    3192 00016970            LWWW D3GU4A+FR7,68,-36,0
    3193 000169c0            LWWW D3BF3A+FR2,55,-35,0
    3194 00016a10 00000000   .long 0
    3195 00016a30           mmqtAdam
    3196 00016a30 00000000   .long 0
    3197 00016a50           mmqtLex
    3198 00016a50            LWWW L3GU4A+FR1,50,-26,0
    3199 00016aa0            LWWW L3DU3A+FR4,42,-23,1
    3200 00016af0            LWWW L3DU3A+FR6,49,-31,1
    3201 00016b40            LWWW L3DU3A+FR7,55,-29,1
    3202 00016b90            LWWW L3DU3A+FR9,64,-29,1
    3203 00016be0            LWWW L3BF3B+FR5,57,-32,0
    3204 00016c30 00000000   .long 0
    3205                    
    3206                    *****************************************************************************
    3207                    *
    3208                    * THROWN FROM RING (shn_bslm, shn_frnk)
    3209                    
    3210 00016c50            SUBR   dnk_flyout_anim
    3211                    
    3212 00016c50     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE
    3213 00016c70     8004          .word   ANI_SETPLYRMODE,MODE_INAIR
    3214 00016c90     8026          .word   ANI_SETSPEED,100h
    3215 00016cb0     807b          .word   ANI_SET_IDIOT
    3216 00016cc0                   WWL     ANI_SETLONG,OBJ_GRAVITY,0f000h
    3217 00016d00                   WL      ANI_CODE,DO_WAIL
    3218                    
    3219 00016d30                   WL      8,D3OS3A+FR4
    3220 00016d60                   WL      8,D3OS3A+FR5
    3221 00016d90           pxamcont        WL      8,D3OS3A+FR6
    3222 00016dc0     8015          .word   ANI_OFFSET,0,45,0
    3223 00016e00                   WL      1,D3FD3E+FR2
    3224 00016e30     800b          .word   ANI_WAITHITGND
    3225 00016e40                   WWL     ANI_SETLONG,OBJ_GRAVITY,GRAVITY
    3226 00016e80                   WL      ANI_CODE,HIT_THE_MAT
    3227 00016eb0     8037          .word   ANI_SHAKEALL,2
    3228 00016ed0     801f          .word   ANI_SHAKER,60
    3229                    
    3230 00016ef0     8038          .word   ANI_DAMAGE,D_HIPTOSS
    3231                    
    3232                    ;       .word   ANI_SETWORD,DELAY_METER,0
    3233                    ;       .word   ANI_GETUP,500
    3234                    
    3235 00016f10                   WL      ANI_CHANGEANIM,dnk_hitonground_xflip_anim
    3236                    
    3237                    
    3238 00016f40            SUBR   dnk_flyout2_anim
    3239                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   64

    3240 00016f40     8002          .word   ANI_SETMODE,MODE_UNINT|MODE_NOAUTOFLIP|MODE_NOCONFINE
    3241 00016f60     8004          .word   ANI_SETPLYRMODE,MODE_INAIR
    3242 00016f80     8026          .word   ANI_SETSPEED,100h
    3243 00016fa0     807b          .word   ANI_SET_IDIOT
    3244 00016fb0                   WWL     ANI_SETLONG,OBJ_GRAVITY,0E000h
    3245 00016ff0                   WL      ANI_CODE,DO_WAIL
    3246 00017020                   WL      ANI_GOTO,pxamcont
    3247                    
    3248                    ******************************************************************************
    3249                    
    3250 00017050            SUBR   dnk_4_taunt_anim
    3251                    
    3252 00017050     8002          .word   ANI_SETMODE,MODE_UNINT
    3253 00017070     8003          .word   ANI_ZEROVELS
    3254 00017080     8026          .word   ANI_SETSPEED,100h
    3255 000170a0     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3256                    
    3257 000170c0     801b          .word   ANI_SETFACING           ;ANI_XFLIP <- not primary anim
    3258 000170d0     805f          .word   ANI_SET_WRESTLER_XFLIP
    3259                    
    3260 000170e0                   WL      4,D4CO4A+FR1
    3261 00017110                   WL      4,D4CO4A+FR2
    3262 00017140                   WL      4,D4CO4A+FR3
    3263 00017170                   WL      4,D4CO4A+FR4
    3264 000171a0                   WL      4,D4CO4A+FR5
    3265 000171d0                   WL      4,D4CO4A+FR6
    3266                    
    3267 00017200                   WL      4,D4CO4A+FR5
    3268 00017230                   WL      4,D4CO4A+FR4
    3269 00017260                   WL      4,D4CO4A+FR3
    3270 00017290                   WL      4,D4CO4A+FR4
    3271 000172c0                   WL      4,D4CO4A+FR5
    3272 000172f0                   WL      4,D4CO4A+FR6
    3273                    
    3274 00017320                   WL      3,D4CO4A+FR5
    3275 00017350                   WL      3,D4CO4A+FR4
    3276 00017380                   WL      3,D4CO4A+FR3
    3277 000173b0                   WL      3,D4CO4A+FR2
    3278 000173e0                   WL      3,D4CO4A+FR1
    3279                    
    3280                    ;       WL      ANI_CODE,set_taunt_bit
    3281                    
    3282 00017410     8022          .word   ANI_FACEDOWN
    3283 00017420     8002          .word   ANI_SETMODE,MODE_NORMAL
    3284 00017440     8004          .word   ANI_SETPLYRMODE,MODE_NORMAL
    3285 00017460                   WL      ANI_CHANGEANIM,dnk_stand4_anim
    3286                    ;       .word   ANI_END
    3287                    
    3288                    
    3289                    ; SUBR  set_taunt_bit
    3290                    ;;Successful taunt achieved!
    3291                    ;
    3292                    ;       move    *a13(STATUS_FLAGS),a14
    3293                    ;       ori     M_DID_TAUNT,a14
    3294                    ;       move    a14,*a13(STATUS_FLAGS)
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   65

    3295                    ;       rets
    3296                    
    3297                    *****************************************************************************
    3298                    *
    3299                    * END OF BACK BROKEN SEQ.
    3300                    
    3301 00017490            SUBR   dnk_backbroken_anim
    3302                    
    3303 00017490     8002          .word   ANI_SETMODE,MODE_UNINT | MODE_NOAUTOFLIP
    3304 000174b0     8003          .word   ANI_ZEROVELS
    3305 000174c0     8026          .word   ANI_SETSPEED,100h
    3306                    ;       .word   ANI_DETACH
    3307                    
    3308 000174e0     8010          .word   ANI_GRAVITY_OFF
    3309 000174f0                   WL      5,D3BK3Z+FR7
    3310 00017520     800f          .word   ANI_GRAVITY_ON
    3311                    
    3312 00017530                   WL      ANI_SET_YVEL,070000h
    3313 00017560                   WLW     ANI_SET_ZVEL,20000h,AM_ABS
    3314                    
    3315 000175a0                   WL      25,D3BK3Z+FR7
    3316                    
    3317 000175d0                   WL      4,D3BK3Z+FR6
    3318                    ;       WL      4,D3UC3A+FR5
    3319                    
    3320 00017600     800b          .word   ANI_WAITHITGND
    3321 00017610     8003          .word   ANI_ZEROVELS
    3322 00017620     800d          .word   ANI_BOUNCE,2
    3323 00017640     800c          .word   ANI_XFLIP
    3324 00017650                   WL      ANI_CODE,HIT_THE_MAT
    3325 00017680                   WL      ANI_CODE,HIT_THE_MAT
    3326 000176b0                   WL      ANI_CODE,HIT_THE_MAT
    3327                    
    3328 000176e0     805e          .word   ANI_DEBRIS,100,1,0,8,0          ;%chance, tbl index, x,y,z off
    3329                    
    3330 00017740                   WL      2,D3SA3A+FR2
    3331 00017770                   WL      3,D3SA3A+FR3
    3332 000177a0                   WL      6,D3SA3A+FR4
    3333 000177d0                   WL      3,D3SA3A+FR5
    3334                    
    3335 00017800                   WL      3,D3SA3A+FR7
    3336 00017830                   WL      2,D3SA3A+FR8
    3337 00017860                   WL      3,D3SA3A+FR9
    3338                    
    3339 00017890     8004          .word   ANI_SETPLYRMODE,MODE_ONGROUND
    3340                    
    3341                    ;No stars around head here...
    3342                    
    3343 000178b0     800a          .word   ANI_DETACH
    3344                    
    3345 000178c0                   WL      5,D3SA3A+FR9
    3346                    
    3347 000178f0     8054          .word   ANI_WAITROLL
    3348 00017900                   WL      ANI_CHANGEANIM,dnk_faceup_getup_anim
    3349                    ;       .word   ANI_END
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   66

    3350                    
    3351                    ;*****************************************************************************
    3352                    ;*
    3353                    ;* CHAIR STUFF
    3354                    ;
    3355                    ; SUBR  dnk_pkup_chair_anim
    3356                    ;
    3357                    ;       .word   ANI_SETMODE,MODE_UNINT | MODE_NOAUTOFLIP
    3358                    ;       .word   ANI_ZEROVELS
    3359                    ;       .word   ANI_SETSPEED,100h
    3360                    ;
    3361                    ;yplqlp
    3362                    ;       WL      4,D4WA4A+FR1
    3363                    ;       WL      4,D4WA4A+FR2
    3364                    ;       WL      4,D4WA4A+FR3
    3365                    ;
    3366                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR1,42,-10,1 ;image, x,y,zoff
    3367                    ;       WL      4,D4WA4A+FR4
    3368                    ;
    3369                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR1,42,0,1 ;image, x,y,zoff
    3370                    ;       WL      4,D4WA4A+FR5
    3371                    ;
    3372                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR2,48,37,1 ;image, x,y,zoff
    3373                    ;       WL      4,D4WA4A+FR6
    3374                    ;
    3375                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR3,48,90,1 ;image, x,y,zoff
    3376                    ;       WL      4,D4WA4A+FR7
    3377                    ;
    3378                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR4,19,124,1 ;image, x,y,zoff
    3379                    ;       WL      4,D4WA4A+FR8
    3380                    ;
    3381                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR4,-5,141,1 ;image, x,y,zoff
    3382                    ;       WL      4,D4WA4A+FR10
    3383                    ;
    3384                    ;; .word ANI_SINGLESTEP
    3385                    ;
    3386                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR6,-31,131,1 ;image, x,y,zoff
    3387                    ;       WL      4,D3CS3Z+FR2
    3388                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR6,-38,123,1 ;image, x,y,zoff
    3389                    ;       WL      4,D3CS3Z+FR3
    3390                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR7,9,130,1 ;image, x,y,zoff
    3391                    ;       WL      4,D3CS3Z+FR4
    3392                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR8,67,100,1 ;image, x,y,zoff
    3393                    ;       WL      4,D3CS3Z+FR5
    3394                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR9,77,46,1 ;image, x,y,zoff
    3395                    ;       WL      4,D3CS3Z+FR6
    3396                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR9,83,66,1 ;image, x,y,zoff
    3397                    ;       WL      4,D3CS3Z+FR7
    3398                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR7,3,140,1 ;image, x,y,zoff
    3399                    ;       WL      4,D3CS3Z+FR8
    3400                    ;       WLWWW   ANI_ATTCHIMAGE2,CHAIR_SWING+FR6,-25,129,1 ;image, x,y,zoff
    3401                    ;       WL      4,D3CS3Z+FR9
    3402                    ;
    3403                    ;; .word ANI_SINGLESTEP
    3404                    ;       WLW     ANI_ATTCHIMAGE,0,0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:20 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

Krusty the Clown animation sequences                                 PAGE   67

    3405                    ;
    3406                    ;       WL      ANI_GOTO,yplqlp
    3407                    ;
    3408                    ; SUBR  CHAIR_SWING
    3409                    ;       .long   0               ;0
    3410                    ;       .long   CHSWNG01        ;1
    3411                    ;       .long   CHSWNG02        ;2
    3412                    ;       .long   CHSWNG03        ;3
    3413                    ;       .long   CHSWNG04        ;4
    3414                    ;       .long   CHSWNG05        ;5
    3415                    ;       .long   CHSWNG06        ;6
    3416                    ;       .long   CHSWNG07        ;7
    3417                    ;       .long   CHSWNG08        ;8
    3418                    ;       .long   CHSWNG09        ;9
    3419                    ;       .long   CHSWNFL         ;10
    3420                    ;
    3421                    
    3422                    ******************************************************************************
    3423                    
    3424                            .end

 No Errors,  No Warnings
