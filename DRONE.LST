TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                     ;Yoko tb on out of ring opp
       2                     ;UT pin bug
       3                     ;Atk sometimes instead of blk
       4                    ;Chk dnk buzz blk
       5                     ;No leap head grab
       6                    ;Don't have drones do power moves unless human has.
       7                    ;Yoko should take advantage of salt throw
       8                     ;Drones wait in your face for too long.
       9                     ;DL blk for hiptoss
      10                     ;Harder
      11                     ;Atk down opp
      12                     ;Anti run code, esp out of ctrl
      13                     ;Fling and chase
      14                     ;Short repeat atks
      15                     ;Do more head holds from in close - thru block
      16                     ;Seek on a blocker, do headhold
      17                     ;Make multi drones easier...
      18                     ;Too many runs
      19                     ;Break out of runs more...
      20                    ;Climb TB after a toss out
      21                     ;Sometimes, drone won't move from top of TB
      22                     ;Don't let go charge moves if opp is blocking
      23                     ;In multi-wrestler matches, delay longer on power moves from headhold or revs
      24                    ;Yoko can run right into drone and knock him down.
      25                    ;Get smart on big boots, missed/blocked buzzers, etc.
      26                     ;Ignore pushes from opponent, try an attack
      27                    ;Specific combo paths
      28                     ;Pin fast
      29                     ;Multi wres spacing
      30                     ;Get in ring
      31                     ;Check blocking
      32                    ;Fix seek_dirdist out of ring
      33                     ;Slide htoss on flying opp
      34                    **************************************************************
      35                    *
      36                    * Software:             Shawn Liptak
      37                    * Initiated:            11/21/94
      38                    *
      39                    * Modified:             Shawn Liptak, 11/21/94  -Started wrestling
      40                    *
      41                    * COPYRIGHT (C) 1994 WILLIAMS ELECTRONICS GAMES, INC.
      42                    *
      43                    *.Last mod - 6/29/95 15:42
      44                    **************************************************************
      45                            .file   "drone.asm"
      47                            .width  132
      48                            .option b,d,l,t
      49                            .mnolist
      50                    
      51                    
      52                            .include        "macros.h"
      53                            .include        "mproc.equ"
      54                            .include        "display.equ"
      55                            .include        "gsp.equ"
      56                            .include        "sys.equ"
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    2

      57                            .include        "audit.equ"
      58                            .include        "game.equ"
      59                            .include        "anim.equ"
      60                            .include        "plyr.equ"
      61                            .include        "ring.equ"
      62                            .include        "damage.equ"
      63                    
      64                    
      65                    ;sounds external
      66                    
      67                    
      68                    ;symbols externally defined
      69                    
      70                            .ref    process_ptrs,PSTATUS,PSTATUS2
      71                            .ref    PCNT,round_tickcount
      72                    
      73                            .ref    CHECK_COMBO_GO
      74                    
      75                            .ref    GET_ADJ
      76                            .ref    p1winstreakd,p1rounds,current_round
      77                            .ref    LADDER,CURRENT_LADDER
      78                    
      79                            .ref    change_anim1a
      80                            .ref    hrt_4_taunt_anim,rzr_4_taunt_anim,und_4_taunt_anim
      81                            .ref    yok_4_taunt_anim,shn_4_taunt_anim,bam_4_taunt_anim
      82                            .ref    dnk_4_taunt_anim,lex_4_taunt_anim
      83                    
      84                    
      85                    ;symbols defined in this file
      86                    
      87                    
      88                    ;uninitialized ram definitions
      89                    
      90 00000000                   BSSX    droneoff        ,16             ;!0=Drone code off
      91 00000010                   .bss    atkcnt_t,AT_NUM*NUM_WRES*16     ;# times hit by each atk
      92                    
      93                    
      94                    ;equates for this file
      95                    
      96              0000  BLKTEST .equ    0
      97                    
      98              0020  U_M     .equ    MOVE_UP<<5
      99              0040  D_M     .equ    MOVE_DOWN<<5
     100              0080  L_M     .equ    MOVE_LEFT<<5
     101              0100  R_M     .equ    MOVE_RIGHT<<5
     102                    
     103              0001  P_M     .equ    PLAYER_PUNCH_VAL
     104              0002  B_M     .equ    PLAYER_BLOCK_VAL
     105              0004  SP_M    .equ    PLAYER_SPUNCH_VAL
     106              0008  K_M     .equ    PLAYER_KICK_VAL
     107              0010  SK_M    .equ    PLAYER_SKICK_VAL
     108                    
     109                            .if     MODE_NORMAL!=0
     110                            .emsg   "FIX code!"
     111                            .endif
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    3

     112                    
     113                    
     114 00000000                   .text
     115                    
     116                    ***************************************************************
     117                    * Main drone logic
     118                    * A13 = *Plyr process
     119                    * Trashes scratch, A2-A10, B2-B7
     120                    
     121 00000000            SUBR   drone_main
     122                    
     123                            .if     DEBUG
     124                            move    @droneoff,a0
     125                            jrnz    kgixx
     126                            .endif
     127                    
     128                    
     129 00000000     b5a6          move    *a13(DRN_BUT),a6        ;A6=Old buts
         00000010     0960  
     130 00000020     b5a7          move    *a13(DRN_JOY),a7        ;A7=Old joy
         00000030     0990  
     131                    
     132 00000040     b5ae          move    *a13(CLOSEST_NUM),a14
         00000050     03a0  
     133 00000060                   X32     a14
     134 00000070     0b2e          addi    process_ptrs,a14
         00000080 00000000! 
     135 000000a0     87c8          move    *a14,a8,L               ;A8=*Closest's proc
     136                    
     137                    ;       callr   drone_getcurskillo
     138                    ;       move    a0,a10
     139 000000b0     b5aa          move    *a13(DRN_SKILL),a10
         000000c0     0a70  
     140 000000d0                   X16     a10                     ;A10=Skill for indexing (*16)
     141                    
     142 000000e0     b5a0          move    *a13(PLYRMODE),a0
         000000f0     05c0  
     143 00000100     4e06          move    a0,b6                   ;B6=My pmode
     144 00000110     b500          move    *a8(PLYRMODE),a0
         00000120     05c0  
     145 00000130     4e07          move    a0,b7                   ;B7=Opp pmode
     146                    
     147                    ;컴컴컴컴컴컴컴                        0FHind friendly wrestlers
     148                    
     149 00000140     09e2          movi    process_ptrs,a2
         00000150 00000000! 
     150 00000170     18f0          movk    NUM_WRES,b0
     151 00000180     5652          clr     b2                      ;B2=Team dist ranking (0-2)
     152 00000190     5673          clr     b3                      ;B3=# alive on my team (0-3)
     153 000001a0           kgifflp
     154 000001a0     9643          move    *a2+,a3,L
     155 000001b0     ca18          jrz     kgiffnxt
     156                    
     157 000001c0     b5a0          move    *a13(PLYR_SIDE),a0
         000001d0     05b0  
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    4

     158 000001e0     b461          move    *a3(PLYR_SIDE),a1
         000001f0     05b0  
     159 00000200     4801          cmp     a0,a1
     160 00000210     cb12          jrne    kgiffnxt                        ;Not on my team?
     161                    
     162 00000220     b460          move    *a3(PLYRMODE),a0
         00000230     05c0  
     163 00000240     1520          subk    MODE_DEAD,a0
     164 00000250     ca0e          jreq    kgiffnxt
     165                    
     166 00000260     1033          addk    1,b3
     167                    
     168 00000270     b5a0          move    *a13(CLOSEST_NUM),a0
         00000280     03a0  
     169 00000290     b461          move    *a3(CLOSEST_NUM),a1
         000002a0     03a0  
     170 000002b0     4801          cmp     a0,a1
     171 000002c0     cb07          jrne    kgiffnxt                        ;Diff opponents?
     172                    
     173 000002d0     b5a0          move    *a13(CLOSEST_DIST),a0
         000002e0     0360  
     174 000002f0     b461          move    *a3(CLOSEST_DIST),a1
         00000300     0360  
     175 00000310     4820          cmp     a1,a0
     176 00000320     c601          jrle    kgiffnxt                        ;I'm closer?
     177                    
     178 00000330     1032          addk    1,b2
     179 00000340           kgiffnxt
     180 00000340     3f70          dsj     b0,kgifflp
     181                    
     182 00000350           kgiffdn
     183 00000350     4c52          move    b2,b2
     184 00000360     ca0c          jrz     kgiffdoit                       ;I'm closest?
     185                    
     186 00000370     b7a9          move    *a13(DRN_ACT_p),a9,L
         00000380     0a10  
     187 00000390     cb0d          jrnz    kgiffx                  ;Script running?
     188                    
     189 000003a0     b5a0          move    *a13(DRN_MODE),a0
         000003b0     0a30  
     190 000003c0     09c1          movi    -3,a1
         000003d0     fffd  
     191 000003e0     b02d          move    a1,*a13(DRN_MODE)       ;Set mode
         000003f0     0a30  
     192 00000400     1060          addk    3,a0
     193 00000410     cb2a          jrne    kginewmdm3              ;Init hang back?
     194 00000420     c004          jruc    kgiffx
     195                    
     196 00000430           kgiffdoit
     197 00000430     b5a0          move    *a13(DRN_MODE),a0
         00000440     0a30  
     198 00000450     1060          addk    3,a0
     199 00000460     ca0d          jreq    kginewmd                        ;Set new mode if in hang back?
     200                    
     201 00000470           kgiffx
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    5

     202                    ;컴컴컴컴컴컴컴                        >Random mode changes
     203                    
     204 00000470     05a0          move    @PCNT,a0
         00000480 00000000! 
     205 000004a0     2760          sll     32-5,a0
     206 000004b0     cb38          jrnz    kginomdchk
     207                    
     208 000004c0     1860          movk    3,a0
     209 000004d0     0d3f          callr   rnd
         000004e0     1101  
     210 000004f0     cb34          jrnz    kginomdchk
     211                    
     212 00000500     b5a0          move    *a13(DRN_MODE),a0
         00000510     0a30  
     213 00000520     1060          addk    3,a0
     214 00000530     c618          jrle    kgimcnosc                       ;Hang back?
     215 00000540           kginewmd
     216 00000540     1820          movk    1,a0                    ;No aggressive
     217 00000550     07a1          move    @CURRENT_LADDER,a1,L    ;* to position
         00000560 00000000! 
     218 00000580     0b61          cmpi    LADDER,a1
         00000590 ffffffff! 
     219 000005b0     ca05          jreq    kgimdeasy                       ;1st ladder?
     220                    
     221 000005c0     1860          movk    3,a0                    ;Range
     222 000005d0     0b4a          cmpi    13*16,a10
         000005e0     ff2f  
     223 000005f0     c601          jrle    kgimdeasy
     224 00000600     1020          addk    1,a0                    ;More aggressive
     225 00000610           kgimdeasy
     226 00000610     0d3f          callr   rndrng0
         00000620     10fb  
     227 00000630     1440          subk    2,a0
     228 00000640     b00d          move    a0,*a13(DRN_MODE)       ;-2 to 2
         00000650     0a30  
     229                    
     230 00000660     b7a9          move    *a13(DRN_ACT_p),a9,L
         00000670     0a10  
     231 00000680     cb03          jrnz    kgimcnosc                       ;Script running?
     232 00000690     5600          clr     a0
     233 000006a0     b00d          move    a0,*a13(DRN_JOY)        ;So we don't walk into ropes
         000006b0     0990  
     234 000006c0           kgimcnosc
     235 000006c0           kginewmdm3
     236 000006c0     1882          movk    4,a2                    ;Rgt side
     237 000006d0     b5a0          move    *a13(OBJ_XPOSINT),a0
         000006e0     0110  
     238 000006f0     b501          move    *a8(OBJ_XPOSINT),a1
         00000700     0110  
     239 00000710     4420          sub     a1,a0
     240 00000720     c501          jrge    kgimetorgt
     241 00000730     1982          movk    12,a2                   ;Left side
     242 00000740           kgimetorgt
     243 00000740     b04d          move    a2,*a13(DRN_SEEKDIR)
         00000750     0a50  
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    6

     244                    
     245 00000760     1880          movk    4,a0
     246 00000770     0d3f          callr   rndrng0
         00000780     10e5  
     247                    
     248 00000790     b5a1          move    *a13(DRN_MODE),a1
         000007a0     0a30  
     249 000007b0     1061          addk    3,a1
     250 000007c0     cb05          jrne    kginodhb                        ;!Hang back?
     251 000007d0                   ANDK    1,a0                    ;Make 3-4 or 4-5
     252 000007f0     1040          addk    2,a0
     253 00000800     4e5e          move    b2,a14
     254 00000810     41c0          add     a14,a0
     255 00000820           kginodhb
     256 00000820     b00d          move    a0,*a13(DRN_SEEKDIST)
         00000830     0a60  
     257                    
     258 00000840           kginomdchk
     259                    ;컴컴컴컴컴컴컴                        >Passive mode movement
     260                    
     261                            .if     BLKTEST
     262                            jruc    kgiskmv
     263                            .endif
     264                    
     265 00000840     b5a0          move    *a13(DRN_MODE),a0
         00000850     0a30  
     266 00000860     c507          jrge    kgiskmv                 ;Aggressive?
     267                    
     268 00000870     4cd6          move    b6,b6
     269 00000880     cb05          jrnz    kgiskmv                 ;!MODE_NORMAL?
     270                    
     271 00000890     b7a9          move    *a13(DRN_ACT_p),a9,L
         000008a0     0a10  
     272 000008b0     cb02          jrnz    kgiskmv                 ;Script running?
     273                    
     274 000008c0     0d3f          callr   drone_seekdirdist
         000008d0     0f7f  
     275 000008e0           kgiskmv
     276                    
     277                    ;컴컴컴컴컴컴컴                        0DecH charge delay
     278                    
     279 000008e0     b5a0          move    *a13(DRN_BUTCHRG),a0
         000008f0     09c0  
     280 00000900     ca05          jrz     kginochrgn
     281                    
     282 00000910     b5a0          move    *a13(DRN_BUTCHRGDLY),a0
         00000920     09d0  
     283 00000930     1420          subk    1,a0
     284 00000940     b00d          move    a0,*a13(DRN_BUTCHRGDLY)
         00000950     09d0  
     285 00000960           kginochrgn
     286                    
     287                    ;컴컴컴컴컴컴컴                        >Handle getup time
     288                    
     289 00000960     b5a2          move    *a13(GETUP_TIME),a2
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    7

         00000970     0460  
     290 00000980     c613          jrle    kginogt
     291                    
     292 00000990     09c0          movi    99,a0
         000009a0     0063  
     293 000009b0     0d3f          callr   rndrng0
         000009c0     10c1  
     294 000009d0     4d41          move    a10,a1
     295 000009e0     0b21          addi    kgigetup_t,a1
         000009f0 000032f0' 
     296 00000a10     8421          move    *a1,a1
     297 00000a20     4820          cmp     a1,a0
     298 00000a30     c500          jrge    kgidsabt
         00000a40     026d  
     299                    
     300 00000a50     14a2          subk    5,a2
     301 00000a60     c501          jrge    kgigtok
     302 00000a70     5642          clr     a2
     303 00000a80     b04d  kgigtok move    a2,*a13(GETUP_TIME)
         00000a90     0460  
     304 00000aa0     c000          jruc    kgidsabt
         00000ab0     0266  
     305 00000ac0           kginogt
     306                    ;컴컴컴컴컴컴컴
     307                    
     308 00000ac0     b5a0          move    *a13(DRN_DELAY),a0
         00000ad0     0a00  
     309 00000ae0     1420          subk    1,a0
     310 00000af0     c604          jrle    kginewact
     311 00000b00     b00d          move    a0,*a13(DRN_DELAY)
         00000b10     0a00  
     312 00000b20     c000          jruc    kgix
         00000b30     0261  
     313 00000b40           kginewact
     314                    ;컴컴컴컴컴컴컴                        0BHlock detection
     315                    
     316 00000b40     b504          move    *a8(ATTACK_TIME),a4
         00000b50     05f0  
     317 00000b60     05a5          move    @round_tickcount,a5
         00000b70 00000000! 
     318 00000b90     44a4          sub     a5,a4                   ;-=Attack passed, +=Ticks till atk
     319 00000ba0     c46e          jrlt    kginoblk
     320                    
     321 00000bb0     09c1          movi    50,a1                   ;Closer Z allowed
         00000bc0     0032  
     322 00000bd0     b502          move    *a8(ATTACK_TYPE),a2
         00000be0     05e0  
     323 00000bf0     0b42          cmpi    AT_PUSH,a2
         00000c00     fff6  
     324 00000c10     ca67          jreq    kginoblk
     325 00000c20     0b42          cmpi    AT_MSL,a2
         00000c30     ffc5  
     326 00000c40     ca07          jreq    kgimsla                 ;Missile atk?
     327                    
     328 00000c50     b5a0          move    *a13(CLOSEST_XDIST),a0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    8

         00000c60     0370  
     329 00000c70     0b40          cmpi    180,a0
         00000c80     ff4b  
     330 00000c90     c75f          jrgt    kginoblk                        ;Too far?
     331 00000ca0     09c1          movi    100,a1
         00000cb0     0064  
     332 00000cc0           kgimsla
     333 00000cc0     b5a0          move    *a13(CLOSEST_ZDIST),a0
         00000cd0     0390  
     334 00000ce0     4820          cmp     a1,a0
     335 00000cf0     c759          jrgt    kginoblk                        ;Too far?
     336                    
     337 00000d00     b50e          move    *a8(GETUP_TIME),a14
         00000d10     0460  
     338 00000d20     c756          jrgt    kginoblk                        ;Out of control?
     339                    
     340 00000d30     0b57          cmpi    MODE_INAIR2,b7
         00000d40     ffea  
     341 00000d50     ca53          jreq    kginoblk                        ;Jumping on me?
     342                    
     343 00000d60     1fc6          btst    PLAYER_BLOCK_BIT,a6
     344 00000d70     cb00          jrnz    kgix                    ;Trying to blk?
         00000d80     023c  
     345                    
     346 00000d90     b502          move    *a8(ATTACK_TYPE),a2
         00000da0     05e0  
     347 00000db0     b5a0          move    *a13(PLYRNUM),a0
         00000dc0     0580  
     348 00000dd0     09c3          movi    AT_NUM,a3
         00000de0     003b  
     349 00000df0     5c03          mpys    a0,a3
     350 00000e00     4043          add     a2,a3
     351 00000e10                   X16     a3
     352 00000e20     0b23          addi    atkcnt_t,a3
         00000e30 00000010- 
     353                    
     354 00000e50     8462          move    *a3,a2                  ;# missed blks
     355 00000e60     0b42          cmpi    10,a2
         00000e70     fff5  
     356 00000e80     c801          jrlo    kgiacok
     357 00000e90     1922          movk    9,a2
     358 00000ea0           kgiacok
     359 00000ea0                   X16     a2
     360 00000eb0     0b22          addi    kgiblkatk_t,a2
         00000ec0 000036b0' 
     361 00000ee0     8442          move    *a2,a2                  ;Get %
     362                    
     363 00000ef0     4e7e          move    b3,a14                  ;# on team
     364 00000f00     142e          subk    1,a14
     365 00000f10                   X32     a14
     366 00000f20     45c2          sub     a14,a2                  ;Decrease per extra bud
     367                    
     368                            .if     BLKTEST
     369                            movi    100,a2
     370                            .endif
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE    9

     371                    
     372 00000f30     09c0          movi    99,a0
         00000f40     0063  
     373 00000f50     0d3f          callr   rndrng0
         00000f60     1067  
     374 00000f70     4d41          move    a10,a1
     375 00000f80     0b21          addi    kgiblkbase_t,a1
         00000f90 000034d0' 
     376 00000fb0     8421          move    *a1,a1                  ;Base %
     377 00000fc0     4041          add     a2,a1
     378 00000fd0     4820          cmp     a1,a0
     379 00000fe0     c525          jrge    kgimissb
     380                    
     381 00000ff0     0b44          cmpi    15,a4
         00001000     fff0  
     382 00001010     c501          jrge    kgiminbtok              ;Min time OK?
     383 00001020     19e4          movk    15,a4
     384 00001030           kgiminbtok
     385                    
     386 00001030     b502          move    *a8(ATTACK_TYPE),a2
         00001040     05e0  
     387 00001050     0b42          cmpi    AT_LEAPING,a2
         00001060     ffc6  
     388 00001070     cb0d          jrne    kgisblk                 ;!Leaping?
     389                    
     390                    ;       LOCKUP
     391                    
     392 00001080     4d40          move    a10,a0
     393 00001090     2f40          srl     4+2,a0                  ;Skill/4
     394 000010a0     0d3f          callr   rndrng0
         000010b0     1052  
     395 000010c0     4c00          move    a0,a0
     396 000010d0     ca07          jrz     kgisblk                 ;Skip?
     397                    
     398 000010e0     b0a8          move    a5,*a8(ATTACK_TIME)     ;Cancel
         000010f0     05f0  
     399                    
     400 00001100     09e9          movi    slhtoss,a9              ;Flip opp
         00001110 0000a4e0' 
     401 00001130     c000          jruc    kginewsc
         00001140     0155  
     402                    
     403 00001150           kgisblk
     404 00001150     b08d          move    a4,*a13(DRN_DELAY)
         00001160     0a00  
     405                    
     406 00001170     1840          movk    B_M,a0                  ;Block it
     407 00001180     b00d          move    a0,*a13(DRN_BUT)
         00001190     0960  
     408                    
     409 000011a0     0b42          cmpi    AT_PUPPET,a2
         000011b0     ffeb  
     410 000011c0     cb00          jrne    kgidsabt                        ;!Hip toss?
         000011d0     01f4  
     411                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   10

     412 000011e0     09c0          movi    B_M+L_M+D_M,a0          ;Special block
         000011f0     00c2  
     413 00001200     4c83          move    a4,a3                   ;Dly
     414 00001210     5729          clr     a9
     415 00001220     c000          jruc    kgisetbx
         00001230     01d4  
     416                    
     417 00001240           kgimissb
     418 00001240     b0a8          move    a5,*a8(ATTACK_TIME)     ;Cancel
         00001250     05f0  
     419                    
     420 00001260     8460          move    *a3,a0                  ;Cnt+1
     421 00001270     1020          addk    1,a0
     422 00001280     8003          move    a0,*a3
     423                    
     424 00001290           kginoblk
     425                    ;컴컴컴컴컴컴컴                        >New script selection
     426                    
     427 00001290     b7a9          move    *a13(DRN_ACT_p),a9,L    ;A9=*Script
         000012a0     0a10  
     428 000012b0     cb00          jrnz    kgicact                 ;Continue script?
         000012c0     017e  
     429                    
     430                    
     431 000012d0     5642          clr     a2
     432                    
     433 000012e0     0b56          cmpi    MODE_BLOCK,b6
         000012f0     fff8  
     434 00001300     cb16          jrne    kginps                  ;!Blking?
     435 00001310     1fe6          btst    PLAYER_PUNCH_BIT,a6
     436 00001320     cb14          jrnz    kginps                  ;Already pushed?
     437                    
     438                            .if     BLKTEST
     439                            jruc    kginps
     440                            .endif
     441                    
     442 00001330     18e0          movk    7,a0
     443 00001340     0d3f          callr   rndrng0
         00001350     1028  
     444 00001360     4c00          move    a0,a0
     445 00001370     cb0f          jrnz    kginps                  ;Skip 88%?
     446                    
     447 00001380     b5a0          move    *a13(CLOSEST_XDIST),a0
         00001390     0370  
     448 000013a0     0b40          cmpi    110,a0
         000013b0     ff91  
     449 000013c0     c70a          jrgt    kginps                  ;Too far?
     450 000013d0     b5a0          move    *a13(CLOSEST_ZDIST),a0
         000013e0     0390  
     451 000013f0     0b40          cmpi    40,a0
         00001400     ffd7  
     452 00001410     c705          jrgt    kginps                  ;Too far?
     453 00001420     1862          movk    P_M+B_M,a2              ;Push
     454 00001430     b04d          move    a2,*a13(DRN_BUT)
         00001440     0960  
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   11

     455 00001450     c000          jruc    kgix
         00001460     01ce  
     456 00001470           kginps
     457 00001470     b04d          move    a2,*a13(DRN_BUT)
         00001480     0960  
     458                    
     459                            .if     BLKTEST
     460                            jruc    kgix
     461                            .endif
     462                    
     463                    
     464 00001490     4cd6          move    b6,b6
     465 000014a0     cb71          jrnz    kgidoact                        ;!MODE_NORMAL?
     466                    
     467                    
     468 000014b0     b5a0          move    *a13(INRING),a0
         000014c0     0560  
     469 000014d0     ca08          jrz     kgiringok                       ;In ring?
     470                    
     471 000014e0     b500          move    *a8(INRING),a0
         000014f0     0560  
     472 00001500     cb05          jrnz    kgiringok                       ;Opp out?
     473                    
     474 00001510     09e9          movi    drn_enterring,a9
         00001520 0000f8d0' 
     475 00001540     c000          jruc    kginewsc
         00001550     0114  
     476 00001560           kgiringok
     477                    
     478 00001560     b5a3          move    *a13(DRN_MODE),a3
         00001570     0a30  
     479 00001580     0b43          cmpi    -3,a3
         00001590     0002  
     480 000015a0     c62a          jrle    kgipass                 ;Hang back?
     481                    
     482 000015b0     0b57          cmpi    MODE_ONGROUND,b7
         000015c0     fffb  
     483 000015d0     ca5e          jreq    kgidoact                        ;Atk?
     484                    
     485 000015e0     0b57          cmpi    MODE_INAIR2,b7
         000015f0     ffea  
     486 00001600     cb05          jrne    kgionia
     487 00001610     09e9          movi    drn_opinair,a9          ;Avoid jump
         00001620 0000f6e0' 
     488 00001640     c000          jruc    kginewsc
         00001650     0104  
     489 00001660           kgionia
     490 00001660     0b57          cmpi    MODE_RUNNING,b7
         00001670     fffe  
     491 00001680     cb0a          jrne    kgionrun
     492 00001690     b5a0          move    *a13(CLOSEST_XDIST),a0
         000016a0     0370  
     493 000016b0     0b40          cmpi    80,a0
         000016c0     ffaf  
     494 000016d0     c605          jrle    kgionrun                        ;Too close?
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   12

     495 000016e0     09e9          movi    drn_oprun,a9            ;Anti run
         000016f0 0000ed10' 
     496 00001710     c000          jruc    kginewsc
         00001720     00f7  
     497 00001730           kgionrun
     498                    
     499 00001730     b500          move    *a8(ATTACK_TIME),a0
         00001740     05f0  
     500 00001750     05a1          move    @round_tickcount,a1
         00001760 00000000! 
     501 00001780     4420          sub     a1,a0                   ;-=Attack passed, +=Ticks till atk
     502 00001790     11e0          addk    15,a0
     503 000017a0     c541          jrge    kgidoact                        ;Get him after his atk (or no blk)?
     504                    
     505                    
     506 000017b0     4c63          move    a3,a3
     507 000017c0     c408          jrlt    kgipass                 ;Passive?
     508                    
     509 000017d0     1be0          movk    1fh,a0                  ;.6 sec
     510 000017e0     0b4a          cmpi    22*16,a10
         000017f0     fe9f  
     511 00001800     c601          jrle    kgicat
     512 00001810     18e0          movk    7,a0                    ;.15 sec
     513 00001820           kgicat
     514 00001820     0d3f          callr   rnd
         00001830     0fcc  
     515 00001840     ca24          jrz     kgidoactpup             ;Atk?
     516                    
     517                    
     518 00001850           kgipass
     519 00001850     05a0          move    @PCNT,a0                ;Chk every 16
         00001860 00000000! 
     520 00001880     1020          addk    1,a0
     521 00001890     2780          sll     32-4,a0
     522 000018a0     cb00          jrnz    kgix
         000018b0     0189  
     523                    
     524 000018c0     b5a1          move    *a13(CLOSEST_XDIST),a1
         000018d0     0370  
     525 000018e0     b5ae          move    *a13(CLOSEST_ZDIST),a14
         000018f0     0390  
     526 00001900     482e          cmp     a1,a14
     527 00001910     c501          jrge    kgibig
     528 00001920     4c2e          move    a1,a14
     529 00001930           kgibig
     530 00001930     0b4e          cmpi    70,a14
         00001940     ffb9  
     531 00001950     c413          jrlt    kgidoactpup             ;Opp in my face? Attack!
     532                    
     533 00001960     b5a0          move    *a13(DRN_MODE),a0
         00001970     0a30  
     534 00001980     1060          addk    3,a0
     535 00001990     c600          jrle    kgix                    ;Hang back?
         000019a0     017a  
     536                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   13

     537 000019b0     07a1          move    @CURRENT_LADDER,a1,L    ;* to position
         000019c0 00000000! 
     538 000019e0     0b61          cmpi    LADDER,a1
         000019f0 ffffffff! 
     539 00001a10     ca04          jreq    kginratk                        ;1st ladder?
     540                    
     541 00001a20     19e0          movk    0fh,a0                  ;Avg 4.8 sec
     542 00001a30     0d3f          callr   rnd
         00001a40     0fab  
     543 00001a50     ca03          jrz     kgidoactpup             ;Random attack?
     544 00001a60           kginratk
     545 00001a60     4cf7          move    b7,b7
     546 00001a70     ca00          jrz     kgix                    ;Opp MODE_NORMAL? Be passive
         00001a80     016c  
     547 00001a90           kgidoactpup
     548 00001a90     4ef0          move    b7,a0
     549 00001aa0     1620          subk    MODE_PUPPET2,a0
     550 00001ab0     ca00          jreq    kgix
         00001ac0     0168  
     551 00001ad0     1460          subk    MODE_PUPPET-MODE_PUPPET2,a0
     552 00001ae0     ca00          jreq    kgix
         00001af0     0165  
     553 00001b00     0b57          cmpi    MODE_HEADHELD,b7
         00001b10     ffec  
     554 00001b20     ca00          jreq    kgix
         00001b30     0161  
     555 00001b40     0b57          cmpi    MODE_HEADHOLD,b7
         00001b50     ffef  
     556 00001b60     ca00          jreq    kgix
         00001b70     015d  
     557 00001b80     0b57          cmpi    MODE_ATTACHED,b7
         00001b90     fffc  
     558 00001ba0     ca00          jreq    kgix
         00001bb0     0159  
     559                    
     560                    
     561 00001bc0           kgidoact
     562 00001bc0     0b56          cmpi    MODE_HEADHELD,b6
         00001bd0     ffec  
     563 00001be0     ca74          jreq    kgislctscrpt
     564                    
     565 00001bf0     0b56          cmpi    MODE_ONGROUND,b6
         00001c00     fffb  
     566 00001c10     cb05          jrne    kginognd
     567 00001c20     09e9          movi    drn_roll,a9
         00001c30 0000eee0' 
     568 00001c50     c000          jruc    kginewsc
         00001c60     00a3  
     569 00001c70           kginognd
     570 00001c70     0b56          cmpi    MODE_INAIR2,b6
         00001c80     ffea  
     571 00001c90     cb05          jrne    kginin2
     572 00001ca0     09e9          movi    drn_inair,a9
         00001cb0 0000f640' 
     573 00001cd0     c000          jruc    kginewsc
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   14

         00001ce0     009b  
     574 00001cf0           kginin2
     575 00001cf0     0b56          cmpi    MODE_ONTURNBKL,b6
         00001d00     fff9  
     576 00001d10     cb05          jrne    kginotb
     577 00001d20     09e9          movi    drn_ontb,a9
         00001d30 0000f1e0' 
     578 00001d50     c000          jruc    kginewsc
         00001d60     0093  
     579 00001d70           kginotb
     580 00001d70     0b56          cmpi    MODE_DEAD,b6
         00001d80     fff6  
     581 00001d90     cb05          jrne    kgindead
     582 00001da0     18e0          movk    7,a0
     583 00001db0     0d3f          callr   rnd
         00001dc0     0f73  
     584 00001dd0     c000          jruc    kgibutx
         00001de0     0138  
     585 00001df0           kgindead
     586 00001df0     b5a0          move    *a13(ANIMODE),a0
         00001e00     0660  
     587 00001e10     1fa0          btst    MODE_UNINT_BIT,a0
     588 00001e20     cb00          jrnz    kgiunint                        ;Wait?
         00001e30     0131  
     589                    
     590 00001e40     0b56          cmpi    MODE_RUNNING,b6
         00001e50     fffe  
     591 00001e60     cb04          jrne    kginrun
     592 00001e70     09e9          movi    drn_run,a9
         00001e80 0000e410' 
     593 00001ea0     c07f          jruc    kginewsc
     594 00001eb0           kginrun
     595                    
     596 00001eb0     0b56          cmpi    MODE_HEADHOLD,b6
         00001ec0     ffef  
     597 00001ed0     cb0f          jrne    kginhh
     598                    
     599 00001ee0     5600          clr     a0
     600 00001ef0     b00d          move    a0,*a13(DRN_BUTCHRG)    ;Clr it
         00001f00     09c0  
     601                    
     602                    ;       movk    1,a0                    ;50%
     603                    ;       callr   rnd
     604                    ;       jrnz    kginhh                  ;Don't combo?
     605                    
     606 00001f10     4d03          move    a8,a3
     607 00001f20     4da8          move    a13,a8
     608 00001f30     0d5f          calla   CHECK_COMBO_GO
         00001f40 00000000! 
     609 00001f60     c405          jrlt    kgincmb                 ;Can't combo?
     610 00001f70     4c68          move    a3,a8
     611 00001f80     09e9          movi    drn_combo,a9
         00001f90 0000c880' 
     612 00001fb0     c06e          jruc    kginewsc
     613 00001fc0           kgincmb
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   15

     614 00001fc0     4c68          move    a3,a8
     615 00001fd0           kginhh
     616                    
     617 00001fd0     b5a0          move    *a13(DRN_BUTCHRG),a0
         00001fe0     09c0  
     618 00001ff0     ca09          jrz     kginochrg
     619                    
     620 00002000     b5a0          move    *a13(DRN_BUTCHRGDLY),a0
         00002010     09d0  
     621 00002020     c706          jrgt    kginochrg
     622                    
     623 00002030     0b57          cmpi    MODE_BLOCK,b7
         00002040     fff8  
     624 00002050     ca03          jreq    kginochrg                       ;Opp blking?
     625                    
     626 00002060     b7a9          move    *a13(DRN_BUTCHRG_p),a9,L ;Fire charge
         00002070     09e0  
     627 00002080     c061          jruc    kginewsc
     628 00002090           kginochrg
     629                    
     630 00002090     b5ae          move    *a13(CLOSEST_DIST),a14
         000020a0     0360  
     631 000020b0     0b4e          cmpi    200,a14
         000020c0     ff37  
     632 000020d0     c71e          jrgt    kgiopnb
     633                    
     634 000020e0     0b57          cmpi    MODE_BLOCK,b7
         000020f0     fff8  
     635 00002100     cb1b          jrne    kgiopnb                 ;!Blking?
     636                    
     637 00002110     b5ae          move    *a13(CLOSEST_ZDIST),a14
         00002120     0390  
     638 00002130     0b4e          cmpi    40,a14
         00002140     ffd7  
     639 00002150     c712          jrgt    kgibsk
     640                    
     641 00002160     b5ae          move    *a13(CLOSEST_XDIST),a14
         00002170     0370  
     642 00002180     0b4e          cmpi    60,a14
         00002190     ffc3  
     643 000021a0     c70d          jrgt    kgibsk
     644                    
     645 000021b0     b50e          move    *a8(STICK_REL_CUR),a14
         000021c0     0bf0  
     646 000021d0     0b4e          cmpi    MOVE_DOWN_LEFT,a14
         000021e0     fff9  
     647 000021f0     ca04          jreq    kgibht                  ;Hip toss blocked?
     648                    
     649 00002200     09e9          movi    M_shrtblkr,a9           ;Attack
         00002210 00009ad0' 
     650 00002230     c03a          jruc    kgigetscrpt
     651 00002240           kgibht
     652 00002240     09e9          movi    M_shrtblkrdl,a9         ;Attack
         00002250 00009b20' 
     653 00002270     c036          jruc    kgigetscrpt
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   16

     654                    ;       movi    hgrab,a9
     655                    ;       jruc    kginewsc
     656 00002280           kgibsk
     657 00002280     09e9          movi    drn_seekclose,a9
         00002290 0000dce0' 
     658 000022b0     c03e          jruc    kginewsc
     659 000022c0           kgiopnb
     660                    
     661 000022c0     0b57          cmpi    MODE_DEAD,b7
         000022d0     fff6  
     662 000022e0     cb04          jrne    kgiopnd
     663                    
     664 000022f0     09e9          movi    drn_oppdead,a9
         00002300 0000fea0' 
     665 00002320     c037          jruc    kginewsc
     666 00002330           kgiopnd
     667                    
     668 00002330           kgislctscrpt
     669                    
     670 00002330     b5a0          move    *a13(WRESTLERNUM),a0
         00002340     0590  
     671 00002350                   X32     a0
     672 00002360     0b20          addi    kgiwnshort_t,a0
         00002370 00003cf0' 
     673                    
     674 00002390     b5a1          move    *a13(CLOSEST_XDIST),a1
         000023a0     0370  
     675 000023b0     b5ae          move    *a13(CLOSEST_ZDIST),a14
         000023c0     0390  
     676 000023d0                   X2      a14                     ;Z*2
     677 000023e0     482e          cmp     a1,a14
     678 000023f0     c501          jrge    kgihavebig
     679 00002400     4c2e          move    a1,a14
     680 00002410           kgihavebig
     681 00002410     0b4e          cmpi    100,a14
         00002420     ff9b  
     682 00002430     c409          jrlt    kgishrt
     683 00002440     0b20          addi    kgiwnmed_t-kgiwnshort_t,a0
         00002450 00000120  
     684                    
     685 00002470     0b4e          cmpi    180,a14
         00002480     ff4b  
     686 00002490     c403          jrlt    kgimed
     687 000024a0     0b20          addi    kgiwnlong_t-kgiwnmed_t,a0
         000024b0 00000120  
     688 000024d0           kgishrt
     689 000024d0           kgimed
     690 000024d0     8609          move    *a0,a9,L                ;Get * mode list
     691 000024e0     4ed2          move    b6,a2
     692 000024f0     4ef3          move    b7,a3
     693 00002500           kgimdlp
     694 00002500     8f20          movb    *a9,a0                  ;My mode #
     695 00002510     1109          addk    8,a9
     696 00002520     8f2e          movb    *a9,a14                 ;His mode #
     697 00002530     1109          addk    8,a9
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   17

     698 00002540     9721          move    *a9+,a1,L               ;* script * table
     699                    
     700 00002550     4c00          move    a0,a0
     701 00002560     ce02          jrn     kgiinochk                       ;Don't chk?
     702 00002570     4840          cmp     a2,a0
     703 00002580     cbf7          jrne    kgimdlp                 ;Not in mode?
     704 00002590           kgiinochk
     705 00002590     4dce          move    a14,a14
     706 000025a0     ce02          jrn     kgidef                  ;Don't chk?
     707 000025b0     486e          cmp     a3,a14
     708 000025c0     cbf3          jrne    kgimdlp                 ;Not in mode?
     709 000025d0           kgidef
     710 000025d0     4c29          move    a1,a9
     711 000025e0           kgigetscrpt
     712 000025e0     9520          move    *a9+,a0                 ;# entries
     713 000025f0     c505          jrge    kgineok                 ;!Headhold?
     714 00002600     0380          abs     a0
     715 00002610     0b4a          cmpi    26*16,a10
         00002620     fe5f  
     716 00002630     c601          jrle    kgineok                 ;!Hard?
     717 00002640     1820          movk    1,a0                    ;Only do first two
     718 00002650           kgineok
     719 00002650     0d3f          callr   rndrng0
         00002660     0ef7  
     720 00002670                   X32     a0
     721 00002680     4009          add     a0,a9
     722 00002690     8729          move    *a9,a9,L                ;* new script
     723                    
     724 000026a0           kginewsc
     725 000026a0     4ed0          move    b6,a0
     726 000026b0     b00d          move    a0,*a13(DRN_SPMODE)
         000026c0     0a40  
     727                    
     728                    
     729 000026d0     0b56          cmpi    MODE_HEADHOLD,b6
         000026e0     ffef  
     730 000026f0     cb19          jrne    kginhh2
     731                    
     732 00002700     1823          movk    1,a3
     733 00002710     0b53          cmpi    2,b3
         00002720     fffd  
     734 00002730     c401          jrlt    kgihhd1                 ;1 opp?
     735 00002740     1ac3          movk    22,a3
     736 00002750           kgihhd1
     737 00002750     09e0          movi    sklhhdly_t,a0
         00002760 00003750' 
     738 00002780     4140          add     a10,a0                  ;+Offset
     739 00002790     8400          move    *a0,a0
     740 000027a0     0d3f          callr   rndrng0
         000027b0     0ee2  
     741 000027c0     4003          add     a0,a3                   ;Increase per extra bud
     742                    
     743 000027d0     05a0          move    @PCNT,a0
         000027e0 00000000! 
     744 00002800     27e0          sll     32-1,a0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   18

     745 00002810     ca05          jrz     kgihhdok                        ;Skip half of checks?
     746                    
     747 00002820     0b43          cmpi    65,a3
         00002830     ffbe  
     748 00002840     c602          jrle    kgihhdok
     749 00002850     09c3          movi    65,a3                   ;Max delay
         00002860     0041  
     750 00002870           kgihhdok
     751 00002870     5600          clr     a0
     752 00002880     c06f          jruc    kgisetbx
     753 00002890           kginhh2
     754                    
     755 00002890     0b56          cmpi    MODE_HEADHELD,b6
         000028a0     ffec  
     756 000028b0     cb1f          jrne    kginhhe
     757                    
     758 000028c0     5600          clr     a0
     759 000028d0     b00d          move    a0,*a13(DRN_BUTCHRG)    ;Clr it
         000028e0     09c0  
     760                    
     761 000028f0     4e73          move    b3,a3                   ;# on team
     762 00002900     18e0          movk    7,a0
     763 00002910     0d3f          callr   rnd
         00002920     0ebd  
     764 00002930     ca02          jrz     kgihrskmp                       ;12% skip multiplyr delay?
     765 00002940     1423          subk    1,a3
     766 00002950                   X16     a3
     767 00002960           kgihrskmp
     768 00002960     09e0          movi    sklhrdly_t,a0
         00002970 00003930' 
     769 00002990     4140          add     a10,a0                  ;+Offset
     770 000029a0     8400          move    *a0,a0
     771 000029b0     0d3f          callr   rndrng0
         000029c0     0ec1  
     772 000029d0     1020          addk    1,a0
     773 000029e0     4003          add     a0,a3                   ;Increase per extra bud
     774                    
     775 000029f0     05a0          move    @PCNT,a0
         00002a00 00000000! 
     776 00002a20     27e0          sll     32-1,a0
     777 00002a30     ca05          jrz     kgihrdok                        ;Skip half of checks?
     778                    
     779 00002a40     0b43          cmpi    70,a3
         00002a50     ffb9  
     780 00002a60     c602          jrle    kgihrdok
     781 00002a70     09c3          movi    70,a3                   ;Max delay
         00002a80     0046  
     782 00002a90           kgihrdok
     783 00002a90     5600          clr     a0
     784 00002aa0     c04d          jruc    kgisetbx
     785 00002ab0           kginhhe
     786                    
     787                    
     788 00002ab0           kgicact
     789                    ;컴컴컴컴컴컴컴                        0CHhk script for mode change
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   19

     790                    
     791 00002ab0     4ed0          move    b6,a0
     792 00002ac0     ca07          jrz     kgimdsame                       ;MODE_NORMAL?
     793 00002ad0     14e0          subk    MODE_BLOCK,a0
     794 00002ae0     ca05          jreq    kgimdsame                       ;Treat as normal?
     795 00002af0     b5a0          move    *a13(DRN_SPMODE),a0
         00002b00     0a40  
     796 00002b10     4ed1          move    b6,a1
     797 00002b20     4820          cmp     a1,a0
     798                            .if     DEBUG
     799                            jreq    kgidsok
     800                            jruc    kgidsabt                        ;For breakpoint
     801                    kgidsok
     802                            .endif
     803 00002b30     cb5e          jrne    kgidsabt
     804                    
     805 00002b40           kgimdsame
     806                    
     807                            .if     DEBUG
     808                            move    a9,a9                   ;Chk script *
     809                            jrz     kgia9ok
     810                            cmpi    0ff000000h,a9
     811                            jrhs    kgia9ok
     812                            LOCKUP
     813                    kgia9ok
     814                            .endif
     815                    
     816                    ;컴컴컴컴컴컴컴                        >Read script command
     817 00002b40           kgiscplp
     818 00002b40     9520          move    *a9+,a0
     819 00002b50     c541          jrge    kginocd                 ;No command?
     820                    
     821 00002b60     2640          sll     32-14,a0
     822 00002b70     c85b          jrc     kgidsdone                       ;Done? (Bit 14)
     823                    
     824 00002b80     2dc0          srl     32-14,a0
     825                    
     826                    ;컴컴컴컴컴컴컴                        >Seek until 0
     827                    
     828 00002b90     1420          subk    1,a0                    ;kgi1
     829 00002ba0     cb05          jrne    kginseekt0
     830                    
     831 00002bb0     0d3f          callr   drone_seek
         00002bc0     0e22  
     832 00002bd0     caf6          jrz     kgiscplp
     833                    
     834 00002be0     1609          subk    16,a9
     835 00002bf0     c053          jruc    kgidsdone
     836 00002c00           kginseekt0
     837                    ;컴컴컴컴컴컴컴                        >Random skill lvl abort
     838                    
     839 00002c00     1420          subk    1,a0                    ;kgi2
     840 00002c10     cb10          jrne    kginrnda
     841                    
     842 00002c20     0b57          cmpi    MODE_BLOCK,b7
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   20

         00002c30     fff8  
     843 00002c40     ca4d          jreq    kgidsabt                        ;Blking?
     844                    
     845 00002c50     9723          move    *a9+,a3,L               ;*Skill table
     846                    
     847                    ;       clr     a2
     848                    ;       cmpi    sklrev_t,a3
     849                    ;       jrne    kginsr
     850                    ;       move    b3,a2                   ;# on team
     851                    ;       subk    1,a2
     852                    ;       X16     a2
     853                    ;kginsr
     854 00002c60     09c0          movi    99,a0
         00002c70     0063  
     855 00002c80     0d3f          callr   rndrng0
         00002c90     0e94  
     856 00002ca0     4143          add     a10,a3                  ;+Offset
     857 00002cb0     8461          move    *a3,a1
     858                    ;       sub     a2,a1                   ;Decrease per extra bud
     859 00002cc0     4820          cmp     a1,a0
     860 00002cd0     c4e6          jrlt    kgiscplp                        ;Cont?
     861                    
     862 00002ce0     1940          movk    10,a0
     863 00002cf0     b00d          move    a0,*a13(DRN_DELAY)
         00002d00     0a00  
     864                    
     865 00002d10     c040          jruc    kgidsabt
     866 00002d20           kginrnda
     867                    ;컴컴컴컴컴컴컴                        >Wait till interruptable
     868                    
     869 00002d20     1420          subk    1,a0                    ;kgi3
     870 00002d30     cb06          jrne    kginwtint
     871                    
     872 00002d40     b5a0          move    *a13(ANIMODE),a0
         00002d50     0660  
     873 00002d60     1fa0          btst    MODE_UNINT_BIT,a0
     874 00002d70     cadc          jrz     kgiscplp                        ;Off?
     875                    
     876 00002d80     1609          subk    16,a9
     877 00002d90     c039          jruc    kgidsdone
     878 00002da0           kginwtint
     879                    ;컴컴컴컴컴컴컴                        0AbHort if opponent blocking
     880                    
     881 00002da0     1420          subk    1,a0                    ;kgi4
     882 00002db0     cb04          jrne    kginaib
     883                    
     884 00002dc0     0b57          cmpi    MODE_BLOCK,b7
         00002dd0     fff8  
     885 00002de0     cbd5          jrne    kgiscplp                        ;!Blocked?
     886                    
     887 00002df0     c032          jruc    kgidsabt
     888 00002e00           kginaib
     889                    ;컴컴컴컴컴컴컴                        0CaHll code
     890                    
     891 00002e00     1420          subk    1,a0                    ;kgi5
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   21

     892 00002e10     cb03          jrne    kgincall
     893                    
     894 00002e20     9720          move    *a9+,a0,L
     895 00002e30     0920          call    a0
     896                    
     897 00002e40     c0cf          jruc    kgiscplp
     898 00002e50           kgincall
     899                    ;컴컴컴컴컴컴컴                        >Rnd jump
     900                    
     901 00002e50     1420          subk    1,a0                    ;kgi6
     902 00002e60     cb0a          jrne    kginrj
     903                    
     904 00002e70     09c0          movi    99,a0
         00002e80     0063  
     905 00002e90     0d3f          callr   rndrng0
         00002ea0     0e73  
     906 00002eb0     9521          move    *a9+,a1                 ;Percent to jmp
     907 00002ec0     9722          move    *a9+,a2,L
     908 00002ed0     4820          cmp     a1,a0
     909 00002ee0     c5c5          jrge    kgiscplp
     910                    
     911 00002ef0     4c49          move    a2,a9                   ;New addr
     912 00002f00     c0c3          jruc    kgiscplp
     913 00002f10           kginrj
     914                    ;컴컴컴컴컴컴컴                        >Jump
     915                    
     916 00002f10     1420          subk    1,a0                    ;kgi7
     917 00002f20     cb02          jrne    kginjmp
     918                    
     919 00002f30     9729          move    *a9+,a9,L
     920 00002f40     c0bf          jruc    kgiscplp
     921 00002f50           kginjmp
     922                    ;컴컴컴컴컴컴컴                        0CaHll function
     923                    
     924 00002f50     0129          exgpc   a9
     925 00002f60     c0bd          jruc    kgiscplp
     926 00002f70           kginocd
     927                    ;컴컴컴컴컴컴컴                        >Joy & button bits
     928                    
     929 00002f70     9523          move    *a9+,a3                 ;Get delay
     930 00002f80           kgisetbx
     931 00002f80     4c01          move    a0,a1
     932 00002f90     2760          sll     32-5,a0
     933 00002fa0     2ca0          srl     32-5,a0
     934 00002fb0     b00d          move    a0,*a13(DRN_BUT)
         00002fc0     0960  
     935                    
     936 00002fd0     2f61          srl     5,a1
     937 00002fe0     b5ae          move    *a13(FACING_DIR),a14
         00002ff0     04c0  
     938 00003000     1f8e          btst    PLAYER_RIGHT_BIT,a14
     939 00003010     cb0a          jrnz    kgirgt                  ;Facing rgt?
     940                    
     941 00003020     4c20          move    a1,a0                   ;0FHlip L&R bits
     942 00003030     4c2e          move    a1,a14
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   22

     943 00003040     27c1          sll     32-2,a1
     944 00003050     2fa0          srl     3,a0                    ;Bit0=Rgt
     945 00003060     27ae          sll     32-3,a14
     946 00003070     2c2e          srl     31,a14
     947 00003080     242e          sll     1,a14                   ;Bit1=Left
     948 00003090     5401          or      a0,a1
     949 000030a0     55c1          or      a14,a1
     950 000030b0     3041          rl      2,a1
     951 000030c0           kgirgt
     952 000030c0     b02d          move    a1,*a13(DRN_JOY)
         000030d0     0990  
     953                    
     954 000030e0     b06d          move    a3,*a13(DRN_DELAY)
         000030f0     0a00  
     955 00003100     4c63          move    a3,a3
     956 00003110     c701          jrgt    kgidsdone
     957 00003120           kgidsabt
     958 00003120     5729          clr     a9
     959 00003130           kgidsdone
     960 00003130     b32d          move    a9,*a13(DRN_ACT_p),L
         00003140     0a10  
     961                    
     962 00003150           kgiunint
     963                    
     964                    ;컴컴컴컴컴컴컴                        0CaHlc ctrl bit transitions
     965 00003150           kgix
     966 00003150     b5a0          move    *a13(DRN_BUT),a0
         00003160     0960  
     967 00003170           kgibutx
     968 00003170     b5ae          move    *a13(DRN_BUTCHRG),a14
         00003180     09c0  
     969 00003190     55c0          or      a14,a0
     970 000031a0     b00d          move    a0,*a13(DRN_BUT)
         000031b0     0960  
     971 000031c0     5606          xor     a0,a6
     972 000031d0     4cc1          move    a6,a1
     973 000031e0     5006          and     a0,a6
     974 000031f0     b0cd          move    a6,*a13(DRN_BUTDT)
         00003200     0970  
     975 00003210     5201          andn    a0,a1
     976 00003220     b02d          move    a1,*a13(DRN_BUTUT)
         00003230     0980  
     977                    
     978 00003240     b5a0          move    *a13(DRN_JOY),a0
         00003250     0990  
     979 00003260     5607          xor     a0,a7
     980 00003270     4ce1          move    a7,a1
     981 00003280     5007          and     a0,a7
     982 00003290     b0ed          move    a7,*a13(DRN_JOYDT)
         000032a0     09a0  
     983 000032b0     5201          andn    a0,a1
     984 000032c0     b02d          move    a1,*a13(DRN_JOYUT)
         000032d0     09b0  
     985                    
     986 000032e0           kgixx
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   23

     987 000032e0     0960          rets
     988                    
     989                    
     990                    SKLM    .macro  w,ad
     991                            .word   :w:,:w:+:ad:,:w:+:ad:*2,:w:+:ad:*3,:w:+:ad:*4
     992                            .endm
     993                    
     994 000032f0           kgigetup_t                              ;% to bump getup time
     995 000032f0                   SKLM    10,2
     996 00003340                   SKLM    20,2
     997 00003390                   SKLM    30,2
     998 000033e0                   SKLM    40,2
     999 00003430                   SKLM    50,2
    1000 00003480                   SKLM    60,10
    1001 000034d0           kgiblkbase_t                            ;Base % to block
    1002 000034d0                   SKLM    10,2
    1003 00003520                   SKLM    20,2
    1004 00003570                   SKLM    30,1
    1005 000035c0                   SKLM    35,1
    1006 00003610                   SKLM    40,1
    1007 00003660                   SKLM    47,7
    1008 000036b0           kgiblkatk_t                             ;% to block per attack
    1009 000036b0     0000          .word   0,10,20,30,40
    1010 00003700     0032          .word   50,50,50,50,50
    1011 00003750           sklhhdly_t                              ;Max delay on hh
    1012 00003750                   SKLM    150,-6
    1013 000037a0                   SKLM    120,-6
    1014 000037f0                   SKLM    90,-6
    1015 00003840                   SKLM    60,-6
    1016 00003890                   SKLM    28,-3
    1017 000038e0                   SKLM    13,-2
    1018 00003930           sklhrdly_t                              ;Max delay on hh rev
    1019 00003930                   SKLM    150,-6
    1020 00003980                   SKLM    120,-6
    1021 000039d0                   SKLM    90,-6
    1022 00003a20                   SKLM    60,-6
    1023 00003a70                   SKLM    28,-3
    1024 00003ac0                   SKLM    13,-2
    1025 00003b10           sklrep_t                                ;% to repeat
    1026 00003b10                   SKLM    20,4
    1027 00003b60                   SKLM    45,2
    1028 00003bb0                   SKLM    55,4
    1029 00003c00                   SKLM    75,2
    1030 00003c50                   SKLM    85,2
    1031 00003ca0                   SKLM    90,3
    1032                    
    1033                    
    1034                    ;kgigetup_t                             ;% to bump getup time
    1035                    ;       SKLM    5,2
    1036                    ;       SKLM    15,1
    1037                    ;       SKLM    20,2
    1038                    ;       SKLM    30,2
    1039                    ;       SKLM    40,4
    1040                    ;       SKLM    60,10
    1041                    ;kgiblkbase_t                           ;Base % to block
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   24

    1042                    ;       SKLM    5,1
    1043                    ;       SKLM    10,2
    1044                    ;       SKLM    20,2
    1045                    ;       SKLM    30,1
    1046                    ;       SKLM    35,2
    1047                    ;       SKLM    45,7
    1048                    ;kgiblkatk_t                            ;% to block per attack
    1049                    ;       .word   0,10,20,30,40
    1050                    ;       .word   50,50,50,50,50
    1051                    ;sklhhdly_t                             ;Max delay on hh
    1052                    ;       SKLM    200,-10
    1053                    ;       SKLM    150,-6
    1054                    ;       SKLM    120,-9
    1055                    ;       SKLM    70,-8
    1056                    ;       SKLM    35,-4
    1057                    ;       SKLM    15,-2
    1058                    ;sklhrdly_t                             ;Max delay on hh rev
    1059                    ;       SKLM    200,-10
    1060                    ;       SKLM    150,-6
    1061                    ;       SKLM    120,-8
    1062                    ;       SKLM    70,-4
    1063                    ;       SKLM    50,-7
    1064                    ;       SKLM    15,-2
    1065                    ;sklrep_t                               ;% to repeat
    1066                    ;       SKLM    6,3
    1067                    ;       SKLM    20,4
    1068                    ;       SKLM    40,2
    1069                    ;       SKLM    50,4
    1070                    ;       SKLM    70,4
    1071                    ;       SKLM    90,3
    1072                    ;
    1073                    
    1074 00003cf0           kgiwnshort_t
    1075 00003cf0 00007f20'         .long   bret_s_t,raz_s_t,utak_s_t,yoko_s_t
    1076 00003d70 00007740'         .long   shawn_s_t,bam_s_t,doink_s_t,doink_s_t,lex_s_t
    1077 00003e10           kgiwnmed_t
    1078 00003e10 00008040'         .long   bret_m_t,raz_m_t,utak_m_t,yoko_m_t
    1079 00003e90 00007860'         .long   shawn_m_t,bam_m_t,doink_m_t,doink_m_t,lex_m_t
    1080 00003f30           kgiwnlong_t
    1081 00003f30 0000ba50'         .long   bret_l_t,raz_l_t,utak_l_t,yoko_l_t
    1082 00003fb0 0000ba50'         .long   shawn_l_t,bam_l_t,doink_l_t,doink_l_t,lex_l_t
    1083                    
    1084                    
    1085                    *******************************
    1086                    * Drone script commands
    1087                    
    1088                    BBL     .macro  w,w2,l
    1089                            .byte   :w:,:w2:
    1090                            .long   :l:
    1091                            .endm
    1092                    
    1093                    DS_CODE .macro
    1094                            .word   8000h+0
    1095                            .endm
    1096                    DS_CODEEND      .macro
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   25

    1097                            exgpc   a9
    1098                            .endm
    1099                    DS_SEEKTIL0     .macro
    1100                            .word   8000h+1
    1101                            .endm
    1102                    DS_RNDA .macro  l
    1103                            .word   8000h+2
    1104                            .long   :l:
    1105                            .endm
    1106                    DS_WTINT        .macro
    1107                            .word   8000h+3
    1108                            .endm
    1109                    DS_ABIFBLK      .macro
    1110                            .word   8000h+4
    1111                            .endm
    1112                    DS_CALL .macro  a
    1113                            .word   8000h+5
    1114                            .long   :a:
    1115                            .endm
    1116                    DS_RJMP .macro  p,a
    1117                            .word   8000h+6,:p:
    1118                            .long   :a:
    1119                            .endm
    1120                    DS_JMP  .macro  a
    1121                            .word   8000h+7
    1122                            .long   :a:
    1123                            .endm
    1124                    DS_SLP1 .macro
    1125                            .word   0c000h+0
    1126                            .endm
    1127                    DS_END  .macro
    1128                            .word   0,0
    1129                            .endm
    1130                    
    1131                    ;컴컴컴컴컴컴컴                0BaHm bam scripts
    1132                    
    1133 00004050           bam_s_t
    1134 00004050                   BBL     MODE_HEADHOLD,-1,baM_hh
    1135 00004080                   BBL     MODE_HEADHELD,-1,baM_hhr
    1136 000040b0                   BBL     MODE_OPPOVERHEAD,-1,baM_ooh
    1137 000040e0                   BBL     -1,MODE_ONGROUND,M_og
    1138 00004110                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1139 00004140                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1140 00004170                   WL      -1,baM_n
    1141 000041a0           bam_m_t
    1142 000041a0                   BBL     MODE_HEADHOLD,-1,baM_hh
    1143 000041d0                   BBL     MODE_HEADHELD,-1,baM_hhr
    1144 00004200                   BBL     MODE_OPPOVERHEAD,-1,baM_ooh
    1145 00004230                   BBL     -1,MODE_ONGROUND,Mm_og
    1146 00004260                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1147 00004290                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1148 000042c0                   WL      -1,baMm_n
    1149                    
    1150 000042f0           baM_n   ;Normal
    1151 000042f0     000d          .word   (baM_n_-$)/32-1
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   26

    1152 00004300 0000a390'         .long   dtprun
    1153 00004320 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1154 000043a0 00009b70'         .long   dtpspx
    1155 000043c0 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1156 00004420 0000a480'         .long   dtpflng
    1157 00004440 0000a560'         .long   dtphtoss,dtphtoss
    1158 00004480 0000a1f0'         .long   dtpllsk         ;Karate kick
    1159 000044a0 00009d30'         .long   dtpspsk         ;Pickup
    1160 000044c0           baM_n_
    1161 000044c0           baMm_n
    1162 000044c0     0009          .word   (baMm_n_-$)/32-1
    1163 000044d0 0000dbc0'         .long   drn_seek
    1164 000044f0 0000dea0'         .long   drn_retreat
    1165 00004510 0000a390'         .long   dtprun
    1166 00004530 00009cd0'         .long   dtpsp
    1167 00004550 00009d10'         .long   dtpsk
    1168                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1169 00004570 0000a480'         .long   dtpflng
    1170 00004590 0000a1f0'         .long   dtpllsk         ;Karate kick
    1171 000045b0 00009d30'         .long   dtpspsk         ;Pickup
    1172 000045d0 0000a6d0'         .long   dtpfast         ;Hyper
    1173 000045f0 0000a640'         .long   dtpchrg
    1174 00004610           baMm_n_
    1175 00004610           baM_hh  ;Holding head
    1176                    ;       .word   1-1
    1177                    ;       .long   dtpbahh
    1178 00004610     fffa          .word   -(7-1)
    1179 00004620 00004a70'         .long   dtpbahhpg               ;Pogo
    1180 00004640 0000b890'         .long   dtplrrsp                ;Pile drvr
    1181 00004660 0000aed0'         .long   dtpjk           ;Pickup
    1182 00004680 000047e0'         .long   dtpbahhrsk      ;Knees (3 way)
    1183 000046a0 000047e0'         .long   dtpbahhrsk
    1184 000046c0 000047e0'         .long   dtpbahhrsk
    1185 000046e0 0000b9d0'         .long   dtpspsk2                ;Neck brkr
    1186                    
    1187 00004700           baM_hhr ;Head held reversals
    1188 00004700     0003          .word   4-1
    1189 00004710 00009cf0'         .long   dtpk
    1190 00004730 00004a70'         .long   dtpbahhpg               ;Pogo
    1191 00004750 0000b890'         .long   dtplrrsp                ;Pile drvr
    1192 00004770 0000b9d0'         .long   dtpspsk2                ;Neck brkr
    1193                    
    1194 00004790           baM_ooh ;Holding opp over head
    1195 00004790     0001          .word   2-1
    1196 000047a0 00009cf0'         .long   dtpk            ;Slam
    1197 000047c0 0000a2b0'         .long   dtpdsk          ;Back brkr
    1198                    
    1199 000047e0           dtpbahhrsk ;Knees
    1200 000047e0     0110          .word   R_M+SK_M,2
    1201 00004800     0000          .word   0,5
    1202                    ;FIX! - chk timing
    1203 00004820     0010          .word   SK_M,4, 0,4, SK_M,4, 0,4, SK_M,4, 0,4
    1204 000048e0                   DS_RNDA sklrep_t
    1205 00004910     0010          .word   SK_M,4, 0,4, SK_M,4, 0,4, SK_M,4, 0,4
    1206 000049d0                   DS_RJMP 33,dtpk         ;Hip toss
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   27

    1207 00004a10                   DS_RJMP 33,dtpsp                ;Pickup
    1208 00004a50     0044          .word   D_M+SP_M,0      ;Pile drvr
    1209 00004a70           dtpbahhpg
    1210 00004a70     0020          .word   U_M,2, D_M,2, 0,2, D_M,2, SK_M,50
    1211 00004b10                   DS_RNDA sklrep_t
    1212 00004b40     0004          .word   SP_M,2, 0,2, SP_M,2, 0,2, SP_M,2, 0,15  ;Repeat
    1213 00004c00                   DS_RNDA sklrep_t
    1214 00004c30     0004          .word   SP_M,2, 0,2, SP_M,2, 0,2, SP_M,2, 0,15
    1215 00004cf0     0004          .word   SP_M,2, 0,2, SP_M,2, 0,2, SP_M,0
    1216                    
    1217                    
    1218                    ;컴컴컴컴컴컴컴                >Undertaker scripts
    1219                    
    1220 00004d90           utak_s_t
    1221 00004d90                   BBL     MODE_HEADHOLD,-1,utM_hh
    1222 00004dc0                   BBL     MODE_HEADHELD,-1,M_hhr
    1223 00004df0                   BBL     MODE_CHOKEHOLD,-1,utM_chold
    1224 00004e20                   BBL     -1,MODE_ONGROUND,M_og
    1225 00004e50                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1226 00004e80                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1227 00004eb0                   WL      -1,utM_n
    1228 00004ee0           utak_m_t
    1229 00004ee0                   BBL     MODE_HEADHOLD,-1,utM_hh
    1230 00004f10                   BBL     MODE_HEADHELD,-1,M_hhr
    1231 00004f40                   BBL     MODE_CHOKEHOLD,-1,utM_chold
    1232 00004f70                   BBL     -1,MODE_ONGROUND,Mm_og
    1233 00004fa0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1234 00004fd0                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1235 00005000                   WL      -1,utMm_n
    1236                    
    1237 00005030           utM_n   ;Normal
    1238                    ;       .word   1-1
    1239                    ;       .long   dtput
    1240 00005030     0010          .word   (utM_n_-$)/32-1
    1241 00005040 0000a390'         .long   dtprun
    1242 00005060 00009b70'         .long   dtpspx
    1243 00005080 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1244 00005100 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1245 00005160 0000a480'         .long   dtpflng
    1246 00005180 0000a560'         .long   dtphtoss,dtphtoss
    1247 000051c0 0000a5c0'         .long   dtpucut
    1248 000051e0 000055b0'         .long   dtputshootps    ;Fire push ghosts
    1249 00005200 00005690'         .long   dtputshootpl    ;Fire pull ghosts
    1250 00005220 00005770'         .long   dtputtombhit    ;Smash with tombstone
    1251 00005240 0000adb0'         .long   dtpjp           ;Slide choke
    1252 00005260           utM_n_
    1253 00005260           utMm_n
    1254                    ;       .word   1-1
    1255                    ;       .long   dtputshootpl
    1256 00005260     000b          .word   (utMm_n_-$)/32-1
    1257 00005270 0000dbc0'         .long   drn_seek
    1258 00005290 0000dea0'         .long   drn_retreat
    1259 000052b0 0000a390'         .long   dtprun
    1260 000052d0 00009cd0'         .long   dtpsp
    1261 000052f0 00009d10'         .long   dtpsk
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   28

    1262                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1263 00005310 0000a480'         .long   dtpflng
    1264 00005330 000055b0'         .long   dtputshootps    ;Fire push ghosts
    1265 00005350 00005690'         .long   dtputshootpl    ;Fire pull ghosts
    1266 00005370 00005770'         .long   dtputtombhit    ;Smash with tombstone
    1267 00005390 0000adb0'         .long   dtpjp           ;Slide choke
    1268 000053b0 0000a6d0'         .long   dtpfast         ;Hyper
    1269 000053d0 0000a640'         .long   dtpchrg
    1270 000053f0           utMm_n_
    1271 000053f0           utM_hh  ;Holding head
    1272 000053f0     fffb          .word   -(6-1)
    1273 00005400 0000b2a0'         .long   dtpuddsk                ;Pile drv
    1274 00005420 0000b890'         .long   dtplrrsp                ;Neck brkr
    1275 00005440 00005a80'         .long   dtputhhrp
    1276 00005460 0000a5c0'         .long   dtpucut
    1277 00005480 00005770'         .long   dtputtombhit    ;Smash with tombstone
    1278 000054a0 00005f20'         .long   dtputdk         ;Face slam
    1279                    
    1280 000054c0           utM_chold ;Choke holding opp by neck
    1281 000054c0     0006          .word   7-1
    1282 000054d0 00009cb0'         .long   dtpp
    1283 000054f0 00009cf0'         .long   dtpk
    1284 00005510 0000a560'         .long   dtphtoss
    1285 00005530 0000a5c0'         .long   dtpucut
    1286 00005550 00005cd0'         .long   dtputchup
    1287 00005570 00005f20'         .long   dtputdk         ;Face slam
    1288 00005590 0000a2b0'         .long   dtpdsk          ;Slam
    1289                    
    1290 000055b0           dtputshootps
    1291 000055b0     0100          .word   R_M,2, 0,2, R_M,2, K_M,2, 0,2
    1292 00005650                   DS_WTINT
    1293 00005660                   DS_ABIFBLK
    1294 00005670     0009          .word   P_M+K_M,0
    1295 00005690           dtputshootpl
    1296 00005690     0080          .word   L_M,2, 0,2, L_M,2, K_M,2, 0,2
    1297 00005730                   DS_WTINT
    1298 00005740                   DS_ABIFBLK
    1299 00005750     0044          .word   D_M+SP_M,0
    1300 00005770           dtputtombhit
    1301 00005770     0100          .word   R_M,2, 0,2, R_M,2, SK_M,5
    1302 000057f0                   DS_RNDA sklrep_t
    1303 00005820     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,4, 0,4      ;Repeat
    1304 000058e0                   DS_ABIFBLK
    1305 000058f0                   DS_RNDA sklrep_t
    1306 00005920     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,4, 0,4
    1307 000059e0     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,0
    1308                    
    1309 00005a80           dtputhhrp ;Knee & hdbuts
    1310 00005a80     0101          .word   R_M+P_M,2
    1311 00005aa0     0000          .word   0,5
    1312                    ;FIX! - chk timing
    1313 00005ac0     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
    1314 00005b80                   DS_RNDA sklrep_t
    1315 00005bb0     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
    1316 00005c70                   DS_RJMP 50,dtpsp                ;Fly kick
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   29

    1317 00005cb0     0008          .word   K_M,0           ;Neck brkr
    1318                    
    1319 00005cd0           dtputchup ;Knee & hdbuts
    1320 00005cd0     0021          .word   U_M+P_M,2
    1321 00005cf0     0000          .word   0,5
    1322 00005d10     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
    1323 00005dd0                   DS_RNDA sklrep_t
    1324 00005e00     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
    1325 00005ec0                   DS_RJMP 50,dtpsp                ;Fly kick
    1326 00005f00     0008          .word   K_M,0           ;Neck brkr
    1327                    
    1328 00005f20           dtputdk ;Face slam
    1329 00005f20     0040          .word   D_M,2, 0,2, D_M+K_M,2
    1330 00005f80                   DS_RNDA sklrep_t
    1331 00005fb0     0000          .word   0,5
    1332 00005fd0     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4      ;Repeat
    1333 00006090     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
    1334 00006150                   DS_RNDA sklrep_t
    1335 00006180     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,0
    1336                    
    1337                    
    1338                    ;컴컴컴컴컴컴컴                0DHoink scripts
    1339                    
    1340 00006220           doink_s_t
    1341 00006220                   BBL     MODE_HEADHOLD,-1,doM_hh
    1342 00006250                   BBL     MODE_HEADHELD,-1,doM_hhr
    1343 00006280                   BBL     -1,MODE_ONGROUND,M_og
    1344 000062b0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1345 000062e0                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1346 00006310                   WL      -1,doM_n
    1347 00006340           doink_m_t
    1348 00006340                   BBL     MODE_HEADHOLD,-1,doM_hh
    1349 00006370                   BBL     MODE_HEADHELD,-1,doM_hhr
    1350 000063a0                   BBL     -1,MODE_ONGROUND,Mm_og
    1351 000063d0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1352 00006400                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1353 00006430                   WL      -1,doMm_n
    1354                    
    1355 00006460           doM_n   ;Normal
    1356                    ;       .word   1-1
    1357                    ;       .long   dtpeslap
    1358 00006460     000f          .word   (doM_n_-$)/32-1
    1359 00006470 0000a390'         .long   dtprun
    1360 00006490 00009b70'         .long   dtpspx
    1361 000064b0 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1362 00006530 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1363 00006590 0000a480'         .long   dtpflng
    1364 000065b0 0000a560'         .long   dtphtoss,dtphtoss
    1365 000065f0 0000a5c0'         .long   dtpucut
    1366 00006610 00006940'         .long   dtpdoham                ;Hammer
    1367 00006630 00006c40'         .long   dtpdoeslap      ;Ear slap
    1368 00006650 00006ea0'         .long   dtpdopbig               ;Boxing punch
    1369 00006670           doM_n_
    1370 00006670           doMm_n
    1371                    ;       .word   1-1
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   30

    1372                    ;       .long   dtpdoeslap
    1373 00006670     0009          .word   (doMm_n_-$)/32-1
    1374 00006680 0000dbc0'         .long   drn_seek
    1375 000066a0 0000dea0'         .long   drn_retreat
    1376 000066c0 0000a390'         .long   dtprun
    1377 000066e0 00009cd0'         .long   dtpsp
    1378 00006700 00009d10'         .long   dtpsk
    1379                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1380 00006720 0000a480'         .long   dtpflng
    1381 00006740 00006940'         .long   dtpdoham                ;Hammer
    1382 00006760 00006c40'         .long   dtpdoeslap      ;Ear slap
    1383 00006780 0000a6d0'         .long   dtpfast         ;Hyper
    1384 000067a0 0000a640'         .long   dtpchrg
    1385 000067c0           doMm_n_
    1386 000067c0           doM_hh  ;Holding head
    1387 000067c0     fff9          .word   -(8-1)
    1388 000067d0 0000b340'         .long   dtpuddskk               ;Face slam
    1389 000067f0 0000b890'         .long   dtplrrsp                ;Pile drv
    1390 00006810 00006940'         .long   dtpdoham
    1391 00006830 0000ad90'         .long   dtpj2p          ;Buzz
    1392 00006850 0000a7d0'         .long   dtphhp3k                ;P & fly kick
    1393 00006870 0000a930'         .long   dtphhp4
    1394 00006890 0000aad0'         .long   dtphhp3pd               ;P & pdrv
    1395 000068b0 0000ac30'         .long   dtphhsk3pd      ;K & pdrv
    1396                    
    1397 000068d0           doM_hhr ;Head held reversals
    1398 000068d0     0002          .word   3-1
    1399 000068e0 00009cf0'         .long   dtpk
    1400 00006900 0000b340'         .long   dtpuddskk               ;Face slam
    1401 00006920 0000b890'         .long   dtplrrsp                ;Pile drv
    1402                    
    1403 00006940     0100  dtpdoham        .word   R_M,2, 0,2, R_M,2, SK_M,10
    1404 000069c0                   DS_RNDA sklrep_t
    1405 000069f0     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,4, 0,4      ;Repeat
    1406 00006ab0                   DS_RNDA sklrep_t
    1407 00006ae0     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,4, 0,4
    1408 00006ba0     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,0
    1409                    
    1410 00006c40           dtpdoeslap
    1411 00006c40     0040          .word   D_M,2, D_M+R_M,2, R_M,2, P_M,2
    1412 00006cc0                   DS_RNDA sklrep_t
    1413 00006cf0     0000          .word   0,5, P_M,5, 0,5, P_M,5                  ;Repeat
    1414 00006d70                   DS_RNDA sklrep_t
    1415 00006da0     0000          .word   0,5, P_M,5, 0,5, P_M,5
    1416 00006e20     0000          .word   0,5, P_M,5, 0,5, P_M,0
    1417                    
    1418 00006ea0     0001  dtpdopbig       .word   P_M,2, 0,2, P_M,2, 0,2, P_M,2, 0,2, P_M,2, 0,2
    1419 00006fa0     0001          .word   P_M,2, 0,2, P_M,2, 0,2, P_M,0
    1420                    
    1421                    
    1422                    ;컴컴컴컴컴컴컴                >Yoko scripts
    1423                    
    1424 00007040           yoko_s_t
    1425 00007040                   BBL     MODE_HEADHOLD,-1,yoM_hh
    1426 00007070                   BBL     MODE_HEADHELD,-1,M_hhr
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   31

    1427 000070a0                   BBL     MODE_OPPOVERHEAD,-1,yoM_ooh
    1428 000070d0                   BBL     -1,MODE_ONGROUND,M_og
    1429 00007100                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1430 00007130                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1431 00007160                   WL      -1,yoM_n
    1432 00007190           yoko_m_t
    1433 00007190                   BBL     MODE_HEADHOLD,-1,yoM_hh
    1434 000071c0                   BBL     MODE_HEADHELD,-1,M_hhr
    1435 000071f0                   BBL     MODE_OPPOVERHEAD,-1,yoM_ooh
    1436 00007220                   BBL     -1,MODE_ONGROUND,Mm_og
    1437 00007250                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1438 00007280                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1439 000072b0                   WL      -1,yoMm_n
    1440                    
    1441 000072e0           yoM_n   ;Normal
    1442                    ;       .word   1-1
    1443                    ;       .long   dtpeslap
    1444 000072e0     000f          .word   (yoM_n_-$)/32-1
    1445 000072f0 0000a390'         .long   dtprun
    1446 00007310 00009b70'         .long   dtpspx
    1447 00007330 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1448 000073b0 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1449 00007410 0000a480'         .long   dtpflng
    1450 00007430 0000a560'         .long   dtphtoss,dtphtoss
    1451 00007470 0000adb0'         .long   dtpjp           ;Speed jab
    1452 00007490 0000a170'         .long   dtprrsk         ;Scissor squish
    1453 000074b0 0000a070'         .long   dtprrp          ;Gut push
    1454 000074d0 00009d30'         .long   dtpspsk         ;Pickup
    1455 000074f0           yoM_n_
    1456 000074f0           yoMm_n
    1457                    ;       .word   1-1
    1458                    ;       .long   dtpdoeslap
    1459 000074f0     000a          .word   (yoMm_n_-$)/32-1
    1460 00007500 0000dbc0'         .long   drn_seek
    1461 00007520 0000dea0'         .long   drn_retreat
    1462 00007540 0000a390'         .long   dtprun
    1463 00007560 00009cd0'         .long   dtpsp
    1464 00007580 00009d10'         .long   dtpsk
    1465                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1466 000075a0 0000a480'         .long   dtpflng
    1467 000075c0 0000adb0'         .long   dtpjp           ;Speed jab
    1468 000075e0 0000a170'         .long   dtprrsk         ;Scissor squish
    1469 00007600 00009d30'         .long   dtpspsk         ;Pickup
    1470 00007620 0000a6d0'         .long   dtpfast         ;Hyper
    1471 00007640 0000a640'         .long   dtpchrg
    1472 00007660           yoMm_n_
    1473 00007660           yoM_hh  ;Holding head
    1474 00007660     fffd          .word   -(4-1)
    1475 00007670 0000b2a0'         .long   dtpuddsk                ;Vert suplex
    1476 00007690 0000b890'         .long   dtplrrsp                ;Scissor squish
    1477 000076b0 0000ad90'         .long   dtpj2p          ;Salt
    1478 000076d0 0000a5c0'         .long   dtpucut
    1479                    
    1480 000076f0           yoM_ooh ;Holding opp over head
    1481 000076f0     0001          .word   2-1
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   32

    1482 00007700 00009cf0'         .long   dtpk            ;Slam
    1483 00007720 0000a2b0'         .long   dtpdsk          ;Spinning slam
    1484                    
    1485                    
    1486                    ;컴컴컴컴컴컴컴                >Shawn scripts
    1487                    
    1488 00007740           shawn_s_t
    1489 00007740                   BBL     MODE_HEADHOLD,-1,shM_hh
    1490 00007770                   BBL     MODE_HEADHELD,-1,shM_hhr
    1491 000077a0                   BBL     -1,MODE_ONGROUND,M_og
    1492 000077d0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1493 00007800                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1494 00007830                   WL      -1,shM_n
    1495 00007860           shawn_m_t
    1496 00007860                   BBL     MODE_HEADHOLD,-1,shM_hh
    1497 00007890                   BBL     MODE_HEADHELD,-1,shM_hhr
    1498 000078c0                   BBL     -1,MODE_ONGROUND,Mm_og
    1499 000078f0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1500 00007920                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1501 00007950                   WL      -1,shMm_n
    1502                    
    1503 00007980           shM_n   ;Normal
    1504                    ;       .word   1-1
    1505                    ;       .long   dtpeslap
    1506 00007980     0010          .word   (shM_n_-$)/32-1
    1507 00007990 0000a390'         .long   dtprun
    1508 000079b0 00009b70'         .long   dtpspx
    1509 000079d0 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1510 00007a50 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1511 00007ab0 0000a480'         .long   dtpflng
    1512 00007ad0 0000a560'         .long   dtphtoss,dtphtoss
    1513 00007b10 0000a1f0'         .long   dtpllsk         ;Karate kick
    1514 00007b30 0000af50'         .long   dtpjkk          ;Speed kick
    1515 00007b50 0000a170'         .long   dtprrsk         ;Frankensteiner
    1516 00007b70 0000a0f0'         .long   dtprrk          ;Sliding kick toss
    1517 00007b90 0000b0d0'         .long   dtpjisp         ;Flipslam
    1518 00007bb0           shM_n_
    1519 00007bb0           shMm_n
    1520                    ;       .word   1-1
    1521                    ;       .long   dtpdoeslap
    1522 00007bb0     000c          .word   (shMm_n_-$)/32-1
    1523 00007bc0 0000dbc0'         .long   drn_seek
    1524 00007be0 0000dea0'         .long   drn_retreat
    1525 00007c00 0000a390'         .long   dtprun
    1526 00007c20 00009cd0'         .long   dtpsp
    1527 00007c40 00009d10'         .long   dtpsk
    1528                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1529 00007c60 0000a480'         .long   dtpflng
    1530 00007c80 0000a1f0'         .long   dtpllsk         ;Karate kick
    1531 00007ca0 0000af50'         .long   dtpjkk          ;Speed kick
    1532 00007cc0 0000a170'         .long   dtprrsk         ;Frankensteiner
    1533 00007ce0 0000a0f0'         .long   dtprrk          ;Sliding kick toss
    1534 00007d00 0000b0d0'         .long   dtpjisp         ;Flipslam
    1535 00007d20 0000a6d0'         .long   dtpfast         ;Hyper
    1536 00007d40 0000a640'         .long   dtpchrg
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   33

    1537 00007d60           shMm_n_
    1538 00007d60           shM_hh  ;Holding head
    1539 00007d60     fff9          .word   -(8-1)
    1540 00007d70 0000b2a0'         .long   dtpuddsk                ;German suplex
    1541 00007d90 0000b890'         .long   dtplrrsp                ;Frankensteiner
    1542 00007db0 00009f70'         .long   dtprsk4k                ;Quick knees
    1543 00007dd0 0000af50'         .long   dtpjkk          ;Speed kick
    1544 00007df0 00009d50'         .long   dtprp           ;Arm break
    1545 00007e10 00009d90'         .long   dtprsp4         ;Jmp head butt
    1546 00007e30 00009e70'         .long   dtprk4          ;Speed kick
    1547 00007e50 0000b930'         .long   dtplrrk         ;Kick toss
    1548                    
    1549 00007e70           shM_hhr ;Head held reversals
    1550 00007e70     0004          .word   5-1
    1551 00007e80 00009cf0'         .long   dtpk
    1552 00007ea0 0000b2a0'         .long   dtpuddsk                ;German suplex
    1553 00007ec0 0000b890'         .long   dtplrrsp                ;Frankensteiner
    1554 00007ee0 0000b930'         .long   dtplrrk         ;Kick toss
    1555 00007f00 0000af50'         .long   dtpjkk          ;Speed kick
    1556                    
    1557                    
    1558                    ;컴컴컴컴컴컴컴                0BHret scripts
    1559                    
    1560 00007f20           bret_s_t
    1561 00007f20                   BBL     MODE_HEADHOLD,-1,brM_hh
    1562 00007f50                   BBL     MODE_HEADHELD,-1,brM_hhr
    1563 00007f80                   BBL     -1,MODE_ONGROUND,M_og
    1564 00007fb0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1565 00007fe0                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1566 00008010                   WL      -1,brM_n
    1567 00008040           bret_m_t
    1568 00008040                   BBL     MODE_HEADHOLD,-1,brM_hh
    1569 00008070                   BBL     MODE_HEADHELD,-1,brM_hhr
    1570 000080a0                   BBL     -1,MODE_ONGROUND,Mm_og
    1571 000080d0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1572 00008100                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1573 00008130                   WL      -1,brMm_n
    1574                    
    1575 00008160           brM_n   ;Normal
    1576                    ;       .word   1-1
    1577                    ;       .long   dtpeslap
    1578 00008160     0010          .word   (brM_n_-$)/32-1
    1579 00008170 0000a390'         .long   dtprun
    1580 00008190 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1581 00008210 00009b70'         .long   dtpspx
    1582 00008230 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1583 00008290 0000a480'         .long   dtpflng
    1584 000082b0 0000a560'         .long   dtphtoss,dtphtoss
    1585 000082f0 0000a5c0'         .long   dtpucut
    1586 00008310 0000a2d0'         .long   dtpddp          ;Leap ucut
    1587 00008330 0000adb0'         .long   dtpjp           ;Face rake
    1588 00008350 0000ae30'         .long   dtpj2sp         ;Rolling ucut
    1589 00008370 0000a1f0'         .long   dtpllsk         ;Fast kick
    1590 00008390           brM_n_
    1591 00008390           brMm_n
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   34

    1592                    ;       .word   1-1
    1593                    ;       .long   dtpdoeslap
    1594 00008390     000b          .word   (brMm_n_-$)/32-1
    1595 000083a0 0000dbc0'         .long   drn_seek
    1596 000083c0 0000dea0'         .long   drn_retreat
    1597 000083e0 0000a390'         .long   dtprun
    1598 00008400 00009cd0'         .long   dtpsp
    1599 00008420 00009d10'         .long   dtpsk
    1600                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1601 00008440 0000a480'         .long   dtpflng
    1602 00008460 0000a2d0'         .long   dtpddp          ;Leap ucut
    1603 00008480 0000adb0'         .long   dtpjp           ;Face rake
    1604 000084a0 0000ae30'         .long   dtpj2sp         ;Rolling ucut
    1605 000084c0 0000a1f0'         .long   dtpllsk         ;Fast kick
    1606 000084e0 0000a6d0'         .long   dtpfast         ;Hyper
    1607 00008500 0000a640'         .long   dtpchrg
    1608 00008520           brMm_n_
    1609 00008520           brM_hh  ;Holding head
    1610 00008520     fffa          .word   -(7-1)
    1611 00008530 0000b2a0'         .long   dtpuddsk                ;Neck DDT
    1612 00008550 0000b890'         .long   dtplrrsp                ;Pile drvr
    1613 00008570 0000a5c0'         .long   dtpucut
    1614 00008590 0000b150'         .long   dtpjpx          ;Face drvr
    1615                    ;FIX! - broke
    1616 000085b0 00009d50'         .long   dtprp           ;Arm break
    1617 000085d0 00009d70'         .long   dtprsp          ;Head to knee
    1618                    ;FIX! - broke
    1619 000085f0 0000b7f0'         .long   dtplrrp         ;Knee to face
    1620                    
    1621 00008610           brM_hhr ;Head held reversals
    1622 00008610     0003          .word   4-1
    1623 00008620 00009cf0'         .long   dtpk
    1624 00008640 0000b2a0'         .long   dtpuddsk                ;Neck DDT
    1625 00008660 0000b890'         .long   dtplrrsp                ;Pile drvr
    1626 00008680 0000b7f0'         .long   dtplrrp         ;Kick toss
    1627                    ;       .long   dtpjk           ;
    1628                    
    1629                    
    1630                    ;컴컴컴컴컴컴컴                >Razor scripts
    1631                    
    1632 000086a0           raz_s_t
    1633 000086a0                   BBL     MODE_HEADHOLD,-1,rzM_hh
    1634 000086d0                   BBL     MODE_HEADHELD,-1,rzM_hhr
    1635 00008700                   BBL     -1,MODE_ONGROUND,M_og
    1636 00008730                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1637 00008760                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1638 00008790                   WL      -1,rzM_n
    1639 000087c0           raz_m_t
    1640 000087c0                   BBL     MODE_HEADHOLD,-1,rzM_hh
    1641 000087f0                   BBL     MODE_HEADHELD,-1,rzM_hhr
    1642 00008820                   BBL     -1,MODE_ONGROUND,Mm_og
    1643 00008850                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1644 00008880                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1645 000088b0                   WL      -1,rzMm_n
    1646                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   35

    1647 000088e0           rzM_n   ;Normal
    1648                    ;       .word   1-1
    1649                    ;       .long   dtpeslap
    1650 000088e0     000e          .word   (rzM_n_-$)/32-1
    1651 000088f0 0000a390'         .long   dtprun
    1652 00008910 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1653 00008990 00009b70'         .long   dtpspx
    1654 000089b0 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1655 00008a10 0000a480'         .long   dtpflng
    1656 00008a30 0000a560'         .long   dtphtoss,dtphtoss
    1657 00008a70 0000a5c0'         .long   dtpucut
    1658 00008a90 0000adb0'         .long   dtpjp           ;Down slash
    1659 00008ab0 0000a0f0'         .long   dtprrk          ;Rug slam
    1660 00008ad0           rzM_n_
    1661 00008ad0           rzMm_n
    1662                    ;       .word   1-1
    1663                    ;       .long   dtpdoeslap
    1664 00008ad0     0008          .word   (rzMm_n_-$)/32-1
    1665 00008ae0 0000dbc0'         .long   drn_seek
    1666 00008b00 0000dea0'         .long   drn_retreat
    1667 00008b20 0000a390'         .long   dtprun
    1668 00008b40 00009cd0'         .long   dtpsp
    1669 00008b60 00009d10'         .long   dtpsk
    1670                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1671 00008b80 0000a480'         .long   dtpflng
    1672 00008ba0 0000adb0'         .long   dtpjp           ;Down slash
    1673 00008bc0 0000a6d0'         .long   dtpfast         ;Hyper
    1674 00008be0 0000a640'         .long   dtpchrg
    1675 00008c00           rzMm_n_
    1676 00008c00           rzM_hh  ;Holding head
    1677 00008c00     fffb          .word   -(6-1)
    1678 00008c10 0000b2a0'         .long   dtpuddsk                ;P drvr
    1679 00008c30 0000b890'         .long   dtplrrsp                ;Razors edge
    1680 00008c50 00008d60'         .long   dtprzup4                ;Slashes up
    1681 00008c70 00008e40'         .long   dtprzdp4                ;Slashes dn
    1682 00008c90 0000a5c0'         .long   dtpucut
    1683 00008cb0 00008f20'         .long   dtprzuddksp     ;Rug shake
    1684                    
    1685 00008cd0           rzM_hhr ;Head held reversals
    1686 00008cd0     0003          .word   4-1
    1687 00008ce0 00009cf0'         .long   dtpk
    1688 00008d00 0000b2a0'         .long   dtpuddsk                ;P drvr
    1689 00008d20 0000b890'         .long   dtplrrsp                ;Razors edge
    1690 00008d40 00008f20'         .long   dtprzuddksp     ;Rug shake
    1691                    
    1692 00008d60     0021  dtprzup4        .word   U_M+P_M,5, 0,5, P_M,5, 0,5, P_M,5, 0,5, P_M,0
    1693 00008e40     0041  dtprzdp4        .word   D_M+P_M,5, 0,5, P_M,5, 0,5, P_M,5, 0,5, P_M,0
    1694                    
    1695 00008f20           dtprzuddksp
    1696 00008f20     0020          .word   U_M,2, D_M,2, 0,2, D_M,2, K_M,2
    1697 00008fc0                   DS_RNDA sklrep_t
    1698 00008ff0     0000          .word   0,20
    1699 00009010     0004          .word   SP_M,6, 0,6, SP_M,6, 0,6, SP_M,6, 0,6   ;Repeat
    1700 000090d0                   DS_RNDA sklrep_t
    1701 00009100     0004          .word   SP_M,6, 0,6, SP_M,6, 0,6, SP_M,0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   36

    1702                    
    1703                    
    1704                    ;컴컴컴컴컴컴컴                >Lex scripts
    1705                    
    1706 000091a0           lex_s_t
    1707 000091a0                   BBL     MODE_HEADHOLD,-1,lxM_hh
    1708 000091d0                   BBL     MODE_HEADHELD,-1,lxM_hhr
    1709 00009200                   BBL     MODE_OPPOVERHEAD,-1,lxM_ooh
    1710 00009230                   BBL     -1,MODE_ONGROUND,M_og
    1711 00009260                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1712 00009290                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1713 000092c0                   WL      -1,lxM_n
    1714 000092f0           lex_m_t
    1715 000092f0                   BBL     MODE_HEADHOLD,-1,lxM_hh
    1716 00009320                   BBL     MODE_HEADHELD,-1,lxM_hhr
    1717 00009350                   BBL     MODE_OPPOVERHEAD,-1,lxM_ooh
    1718 00009380                   BBL     -1,MODE_ONGROUND,Mm_og
    1719 000093b0                   BBL     -1,MODE_ONTURNBKL,M_opptbkl
    1720 000093e0                   BBL     -1,MODE_CLIMBTURNBKL,M_opptbkl
    1721 00009410                   WL      -1,lxMm_n
    1722                    
    1723 00009440           lxM_n   ;Normal
    1724                    ;       .word   1-1
    1725                    ;       .long   dtpeslap
    1726 00009440     000d          .word   (lxM_n_-$)/32-1
    1727 00009450 0000a390'         .long   dtprun
    1728 00009470 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1729 000094f0 00009b70'         .long   dtpspx
    1730 00009510 0000a400'         .long   dtphgrab,dtphgrab,dtphgrab
    1731 00009570 0000a480'         .long   dtpflng
    1732 00009590 0000a560'         .long   dtphtoss,dtphtoss
    1733 000095d0 0000a070'         .long   dtprrp          ;Elbow to gut
    1734 000095f0 00009d30'         .long   dtpspsk         ;Pickup
    1735 00009610           lxM_n_
    1736 00009610           lxMm_n
    1737                    ;       .word   1-1
    1738                    ;       .long   dtpdoeslap
    1739 00009610     0009          .word   (lxMm_n_-$)/32-1
    1740 00009620 0000dbc0'         .long   drn_seek
    1741 00009640 0000dea0'         .long   drn_retreat
    1742 00009660 0000a390'         .long   dtprun
    1743 00009680 00009cd0'         .long   dtpsp
    1744 000096a0 00009d10'         .long   dtpsk
    1745                    ;       .long   dtphgrab,dtphgrab,dtphgrab
    1746 000096c0 0000a480'         .long   dtpflng
    1747 000096e0 0000a070'         .long   dtprrp          ;Elbow to gut
    1748 00009700 00009d30'         .long   dtpspsk         ;Pickup
    1749 00009720 0000a6d0'         .long   dtpfast         ;Hyper
    1750 00009740 0000a640'         .long   dtpchrg
    1751 00009760           lxMm_n_
    1752 00009760           lxM_hh  ;Holding head
    1753 00009760     fffd          .word   -(4-1)
    1754 00009770 0000b2a0'         .long   dtpuddsk                ;Neck DDT
    1755 00009790 0000b890'         .long   dtplrrsp                ;Vert suplex
    1756 000097b0 00009f70'         .long   dtprsk4k                ;Quick knees & v suplex
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   37

    1757 000097d0 0000aed0'         .long   dtpjk           ;Pickup
    1758                    
    1759 000097f0           lxM_hhr ;Head held reversals
    1760 000097f0     0003          .word   4-1
    1761 00009800 00009cf0'         .long   dtpk
    1762 00009820 0000b2a0'         .long   dtpuddsk                ;Neck DDT
    1763 00009840 0000b890'         .long   dtplrrsp                ;V suplex
    1764 00009860 0000aed0'         .long   dtpjk           ;Pickup
    1765                    
    1766 00009880           lxM_ooh ;Holding opp over head
    1767 00009880     0002          .word   3-1
    1768 00009890 00009cb0'         .long   dtpp            ;Slam
    1769 000098b0 0000a350'         .long   dtpusp          ;Head slam
    1770 000098d0 0000a370'         .long   dtpusk          ;Back brkr
    1771                    
    1772                    
    1773                    ;컴컴컴컴컴컴컴                >Generic scripts
    1774                    
    1775 000098f0           M_og    ;Opp on gnd
    1776 000098f0     0005          .word   6-1
    1777                    ;       .long   drn_retreat
    1778 00009900 00009cb0'         .long   dtpp,dtpsp,dtpk,dtpsk
    1779 00009980 0000a690'         .long   dtpoghg,dtpoghg
    1780 000099c0           Mm_og
    1781 000099c0     0002          .word   3-1
    1782 000099d0 0000dbc0'         .long   drn_seek
    1783                    ;FIX! - Rzr rug shake
    1784 000099f0 0000a5e0'         .long   dtpseeksp
    1785 00009a10 0000a610'         .long   dtpseeksk
    1786                    
    1787 00009a30           M_opptbkl ;Opp on turnbkl
    1788 00009a30     0000          .word   1-1
    1789 00009a40 0000a390'         .long   dtprun
    1790                    
    1791 00009a60           M_hhr   ;Head held reversals
    1792 00009a60     0002          .word   3-1
    1793 00009a70 00009cf0'         .long   dtpk
    1794 00009a90 0000b2a0'         .long   dtpuddsk
    1795 00009ab0 0000b890'         .long   dtplrrsp
    1796                    
    1797 00009ad0           M_shrtblkr
    1798 00009ad0     0001          .word   2-1
    1799 00009ae0 0000a400'         .long   dtphgrab
    1800 00009b00 0000a560'         .long   dtphtoss
    1801 00009b20           M_shrtblkrdl
    1802 00009b20     0001          .word   2-1
    1803 00009b30 0000a400'         .long   dtphgrab
    1804 00009b50 00009b70'         .long   dtpspx
    1805                    ;       .long   drn_climbtb
    1806                    
    1807 00009b70     0004  dtpspx  .word   SP_M,2, 0,2, SP_M,2, 0,2, SP_M,2
    1808 00009c10     0004          .word   SP_M,2, 0,2, SP_M,2, 0,2, SP_M,0
    1809                    
    1810 00009cb0     0001  dtpp    .word   P_M,0
    1811 00009cd0     0004  dtpsp   .word   SP_M,0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   38

    1812 00009cf0     0008  dtpk    .word   K_M,0
    1813 00009d10     0010  dtpsk   .word   SK_M,0
    1814 00009d30     0014  dtpspsk .word   SP_M+SK_M,0
    1815 00009d50     0101  dtprp   .word   R_M+P_M,0
    1816 00009d70     0104  dtprsp  .word   R_M+SP_M,0
    1817 00009d90     0104  dtprsp4 .word   R_M+SP_M,4, 0,4, SP_M,4, 0,4, SP_M,4, 0,4, SP_M,0
    1818 00009e70     0108  dtprk4  .word   R_M+K_M,4, 0,4, K_M,4, 0,4, K_M,4, 0,4, K_M,0
    1819 00009f50     0110  dtprsk  .word   R_M+SK_M,0
    1820 00009f70     0110  dtprsk4k        .word   R_M+SK_M,4, 0,4, SK_M,4, 0,4, SK_M,4, 0,4, SK_M,4, K_M,0
    1821 0000a070     0100  dtprrp  .word   R_M,2, 0,2, R_M,2, P_M,0
    1822 0000a0f0     0100  dtprrk  .word   R_M,2, 0,2, R_M,2, K_M,0
    1823 0000a170     0100  dtprrsk .word   R_M,2, 0,2, R_M,2, SK_M,0
    1824 0000a1f0     0080  dtpllsk .word   L_M,2, 0,2, L_M,2, SK_M,0
    1825 0000a270     0041  dtpdp   .word   D_M+P_M,0
    1826 0000a290     0048  dtpdk   .word   D_M+K_M,0
    1827 0000a2b0     0050  dtpdsk  .word   D_M+SK_M,0
    1828 0000a2d0     0040  dtpddp  .word   D_M,2, 0,2, D_M,2, P_M,0
    1829 0000a350     0024  dtpusp  .word   U_M+SP_M,0
    1830 0000a370     0030  dtpusk  .word   U_M+SK_M,0
    1831                    
    1832 0000a390           dtprun
    1833 0000a390                   DS_CALL drone_chkrun
    1834 0000a3c0     0009          .word   P_M+K_M,0       ;Skipped if bad
    1835 0000a3e0                   DS_END
    1836 0000a400           hgrab
    1837 0000a400     0100  dtphgrab        .word   R_M,2, 0,2, R_M,2, SP_M,0
    1838 0000a480     0080  dtpflng .word   L_M,2, 0,2, L_M+SP_M,0          ;Grab fling
    1839 0000a4e0     0080  slhtoss .word   L_M,2, 0,2, L_M,2, P_M,0        ;Hip toss
    1840 0000a560     0080  dtphtoss        .word   L_M,2, 0,2, L_M+P_M,0           ;Hip toss
    1841 0000a5c0     0044  dtpucut .word   D_M+SP_M,0                      ;Uppercut
    1842                    
    1843 0000a5e0           dtpseeksp
    1844 0000a5e0                   DS_SEEKTIL0
    1845 0000a5f0     0004          .word   SP_M,0
    1846 0000a610           dtpseeksk
    1847 0000a610                   DS_SEEKTIL0
    1848 0000a620     0010          .word   SK_M,0
    1849 0000a640           dtpchrg
    1850 0000a640                   DS_CALL drone_chrg
    1851 0000a670                   DS_END
    1852                    
    1853 0000a690           dtpoghg ;Opp on gnd head grab
    1854 0000a690     0040          .word   D_M,2, SP_M,0
    1855                    
    1856 0000a6d0           dtpfast ;Works once
    1857 0000a6d0     0080          .word   L_M,2, L_M+D_M,2, D_M,2, D_M+R_M,2
    1858 0000a750     0100          .word   R_M,2, R_M+U_M,2, U_M,2, U_M+L_M,0
    1859                    
    1860                    ;dtplrrspp      ;Pile drvr/Neck brkr
    1861                    ;       .word   L_M,2, R_M,2, 0,2, R_M,2, SP_M,2
    1862                    ;       DS_RNDA sklrep_t
    1863                    ;       .word   0,5
    1864                    ;       .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4      ;Repeat
    1865                    ;       DS_RNDA sklrep_t
    1866                    ;       .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   39

    1867                    ;       .word   P_M,4, 0,4, P_M,4, 0,4, P_M,0
    1868                    
    1869 0000a7d0           dtphhp3k        ;Punch*3, kick
    1870                            .asg    6,T
    1871 0000a7d0     0101          .word   R_M+P_M,T, R_M,T, R_M+P_M,T, R_M,T
    1872 0000a850     0101          .word   R_M+P_M,T, R_M,T, R_M+P_M,T, R_M,T
    1873 0000a8d0     0108          .word   R_M+K_M,2
    1874 0000a8f0     0000          .word   0,10
    1875 0000a910                   DS_END
    1876                    
    1877 0000a930           dtphhp4 ;Punch*4
    1878                            .asg    6,T
    1879 0000a930     0101          .word   R_M+P_M,T, R_M,T, R_M+P_M,T, R_M,T
    1880 0000a9b0     0101          .word   R_M+P_M,T, R_M,T, R_M+P_M,T, R_M,T
    1881 0000aa30     0101          .word   R_M+P_M,T, R_M,T, R_M+P_M,2
    1882 0000aa90     0000          .word   0,10
    1883 0000aab0                   DS_END
    1884                    
    1885 0000aad0           dtphhp3pd       ;Punch*3, piledriver
    1886                            .asg    6,T
    1887 0000aad0     0101          .word   R_M+P_M,T, R_M,T, R_M+P_M,T, R_M,T
    1888 0000ab50     0101          .word   R_M+P_M,T, R_M,T, R_M+P_M,T, R_M,T+5
    1889 0000abd0     0044          .word   D_M+SP_M,2
    1890 0000abf0     0000          .word   0,10
    1891 0000ac10                   DS_END
    1892                    
    1893 0000ac30           dtphhsk3pd ;Knee*3, piledriver
    1894                            .asg    6,T
    1895 0000ac30     0110          .word   R_M+SK_M,T, R_M,T, R_M+SK_M,T, R_M,T
    1896 0000acb0     0110          .word   R_M+SK_M,T, R_M,T, R_M+SK_M,T, R_M,T
    1897 0000ad30     0004          .word   SP_M,2
    1898 0000ad50     0000          .word   0,10
    1899 0000ad70                   DS_END
    1900                    
    1901 0000ad90     00c0  dtpj2p  .word   L_M+D_M,2
    1902 0000adb0     0040  dtpjp   .word   D_M,2, D_M+R_M,2, R_M,2, P_M,0
    1903 0000ae30     00c0  dtpj2sp .word   L_M+D_M,2
    1904 0000ae50     0040  dtpjsp  .word   D_M,2, D_M+R_M,2, R_M,2, SP_M,0
    1905 0000aed0     0040  dtpjk   .word   D_M,2, D_M+R_M,2, R_M,2, K_M,0
    1906 0000af50     0040  dtpjkk  .word   D_M,2, D_M+R_M,2, R_M,2, K_M,4
    1907 0000afd0     0000          .word   0,4, K_M,4, 0,4, K_M,4
    1908 0000b050     0000          .word   0,4, K_M,4, 0,4, K_M,0
    1909 0000b0d0     0020  dtpjisp .word   U_M,2, U_M+R_M,2, R_M,2, SP_M,0
    1910                    
    1911 0000b150     0040  dtpjpx  .word   D_M,2, D_M+R_M,2, R_M,2, P_M,0
    1912 0000b1d0                   DS_RNDA sklrep_t
    1913                    ;FIX - chk
    1914 0000b200     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,0
    1915                    
    1916                            ;Reversals
    1917                    
    1918 0000b2a0           dtpuddsk
    1919 0000b2a0     0020          .word   U_M,2, D_M,2, 0,2, D_M,2, SK_M,0
    1920                    
    1921 0000b340           dtpuddskk       ;Face slam/Pile drv
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   40

    1922 0000b340     0020          .word   U_M,2, D_M,2, 0,2, D_M,2, SK_M,2
    1923 0000b3e0                   DS_RNDA sklrep_t
    1924 0000b410     0000          .word   0,8
    1925 0000b430     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,4, 0,4      ;Repeat
    1926 0000b4f0                   DS_RNDA sklrep_t
    1927 0000b520     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,4, 0,4
    1928 0000b5e0     0008          .word   K_M,4, 0,4, K_M,4, 0,4, K_M,0
    1929                    
    1930 0000b680           dtpuddsksp ;Repeat SP
    1931 0000b680     0020          .word   U_M,2, D_M,2, 0,2, D_M,2, SK_M,2
    1932 0000b720                   DS_RNDA sklrep_t
    1933 0000b750     0004          .word   SP_M,4, 0,4, SP_M,4, 0,4, SP_M,0
    1934 0000b7f0           dtplrrp
    1935 0000b7f0     0080          .word   L_M,2, R_M,2, 0,2, R_M,2, P_M,0
    1936 0000b890           dtplrrsp
    1937 0000b890     0080          .word   L_M,2, R_M,2, 0,2, R_M,2, SP_M,0
    1938 0000b930           dtplrrk
    1939 0000b930     0080          .word   L_M,2, R_M,2, 0,2, R_M,2, K_M,0
    1940 0000b9d0           dtpspsk2
    1941 0000b9d0     0004          .word   SP_M,2, SK_M,2, SP_M,2, SK_M,0
    1942                    
    1943                    
    1944                    ********************************
    1945                    
    1946 0000ba50           bret_l_t
    1947 0000ba50           raz_l_t
    1948 0000ba50           utak_l_t
    1949 0000ba50           yoko_l_t
    1950 0000ba50           shawn_l_t
    1951 0000ba50           bam_l_t
    1952 0000ba50           doink_l_t
    1953 0000ba50           lex_l_t
    1954 0000ba50                   BBL     -1,MODE_ONGROUND,dtpmdog
    1955 0000ba80                   WL      -1,dtpmdn
    1956 0000bab0           dtpmdn
    1957                    ;       .word   1-1
    1958                    ;       .long   drn_climbtb
    1959 0000bab0     0003          .word   4-1
    1960 0000bac0 0000dbc0'         .long   drn_seek
    1961 0000bae0 0000a390'         .long   dtprun
    1962 0000bb00 0000f140'         .long   drn_climbtb
    1963 0000bb20 0000fb40'         .long   drn_taunt
    1964 0000bb40           dtpmdog
    1965 0000bb40     0002          .word   3-1
    1966 0000bb50 0000dbc0'         .long   drn_seek
    1967 0000bb70 0000dbc0'         .long   drn_seek
    1968 0000bb90 0000a390'         .long   dtprun
    1969                    
    1970                    
    1971                    *******************************
    1972                    
    1973 0000bbb0            SUBRP  drone_chrg
    1974                    
    1975 0000bbb0     b5ae          move    *a13(DRN_BUTCHRG),a14
         0000bbc0     09c0  
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   41

    1976 0000bbd0     cb13          jrnz    tjxx                    ;Already charging?
    1977                    
    1978 0000bbe0     1800          movk    20h,a0
    1979 0000bbf0     0d3f          callr   rnd
         0000bc00     058f  
    1980                    
    1981 0000bc10     b5a1          move    *a13(WRESTLERNUM),a1
         0000bc20     0590  
    1982 0000bc30                   X64     a1
    1983 0000bc40     0b21          addi    tjxwres_t,a1
         0000bc50 0000bd20' 
    1984 0000bc70     4001          add     a0,a1
    1985 0000bc80     8621          move    *a1,a1,L                ;Get * script
    1986                    
    1987 0000bc90     9420          move    *a1+,a0
    1988 0000bca0     b00d          move    a0,*a13(DRN_BUTCHRG)
         0000bcb0     09c0  
    1989                    ;FIX!-all same
    1990 0000bcc0     9420          move    *a1+,a0
    1991 0000bcd0     b00d          move    a0,*a13(DRN_BUTCHRGDLY)
         0000bce0     09d0  
    1992 0000bcf0     b22d          move    a1,*a13(DRN_BUTCHRG_p),L
         0000bd00     09e0  
    1993                    
    1994 0000bd10           tjxx
    1995 0000bd10     0960          rets
    1996                    
    1997 0000bd20           tjxwres_t
    1998 0000bd20 0000c680'         .long   tjxbrt,tjxbrt
    1999 0000bd60 0000bf60'         .long   tjxraz,tjxraz2
    2000 0000bda0 0000bfb0'         .long   tjxut,tjxut2
    2001 0000bde0 0000c000'         .long   tjxyok,tjxyok
    2002 0000be20 0000c0a0'         .long   tjxshn,tjxshn2
    2003 0000be60 0000c0f0'         .long   tjxbam,tjxbam2
    2004 0000bea0 0000c510'         .long   tjxdnk,tjxdnk2
    2005 0000bee0 00000000          .long   0,0
    2006 0000bf20 0000c630'         .long   tjxlex,tjxlex2
    2007                    
    2008 0000bf60           tjxraz
    2009 0000bf60     0004          .word   SP_M,TSEC*2             ;Slashes
    2010 0000bf80                   DS_JMP  tjxrun
    2011 0000bfb0           tjxut
    2012 0000bfb0     0001          .word   P_M,TSEC*2              ;Neck breaker
    2013 0000bfd0                   DS_JMP  tjxrun
    2014 0000c000           tjxyok
    2015 0000c000     0001          .word   P_M,TSEC*2              ;Salt throw
    2016 0000c020                   DS_CODE
    2017 0000c030     1820          movk    1,a0
    2018 0000c040     b00d          move    a0,*a13(DRN_MODE)       ;Aggressive
         0000c050     0a30  
    2019 0000c060                   DS_CODEEND
    2020 0000c070                   DS_JMP  tjxrun
    2021 0000c0a0           tjxshn
    2022 0000c0a0     0001          .word   P_M,TSEC*2              ;Suplex
    2023 0000c0c0                   DS_JMP  tjxrun
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   42

    2024 0000c0f0           tjxbam
    2025 0000c0f0     0001          .word   P_M,TSEC*2              ;Fire punch
    2026 0000c110                   DS_CODE
    2027 0000c120     5600          clr     a0
    2028 0000c130     b00d          move    a0,*a13(DRN_BUTCHRG)    ;Fire it
         0000c140     09c0  
    2029 0000c150                   DS_CODEEND
    2030 0000c160     0000          .word   0,4
    2031 0000c180     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4      ;Repeat
    2032 0000c240                   DS_RNDA sklrep_t
    2033 0000c270     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
    2034 0000c330                   DS_RNDA sklrep_t
    2035 0000c360     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,4, 0,4
    2036 0000c420     0001          .word   P_M,4, 0,4, P_M,4, 0,4, P_M,0
    2037 0000c4c0           tjxbam2
    2038 0000c4c0     0004          .word   SP_M,TSEC*2             ;Neck brkr
    2039 0000c4e0                   DS_JMP  tjxrun
    2040 0000c510           tjxdnk
    2041 0000c510     0001          .word   P_M,TSEC*2              ;Buzzer
    2042 0000c530                   DS_JMP  tjxrun
    2043 0000c560           tjxdnk2
    2044 0000c560     0001          .word   P_M,TSEC*2              ;Buzzer (leap)
    2045 0000c580     0100          .word   R_M,2
    2046 0000c5a0                   DS_CODE
    2047 0000c5b0     5600          clr     a0
    2048 0000c5c0     b00d          move    a0,*a13(DRN_BUTCHRG)    ;Fire it
         0000c5d0     09c0  
    2049 0000c5e0                   DS_CODEEND
    2050 0000c5f0     0100          .word   R_M,2                   ;Need?
    2051 0000c610                   DS_END
    2052 0000c630           tjxlex
    2053 0000c630     0001          .word   P_M,TSEC*2              ;Smash
    2054 0000c650                   DS_JMP  tjxrun
    2055 0000c680           tjxlex2
    2056 0000c680           tjxbrt
    2057 0000c680           tjxraz2
    2058 0000c680           tjxut2
    2059 0000c680           tjxshn2
    2060 0000c680     0010          .word   SK_M,TSEC*2             ;Flying kick
    2061                    ;       DS_JMP  tjxrun
    2062                    
    2063 0000c6a0           tjxrun
    2064 0000c6a0                   DS_CALL drone_chkrun
    2065 0000c6d0     0009          .word   P_M+K_M,0               ;Run & end
    2066 0000c6f0                   DS_CODE
    2067                    
    2068 0000c700     b5a0          move    *a13(OBJ_XPOSINT),a0
         0000c710     0110  
    2069 0000c720     b50e          move    *a8(OBJ_XPOSINT),a14
         0000c730     0110  
    2070 0000c740     45c0          sub     a14,a0
    2071 0000c750     0380          abs     a0
    2072 0000c760     0b40          cmpi    150,a0
         0000c770     ff69  
    2073 0000c780     c50c          jrge    tjxrx                   ;X too far?
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   43

    2074                    
    2075 0000c790     b5a1          move    *a13(OBJ_ZPOSINT),a1
         0000c7a0     0150  
    2076 0000c7b0     b50e          move    *a8(OBJ_ZPOSINT),a14
         0000c7c0     0150  
    2077 0000c7d0     45c1          sub     a14,a1
    2078 0000c7e0     0381          abs     a1
    2079 0000c7f0     0b41          cmpi    40,a1
         0000c800     ffd7  
    2080 0000c810     c503          jrge    tjxrx                   ;Z too far?
    2081                    
    2082 0000c820     5600          clr     a0
    2083 0000c830     b00d          move    a0,*a13(DRN_BUTCHRG)    ;Fire it
         0000c840     09c0  
    2084 0000c850           tjxrx
    2085 0000c850                   DS_CODEEND
    2086 0000c860                   DS_END
    2087                    
    2088                    
    2089                    
    2090                    *******************************
    2091                    
    2092 0000c880            SUBRP  drn_combo
    2093                    
    2094 0000c880                   DS_CODE
    2095                    
    2096 0000c890     b5a0          move    *a13(WRESTLERNUM),a0
         0000c8a0     0590  
    2097 0000c8b0                   X32     a0
    2098 0000c8c0     0b20          addi    wyhwres_t,a0
         0000c8d0 0000c920' 
    2099 0000c8f0     4d21          move    a9,a1
    2100 0000c900     8609          move    *a0,a9,L                ;Get * script
    2101 0000c910     0161          jump    a1                      ;Ret
    2102                    
    2103 0000c920           wyhwres_t
    2104 0000c920 0000ca40'         .long   wyhbrt,wyhraz,wyhut,wyhyok
    2105 0000c9a0 0000cfc0'         .long   wyhshn,wyhbam,wyhdnk,wyhdnk,wyhlex
    2106 0000ca40           wyhbrt
    2107 0000ca40     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2108 0000cac0                   DS_RJMP 50,wyhbrt2
    2109 0000cb00     0001          .word   P_M,2
    2110 0000cb20                   DS_JMP  wyhcstrt
    2111 0000cb50           wyhbrt2
    2112 0000cb50     0010          .word   SK_M,2
    2113 0000cb70                   DS_JMP  wyhcstrt
    2114                    
    2115 0000cba0           wyhraz
    2116 0000cba0     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2117 0000cc20                   DS_RJMP 50,wyhraz2
    2118 0000cc60     0004          .word   SP_M,2
    2119 0000cc80                   DS_JMP  wyhcstrt
    2120 0000ccb0           wyhraz2
    2121 0000ccb0     0008          .word   K_M,2
    2122 0000ccd0                   DS_JMP  wyhcstrt
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   44

    2123                    
    2124 0000cd00           wyhut
    2125 0000cd00     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2126 0000cd80                   DS_RJMP 50,wyhut2
    2127 0000cdc0     0010          .word   SK_M,2
    2128 0000cde0                   DS_JMP  wyhcstrt
    2129 0000ce10           wyhut2
    2130 0000ce10     0008          .word   K_M,2
    2131 0000ce30                   DS_JMP  wyhcstrt
    2132                    
    2133 0000ce60           wyhyok
    2134 0000ce60     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2135 0000cee0                   DS_RJMP 50,wyhyok2
    2136 0000cf20     0004          .word   SP_M,2
    2137 0000cf40                   DS_JMP  wyhcstrt
    2138 0000cf70           wyhyok2
    2139 0000cf70     0001          .word   P_M,2
    2140 0000cf90                   DS_JMP  wyhcstrt
    2141                    
    2142 0000cfc0           wyhshn
    2143 0000cfc0     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2144 0000d040                   DS_RJMP 50,wyhshn2
    2145 0000d080     0001          .word   P_M,2
    2146 0000d0a0                   DS_JMP  wyhcstrt
    2147 0000d0d0           wyhshn2
    2148 0000d0d0     0008          .word   K_M,2
    2149 0000d0f0                   DS_JMP  wyhcstrt
    2150                    
    2151 0000d120           wyhbam
    2152 0000d120     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2153 0000d1a0                   DS_RJMP 50,wyhbam2
    2154 0000d1e0     0004          .word   SP_M,2
    2155 0000d200                   DS_JMP  wyhcstrt
    2156 0000d230           wyhbam2
    2157 0000d230     0001          .word   P_M,2
    2158 0000d250                   DS_JMP  wyhcstrt
    2159                    
    2160 0000d280           wyhdnk
    2161 0000d280     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2162 0000d300                   DS_RJMP 50,wyhdnk2
    2163 0000d340     0004          .word   SP_M,2
    2164 0000d360                   DS_JMP  wyhcstrt
    2165 0000d390           wyhdnk2
    2166 0000d390     0010          .word   SK_M,2
    2167 0000d3b0                   DS_JMP  wyhcstrt
    2168                    
    2169 0000d3e0           wyhlex
    2170 0000d3e0     0100          .word   R_M,2, 0,2, R_M,2, 0,2
    2171 0000d460                   DS_RJMP 50,wyhlex2
    2172 0000d4a0     0010          .word   SK_M,2
    2173 0000d4c0                   DS_JMP  wyhcstrt
    2174 0000d4f0           wyhlex2
    2175 0000d4f0     0008          .word   K_M,2
    2176 0000d510                   DS_JMP  wyhcstrt
    2177                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   45

    2178                            .asg    6,T
    2179 0000d540           wyhcstrt
    2180 0000d540     0000          .word   0,2
    2181 0000d560                   DS_RJMP 25,wyhcsk
    2182 0000d5a0                   DS_RJMP 25,wyhcp
    2183 0000d5e0                   DS_RJMP 25,wyhck
    2184 0000d620           wyhcsp
    2185 0000d620     0004          .word   SP_M,T, 0,T, SP_M,T, 0,T
    2186 0000d6a0     0004          .word   SP_M,T, 0,T, SP_M,T, 0,T
    2187 0000d720                   DS_RNDA sklrep_t
    2188 0000d750                   DS_JMP  wyhcstrt
    2189 0000d780           wyhcsk
    2190 0000d780     0010          .word   SK_M,T, 0,T, SK_M,T, 0,T
    2191 0000d800     0010          .word   SK_M,T, 0,T, SK_M,T, 0,T
    2192 0000d880                   DS_RNDA sklrep_t
    2193 0000d8b0                   DS_JMP  wyhcstrt
    2194 0000d8e0           wyhcp
    2195 0000d8e0     0001          .word   P_M,T, 0,T, P_M,T, 0,T
    2196 0000d960     0001          .word   P_M,T, 0,T, P_M,T, 0,T
    2197 0000d9e0                   DS_RNDA sklrep_t
    2198 0000da10                   DS_JMP  wyhcstrt
    2199 0000da40           wyhck
    2200 0000da40     0008          .word   K_M,T, 0,T, K_M,T, 0,T
    2201 0000dac0     0008          .word   K_M,T, 0,T, K_M,T, 0,T
    2202 0000db40                   DS_RNDA sklrep_t
    2203 0000db70                   DS_JMP  wyhcstrt
    2204                    
    2205                    
    2206                    
    2207                    *******************************
    2208                    
    2209 0000dba0           tpglp
    2210 0000dba0                   DS_CODEEND
    2211 0000dbb0                   DS_SLP1
    2212                    
    2213 0000dbc0            SUBRP  drn_seek
    2214                    
    2215 0000dbc0                   DS_CODE
    2216                    
    2217 0000dbd0     4ed0          move    b6,a0
    2218 0000dbe0     ca02          jrz     tpgskok
    2219 0000dbf0     14e0          subk    MODE_BLOCK,a0
    2220 0000dc00     cb08          jrne    tpgx
    2221 0000dc10           tpgskok
    2222 0000dc10     09c0          movi    3fh,a0
         0000dc20     003f  
    2223 0000dc30     0d3f          callr   rnd
         0000dc40     038b  
    2224 0000dc50     ca03          jrz     tpgx
    2225 0000dc60     0d3f          callr   drone_seek
         0000dc70     0317  
    2226 0000dc80     cbf1          jrnz    tpglp
    2227 0000dc90           tpgx
    2228 0000dc90                   DS_CODEEND
    2229 0000dca0                   DS_END
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   46

    2230                    
    2231                    
    2232                    *******************************
    2233                    * Get real close
    2234                    
    2235 0000dcc0           ylulp
    2236 0000dcc0                   DS_CODEEND
    2237 0000dcd0                   DS_SLP1
    2238                    
    2239 0000dce0            SUBRP  drn_seekclose
    2240                    
    2241 0000dce0                   DS_CODE
    2242                    
    2243 0000dcf0     4ed0          move    b6,a0
    2244 0000dd00     ca02          jrz     yluskok
    2245 0000dd10     14e0          subk    MODE_BLOCK,a0
    2246 0000dd20     cb14          jrne    ylux
    2247 0000dd30           yluskok
    2248 0000dd30     09c0          movi    3fh,a0
         0000dd40     003f  
    2249 0000dd50     0d3f          callr   rnd
         0000dd60     0379  
    2250 0000dd70     ca0f          jrz     ylux
    2251                    
    2252 0000dd80     b5ae          move    *a13(OBJ_XPOSINT),a14
         0000dd90     0110  
    2253 0000dda0     1802          movk    32,a2
    2254 0000ddb0     b500          move    *a8(OBJ_XPOSINT),a0
         0000ddc0     0110  
    2255 0000ddd0     480e          cmp     a0,a14
    2256 0000dde0     c501          jrge    ylutorgt
    2257 0000ddf0     03a2          neg     a2
    2258 0000de00           ylutorgt
    2259 0000de00     4040          add     a2,a0
    2260                    
    2261 0000de10     b501          move    *a8(OBJ_ZPOSINT),a1
         0000de20     0150  
    2262 0000de30     1ae2          movk    23,a2
    2263 0000de40     0d3f          callr   drone_seekxz
         0000de50     02ff  
    2264 0000de60     cbe5          jrnz    ylulp
    2265 0000de70           ylux
    2266 0000de70                   DS_CODEEND
    2267 0000de80                   DS_END
    2268                    
    2269                    
    2270                    *******************************
    2271                    
    2272 0000dea0            SUBRP  drn_retreat
    2273                    
    2274 0000dea0                   DS_CODE
    2275 0000deb0     1880          movk    4,a0                    ;Far
    2276 0000dec0     b00d          move    a0,*a13(DRN_SEEKDIST)
         0000ded0     0a60  
    2277 0000dee0           isplp
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   47

    2278 0000dee0     0d3f          callr   drone_seekdirdist
         0000def0     021d  
    2279 0000df00                   DS_CODEEND
    2280 0000df10                   DS_SLP1
    2281 0000df20                   DS_CODE
    2282 0000df30     1be0          movk    1fh,a0
    2283 0000df40     0d3f          callr   rnd
         0000df50     035a  
    2284 0000df60     cbf7          jrnz    isplp
    2285                    
    2286 0000df70                   DS_CODEEND
    2287 0000df80                   DS_END
    2288                    
    2289                    
    2290                    *******************************
    2291                    * Check if running would be OK
    2292                    * A9+32 if bad
    2293                    
    2294 0000dfa0            SUBRP  drone_chkrun
    2295                    
    2296 0000dfa0     b5a0          move    *a13(OBJ_XPOSINT),a0
         0000dfb0     0110  
    2297 0000dfc0     b5a1          move    *a13(OBJ_ZPOSINT),a1
         0000dfd0     0150  
    2298                    
    2299 0000dfe0     b5a2          move    *a13(FACING_DIR),a2
         0000dff0     04c0  
    2300                    
    2301 0000e000     b5ae          move    *a13(INRING),a14
         0000e010     0560  
    2302 0000e020     cb10          jrnz    cayout                  ;Out of ring?
    2303                    
    2304                    ;컴컴컴컴컴컴컴
    2305                    
    2306 0000e030     0b57          cmpi    MODE_ONGROUND,b7
         0000e040     fffb  
    2307 0000e050     ca30          jreq    cayx
    2308                    ;       subk    MODE_INAIR2,a14
    2309                    ;       jreq    cayx                    ;Jumping on me?
    2310                    
    2311 0000e060     b5a1          move    *a13(CLOSEST_ZDIST),a1
         0000e070     0390  
    2312 0000e080     0b41          cmpi    70,a1
         0000e090     ffb9  
    2313 0000e0a0     c52b          jrge    cayx                    ;Z far enough?
    2314                    
    2315 0000e0b0     17c1          subk    30,a1
    2316 0000e0c0     c629          jrle    cayx                    ;Z close enough?
    2317                    
    2318 0000e0d0     b5a0          move    *a13(CLOSEST_XDIST),a0
         0000e0e0     0370  
    2319 0000e0f0     0b40          cmpi    150,a0
         0000e100     ff69  
    2320 0000e110     c524          jrge    cayx                    ;X far enough?
    2321                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   48

    2322                    ;       btst    PLAYER_RIGHT_BIT,a2
    2323                    ;       jrz     cayl                    ;Facing left?
    2324                    
    2325 0000e120     c022          jruc    caybad
    2326                    
    2327                    ;컴컴컴컴컴컴컴
    2328                    
    2329 0000e130           cayout
    2330 0000e130     1f82          btst    PLAYER_RIGHT_BIT,a2
    2331 0000e140     ca10          jrz     cayol                   ;Facing left?
    2332                    
    2333 0000e150     0b40          cmpi    RING_X_CENTER+500,a0
         0000e160     f9d9  
    2334 0000e170     c51d          jrge    caybad                  ;Hit rgt crowd?
    2335                    
    2336 0000e180     0b41          cmpi    RING_TOP-10,a1
         0000e190     fc0a  
    2337 0000e1a0     c409          jrlt    cayrrok
    2338 0000e1b0     0b41          cmpi    RING_BOT+10,a1
         0000e1c0     fab4  
    2339 0000e1d0     c706          jrgt    cayrrok
    2340 0000e1e0     0b40          cmpi    RING_X_CENTER,a0
         0000e1f0     fbcd  
    2341 0000e200     c503          jrge    cayrrok
    2342 0000e210     0b40          cmpi    RING_X_CENTER-300,a0
         0000e220     fcf9  
    2343 0000e230     c511          jrge    caybad                  ;Hit rgt ring?
    2344 0000e240           cayrrok
    2345 0000e240     c011          jruc    cayx
    2346 0000e250           cayol
    2347 0000e250     0b40          cmpi    RING_X_CENTER-500,a0
         0000e260     fdc1  
    2348 0000e270     c60d          jrle    caybad                  ;Hit lft crowd?
    2349                    
    2350 0000e280     0b41          cmpi    RING_TOP-10,a1
         0000e290     fc0a  
    2351 0000e2a0     c409          jrlt    caylrok
    2352 0000e2b0     0b41          cmpi    RING_BOT+10,a1
         0000e2c0     fab4  
    2353 0000e2d0     c706          jrgt    caylrok
    2354 0000e2e0     0b40          cmpi    RING_X_CENTER,a0
         0000e2f0     fbcd  
    2355 0000e300     c603          jrle    caylrok
    2356 0000e310     0b40          cmpi    RING_X_CENTER+300,a0
         0000e320     faa1  
    2357 0000e330     c601          jrle    caybad                  ;Hit lft ring?
    2358 0000e340           caylrok
    2359                    ;FIX!
    2360 0000e340     c001          jruc    cayx
    2361                    
    2362                    ;컴컴컴컴컴컴컴
    2363                    
    2364 0000e350           caybad
    2365 0000e350     1009          addk    32,a9                   ;Skip script run buttons
    2366                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   49

    2367 0000e360           cayx
    2368 0000e360     0960          rets
    2369                    
    2370                    
    2371                    *******************************
    2372                    * Control runner
    2373                    
    2374 0000e370           gcarsk
    2375 0000e370     1942          movk    10,a2
    2376 0000e380     0d3f          callr   drone_seek2
         0000e390     02a7  
    2377 0000e3a0     0b80          andni   MOVE_LEFT+MOVE_RIGHT,a0         ;0 lft & rgt
         0000e3b0 0000000c  
    2378 0000e3d0     b00d          move    a0,*a13(DRN_JOY)
         0000e3e0     0990  
    2379 0000e3f0                   DS_CODEEND
    2380 0000e400                   DS_SLP1
    2381                    
    2382 0000e410            SUBRP  drn_run
    2383                    
    2384 0000e410                   DS_CODE
    2385 0000e420     4ed0          move    b6,a0
    2386 0000e430     1420          subk    MODE_RUNNING,a0
    2387 0000e440     ca02          jreq    gcamdok
    2388 0000e450     1480          subk    MODE_BOUNCING-MODE_RUNNING,a0
    2389 0000e460     cb78          jrne    gcaabrt
    2390 0000e470           gcamdok
    2391 0000e470     09c0          movi    01ffh,a0                ;9.6 sec
         0000e480     01ff  
    2392 0000e490     0d3f          callr   rnd
         0000e4a0     0305  
    2393 0000e4b0     ca76          jrz     gcabrkrun                       ;Breakout?
    2394                    
    2395 0000e4c0     b5a4          move    *a13(OBJ_XVEL+16),a4
         0000e4d0     02e0  
    2396 0000e4e0     2464          sll     3,a4                    ;*8
    2397 0000e4f0     b501          move    *a8(OBJ_XVEL+16),a1
         0000e500     02e0  
    2398 0000e510     24a1          sll     5,a1                    ;*32
    2399                    
    2400 0000e520     b500          move    *a8(OBJ_XPOSINT),a0
         0000e530     0110  
    2401 0000e540     4020          add     a1,a0
    2402 0000e550     b5a1          move    *a13(OBJ_XPOSINT),a1
         0000e560     0110  
    2403 0000e570     4081          add     a4,a1
    2404 0000e580     4c23          move    a1,a3
    2405 0000e590     4420          sub     a1,a0
    2406 0000e5a0     4c81          move    a4,a1
    2407 0000e5b0     5601          xor     a0,a1
    2408 0000e5c0     0380          abs     a0
    2409                    
    2410 0000e5d0     b5a2          move    *a13(CLOSEST_ZDIST),a2
         0000e5e0     0390  
    2411                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   50

    2412 0000e5f0     b5ae          move    *a13(INRING),a14
         0000e600     0560  
    2413 0000e610     ca08          jrz     gcainr                  ;In ring?
    2414                    
    2415 0000e620     0b40          cmpi    300,a0
         0000e630     fed3  
    2416 0000e640     c760          jrgt    gcaering                        ;Too far?
    2417                    
    2418 0000e650     4c21          move    a1,a1
    2419 0000e660     ce5b          jrn     gcabrkrun                       ;Running away?
    2420                    
    2421 0000e670     17c2          subk    30,a2
    2422 0000e680     c762          jrgt    gcabrkseek              ;Too far?
    2423                    
    2424 0000e690     c01d          jruc    gcacont
    2425                    
    2426 0000e6a0           gcainr
    2427 0000e6a0     4c84          move    a4,a4
    2428 0000e6b0     ce04          jrn     gcalrp                  ;Towards L rope?
    2429                    
    2430 0000e6c0     0b43          cmpi    RING_X_CENTER+210,a3
         0000e6d0     fafb  
    2431 0000e6e0     c416          jrlt    gcarpok                 ;Won't hit R rope?
    2432 0000e6f0     c003          jruc    gcachkopp
    2433 0000e700           gcalrp
    2434 0000e700     0b43          cmpi    RING_X_CENTER-210,a3
         0000e710     fc9f  
    2435 0000e720     c712          jrgt    gcarpok                 ;Won't hit L rope?
    2436 0000e730           gcachkopp
    2437 0000e730     b50e          move    *a8(GETUP_TIME),a14
         0000e740     0460  
    2438 0000e750     c70f          jrgt    gcarpok                 ;Out of control?
    2439                    
    2440 0000e760     0b57          cmpi    MODE_ONGROUND,b7
         0000e770     fffb  
    2441 0000e780     ca0c          jreq    gcarpok
    2442                    
    2443 0000e790     0b40          cmpi    300,a0
         0000e7a0     fed3  
    2444 0000e7b0     c709          jrgt    gcarpok                 ;Opp X far?
    2445                    
    2446 0000e7c0     0b57          cmpi    MODE_RUNNING,b7
         0000e7d0     fffe  
    2447 0000e7e0     ca03          jreq    gcaoprun
    2448                    
    2449 0000e7f0     0b40          cmpi    180,a0
         0000e800     ff4b  
    2450 0000e810     c703          jrgt    gcarpok                 ;Opp X far?
    2451 0000e820           gcaoprun
    2452 0000e820     0b42          cmpi    90,a2
         0000e830     ffa5  
    2453 0000e840     c43d          jrlt    gcabrkrun                       ;Opp Z close?
    2454                    
    2455 0000e850           gcarpok
    2456                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   51

    2457 0000e850     4c21          move    a1,a1
    2458 0000e860     ceb0          jrn     gcarsk                  ;Running away?
    2459 0000e870           gcacont
    2460 0000e870     0b57          cmpi    MODE_INAIR2,b7
         0000e880     ffea  
    2461 0000e890     ca38          jreq    gcabrkrun
    2462                    
    2463                    
    2464 0000e8a0     17c2          subk    30,a2
    2465 0000e8b0     c7ab          jrgt    gcarsk                  ;Z too far?
    2466                    
    2467 0000e8c0     0b40          cmpi    250,a0
         0000e8d0     ff05  
    2468 0000e8e0     c7a8          jrgt    gcarsk                  ;X too far?
    2469                    
    2470 0000e8f0     4c02          move    a0,a2
    2471                    
    2472 0000e900     09c0          movi    120,a0
         0000e910     0078  
    2473 0000e920     0d3f          callr   rndrng0
         0000e930     02ca  
    2474 0000e940     0b00          addi    130,a0
         0000e950     0082  
    2475                    
    2476 0000e960     4802          cmp     a0,a2
    2477 0000e970     c79f          jrgt    gcarsk                  ;X too far?
    2478                    
    2479                    
    2480                    ;       movk    3,a0
    2481                    ;       callr   rnd
    2482                    ;       jrz     gcaigpup                        ;25% ignore?
    2483                    
    2484 0000e980     4ef0          move    b7,a0
    2485 0000e990     1620          subk    MODE_PUPPET2,a0
    2486 0000e9a0     ca27          jreq    gcabrkrun
    2487 0000e9b0     1460          subk    MODE_PUPPET-MODE_PUPPET2,a0
    2488 0000e9c0     ca25          jreq    gcabrkrun
    2489 0000e9d0     0b57          cmpi    MODE_HEADHELD,b7
         0000e9e0     ffec  
    2490 0000e9f0     ca22          jreq    gcabrkrun
    2491 0000ea00     0b57          cmpi    MODE_HEADHOLD,b7
         0000ea10     ffef  
    2492 0000ea20     ca1f          jreq    gcabrkrun
    2493 0000ea30     0b57          cmpi    MODE_ATTACHED,b7
         0000ea40     fffc  
    2494 0000ea50     ca1c          jreq    gcabrkrun
    2495                    ;gcaigpup
    2496                    
    2497 0000ea60     b5a0          move    *a13(DRN_BUTCHRG),a0
         0000ea70     09c0  
    2498 0000ea80     ca07          jrz     gcanchrg
    2499 0000ea90     b5a0          move    *a13(DRN_BUTCHRGDLY),a0
         0000eaa0     09d0  
    2500 0000eab0     c704          jrgt    gcanchrg
    2501 0000eac0     5600          clr     a0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   52

    2502 0000ead0     b00d          move    a0,*a13(DRN_BUTCHRG)    ;Fire it
         0000eae0     09c0  
    2503 0000eaf0     c00f          jruc    gcaabrt
    2504 0000eb00           gcanchrg
    2505 0000eb00                   DS_CODEEND
    2506 0000eb10                   DS_RJMP 33,gcak
    2507 0000eb50                   DS_RJMP 33,gcask
    2508 0000eb90     0004          .word   SP_M,0
    2509 0000ebb0     0008  gcak    .word   K_M,0
    2510 0000ebd0     0010  gcask   .word   SK_M,0
    2511                    
    2512 0000ebf0           gcaabrt
    2513 0000ebf0                   DS_CODEEND
    2514 0000ec00                   DS_END
    2515                    
    2516 0000ec20           gcabrkrun
    2517 0000ec20                   DS_CODEEND
    2518 0000ec30     0080          .word   L_M,0
    2519                    
    2520 0000ec50           gcaering
    2521 0000ec50                   DS_CODEEND
    2522 0000ec60     0080          .word   L_M,2
    2523 0000ec80                   DS_JMP  drn_enterring
    2524                    
    2525 0000ecb0           gcabrkseek
    2526 0000ecb0                   DS_CODEEND
    2527 0000ecc0     0080          .word   L_M,2
    2528 0000ece0                   DS_JMP  drn_seek
    2529                    
    2530                    
    2531                    
    2532                    *******************************
    2533                    * Opponent running
    2534                    
    2535 0000ed10            SUBRP  drn_oprun
    2536                    
    2537 0000ed10                   DS_CODE
    2538                    
    2539 0000ed20     18e0          movk    7,a0
    2540 0000ed30     0d3f          callr   rnd
         0000ed40     027b  
    2541 0000ed50     cb12          jrnz    cqnabrt                 ;Skip?
    2542                    
    2543 0000ed60     b500          move    *a8(OBJ_XPOSINT),a0
         0000ed70     0110  
    2544 0000ed80     b5a1          move    *a13(OBJ_XPOSINT),a1
         0000ed90     0110  
    2545                    ;       move    a1,a3
    2546 0000eda0     4420          sub     a1,a0
    2547 0000edb0     b501          move    *a8(OBJ_XVEL+16),a1
         0000edc0     02e0  
    2548                    ;       move    a1,a4
    2549 0000edd0     5601          xor     a0,a1
    2550 0000ede0     0380          abs     a0
    2551                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   53

    2552 0000edf0     b5a2          move    *a13(CLOSEST_ZDIST),a2
         0000ee00     0390  
    2553 0000ee10     4802          cmp     a0,a2
    2554 0000ee20     c705          jrgt    cqnabrt                 ;Z dist > X dist?
    2555                    
    2556 0000ee30     4c21          move    a1,a1
    2557 0000ee40     ce06          jrn     cqnrun                  ;Running away?
    2558                    
    2559 0000ee50     b50e          move    *a8(GETUP_TIME),a14
         0000ee60     0460  
    2560 0000ee70     c703          jrgt    cqnrun                  ;Out of control?
    2561                    
    2562 0000ee80           cqnabrt
    2563 0000ee80                   DS_CODEEND
    2564 0000ee90                   DS_END
    2565                    
    2566 0000eeb0           cqnrun
    2567 0000eeb0                   DS_CODEEND
    2568 0000eec0     0009          .word   P_M+K_M,0       ;Run
    2569                    
    2570                    
    2571                    
    2572                    *******************************
    2573                    
    2574 0000eee0            SUBRP  drn_roll
    2575                    
    2576 0000eee0                   DS_CODE
    2577 0000eef0     0d3f          callr   drone_chrg
         0000ef00     fcca  
    2578                    
    2579 0000ef10     c003          jruc    arastrt
    2580                    
    2581 0000ef20           aralp
    2582 0000ef20                   DS_CODEEND
    2583 0000ef30                   DS_SLP1
    2584 0000ef40                   DS_CODE
    2585 0000ef50           arastrt
    2586 0000ef50     0b56          cmpi    MODE_ONGROUND,b6
         0000ef60     fffb  
    2587 0000ef70     cb17          jrne    arax
    2588                    
    2589 0000ef80     b5a0          move    *a13(CLOSEST_XDIST),a0
         0000ef90     0370  
    2590 0000efa0     0b40          cmpi    150,a0
         0000efb0     ff69  
    2591 0000efc0     c712          jrgt    arax                    ;Safe dist?
    2592                    
    2593 0000efd0     b5a0          move    *a13(CLOSEST_ZDIST),a0
         0000efe0     0390  
    2594 0000eff0     0b40          cmpi    70,a0
         0000f000     ffb9  
    2595 0000f010     c70d          jrgt    arax                    ;Safe dist?
    2596                    
    2597 0000f020     5642          clr     a2
    2598 0000f030     0d3f          callr   drone_seek2
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   54

         0000f040     01dc  
    2599 0000f050     ca09          jrz     arax
    2600                    
    2601 0000f060     1861          movk    3,a1                    ;Flip up & down
    2602 0000f070     5620          xor     a1,a0
    2603 0000f080     b00d          move    a0,*a13(DRN_JOY)
         0000f090     0990  
    2604                    
    2605 0000f0a0     09c0          movi    7fh,a0
         0000f0b0     007f  
    2606 0000f0c0     0d3f          callr   rnd
         0000f0d0     0242  
    2607 0000f0e0     cbe3          jrnz    aralp
    2608                    
    2609 0000f0f0           arax
    2610 0000f0f0                   DS_CODEEND
    2611 0000f100     0002          .word   B_M,TSEC-10             ;Block while standing
    2612 0000f120                   DS_END
    2613                    
    2614                    
    2615                    *******************************
    2616                    * Climb closest turnbuckle
    2617                    
    2618 0000f140            SUBRP  drn_climbtb
    2619                    
    2620 0000f140                   DS_CODE
    2621 0000f150     4e70          move    b3,a0
    2622 0000f160     1420          subk    1,a0
    2623 0000f170     c604          jrle    jmslp                   ;Only 1 on team?
    2624                    
    2625 0000f180     1820          movk    1,a0
    2626 0000f190     0d3f          callr   rnd
         0000f1a0     0235  
    2627 0000f1b0     cb38          jrnz    jmsx                    ;Skip 50%?
    2628                    
    2629 0000f1c0           jmslp
    2630 0000f1c0                   DS_CODEEND
    2631 0000f1d0                   DS_SLP1
    2632                    
    2633 0000f1e0            SUBRP  drn_ontb
    2634                    
    2635 0000f1e0                   DS_CODE
    2636                    
    2637 0000f1f0     4ef2          move    b7,a2
    2638                    
    2639 0000f200     0b56          cmpi    MODE_ONTURNBKL,b6
         0000f210     fff9  
    2640 0000f220     cb03          jrne    jmsnot
    2641                    
    2642 0000f230     14c2          subk    MODE_ONTURNBKL,a2
    2643 0000f240     ca36          jreq    jmsdn                   ;He's up, so get dn?
    2644                    
    2645 0000f250     c031          jruc    jmsjmp
    2646                    
    2647 0000f260           jmsnot
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   55

    2648 0000f260     b5a0          move    *a13(INRING),a0
         0000f270     0560  
    2649 0000f280     cb35          jrnz    jmsering                        ;!In ring?
    2650                    
    2651 0000f290     b5a0          move    *a13(WRESTLERNUM),a0
         0000f2a0     0590  
    2652 0000f2b0     1460          subk    3,a0
    2653 0000f2c0     cb03          jrne    jmsny                   ;!Yoko?
    2654 0000f2d0     b500          move    *a8(INRING),a0
         0000f2e0     0560  
    2655 0000f2f0     cb24          jrnz    jmsx                    ;!In ring?
    2656 0000f300           jmsny
    2657 0000f300     14c2          subk    MODE_ONTURNBKL,a2
    2658 0000f310     ca22          jreq    jmsx
    2659 0000f320     15e2          subk    MODE_INAIR2-MODE_ONTURNBKL,a2
    2660 0000f330     ca20          jreq    jmsx
    2661                    
    2662 0000f340     09c0          movi    RING_X_CENTER-225,a0
         0000f350     0351  
    2663 0000f360     b5a1          move    *a13(OBJ_XPOSINT),a1
         0000f370     0110  
    2664 0000f380     0b41          cmpi    RING_X_CENTER,a1
         0000f390     fbcd  
    2665 0000f3a0     c602          jrle    jmslrp
    2666 0000f3b0     09c0          movi    RING_X_CENTER+225,a0
         0000f3c0     0513  
    2667 0000f3d0           jmslrp
    2668 0000f3d0     4c03          move    a0,a3
    2669 0000f3e0     09c1          movi    RING_TOP,a1
         0000f3f0     03ff  
    2670 0000f400     1802          movk    32,a2
    2671 0000f410     0d3f          callr   drone_seekxz            ;Seek to visinity
         0000f420     01a2  
    2672 0000f430     cb06          jrnz    jmsnclose
    2673                    
    2674 0000f440     4c60          move    a3,a0
    2675 0000f450     09c1          movi    RING_TOP-10,a1
         0000f460     03f5  
    2676 0000f470     5642          clr     a2
    2677 0000f480     0d3f          callr   drone_seekxz            ;Push into turnbuckle
         0000f490     019b  
    2678                    
    2679 0000f4a0           jmsnclose
    2680 0000f4a0     b5a0          move    *a13(CLOSEST_XDIST),a0
         0000f4b0     0370  
    2681 0000f4c0     0b40          cmpi    120,a0
         0000f4d0     ff87  
    2682 0000f4e0     c7cd          jrgt    jmslp                   ;Safe dist?
    2683                    
    2684 0000f4f0     b5a0          move    *a13(CLOSEST_ZDIST),a0
         0000f500     0390  
    2685 0000f510     0b40          cmpi    70,a0
         0000f520     ffb9  
    2686 0000f530     c7c8          jrgt    jmslp                   ;Safe dist?
    2687                    
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   56

    2688 0000f540           jmsx
    2689 0000f540                   DS_CODEEND
    2690 0000f550                   DS_END
    2691                    
    2692 0000f570           jmsjmp
    2693 0000f570     56c6          clr     a6                      ;So we get dn transition
    2694 0000f580                   DS_CODEEND
    2695 0000f590     0008          .word   K_M,0
    2696 0000f5b0           jmsdn
    2697 0000f5b0                   DS_CODEEND
    2698 0000f5c0     0040          .word   D_M,0
    2699 0000f5e0           jmsering
    2700 0000f5e0                   DS_CODEEND
    2701 0000f5f0                   DS_JMP  drn_enterring
    2702                    
    2703                    
    2704                    *******************************
    2705                    * I'm in air
    2706                    
    2707 0000f620           qgrlp
    2708 0000f620                   DS_CODEEND
    2709 0000f630                   DS_SLP1
    2710                    
    2711 0000f640            SUBRP  drn_inair
    2712                    
    2713 0000f640                   DS_CODE
    2714 0000f650     5642          clr     a2
    2715 0000f660     0d3f          callr   drone_seek2
         0000f670     0179  
    2716                    
    2717 0000f680     0b56          cmpi    MODE_INAIR2,b6
         0000f690     ffea  
    2718 0000f6a0     caf7          jreq    qgrlp
    2719                    
    2720 0000f6b0                   DS_CODEEND
    2721 0000f6c0                   DS_END
    2722                    
    2723                    
    2724                    *******************************
    2725                    * Opponent in air
    2726                    
    2727 0000f6e0            SUBRP  drn_opinair
    2728                    
    2729 0000f6e0                   DS_CODE
    2730                    
    2731 0000f6f0     1820          movk    1,a0
    2732 0000f700     0d3f          callr   rnd
         0000f710     01de  
    2733 0000f720     cb13          jrnz    ninrun                  ;Skip?
    2734 0000f730           ninlp
    2735 0000f730     0b57          cmpi    MODE_INAIR2,b7
         0000f740     ffea  
    2736 0000f750     cb0d          jrne    nink
    2737                    
    2738 0000f760                   DS_CODEEND
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   57

    2739 0000f770                   DS_SLP1
    2740 0000f780                   DS_CODE
    2741                    
    2742 0000f790     b5a1          move    *a13(CLOSEST_XDIST),a1
         0000f7a0     0370  
    2743 0000f7b0     b5ae          move    *a13(CLOSEST_ZDIST),a14
         0000f7c0     0390  
    2744 0000f7d0     482e          cmp     a1,a14
    2745 0000f7e0     c501          jrge    ninbig
    2746 0000f7f0     4c2e          move    a1,a14
    2747 0000f800           ninbig
    2748 0000f800     0b4e          cmpi    150,a14
         0000f810     ff69  
    2749 0000f820     c7f0          jrgt    ninlp                   ;Opp far?
    2750 0000f830           nink
    2751 0000f830                   DS_CODEEND
    2752 0000f840     0008          .word   K_M,0                   ;Jump up
    2753                    
    2754 0000f860           ninrun
    2755 0000f860                   DS_CODEEND
    2756 0000f870     0089          .word   L_M+P_M+K_M,2   ;Run away
    2757 0000f890                   DS_END
    2758                    
    2759                    
    2760                    
    2761                    *******************************
    2762                    * Enter ring at closest entry point
    2763                    
    2764 0000f8b0           aqylp
    2765 0000f8b0                   DS_CODEEND
    2766 0000f8c0                   DS_SLP1
    2767                    
    2768 0000f8d0            SUBRP  drn_enterring
    2769                    
    2770 0000f8d0                   DS_CODE
    2771                    
    2772 0000f8e0     b500          move    *a8(INRING),a0
         0000f8f0     0560  
    2773 0000f900     cb20          jrnz    aqyx                    ;Opp out?
    2774                    
    2775 0000f910     b5a0          move    *a13(INRING),a0
         0000f920     0560  
    2776 0000f930     ca1d          jrz     aqyx                    ;In ring?
    2777                    
    2778 0000f940     b5ae          move    *a13(OBJ_XPOSINT),a14
         0000f950     0110  
    2779                    
    2780 0000f960     09c1          movi    RING_Z_CENTER,a1
         0000f970     04a0  
    2781 0000f980     09c0          movi    RING_X_CENTER-260,a0
         0000f990     032e  
    2782 0000f9a0     480e          cmp     a0,a14
    2783 0000f9b0     c60e          jrle    aqysk
    2784 0000f9c0     09c0          movi    RING_X_CENTER+260,a0
         0000f9d0     0536  
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   58

    2785 0000f9e0     480e          cmp     a0,a14
    2786 0000f9f0     c50a          jrge    aqysk
    2787                    
    2788 0000fa00     b5ae          move    *a13(OBJ_ZPOSINT),a14
         0000fa10     0150  
    2789                    
    2790 0000fa20     09c0          movi    RING_X_CENTER,a0
         0000fa30     0432  
    2791 0000fa40     09c1          movi    RING_TOP-10,a1
         0000fa50     03f5  
    2792 0000fa60     482e          cmp     a1,a14
    2793 0000fa70     c602          jrle    aqysk
    2794 0000fa80     09c1          movi    RING_BOT+10,a1
         0000fa90     054b  
    2795 0000faa0           aqysk
    2796 0000faa0     1942          movk    10,a2
    2797 0000fab0     0d3f          callr   drone_seekxz            ;Seek to visinity
         0000fac0     0138  
    2798 0000fad0     cbdd          jrnz    aqylp
    2799                    
    2800 0000fae0                   DS_CODEEND
    2801 0000faf0     001f          .word   P_M+SP_M+K_M+SK_M+B_M,0 ;Enter
    2802                    
    2803 0000fb10           aqyx
    2804 0000fb10                   DS_CODEEND
    2805 0000fb20                   DS_END
    2806                    
    2807                    
    2808                    *******************************
    2809                    
    2810 0000fb40            SUBRP  drn_taunt
    2811                    
    2812 0000fb40                   DS_CODE
    2813                    
    2814 0000fb50     b500          move    *a8(OBJ_ZPOSINT),a0
         0000fb60     0150  
    2815 0000fb70     b5a1          move    *a13(OBJ_ZPOSINT),a1
         0000fb80     0150  
    2816 0000fb90     4420          sub     a1,a0
    2817 0000fba0     0b40          cmpi    100,a0
         0000fbb0     ff9b  
    2818 0000fbc0     c418          jrlt    qdkx
    2819                    
    2820 0000fbd0     b500          move    *a8(OBJ_XPOSINT),a0
         0000fbe0     0110  
    2821 0000fbf0     b5a1          move    *a13(OBJ_XPOSINT),a1
         0000fc00     0110  
    2822 0000fc10     4420          sub     a1,a0
    2823 0000fc20     0380          abs     a0
    2824 0000fc30     0b40          cmpi    300,a0
         0000fc40     fed3  
    2825 0000fc50     c70f          jrgt    qdkx
    2826                    
    2827                    ;Time to execute high-risk move!
    2828 0000fc60     09e0          movi    8000h+6*60,a0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   59

         0000fc70 00008168  
    2829 0000fc90     b00d          move    a0,*a13(RISK)
         0000fca0     0950  
    2830                    
    2831 0000fcb0     b5a0          move    *a13(WRESTLERNUM),a0
         0000fcc0     0590  
    2832 0000fcd0                   X32     a0
    2833 0000fce0     0b20          addi    qdktaunt_t,a0
         0000fcf0 0000fd80' 
    2834 0000fd10     8600          move    *a0,a0,L
    2835 0000fd20     0d5f          calla   change_anim1a
         0000fd30 00000000! 
    2836 0000fd50           qdkx
    2837 0000fd50                   DS_CODEEND
    2838 0000fd60                   DS_END
    2839                    
    2840                    
    2841 0000fd80           qdktaunt_t
    2842 0000fd80 00000000!         .long   hrt_4_taunt_anim                ;0 Bret Hart
    2843 0000fda0 00000000!         .long   rzr_4_taunt_anim                ;1 Razor Ramon
    2844 0000fdc0 00000000!         .long   und_4_taunt_anim                ;2 Undertaker
    2845 0000fde0 00000000!         .long   yok_4_taunt_anim                ;3 Yokozuna
    2846 0000fe00 00000000!         .long   shn_4_taunt_anim                ;4 Shawn Michaels
    2847 0000fe20 00000000!         .long   bam_4_taunt_anim                ;5 Bam Bam
    2848 0000fe40 00000000!         .long   dnk_4_taunt_anim                ;6 Doink
    2849 0000fe60 00000000          .long   0                               ;7 spare
    2850 0000fe80 00000000!         .long   lex_4_taunt_anim                ;8 Lex Luger
    2851                    
    2852                    
    2853                    *******************************
    2854                    
    2855 0000fea0            SUBRP  drn_oppdead
    2856                    
    2857 0000fea0                   DS_CODE
    2858 0000feb0           ijolp
    2859 0000feb0     5600          clr     a0                      ;Close
    2860 0000fec0     b00d          move    a0,*a13(DRN_SEEKDIR)
         0000fed0     0a50  
    2861 0000fee0     b00d          move    a0,*a13(DRN_SEEKDIST)
         0000fef0     0a60  
    2862                    
    2863 0000ff00     0d3f          callr   drone_seekdirdist
         0000ff10     001b  
    2864 0000ff20                   DS_CODEEND
    2865 0000ff30                   DS_SLP1
    2866 0000ff40                   DS_CODE
    2867                    
    2868 0000ff50     1801          movk    32,a1
    2869 0000ff60     b5a0          move    *a13(WRESTLERNUM),a0
         0000ff70     0590  
    2870 0000ff80     1440          subk    2,a0
    2871 0000ff90     ca02          jreq    ijout                   ;Undertaker?
    2872 0000ffa0     09c1          movi    90,a1
         0000ffb0     005a  
    2873 0000ffc0           ijout
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   60

    2874 0000ffc0     b5a0          move    *a13(CLOSEST_DIST),a0
         0000ffd0     0360  
    2875 0000ffe0     4820          cmp     a1,a0
    2876 0000fff0     c60a          jrle    ijox
    2877                    ;       jruc    ijonotut
    2878                    
    2879 00010000     b500          move    *a8(ANIMODE),a0         ;Let ut walk through dead opps
         00010010     0660  
    2880 00010020     0ba0          ori     MODE_OVERLAP,a0
         00010030 00000400  
    2881 00010050     b008          move    a0,*a8(ANIMODE)
         00010060     0660  
    2882 00010070           ijonotut
    2883                    
    2884 00010070     b5a0          move    *a13(DRN_JOY),a0
         00010080     0990  
    2885 00010090     cbe1          jrnz    ijolp
    2886 000100a0           ijox
    2887 000100a0                   DS_CODEEND
    2888 000100b0     0001          .word   P_M,0
    2889                    
    2890                    
    2891                    
    2892                    *******************************
    2893                    * Push stick to move drone towards his opp dir/dist seek position
    2894                    * A7 = Old joy bits
    2895                    * A8 = *Closest opp proc
    2896                    * Trashes scratch, A2-A5
    2897                    
    2898 000100d0            SUBRP  drone_seekdirdist
    2899                    
    2900 000100d0     b5a4          move    *a13(DRN_SEEKDIR),a4    ;0-f
         000100e0     0a50  
    2901 000100f0     b5a3          move    *a13(DRN_SEEKDIST),a3   ;0-4
         00010100     0a60  
    2902 00010110     4c60          move    a3,a0
    2903 00010120                   X16     a3
    2904 00010130                   X4      a0
    2905 00010140     4003          add     a0,a3                   ;*20
    2906                    
    2907 00010150     4c82          move    a4,a2
    2908 00010160     0d3f          callr   exgdrn_getxz
         00010170     0032  
    2909 00010180     cb18          jrnz    exgok
    2910                    
    2911 00010190     18f0          movk    7,b0
    2912 000101a0     4c85          move    a4,a5
    2913 000101b0           exglp
    2914 000101b0     1024          addk    1,a4
    2915 000101c0     2784          sll     32-4,a4
    2916 000101d0     2c84          srl     32-4,a4
    2917 000101e0     4c82          move    a4,a2
    2918 000101f0     0d3f          callr   exgdrn_getxz
         00010200     0029  
    2919 00010210     cb0d          jrnz    exgnewok
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   61

    2920                    
    2921 00010220     1425          subk    1,a5
    2922 00010230     2785          sll     32-4,a5
    2923 00010240     2c85          srl     32-4,a5
    2924 00010250     4ca2          move    a5,a2
    2925 00010260     0d3f          callr   exgdrn_getxz
         00010270     0022  
    2926 00010280     cb05          jrnz    exgnew5ok
    2927                    
    2928 00010290     3df0          dsj     b0,exglp
    2929                    
    2930 000102a0     5600          clr     a0
    2931 000102b0     b00d          move    a0,*a13(DRN_JOY)
         000102c0     0990  
    2932                    
    2933 000102d0     0960          rets
    2934                    
    2935 000102e0           exgnew5ok
    2936 000102e0     4ca4          move    a5,a4
    2937 000102f0           exgnewok
    2938 000102f0     b08d          move    a4,*a13(DRN_SEEKDIR)
         00010300     0a50  
    2939 00010310           exgok
    2940 00010310     1bc2          movk    30,a2
    2941 00010320     0d3f          callr   drone_seekxz
         00010330     00b1  
    2942 00010340     cb14          jrnz    exgx
    2943                    
    2944 00010350     b5a0          move    *a13(DRN_MODE),a0
         00010360     0a30  
    2945 00010370     1020          addk    1,a0
    2946 00010380     c510          jrge    exgx                    ;Was -1? Skip dir change
    2947                    
    2948 00010390     b0ed          move    a7,*a13(DRN_JOY)        ;Restore to lessen glitch
         000103a0     0990  
    2949                    
    2950 000103b0     1860          movk    3,a0                    ;>Get rnd +-2/3
    2951 000103c0     0d3f          callr   rnd
         000103d0     0112  
    2952 000103e0     1420          subk    1,a0
    2953 000103f0     cb01          jrnz    exgrnz
    2954 00010400     1440          subk    2,a0                    ;0 into -2
    2955 00010410           exgrnz
    2956 00010410     1020          addk    1,a0
    2957 00010420     c701          jrgt    exgrpos
    2958 00010430     1440          subk    2,a0
    2959 00010440           exgrpos
    2960                    
    2961 00010440     4004          add     a0,a4
    2962 00010450     2784          sll     32-4,a4
    2963 00010460     2c84          srl     32-4,a4
    2964 00010470     b08d          move    a4,*a13(DRN_SEEKDIR)
         00010480     0a50  
    2965                    
    2966 00010490           exgx
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   62

    2967 00010490     0960          rets
    2968                    
    2969                    
    2970 000104a0           exgdrn_getxz
    2971 000104a0     4062          add     a3,a2
    2972 000104b0                   X16     a2
    2973 000104c0     0b22          addi    exgsine_t,a2
         000104d0 00010670' 
    2974                    
    2975 000104f0     b44e          move    *a2(4*16),a14
         00010500     0040  
    2976 00010510     b500          move    *a8(OBJ_XPOSINT),a0
         00010520     0110  
    2977 00010530     41c0          add     a14,a0
    2978                    
    2979 00010540     0b40          cmpi    RING_X_CENTER-220,a0
         00010550     fca9  
    2980 00010560     c40d          jrlt    exgxzbad
    2981 00010570     0b40          cmpi    RING_X_CENTER+220,a0
         00010580     faf1  
    2982 00010590     c70a          jrgt    exgxzbad
    2983                    
    2984 000105a0     844e          move    *a2,a14
    2985 000105b0     b501          move    *a8(OBJ_ZPOSINT),a1
         000105c0     0150  
    2986 000105d0     41c1          add     a14,a1
    2987                    
    2988 000105e0     0b41          cmpi    RING_TOP,a1
         000105f0     fc00  
    2989 00010600     c403          jrlt    exgxzbad
    2990 00010610     0b41          cmpi    RING_BOT,a1
         00010620     fabe  
    2991 00010630     c601          jrle    exgxzok
    2992 00010640           exgxzbad
    2993 00010640     5642          clr     a2                      ;Set Z
    2994 00010650           exgxzok
    2995 00010650     4c42          move    a2,a2
    2996 00010660     0960          rets
    2997                    
    2998 00010670           exgsine_t
    2999 00010670     ffce          .word   -50,-46,-35,-19
    3000 000106b0     0000          .word   0,19,35,46,50,46,35,19
    3001 00010730     0000          .word   0,-19,-35,-46,-50,-46,-35,-19
    3002                    
    3003 000107b0     ff9c          .word   -100,-92,-71,-38
    3004 000107f0     0000          .word   0,38,71,92,100,92,71,38
    3005 00010870     0000          .word   0,-38,-71,-92,-100,-92,-71,-38
    3006                    
    3007 000108f0     ff6a          .word   -150,-139,-106,-57
    3008 00010930     0000          .word   0,57,106,139,150,139,106,57
    3009 000109b0     0000          .word   0,-57,-106,-139,-150,-139,-106,-57
    3010                    
    3011 00010a30     ff38          .word   -200,-185,-141,-76
    3012 00010a70     0000          .word   0,76,141,185,200,185,141,76
    3013 00010af0     0000          .word   0,-76,-141,-185,-200,-185,-141,-76
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   63

    3014                    
    3015 00010b70     ff06          .word   -250,-231,-177,-95
    3016 00010bb0     0000          .word   0,95,177,231,250,231,177,95
    3017 00010c30     0000          .word   0,-95,-177,-231,-250,-231,-177,-95
    3018                    
    3019 00010cb0     fed4          .word   -300,-277,-212,-115
    3020 00010cf0     0000          .word   0,114,212,277,300,277,212,114
    3021 00010d70     0000          .word   0,-114,-212,-277,-300,-277,-212,-115
    3022                    
    3023                    
    3024                    *******************************
    3025                    * Push stick to move drone towards closest opp
    3026                    
    3027 00010df0            SUBRP  drone_seek
    3028                    
    3029 00010df0     09c2          movi    70,a2
         00010e00     0046  
    3030                    
    3031 00010e10            SUBRP  drone_seek2
    3032                    
    3033 00010e10     b500          move    *a8(OBJ_XPOSINT),a0
         00010e20     0110  
    3034 00010e30     b501          move    *a8(OBJ_ZPOSINT),a1
         00010e40     0150  
    3035                    
    3036                    
    3037                    *******************************
    3038                    * Push stick to move drone towards an XZ location
    3039                    * A0 = X to seek
    3040                    * A1 = Z
    3041                    * A2 = Range to stop
    3042                    * A13= *Plyr proc
    3043                    *0A0H = Joy bits set or 0 (Pass CC)
    3044                    * Trashes scratch
    3045                    
    3046 00010e50            SUBRP  drone_seekxz
    3047                    
    3048 00010e50     4e60          move    a3,b0
    3049                    
    3050 00010e60     b5a3          move    *a13(OBJ_XPOSINT),a3
         00010e70     0110  
    3051 00010e80     4403          sub     a0,a3
    3052                    
    3053 00010e90     5600          clr     a0
    3054                    
    3055 00010ea0     4c6e          move    a3,a14
    3056 00010eb0     0383          abs     a3
    3057 00010ec0     4443          sub     a2,a3
    3058 00010ed0     c604          jrle    mjdonx
    3059 00010ee0     4dce          move    a14,a14
    3060 00010ef0     c401          jrlt    mjdnolft
    3061 00010f00     1480          subk    4,a0                    ;Left
    3062                    
    3063 00010f10     1100  mjdnolft        addk    8,a0                    ;Rgt
    3064 00010f20           mjdonx
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   64

    3065 00010f20     b5a3          move    *a13(OBJ_ZPOSINT),a3
         00010f30     0150  
    3066                    
    3067 00010f40     4423          sub     a1,a3
    3068 00010f50     4c6e          move    a3,a14
    3069 00010f60     0383          abs     a3
    3070 00010f70     4443          sub     a2,a3
    3071 00010f80     c604          jrle    mjdonz
    3072 00010f90     4dce          move    a14,a14
    3073 00010fa0     c401          jrlt    mjdnoup
    3074 00010fb0     1420          subk    1,a0                    ;Up
    3075                    
    3076 00010fc0     1040  mjdnoup addk    2,a0                    ;Dn
    3077 00010fd0           mjdonz
    3078 00010fd0     b00d          move    a0,*a13(DRN_JOY)
         00010fe0     0990  
    3079                    
    3080 00010ff0     4e13          move    b0,a3
    3081 00011000     4c00          move    a0,a0
    3082 00011010     0960          rets
    3083                    
    3084                    
    3085                    *******************************
    3086                    * Adjust drone skill level (called each round)
    3087                    * 8 is typical starting difficulty
    3088                    * A13 = *Plyr proc
    3089                    * Trashes scratch, A2-A5
    3090                    
    3091 00011020            SUBR   drone_calcskill
    3092                    
    3093 00011020     b5a0          move    *a13(PLYR_TYPE),a0
         00011030     05a0  
    3094 00011040     ca4a          jrz     plbx                    ;Human?
    3095                    
    3096 00011050     b5a0          move    *a13(DRN_SKILLRNDM),a0
         00011060     0a80  
    3097                    
    3098 00011070     05a3          move    @current_round,a3       ;1-3
         00011080 00000000! 
    3099 000110a0     1423          subk    1,a3
    3100 000110b0     c706          jrgt    plbn1st
    3101                    
    3102 000110c0     1880          movk    4,a0
    3103 000110d0     0d3f          callr   rndrng0
         000110e0     004f  
    3104 000110f0     1440          subk    2,a0
    3105 00011100     b00d          move    a0,*a13(DRN_SKILLRNDM)
         00011110     0a80  
    3106 00011120           plbn1st
    3107 00011120     07a5          move    @CURRENT_LADDER,a5,L    ;* to position
         00011130 00000000! 
    3108 00011150     0d05          subi    LADDER,a5
         00011160 ffffffff! 
    3109 00011180     2b65          sra     5,a5                    ;/32 (Gives 0-6)
    3110 00011190     4ca1          move    a5,a1
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   65

    3111 000111a0     2be1          sra     1,a1                    ;0-3
    3112 000111b0     4025          add     a1,a5                   ;A5=0-9
    3113 000111c0     4005          add     a0,a5                   ;-2 to 2 randomness
    3114                    
    3115 000111d0     5684          clr     a4
    3116 000111e0     05a0          move    @PSTATUS2,a0
         000111f0 00000000! 
    3117 00011210     1fe0          btst    0,a0
    3118 00011220     cb01          jrnz    plbp1
    3119 00011230     1a04          movk    16,a4
    3120 00011240           plbp1
    3121 00011240     09e0          movi    p1winstreakd,a0
         00011250 00000000! 
    3122 00011270     4080          add     a4,a0
    3123 00011280     8400          move    *a0,a0
    3124 00011290     c402          jrlt    plbloser                        ;Lost? (-2 per match lost)
    3125                    
    3126                    
    3127                    
    3128 000112a0                   X2      a0
    3129                    ;       add     a0,a5                   ;+1 per match won
    3130                    ;       add     a0,a5                   ;+1 per match won
    3131                    
    3132                    
    3133                    
    3134 000112b0     4005          add     a0,a5                   ;+1 per match won
    3135 000112c0           plbloser
    3136 000112c0                   X2      a0
    3137 000112d0     4005          add     a0,a5                   ;+2 per match won
    3138                    
    3139                    ;       X2      a0
    3140                    ;       add     a0,a5                   ;+2 per match won
    3141                    ;plbloser
    3142                    ;       X2      a0
    3143                    ;       add     a0,a5                   ;+4 per match won
    3144                    
    3145 000112e0     09e0          movi    p1rounds,a0
         000112f0 00000000! 
    3146 00011310     4080          add     a4,a0
    3147 00011320     8400          move    *a0,a0
    3148 00011330     4005          add     a0,a5                   ;+3 per round won
    3149 00011340                   X2      a0
    3150 00011350     4005          add     a0,a5
    3151                    
    3152 00011360                   X2      a3
    3153 00011370     4465          sub     a3,a5                   ;-2 per round past 1st
    3154                    
    3155                    
    3156 00011380     19c0          movk    ADJDIFF,a0              ;Get difficulty level (1-10)
    3157 00011390     0d5f          calla   GET_ADJ
         000113a0 00000000! 
    3158 000113c0     1440          subk    2,a0
    3159 000113d0                   X2      a0
    3160 000113e0     4005          add     a0,a5                   ;+8 default
    3161 000113f0     c501          jrge    plbminok
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   66

    3162 00011400     56a5          clr     a5
    3163 00011410           plbminok
    3164 00011410     0b45          cmpi    29,a5
         00011420     ffe2  
    3165 00011430     c601          jrle    plbmaxok
    3166 00011440     1ba5          movk    29,a5
    3167 00011450           plbmaxok
    3168 00011450     b0ad          move    a5,*a13(DRN_SKILL)
         00011460     0a70  
    3169                    
    3170                    ;컴컴컴컴컴컴컴                        0CHlr attack count
    3171                    
    3172 00011470     5600          clr     a0
    3173 00011480     09e1          movi    atkcnt_t,a1
         00011490 00000010- 
    3174 000114b0     09d0          movi    AT_NUM*NUM_WRES,b0
         000114c0     019d  
    3175 000114d0           plbaclp
    3176 000114d0     9001          move    a0,*a1+
    3177 000114e0     3c50          dsj     b0,plbaclp
    3178                    
    3179 000114f0           plbx
    3180 000114f0     0960          rets
    3181                    
    3182                    
    3183                    
    3184                    ********************************
    3185                    * Get random # with mask
    3186                    * A0 = Mask
    3187                    *0A0H = Rnd # (Pass CC)
    3188                    * Trashes scratch
    3189                    
    3190 00011500            SUBRP  rnd
    3191                    
    3192 00011500     07a1          move    @RAND,a1,L
         00011510 00000000! 
    3193 00011530     6821          rl      a1,a1
    3194 00011540     05ae          move    @HCOUNT,a14
         00011550 c00001c0  
    3195 00011570     69c1          rl      a14,a1
    3196 00011580     41e1          add     sp,a1
    3197 00011590     0781          move    a1,@RAND,L
         000115a0 00000000! 
    3198                    
    3199 000115c0     5020          and     a1,a0
    3200 000115d0     0960          rets
    3201                    
    3202                    
    3203                    ********************************
    3204                    * Quickly produce a random # in range 0-X
    3205                    * A0 = X
    3206                    *0A0H = Random # (0 to A0) (No CC)
    3207                    * Trashes scratch
    3208                    
    3209 000115e0            SUBRP  rndrng0
TMS340 COFF Macro Assembler Version 6.10     Tue Oct 24 17:19:45 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

wrestling drone code                                                 PAGE   67

    3210                    
    3211 000115e0     07a1          move    @RAND,a1,L
         000115f0 00000000! 
    3212 00011610     6821          rl      a1,a1
    3213 00011620     05ae          move    @HCOUNT,a14
         00011630 c00001c0  
    3214 00011650     69c1          rl      a14,a1
    3215 00011660     41e1          add     sp,a1
    3216 00011670     0781          move    a1,@RAND,L
         00011680 00000000! 
    3217                    
    3218 000116a0     1020          addk    1,a0
    3219 000116b0     5e20          mpyu    a1,a0           ;Condition codes not valid!
    3220                    
    3221 000116c0     0960          rets
    3222                    
    3223                    
    3224                    
    3225                    
    3226                    
    3227                    
    3228                    ********************************
    3229                    
    3230                            .end

 No Errors,  No Warnings
