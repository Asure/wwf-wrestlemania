TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    **************************************************************
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            5/18/94
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "yoko.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "jjxm.h"
      19                            .include        "mproc.equ"             ;Mproc equates
      20                            .include        "display.equ"           ;Display proc equates
      21                            .include        "gsp.equ"               ;Gsp asm equates
      22                            .include        "sys.equ"
      23                            .include        "game.equ"
      24                            .include        "plyr.equ"
      25                            .include        "anim.equ"
      26                            .include        "audit.equ"
      27                            .include        "sound.h"
      28                            .include        "ring.equ"
      29                            .include        "lifebar.h"
      30                            .include        "damage.equ"
      31                    
      32                    
      33                    ******************************************************************************
      34                    * EXTERNAL REFERENCES
      35                    
      36                            .ref    change_anim1a,change_anim2a,bounce_off_ropes
      37                            .ref    check_secret_moves,climb_turnbuckle,raisearm_check
      38                            .ref    execute_walk,get_punch_dtime,get_opp_plyrmode
      39                            .ref    keep_attached,change_anim1,mode_dead,round_award
      40                            .ref    get_opp_process,ck_ignore,do_taunt,process_ptrs
      41                            .ref    FIND_AND_KILL_ENDLESS,JUMP_ROPES,CHECK_COMBO_GO
      42                            .ref    yok_combo_jabs_anim,yok_combo_kick_anim,set_raisearm_bit
      43                            .ref    BLOCK_WOOSH,drone_change_back,ck_teammate_pin
      44                            .ref    CLIMB_ROPES,ADD_IF_SILENT,master_keep_attached
      45                            .ref    change_anim2,can_pin
      46                            .ref    blocking_off,std_taunt,std_walk_fast
      47                            .ref    hyper_speed_on
      48                            .ref    in_finish_move
      49                            .ref    p1rounds,p2rounds
      50                            .if NUM_YOKO_FINISHES
      51                            .ref    yok_finish1_move
      52                            .if NUM_YOKO_FINISHES > 1
      53                            .ref    yok_finish2_move
      54                            .endif
      55                            .endif
      56                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                    ******************************************************************************
      58                    * ANIMATION SEQUENCES
      59                    
      60                            .ref    yok_2_jabs_anim
      61                            .ref    yok_4_jabs_anim
      62                            .ref    yok_4_uppercut_anim
      63                            .ref    yok_2_slap2_anim
      64                            .ref    yok_4_slap2_anim
      65                            .ref    yok_2_superkick_anim
      66                            .ref    yok_4_superkick_anim
      67                            .ref    yok_2_grabfling_anim
      68                            .ref    yok_4_grabfling_anim
      69                    
      70                            .ref    DO_REVERSAL,PCNT
      71                            .ref    DO_REVERSAL_MESS
      72                    
      73                            .ref    yok_3_head_hold2_anim
      74                            .ref    yok_3_head_hold_anim
      75                            .ref    wres_slave_anim
      76                            .ref    yok_zip_anim
      77                            .ref    start_run_anim
      78                    
      79                            .ref    yok_stand2_anim,yok_stand8_anim
      80                            .ref    yok_scissor_anim
      81                            .ref    yok_stand4_anim,yok_stand6_anim
      82                            .ref    yok_torso2_anim,yok_torso8_anim
      83                            .ref    yok_torso4_anim,yok_torso6_anim
      84                    
      85                            .ref    yok_2_to_4_turn_anim,yok_8_to_6_turn_anim       ;stand
      86                            .ref    yok_4_to_2_turn_anim,yok_6_to_8_turn_anim
      87                            .ref    yok_4_to_6_turn_anim,yok_6_to_4_turn_anim
      88                            .ref    yok_2_to_8_turn_anim,yok_8_to_2_turn_anim
      89                            .ref    yok_4_to_8_turn_anim,yok_6_to_2_turn_anim
      90                            .ref    yok_2_to_6_turn_anim,yok_8_to_4_turn_anim
      91                    
      92                            .ref    yok_2_to_4_turn2_anim,yok_8_to_6_turn2_anim     ;torso
      93                            .ref    yok_4_to_2_turn2_anim,yok_6_to_8_turn2_anim
      94                            .ref    yok_4_to_6_turn2_anim,yok_6_to_4_turn2_anim
      95                            .ref    yok_2_to_8_turn2_anim,yok_8_to_2_turn2_anim
      96                            .ref    yok_4_to_8_turn2_anim,yok_6_to_2_turn2_anim
      97                            .ref    yok_2_to_6_turn2_anim,yok_8_to_4_turn2_anim
      98                    
      99                            .ref    yok_walk1_f2_anim,yok_walk2_f2_anim,yok_walk4_f2_anim
     100                            .ref    yok_walk5_f2_anim,yok_walk6_f2_anim,yok_walk8_f2_anim
     101                    
     102                            .ref    yok_walk1_f4_anim,yok_walk2_f4_anim,yok_walk4_f4_anim
     103                            .ref    yok_walk5_f4_anim,yok_walk6_f4_anim,yok_walk8_f4_anim
     104                    
     105                            .ref    yok_run2_anim
     106                    
     107                            .ref    yok_climb_up_anim,yok_climb_down_anim
     108                            .ref    yok_3_butt_drop_anim,yok_tbukl_buttdrop_anim
     109                    
     110                            .ref    yok_2_punch_anim,yok_4_punch_anim
     111                    ;       .ref    yok_2_push_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

     112                            .ref    yok_4_push_anim
     113                            .ref    yok_2_lbowdrop_anim,yok_4_lbowdrop_anim
     114                            .ref    yok_2_kick_anim,yok_4_kick_anim
     115                            .ref    yok_2_stomp_anim,yok_4_stomp_anim
     116                            .ref    yok_2_knee_anim,yok_4_knee_anim
     117                            .ref    yok_2_gut_push_anim,yok_4_gut_push_anim
     118                            .ref    yok_4_losebal_anim
     119                    
     120                            .ref    yok_4_block_anim
     121                    
     122                            .ref    yok_2_head_hit_anim,yok_4_head_hit_anim
     123                            .ref    yok_2_body_hit_anim,yok_4_body_hit_anim
     124                            .ref    yok_2_raise_arm_anim,yok_4_raise_arm_anim
     125                            .ref    yok_2_pin_anim,yok_4_pin_anim
     126                    
     127                            .ref    yok_graboh_anim
     128                            .ref    yok_2_hiptoss_anim
     129                            .ref    yok_4_hiptoss_anim
     130                            .ref    yok_2_hiptoss2_anim
     131                            .ref    yok_4_hiptoss2_anim
     132                            .ref    yok_vsuplex_anim
     133                    
     134                            .ref    yok_spinslam_anim
     135                            .ref    yok_heldheadbutt_rpt_anim
     136                    
     137                    ;       .ref    yok_pkup_chair_anim
     138                            .ref    yok_2_hair_pickup_anim
     139                            .ref    yok_4_salt_anim,yok_3_head_held_stand_anim
     140                            .ref    yok_overhd_slam_anim,yok_2_run_slap_anim
     141                            .ref    yok_4_hair_pickup_anim,yok_2_salt_anim
     142                            .ref    yok_stndholdoh_anim,yok_4_run_slap_anim
     143                            .ref    yok_fall_back_anim,yok_holdoh_anim
     144                    
     145                            .ref    BONUS_MESS
     146                    
     147                    ******************************************************************************
     148                    * SYMBOLS DEFINED IN THIS FILE
     149                    
     150                    ******************************************************************************
     151                    * EQUATES FOR THIS FILE
     152                    
     153                    *****************************************************************************
     154                    
     155 00000000           yok_secret_moves
     156 00000000 00001910'         .long   tirdcharge_salt ;must have this one
     157 00000020 000014d0'         .long   tirdneck_grab
     158 00000040 00000d30'         .long   tirdgrab_fling
     159 00000060 00000690'         .long   tirdhip_toss
     160 00000080 00000ba0'         .long   tirdgrab_fling2
     161 000000a0 00000bf0'         .long   tirdhip_toss2
     162 000000c0 00000260'         .long   tirdscissors
     163 000000e0 00001f00'         .long   tirdgut_push
     164 00000100 00002340'         .long   tirdjabs
     165 00000120 00000000          .long   0
     166                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

     167                    ******************************************************************************
     168                    *
     169                    * SPECIAL MOVE PROCESSES - Secret moves
     170                    *
     171                    ;a8=process of wrestler
     172                    
     173 00000140            SUBR   yok_smove_table
     174 00000140 00004b10'         .long   yok_hdhold_combo1
     175 00000160 00003fc0'         .long   yok_hdhold_scissor
     176 00000180 00003460'         .long   yok_hdhold_suplex
     177 000001a0 00005cf0'         .long   yok_salt_throw
     178 000001c0 00002760'         .long   yok_grab_toss_air
     179 000001e0 00005400'         .long   yok_hdhold_combo2
     180                    ;       .long   yok_hdhold_anti_combo
     181 00000200 00000000!         .long   std_walk_fast
     182 00000220 00000000!         .long   std_taunt
     183                    
     184                            .if NUM_YOKO_FINISHES
     185                            .long   yok_finish_move1
     186                            .endif
     187                            .if NUM_YOKO_FINISHES > 1
     188                            .long   yok_finish_move2
     189                            .endif
     190 00000240 00000000          .long   0
     191                    
     192                    ******************************************************************************
     193 00000260           tirdscissors
     194 00000260     0100          .word   B_SKICK,                J_ALL
     195 00000280     0008          .word   J_TOWARD,               J_REAL_LR
     196 000002a0     0008          .word   J_TOWARD,               J_REAL_LR
     197 000002c0     8020          .word   8000h | 32              ;max
     198 000002d0 000002f0'         .long   tirdscrt_scis
     199                    
     200 000002f0           tirdscrt_scis
     201 000002f0     b5a0          move    *a13(ANIMODE),a0
         00000300     0660  
     202 00000310     1fa0          btst    MODE_UNINT_BIT,a0
     203 00000320     cb35          jrnz    tirdrets
     204 00000330     b5a0          move    *a13(PLYRMODE),a0
         00000340     05c0  
     205 00000350     0b40          CMPI    MODE_HEADHOLD,a0
         00000360     ffef  
     206 00000370     ca30          jrz     tirdrets
     207                    
     208                    ;no frankensteiner if opponent is on the ground
     209 00000380     0d5f          calla   get_opp_plyrmode
         00000390 00000000! 
     210 000003b0     0b40          cmpi    MODE_ONGROUND,a0
         000003c0     fffb  
     211 000003d0     ca2a          jreq    tirdrets
     212 000003e0     0b40          cmpi    MODE_DEAD,a0
         000003f0     fff6  
     213 00000400     ca27          jreq    tirdrets
     214                    
     215                            ;don't do it if opponent is behind you
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

     216 00000410     0d5f          calla   ck_ignore
         00000420 00000000! 
     217 00000440     c823          jrc     tirdrets
     218                            
     219 00000450     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00000460 00000000! 
     220 00000480     09e0          movi    yok_scissor_anim,a0
         00000490 00000000! 
     221 000004b0     0d5f          calla   change_anim1a
         000004c0 00000000! 
     222 000004e0                   WRSND   W_YOKO,GRABFLING_T1,GRABFLING_T2
     223 00000680     0960  tirdrets        rets
     224                    
     225                    *******************************************************************************
     226                    
     227 00000690           tirdhip_toss
     228                    ;       .word   B_PUNCH | J_AWAY,       J_REAL_LR | J_UP | J_DOWN
     229                    ;       .word   8000h | 10              ;max
     230                    ;       .long   tirdscrt_hiptoss
     231                    
     232 00000690     0010          .word   B_PUNCH,                J_ALL
     233 000006b0     0004          .word   J_AWAY,         J_REAL_LR
     234 000006d0     0004          .word   J_AWAY,         J_REAL_LR
     235 000006f0     8020          .word   8000h | 32              ;max
     236 00000700 00000720'         .long   tirdscrt_hiptoss
     237                    
     238 00000720           tirdscrt_hiptoss
     239 00000720     b5a0          move    *a13(ANIMODE),a0
         00000730     0660  
     240 00000740     1fa0          btst    MODE_UNINT_BIT,a0
     241 00000750     cb00          jrnz    tirdout
         00000760     01bc  
     242                    
     243                    ;Don't do it when he is on ground
     244 00000770     0d5f          calla   get_opp_plyrmode
         00000780 00000000! 
     245 000007a0     0b40          cmpi    MODE_ONGROUND,a0
         000007b0     fffb  
     246 000007c0     ca00          jrz     tirdout
         000007d0     01b5  
     247                    ;       cmpi    MODE_BLOCK,a0
     248                    ;       jrz     tirdout
     249 000007e0     0b40          cmpi    MODE_DEAD,a0
         000007f0     fff6  
     250 00000800     ca00          jrz     tirdout
         00000810     01b1  
     251 00000820     0b40          cmpi    MODE_HEADHELD,a0
         00000830     ffec  
     252 00000840     ca00          jrz     tirdout
         00000850     01ad  
     253 00000860     0b40          cmpi    MODE_INAIR,a0
         00000870     fffd  
     254 00000880     ca09          jrz     tirddoit
     255 00000890     0b40          cmpi    MODE_INAIR2,a0
         000008a0     ffea  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

     256 000008b0     ca06          jrz     tirddoit
     257                    
     258 000008c0     b5a0          move    *a13(CLOSEST_DIST),a0
         000008d0     0360  
     259 000008e0     0b40          cmpi    70h,a0
         000008f0     ff8f  
     260 00000900     c700          jrgt    tirdout
         00000910     01a1  
     261                    
     262 00000920           tirddoit
     263 00000920                   FACE24  yok,hiptoss_anim
     264 000009c0     0d5f          calla   change_anim1a
         000009d0 00000000! 
     265                    
     266 000009f0                   WRSND   W_YOKO,HIPTOSS_T1,PUNCH_T2
     267                    
     268 00000b90     0960          rets
     269                    
     270                    *******************************************************************************
     271                    
     272 00000ba0           tirdgrab_fling2
     273 00000ba0     0044          .word   B_SPUNCH | J_AWAY,      J_REAL_LR | J_UP | J_DOWN
     274 00000bc0     800a          .word   8000h | 10              ;max
     275 00000bd0 00000c40'         .long   tirdscrt_grabfling2
     276                    
     277 00000bf0           tirdhip_toss2
     278 00000bf0     0014          .word   B_PUNCH | J_AWAY,       J_REAL_LR | J_UP | J_DOWN
     279 00000c10     800a          .word   8000h | 10              ;max
     280 00000c20 00000c40'         .long   tirdscrt_grabfling2
     281                    
     282 00000c40           tirdscrt_grabfling2
     283 00000c40     b5a0          move    *a13(ANIMODE),a0
         00000c50     0660  
     284 00000c60     1fa0          btst    MODE_UNINT_BIT,a0
     285 00000c70     cb00          jrnz    tirdout
         00000c80     016a  
     286                    
     287                    ;If opponent is running, do a hip toss
     288 00000c90     0d5f          calla   get_opp_plyrmode
         00000ca0 00000000! 
     289 00000cc0     0b40          cmpi    MODE_BOUNCING,a0
         00000cd0     fffa  
     290 00000ce0     ca1b          jrz     tirdyes
     291 00000cf0     0b40          cmpi    MODE_RUNNING,a0
         00000d00     fffe  
     292 00000d10     ca18          jrz     tirdyes
     293 00000d20     0960          rets
     294                    
     295                    *******************************************************************************
     296                    
     297 00000d30           tirdgrab_fling
     298                    ;       .word   B_SPUNCH | J_AWAY,      J_REAL_LR | J_UP | J_DOWN
     299                    ;       .word   8000h | 10              ;max
     300                    ;       .long   tirdscrt_grabfling
     301                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

     302 00000d30     0040          .word   B_SPUNCH,               J_ALL
     303 00000d50     0004          .word   J_AWAY,         J_REAL_LR
     304 00000d70     0004          .word   J_AWAY,         J_REAL_LR
     305 00000d90     8020          .word   8000h | 32              ;max
     306 00000da0 00000dc0'         .long   tirdscrt_grabfling
     307                    
     308 00000dc0           tirdscrt_grabfling
     309                    
     310                    ;Make this miss, rotate to missed opponent,
     311                    ;and stay rotated to flung opponent, also make
     312                    ;this work from both angles!
     313                    
     314 00000dc0     b5a0          move    *a13(ANIMODE),a0
         00000dd0     0660  
     315 00000de0     1fa0          btst    MODE_UNINT_BIT,a0
     316 00000df0     cb00          jrnz    tirdout
         00000e00     0152  
     317                    
     318                    ;If opponent is running, do a hip toss
     319 00000e10     0d5f          calla   get_opp_plyrmode
         00000e20 00000000! 
     320 00000e40     0b40          cmpi    MODE_BOUNCING,a0
         00000e50     fffa  
     321 00000e60     ca03          jrz     tirdyes
     322 00000e70     0b40          cmpi    MODE_RUNNING,a0
         00000e80     fffe  
     323 00000e90     cb28          jrnz    tirdnope
     324 00000ea0           tirdyes
     325 00000ea0                   FACE24  yok,hiptoss_anim
     326 00000f40     0d5f          calla   change_anim1a
         00000f50 00000000! 
     327                    
     328 00000f70                   WRSND   W_YOKO,HIPTOSS_T1,PUNCH_T2
     329 00001110     0960          rets
     330                    
     331 00001120           tirdnope
     332                    ;Don't fling when he is on ground
     333 00001120     0d5f          calla   get_opp_plyrmode
         00001130 00000000! 
     334 00001150     0b40          cmpi    MODE_DEAD,a0
         00001160     fff6  
     335 00001170     ca00          jrz     tirdout
         00001180     011a  
     336 00001190     0b40          cmpi    MODE_HEADHELD,a0
         000011a0     ffec  
     337 000011b0     ca00          jrz     tirdout
         000011c0     0116  
     338 000011d0     0b40          cmpi    MODE_ONGROUND,a0
         000011e0     fffb  
     339 000011f0     ca00          jrz     tirdout
         00001200     0112  
     340                    ;Mode held overhead!
     341 00001210     0b40          cmpi    MODE_ATTACHED,a0
         00001220     fffc  
     342 00001230     ca00          jrz     tirdout
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

         00001240     010e  
     343                    
     344                    ;       move    *a13(LAST_FLING_ATTEMPT),a14,L
     345                    ;       move    @PCNT,a0,L
     346                    ;       sub     a14,a0
     347                    ;       cmpi    3*60,a0
     348                    ;       jrge    tirdok2
     349                    ;
     350                    ;;This head grab is too close (in terms of time) to most recent grab
     351                    ;       FACE24  yok,slap2_anim
     352                    ;       calla   change_anim1a
     353                    ;
     354                    ;       WRSND   W_YOKO,SPUNCH_T1,SPUNCH_T2
     355                    ;       rets
     356                    ;
     357                    ;tirdok2
     358                    ;       move    @PCNT,a14,L                     ;use 32-bit PCNT!
     359                    ;       move    a14,*a13(LAST_FLING_ATTEMPT),L
     360                    
     361 00001250                   FACE24  yok,grabfling_anim
     362 000012f0     0d5f          calla   change_anim1a
         00001300 00000000! 
     363                    
     364 00001320                   WRSND   W_YOKO,GRABFLING_T1,PUNCH_T2
     365 000014c0     0960          rets
     366                    
     367                    *******************************************************************************
     368                    
     369 000014d0           tirdneck_grab
     370 000014d0     0040          .word   B_SPUNCH,               J_ALL
     371 000014f0     0008          .word   J_TOWARD,               J_REAL_LR
     372 00001510     0008          .word   J_TOWARD,               J_REAL_LR
     373 00001530     801e          .word   8000h | 30              ;max
     374 00001540 00001560'         .long   tirdscrt_neck
     375                    
     376 00001560           tirdscrt_neck
     377 00001560     b5a0          move    *a13(ANIMODE),a0
         00001570     0660  
     378 00001580     1fa0          btst    MODE_UNINT_BIT,a0
     379 00001590     cb00          jrnz    tirdout
         000015a0     00d8  
     380                    
     381                    ;Don't do it when he is on ground
     382 000015b0     0d5f          calla   get_opp_plyrmode
         000015c0 00000000! 
     383 000015e0     0b40          cmpi    MODE_ONGROUND,a0
         000015f0     fffb  
     384 00001600     ca00          jrz     tirdout
         00001610     00d1  
     385 00001620     0b40          cmpi    MODE_DEAD,a0
         00001630     fff6  
     386 00001640     ca00          jrz     tirdout
         00001650     00cd  
     387 00001660     0b40          cmpi    MODE_HEADHELD,a0
         00001670     ffec  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     388 00001680     ca00          jrz     tirdout
         00001690     00c9  
     389                    ;Mode held overhead!
     390 000016a0     0b40          cmpi    MODE_ATTACHED,a0
         000016b0     fffc  
     391 000016c0     ca00          jrz     tirdout
         000016d0     00c5  
     392                    
     393 000016e0     b7ae          move    *a13(LAST_HEADHOLD),a14,L
         000016f0     0cd0  
     394 00001700     07a0          move    @PCNT,a0,L
         00001710 00000000! 
     395 00001730     45c0          sub     a14,a0
     396 00001740     0b40          cmpi    2*60,a0
         00001750     ff87  
     397 00001760     c507          jrge    tirdok2a
     398                    
     399                    ;This head grab is too close (in terms of time) to most recent grab
     400                            .ref    yok_3_fake_hold_anim
     401 00001770     09e0          movi    yok_3_fake_hold_anim,a0
         00001780 00000000! 
     402 000017a0     0d5f          calla   change_anim1a
         000017b0 00000000! 
     403 000017d0     0960          rets
     404                    
     405 000017e0           tirdok2a
     406 000017e0     b5a1          move    *a13(CLOSEST_XDIST),a1
         000017f0     0370  
     407 00001800     0b41          cmpi    80,a1
         00001810     ffaf  
     408 00001820     c707          jrgt    tirdstd_grab
     409                    
     410 00001830     09e0          movi    yok_3_head_hold2_anim,a0
         00001840 00000000! 
     411 00001860     0d5f          calla   change_anim1a
         00001870 00000000! 
     412 00001890     0960          rets
     413                    
     414 000018a0           tirdstd_grab
     415 000018a0     09e0          movi    yok_3_head_hold_anim,a0
         000018b0 00000000! 
     416 000018d0     0d5f          calla   change_anim1a
         000018e0 00000000! 
     417 00001900     0960          rets
     418                    
     419                    *******************************************************************************
     420                    
     421 00001910           tirdcharge_salt
     422                    
     423 00001910     b5a0          move    *a13(BUT_VAL_UP),a0
         00001920     0bb0  
     424 00001930     1fe0          btst    PLAYER_PUNCH_BIT,a0
     425 00001940     ca0f          jrz     tirdno_punch
     426                    
     427 00001950     b5a0          move    *a13(PLYRNUM),a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   10

         00001960     0580  
     428 00001970     0d5f          calla   get_punch_dtime
         00001980 00000000! 
     429 000019a0     0b40          cmpi    85,a0                   ;> min?
         000019b0     ffaa  
     430 000019c0     c407          jrlt    tirdno_punch
     431                    
     432 000019d0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000019e0 00000000! 
     433 00001a00     0d3f          callr   tirdscrt_salt
         00001a10     0004  
     434 00001a20     0de0          setc
     435 00001a30     0960          rets
     436                    
     437 00001a40           tirdno_punch
     438 00001a40     0320          clrc
     439 00001a50     0960          rets
     440                    
     441 00001a60           tirdscrt_salt
     442 00001a60     b5a0          move    *a13(PLYRMODE),a0
         00001a70     05c0  
     443 00001a80     0b40          cmpi    MODE_HEADHELD,a0
         00001a90     ffec  
     444 00001aa0     ca00          jrz     tirdout
         00001ab0     0087  
     445 00001ac0     0b40          cmpi    MODE_HEADHOLD,a0
         00001ad0     ffef  
     446 00001ae0     ca00          jrz     tirdout
         00001af0     0083  
     447                    
     448 00001b00     b5a0          move    *a13(ANIMODE),a0
         00001b10     0660  
     449 00001b20     1fa0          btst    MODE_UNINT_BIT,a0
     450 00001b30     cb7f          jrnz    tirdout
     451                    
     452                    ;Don't do it when he is on ground
     453 00001b40     0d5f          calla   get_opp_plyrmode
         00001b50 00000000! 
     454 00001b70     0b40          cmpi    MODE_ATTACHED,a0
         00001b80     fffc  
     455 00001b90     ca79          jrz     tirdout
     456                    ;       cmpi    MODE_ONGROUND,a0
     457                    ;       jrz     tirdout
     458                    ;       cmpi    MODE_DEAD,a0
     459                    ;       jrz     tirdout
     460                    
     461 00001ba0                   FACE24  yok,salt_anim
     462 00001c40     0d5f          calla   change_anim1a
         00001c50 00000000! 
     463 00001c70                   WRSND   W_YOKO,HDBUTT_T1,HDBUTT_T2
     464                    
     465 00001e10     5600          clr     a0
     466 00001e20     b00d          move    a0,*a13(RUN_TIME)
         00001e30     07b0  
     467                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   11

     468 00001e40                   SETMODE NORMAL
     469                    
     470 00001ef0     0960          rets
     471                    
     472                    *******************************************************************************
     473                    
     474 00001f00           tirdgut_push
     475 00001f00     0010          .word   B_PUNCH,                J_ALL
     476 00001f20     0008          .word   J_TOWARD,               J_REAL_LR
     477 00001f40     0008          .word   J_TOWARD,               J_REAL_LR
     478 00001f60     8028          .word   8000h | 40              ;max
     479 00001f70 00001f90'         .long   tirdscrt_gut_push
     480                    
     481 00001f90           tirdscrt_gut_push
     482                    
     483 00001f90     b5a0          move    *a13(ANIMODE),a0
         00001fa0     0660  
     484 00001fb0     1fa0          btst    MODE_UNINT_BIT,a0
     485 00001fc0     cb36          jrnz    tirdout
     486                     
     487                    ;Don't do it when he is on ground
     488 00001fd0     0d5f          calla   get_opp_plyrmode
         00001fe0 00000000! 
     489 00002000     0b40          cmpi    MODE_ONGROUND,a0
         00002010     fffb  
     490 00002020     ca30          jrz     tirdout
     491 00002030     0b40          cmpi    MODE_DEAD,a0
         00002040     fff6  
     492 00002050     ca2d          jrz     tirdout
     493 00002060     0b40          cmpi    MODE_HEADHELD,a0
         00002070     ffec  
     494 00002080     ca2a          jrz     tirdout
     495                    ;Mode held overhead!
     496 00002090     0b40          cmpi    MODE_ATTACHED,a0
         000020a0     fffc  
     497 000020b0     ca27          jrz     tirdout
     498                     
     499 000020c0                   FACE24  yok,gut_push_anim
     500 00002160     0d5f          calla   change_anim1a
         00002170 00000000! 
     501 00002190                   WRSND   W_YOKO,GRABTHROW_T1,GRABTHROW_T2
     502 00002330           tirdout
     503 00002330     0960          rets
     504                    
     505                    
     506                    *******************************************************************************
     507                    
     508 00002340           tirdjabs
     509 00002340     0010          .word   B_PUNCH,                J_ALL
     510 00002360     0008          .word   J_TOWARD,               J_REAL_LR
     511 00002380     000a          .word   J_DOWN_TOWARD,          J_REAL_LR
     512 000023a0     0002          .word   J_DOWN,                 J_REAL_LR
     513 000023c0     8032          .word   8000h | 50              ;max
     514 000023d0 000023f0'         .long   tirdscrt_jabs
     515                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   12

     516 000023f0           tirdscrt_jabs
     517 000023f0     b5a0          move    *a13(ANIMODE),a0
         00002400     0660  
     518 00002410     1fa0          btst    MODE_UNINT_BIT,a0
     519 00002420     cbf0          jrnz    tirdout
     520                    
     521 00002430     b5a0          move    *a13(PLYRMODE),a0
         00002440     05c0  
     522 00002450     0b40          cmpi    MODE_ONTURNBKL,a0
         00002460     fff9  
     523 00002470     caeb          jrz     tirdout
     524                    
     525                    ;Don't do it when he is on ground
     526 00002480     0d5f          calla   get_opp_plyrmode
         00002490 00000000! 
     527                    ;       cmpi    MODE_ONGROUND,a0
     528                    ;       jrz     tirdout
     529                    ;       cmpi    MODE_DEAD,a0
     530                    ;       jrz     tirdout
     531 000024b0     0b40          cmpi    MODE_HEADHELD,a0
         000024c0     ffec  
     532 000024d0     cae5          jrz     tirdout
     533                    
     534 000024e0                   FACE24  yok,jabs_anim
     535 00002580     0d5f          calla   change_anim1a
         00002590 00000000! 
     536                    
     537 000025b0                   WRSND   W_YOKO,HDBUTT_T1,HDBUTT_T2
     538                    
     539 00002750     0960          rets
     540                    
     541                            .if NUM_YOKO_FINISHES
     542                    ******************************************************************************
     543                     SUBRP  yok_finish_move1
     544                    
     545                    yedjTIMEOUT     .equ    TSEC
     546                    
     547                    yedjend_wait
     548                            SLEEP           TSEC/4
     549                            move            @p1rounds,a0                    ; Get player 1 rounds
     550                            move            @p2rounds,a1                    ; Get player 2 rounds
     551                            or              a1,a0                           ; Put em together
     552                            cmpi            2,a0                            ; Anybody got 2?
     553                            jrlt            yedjend_wait                    ; br = no
     554                    
     555                    yedjreset
     556                            clr             a11
     557                            move            a11,@in_finish_move
     558                            SLEEPK          1
     559                            WAITSWITCH_DWN  J_UP,0,yedjreset
     560                            movi            yedjTIMEOUT,a11
     561                            move            a11,@in_finish_move
     562                            WAITSWITCH_DWN  J_DOWN,0,yedjreset
     563                            WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,yedjreset
     564                            WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,yedjreset
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   13

     565                            WAITSWITCH_DWN  B_PUNCH,J_ALL,yedjreset
     566                    
     567                            movi            yok_finish1_move,a0
     568                            move            a0,*a8(SPECIAL_MOVE_ADDR),L
     569                            DIE
     570                            .endif
     571                            
     572                    
     573                            .if NUM_YOKO_FINISHES > 1
     574                    ******************************************************************************
     575                     SUBRP  yok_finish_move2
     576                    
     577                    bjufTIMEOUT     .equ    TSEC
     578                    
     579                    bjufend_wait
     580                            SLEEP           TSEC/4
     581                            move            @p1rounds,a0                    ; Get player 1 rounds
     582                            move            @p2rounds,a1                    ; Get player 2 rounds
     583                            or              a1,a0                           ; Put em together
     584                            cmpi            2,a0                            ; Anybody got 2?
     585                            jrlt            bjufend_wait                    ; br = no
     586                    
     587                    bjufreset
     588                            clr             a11
     589                            move            a11,@in_finish_move
     590                            SLEEPK          1
     591                            WAITSWITCH_DWN  J_UP,0,bjufreset
     592                            movi            bjufTIMEOUT,a11
     593                            move            a11,@in_finish_move
     594                            WAITSWITCH_DWN  J_UP,0,bjufreset
     595                            WAITSWITCH_DWN  J_RIGHT,J_UP,bjufreset
     596                            WAITSWITCH_DWN  J_RIGHT,J_UP,bjufreset
     597                            WAITSWITCH_DWN  B_SPUNCH,J_ALL,bjufreset
     598                    
     599                            movi            yok_finish2_move,a0
     600                            move            a0,*a8(SPECIAL_MOVE_ADDR),L
     601                            DIE
     602                            .endif
     603                    
     604                    *******************************************************************************
     605                    
     606 00002760           yok_grab_toss_air
     607                    
     608              0028  nzfkTIMEOUT     .equ    40
     609                    
     610 00002760           nzfklp0
     611 00002760                   SLEEPK  1
     612 000027a0           nzfklp
     613 000027a0     576b          clr     a11
     614                    
     615 000027b0                   WAITSWITCH_DWN  J_AWAY,0,nzfklp
     616                    
     617 00002910     09cb          movi    nzfkTIMEOUT,a11
         00002920     0028  
     618                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   14

     619 00002930                   WAITSWITCH_DWN  J_AWAY,0,nzfklp
     620 00002a90                   WAITSWITCH_DWN  B_PUNCH,J_ALL,nzfklp
     621                    
     622 00002bf0     b500          move    *a8(ANIMODE),a0
         00002c00     0660  
     623 00002c10     1fa0          btst    MODE_UNINT_BIT,a0
     624 00002c20     cbb7          jrnz    nzfklp
     625                    
     626 00002c30     b500          move    *a8(PLYRMODE),a0
         00002c40     05c0  
     627 00002c50     0b40          cmpi    MODE_HEADHOLD,a0
         00002c60     ffef  
     628 00002c70     caae          jreq    nzfklp0
     629                    
     630                    ;Don't do it when he is on ground
     631 00002c80                   SWAP    a8,a13
     632 00002cb0     0d5f          calla   get_opp_plyrmode
         00002cc0 00000000! 
     633 00002ce0                   SWAP    a8,a13
     634                    ;Don't do it when he is on ground
     635 00002d10     0b40          cmpi    MODE_ONGROUND,a0
         00002d20     fffb  
     636 00002d30     caa6          jrz     nzfklp
     637 00002d40     0b40          cmpi    MODE_DEAD,a0
         00002d50     fff6  
     638 00002d60     caa3          jrz     nzfklp
     639 00002d70     0b40          cmpi    MODE_INAIR,a0
         00002d80     fffd  
     640 00002d90     ca40          jrz     nzfkdoit2
     641 00002da0     0b40          cmpi    MODE_INAIR2,a0
         00002db0     ffea  
     642 00002dc0     ca3d          jrz     nzfkdoit2
     643                    
     644 00002dd0     b500          move    *a8(CLOSEST_NUM),a0
         00002de0     03a0  
     645 00002df0                   X32     a0
     646 00002e00     0b20          addi    process_ptrs,a0
         00002e10 00000000! 
     647 00002e30     8600          move    *a0,a0,L
     648 00002e40     b400          move    *a0(ATTACK_TYPE),a0
         00002e50     05e0  
     649 00002e60     0b40          cmpi    AT_LEAPING,a0
         00002e70     ffc6  
     650 00002e80     ca31          jrz     nzfkdoit2
     651                    
     652 00002e90     b500          move    *a8(CLOSEST_DIST),a0
         00002ea0     0360  
     653 00002eb0     0b40          cmpi    6ch,a0
         00002ec0     ff93  
     654 00002ed0     c78c          jrgt    nzfklp
     655                    
     656 00002ee0                   FACE24  yok,hiptoss_anim
     657 00002f80     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00002f90     0930  
     658                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   15

     659 00002fa0                   WRSND   W_YOKO,GRABFLING_T1,PUNCH_T2
     660                    
     661 00003140                   SLEEPK  20
     662 00003180     c000          jruc    nzfklp
         00003190     ff60  
     663                    
     664 000031a0           nzfkdoit2       FACE24  yok,hiptoss2_anim
     665 00003240     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00003250     0930  
     666                    
     667 00003260                   WRSND   W_YOKO,GRABFLING_T1,PUNCH_T2
     668                    
     669 00003400                   SLEEPK  20
     670                    
     671 00003440     c000          jruc    nzfklp
         00003450     ff34  
     672                    
     673                    
     674                    *******************************************************************************
     675 00003460           yok_hdhold_suplex
     676                    
     677              003c  kjoiTIMEOUT     .equ    60
     678                    
     679 00003460           kjoilp0
     680 00003460                   SLEEPK  1
     681 000034a0           kjoilp
     682                    ;       move    *a8(GETUP_TIME),a0
     683                    ;       jrnz    kjoilp0
     684 000034a0     b500          move    *a8(PLYRMODE),a0
         000034b0     05c0  
     685 000034c0     0b40          cmpi    MODE_HEADHOLD,a0
         000034d0     ffef  
     686 000034e0     ca03          jrz     kjoicont
     687 000034f0     0b40          cmpi    MODE_HEADHELD,a0
         00003500     ffec  
     688 00003510     cbf4          jrnz    kjoilp0
     689 00003520           kjoicont
     690 00003520     576b          clr     a11
     691                    
     692                    ;       WAITSWITCH_DWN  J_UP,0,kjoilp
     693 00003530                   WAITSWITCH_DWN  J_DOWN,0,kjoilp
     694                    
     695 00003690     09cb          movi    kjoiTIMEOUT,a11
         000036a0     003c  
     696                    
     697 000036b0                   WAITSWITCH_DWN  J_DOWN,0,kjoilp
     698 00003810                   WAITSWITCH_DWN  B_SKICK,J_ALL,kjoilp
     699                            
     700 00003970     b500          move    *a8(PLYRMODE),a0
         00003980     05c0  
     701 00003990     0b40          cmpi    MODE_HEADHOLD,a0
         000039a0     ffef  
     702 000039b0     ca1c          jrz     kjoislam
     703 000039c0     0b40          cmpi    MODE_HEADHELD,a0
         000039d0     ffec  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   16

     704 000039e0     cba7          jrnz    kjoilp0
     705 000039f0     b50e          move    *a8(I_WILL_DIE),A14
         00003a00     0b30  
     706 00003a10     cba4          jrnz    kjoilp0
     707                    
     708                    ;Do reversal unless I have been immobilized!
     709                    ;If not, set immobilize time for opponent and reverse
     710                    
     711 00003a20     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00003a30     0ae0  
     712 00003a40     cba1          jrnz    kjoilp0                         ;ignore
     713                    
     714 00003a50     0d5f          CALLA   DO_REVERSAL
         00003a60 00000000! 
     715 00003a80     0d5f          CALLA   DO_REVERSAL_MESS
         00003a90 00000000! 
     716                    
     717                            ;target WHOHITME -- don't hit anyone else
     718 00003ab0                   SMRTTGT a8,WHOHITME
     719                    
     720                            ;immobilize WHOHITME
     721 00003b50     b700          move    *a8(WHOHITME),a0,L
         00003b60     04e0  
     722 00003b70     c019          jruc    kjoiis_reversal
     723                    
     724 00003b80           kjoislam
     725 00003b80     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00003b90     0ae0  
     726 00003ba0     cb8b          jrnz    kjoilp0                         ;ignore
     727                    
     728 00003bb0     09ca          movi    42,a10
         00003bc0     002a  
     729 00003bd0                   CREATE  MESSAGE_PID,BONUS_MESS
     730                    
     731                            ;target WHOIHIT -- don't hit anyone else
     732 00003c50                   SMRTTGT a8,WHOIHIT
     733                    
     734                            ;immobilize WHOIHIT
     735 00003cf0     b700          move    *a8(WHOIHIT),a0,L
         00003d00     0500  
     736                    
     737 00003d10           kjoiis_reversal
     738 00003d10     1bce          movk    30,a14
     739 00003d20     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         00003d30     0ae0  
     740                    
     741 00003d40     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00003d50 00000000! 
     742                    
     743 00003d70     09ee          movi    yok_vsuplex_anim,a14
         00003d80 00000000! 
     744 00003da0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00003db0     0930  
     745                    
     746 00003dc0                   WRSND   W_YOKO,GRABFLING_T1,GRABFLING_T2
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   17

     747                    
     748 00003f60                   SLEEPK  20
     749                    
     750 00003fa0     c000          jruc    kjoilp
         00003fb0     ff4e  
     751                    
     752                    *******************************************************************************
     753 00003fc0           yok_hdhold_scissor
     754                    
     755              003c  bezrTIMEOUT     .equ    60
     756                    
     757 00003fc0           bezrlp0
     758 00003fc0                   SLEEPK  1
     759 00004000           bezrlp
     760                    ;       move    *a8(GETUP_TIME),a0
     761                    ;       jrnz    bezrlp0
     762 00004000     b500          move    *a8(PLYRMODE),a0
         00004010     05c0  
     763 00004020     0b40          cmpi    MODE_HEADHOLD,a0
         00004030     ffef  
     764 00004040     ca03          jrz     bezrcont
     765 00004050     0b40          cmpi    MODE_HEADHELD,a0
         00004060     ffec  
     766 00004070     cbf4          jrnz    bezrlp0
     767 00004080           bezrcont
     768 00004080     576b          clr     a11
     769                    
     770                    ;       WAITSWITCH_DWN  J_AWAY,0,bezrlp
     771 00004090                   WAITSWITCH_DWN  J_TOWARD,0,bezrlp
     772                    
     773 000041f0     09cb          movi    bezrTIMEOUT,a11
         00004200     003c  
     774                    
     775 00004210                   WAITSWITCH_DWN  J_TOWARD,0,bezrlp
     776 00004370                   WAITSWITCH_DWN  B_SPUNCH,J_ALL,bezrlp
     777                            
     778 000044d0     b500          move    *a8(PLYRMODE),a0
         000044e0     05c0  
     779 000044f0     0b40          cmpi    MODE_HEADHOLD,a0
         00004500     ffef  
     780 00004510     ca1c          jrz     bezrslam
     781 00004520     0b40          cmpi    MODE_HEADHELD,a0
         00004530     ffec  
     782 00004540     cba7          jrnz    bezrlp0
     783 00004550     b50e          move    *a8(I_WILL_DIE),A14
         00004560     0b30  
     784 00004570     cba4          jrnz    bezrlp0
     785                    
     786 00004580     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00004590     0ae0  
     787 000045a0     cba1          jrnz    bezrlp0                         ;ignore
     788                    
     789 000045b0     0d5f          CALLA   DO_REVERSAL
         000045c0 00000000! 
     790 000045e0     0d5f          CALLA   DO_REVERSAL_MESS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   18

         000045f0 00000000! 
     791                    
     792                            ;target WHOHITME -- don't hit anyone else
     793 00004610                   SMRTTGT a8,WHOHITME
     794                    
     795                            ;immobilize WHOHITME
     796 000046b0     b700          move    *a8(WHOHITME),a0,L
         000046c0     04e0  
     797 000046d0     c018          jruc    bezris_reversal
     798                    
     799 000046e0           bezrslam
     800 000046e0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         000046f0     0ae0  
     801 00004700     cb8b          jrnz    bezrlp0                         ;ignore
     802                    
     803 00004710     09ca          movi    34,a10
         00004720     0022  
     804 00004730                   CREATE0 BONUS_MESS
     805                    
     806                            ;target WHOIHIT -- don't hit anyone else
     807 000047a0                   SMRTTGT a8,WHOIHIT
     808                    
     809                            ;immobilize WHOIHIT
     810 00004840     b700          move    *a8(WHOIHIT),a0,L
         00004850     0500  
     811                    
     812 00004860           bezris_reversal
     813 00004860     180e          movk    32,a14
     814 00004870     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         00004880     0ae0  
     815                    
     816 00004890     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000048a0 00000000! 
     817 000048c0     09ee          movi    yok_scissor_anim,a14
         000048d0 00000000! 
     818 000048f0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00004900     0930  
     819 00004910                   WRSND   W_YOKO,GRABFLING_T1,GRABFLING_T2
     820                    
     821 00004ab0                   SLEEPK  20
     822                    
     823 00004af0     c000          jruc    bezrlp
         00004b00     ff4f  
     824                    
     825                    *******************************************************************************
     826                    *
     827 00004b10           yok_hdhold_combo1
     828                    
     829              003c  obqiTIMEOUT     .equ    60
     830                    
     831 00004b10           obqilp0
     832 00004b10                   SLEEPK  1
     833 00004b50           obqilp
     834 00004b50     b500          move    *a8(PLYRMODE),a0
         00004b60     05c0  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   19

     835 00004b70     0b40          cmpi    MODE_HEADHOLD,a0
         00004b80     ffef  
     836 00004b90     cbf7          jrnz    obqilp0
     837                    ;       jrz     obqicont
     838                    ;       cmpi    MODE_HEADHELD,a0
     839                    ;       jrnz    obqilp0
     840                    ;obqicont
     841                    ;In combo mode?
     842 00004ba0     0d5f          calla   CHECK_COMBO_GO
         00004bb0 00000000! 
     843 00004bd0     c4f3          jrlt    obqilp0
     844                    
     845 00004be0     576b          clr     a11
     846                    
     847 00004bf0                   WAITSWITCH_DWN  J_TOWARD,0,obqilp
     848                    
     849 00004d50     09cb          movi    obqiTIMEOUT,a11
         00004d60     003c  
     850                    
     851 00004d70                   WAITSWITCH_DWN  J_TOWARD,0,obqilp
     852 00004ed0                   WAITSWITCH_DWN  B_SPUNCH,J_ALL,obqilp
     853                    
     854 00005030     b500          move    *a8(PLYRMODE),a0
         00005040     05c0  
     855 00005050     0b40          cmpi    MODE_HEADHOLD,a0
         00005060     ffef  
     856 00005070     ca03          jrz     obqislam
     857 00005080     0b40          cmpi    MODE_HEADHELD,a0
         00005090     ffec  
     858 000050a0     cba6          jrnz    obqilp0
     859                    
     860 000050b0           obqislam
     861 000050b0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         000050c0     0ae0  
     862 000050d0     cba3          jrnz    obqilp0                         ;ignore
     863                    
     864                    ;Start combo rules here
     865                    ;       move    *a8(ATTACH_PROC),a14,L
     866                    ;       movk    15,a0
     867                    ;       move    a0,*a14(IMMOBILIZE_TIME)
     868                    
     869                            ;target WHOIHIT
     870 000050e0                   SMRTTGT a8,WHOIHIT
     871                    
     872 00005180     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00005190 00000000! 
     873 000051b0     09ee          movi    yok_combo_jabs_anim,a14
         000051c0 00000000! 
     874 000051e0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         000051f0     0930  
     875                    
     876 00005200                   WRSND   W_YOKO,UPRCUT_T1,UPRCUT_T2
     877                    
     878 000053a0                   SLEEPK  20
     879                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   20

     880 000053e0     c000          jruc    obqilp
         000053f0     ff75  
     881                    
     882                    *******************************************************************************
     883                    *
     884 00005400           yok_hdhold_combo2
     885                    
     886              003c  jzgbTIMEOUT     .equ    60
     887                    
     888 00005400           jzgblp0
     889 00005400                   SLEEPK  1
     890 00005440           jzgblp
     891 00005440     b500          move    *a8(PLYRMODE),a0
         00005450     05c0  
     892 00005460     0b40          cmpi    MODE_HEADHOLD,a0
         00005470     ffef  
     893 00005480     cbf7          jrnz    jzgblp0
     894                    ;       jrz     jzgbcont
     895                    ;       cmpi    MODE_HEADHELD,a0
     896                    ;       jrnz    jzgblp0
     897                    ;jzgbcont
     898                    ;In combo mode?
     899 00005490     0d5f          calla   CHECK_COMBO_GO
         000054a0 00000000! 
     900 000054c0     c4f3          jrlt    jzgblp0
     901                    
     902 000054d0     576b          clr     a11
     903                    
     904 000054e0                   WAITSWITCH_DWN  J_TOWARD,0,jzgblp
     905                    
     906 00005640     09cb          movi    jzgbTIMEOUT,a11
         00005650     003c  
     907                    
     908 00005660                   WAITSWITCH_DWN  J_TOWARD,0,jzgblp
     909 000057c0                   WAITSWITCH_DWN  B_PUNCH,J_ALL,jzgblp
     910                    
     911 00005920     b500          move    *a8(PLYRMODE),a0
         00005930     05c0  
     912 00005940     0b40          cmpi    MODE_HEADHOLD,a0
         00005950     ffef  
     913 00005960     ca03          jrz     jzgbslam
     914 00005970     0b40          cmpi    MODE_HEADHELD,a0
         00005980     ffec  
     915 00005990     cba6          jrnz    jzgblp0
     916                    
     917 000059a0           jzgbslam
     918 000059a0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         000059b0     0ae0  
     919 000059c0     cba3          jrnz    jzgblp0                         ;ignore
     920                    
     921                    ;Start combo rules here
     922                    ;       move    *a8(ATTACH_PROC),a14,L
     923                    ;       movk    15,a0
     924                    ;       move    a0,*a14(IMMOBILIZE_TIME)
     925                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   21

     926                            ;target WHOIHIT
     927 000059d0                   SMRTTGT a8,WHOIHIT
     928                    
     929 00005a70     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00005a80 00000000! 
     930 00005aa0     09ee          movi    yok_combo_kick_anim,a14
         00005ab0 00000000! 
     931 00005ad0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00005ae0     0930  
     932                    
     933 00005af0                   WRSND   W_YOKO,UPRCUT_T1,UPRCUT_T2
     934                    
     935 00005c90                   SLEEPK  20
     936                    
     937 00005cd0     c000          jruc    jzgblp
         00005ce0     ff75  
     938                    
     939                    ;******************************************************************************
     940                    ;yok_hdhold_anti_combo
     941                    ;
     942                    ;jzgbTIMEOUT    .equ    80
     943                    ;
     944                    ;jzgblp0
     945                    ;       SLEEPK  1
     946                    ;jzgblp
     947                    ;;Is my opponent in combo mode?
     948                    ;;      move    *a8(IMMOBILIZE_TIME),a14
     949                    ;;      jrz     jzgblp0
     950                    ;;      move    *a8(CLOSEST_NUM),a0
     951                    ;;      X32     a0
     952                    ;;      addi    process_ptrs,a0
     953                    ;;      move    *a0,a0,L
     954                    ;;      move    *a0(COMBO_COUNT),a0
     955                    ;;      jrz     jzgblp0
     956                    ;
     957                    ;       clr     a11
     958                    ;
     959                    ;       WAITSWITCH_DWN  B_SPUNCH,J_ALL,jzgblp
     960                    ;
     961                    ;       movi    jzgbTIMEOUT,a11
     962                    ;
     963                    ;       WAITSWITCH_DWN  B_SPUNCH,J_ALL,jzgblp
     964                    ;       WAITSWITCH_DWN  B_SPUNCH,J_ALL,jzgblp
     965                    ;
     966                    ;;Is my opponent in combo mode?
     967                    ;       move    *a8(CLOSEST_NUM),a0
     968                    ;       X32     a0
     969                    ;       addi    process_ptrs,a0
     970                    ;       move    *a0,a0,L
     971                    ;       move    *a0(COMBO_COUNT),a0
     972                    ;       jrz     jzgblp0
     973                    ;
     974                    ;       move    *a8(ANTI_COMBO_TIME),a0         ;Time stamp
     975                    ;       move    @PCNT,a14
     976                    ;       sub     a0,a14
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   22

     977                    ;       abs     a14
     978                    ;       cmpi    80,a14
     979                    ;       jrge    jzgblp0
     980                    ;       move    *a8(I_WILL_DIE),A14
     981                    ;       jrnz    jzgblp0
     982                    ;
     983                    ;;Combo breaker message!
     984                    ;       CALLA   DO_REVERSAL
     985                    ;       CALLA   DO_REVERSAL_MESS
     986                    ;
     987                    ;       clr     a0
     988                    ;       move    a0,*a8(IMMOBILIZE_TIME)
     989                    ;
     990                    ;       move    *a8(WHOHITME),a14,L
     991                    ;       movk    15,a0
     992                    ;       move    a0,*a14(IMMOBILIZE_TIME)
     993                    ;
     994                    ;       ;target WHOHITME
     995                    ;       SMRTTGT a8,WHOHITME
     996                    ;
     997                    ;       CALLA   FIND_AND_KILL_ENDLESS
     998                    ;       movi    yok_vsuplex_anim,a14
     999                    ;       move    a14,*a8(SPECIAL_MOVE_ADDR),L
    1000                    ;
    1001                    ;       WRSND   W_YOKO,UPRCUT_T1,UPRCUT_T2
    1002                    ;
    1003                    ;       SLEEPK  20
    1004                    ;
    1005                    ;       jruc    jzgblp
    1006                    
    1007                    *******************************************************************************
    1008 00005cf0           yok_salt_throw
    1009                    
    1010              003c  kntiTIMEOUT     .equ    60
    1011                    
    1012 00005cf0           kntilp0
    1013 00005cf0                   SLEEPK  1
    1014 00005d30           kntilp
    1015 00005d30     b500          move    *a8(PLYRMODE),a0
         00005d40     05c0  
    1016 00005d50     0b40          cmpi    MODE_HEADHOLD,a0
         00005d60     ffef  
    1017 00005d70     ca03          jrz     knticont
    1018 00005d80     0b40          cmpi    MODE_HEADHELD,a0
         00005d90     ffec  
    1019 00005da0     cbf4          jrnz    kntilp0
    1020 00005db0           knticont
    1021 00005db0     576b          clr     a11
    1022                    
    1023 00005dc0                   WAITSWITCH_DWN  J_DOWN,0,kntilp
    1024                    
    1025 00005f20     09cb          movi    kntiTIMEOUT,a11
         00005f30     003c  
    1026                    
    1027                    ;       WAITSWITCH_DWN  J_DOWN_TOWARD,0,kntilp
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   23

    1028 00005f40                   WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,kntilp
    1029 000060a0                   WAITSWITCH_DWN  B_PUNCH,J_ALL,kntilp
    1030                            
    1031 00006200     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00006210 00000000! 
    1032 00006230     09e0          movi    yok_4_salt_anim,a0
         00006240 00000000! 
    1033 00006260     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00006270     0930  
    1034 00006280                   WRSND   W_YOKO,LBOWDROP_T1,LBOWDROP_T2
    1035                    
    1036 00006420                   SLEEP   120
    1037                    
    1038 00006470     c08b          jruc    kntilp
    1039                    
    1040                    *****************************************************************************
    1041                    
    1042 00006480            SUBR   yoko_ani_init
    1043                    
    1044 00006480     b5a0          move    *a13(FACING_DIR),a0
         00006490     04c0  
    1045 000064a0     1f80          btst    PLAYER_RIGHT_BIT,a0
    1046 000064b0     cb18          jrnz    kkuwp1
    1047                    ;Plyr 2
    1048 000064c0     09e0          movi    yok_stand4_anim,a0
         000064d0 00000000! 
    1049 000064f0     0d5f          calla   change_anim1a
         00006500 00000000! 
    1050                    
    1051 00006520     09e0          movi    yok_torso4_anim,a0
         00006530 00000000! 
    1052 00006550     0d5f          calla   change_anim2a
         00006560 00000000! 
    1053                    
    1054 00006580                   PUSH    a10
    1055 00006590     4daa          move    a13,a10
    1056                    
    1057 000065a0                   CREATE  TAUNT_PID,do_taunt
    1058 00006620                   PULL    a10
    1059                    
    1060 00006630     0960          rets
    1061                    
    1062 00006640           kkuwp1
    1063 00006640     09e0          movi    yok_stand2_anim,a0
         00006650 00000000! 
    1064 00006670     0d5f          calla   change_anim1a
         00006680 00000000! 
    1065                    
    1066 000066a0     09e0          movi    yok_torso2_anim,a0
         000066b0 00000000! 
    1067 000066d0     0d5f          calla   change_anim2a
         000066e0 00000000! 
    1068                    
    1069 00006700     0960          rets
    1070                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   24

    1071                    
    1072                    *****************************************************************************
    1073                    *
    1074                    * YOKOZUNA CONTROL CODE
    1075                    *
    1076                    * a13 = * yoko process
    1077                    
    1078 00006710            SUBR   move_yoko
    1079                    
    1080                    
    1081                    ;       movi    100h,a0                 ;temp fix!
    1082                    ;       move    a0,*a13(ANI_SPEED)
    1083                    
    1084 00006710     09eb          movi    yok_secret_moves,a11
         00006720 00000000' 
    1085 00006740     0d5f          calla   check_secret_moves
         00006750 00000000! 
    1086                    
    1087 00006770     b5a0          move    *a13(PLYRMODE),a0
         00006780     05c0  
    1088 00006790     24a0          sll     5,a0                    ;x 32
    1089 000067a0     0b20          addi    sylpmode_table,a0
         000067b0 00006800' 
    1090 000067d0     8600          move    *a0,a0,L
    1091 000067e0     0920          call    a0
    1092 000067f0     0960          rets
    1093                    
    1094 00006800           sylpmode_table
    1095 00006800 00006b40'         .long   mode_normal             ;0
    1096 00006820 0000e340'         .long   mode_running            ;1
    1097 00006840 000102d0'         .long   mode_inair              ;2
    1098 00006860 000102e0'         .long   mode_attached           ;3
    1099 00006880 00010450'         .long   mode_onground           ;4
    1100 000068a0 00010460'         .long   mode_bouncing           ;5
    1101 000068c0 00010700'         .long   mode_onturnbkl          ;6
    1102 000068e0 000110a0'         .long   mode_block              ;7
    1103 00006900 00011b20'         .long   mode_dizzy              ;8
    1104 00006920 00000000!         .long   mode_dead               ;9
    1105 00006940 00011b30'         .long   mode_oppoverhead        ;10
    1106 00006960 00012ba0'         .long   mode_climbturnbkl       ;11
    1107 00006980 00012bb0'         .long   mode_waitanim           ;12
    1108 000069a0 00012c30'         .long   mode_grapple            ;13
    1109 000069c0 00012c40'         .long   mode_master             ;14
    1110 000069e0 00012c80'         .long   mode_slave              ;15
    1111 00006a00 00012c90'         .long   mode_headhold           ;16
    1112 00006a20 00014620'         .long   mode_puppet2            ;17
    1113 00006a40 00006b40'         .long   mode_normal     ;18
    1114 00006a60 00014630'         .long   mode_headheld           ;19
    1115 00006a80                   REFLONG mode_puppet             ;20
    1116 00006aa0                   REFLONG mode_inair2             ;21
    1117 00006ac0 00006b40'         .long   mode_normal     ;22
    1118 00006ae0 00006b40'         .long   mode_normal     ;23
    1119 00006b00 00014af0'         .long   mode_chokehold          ;24
    1120 00006b20                   REFLONG mode_choking            ;25
    1121                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   25

    1122                    
    1123                    *****************************************************************************
    1124                    
    1125 00006b40           mode_normal
    1126                    
    1127 00006b40     b5a0          move    *a13(ANIMODE),a0
         00006b50     0660  
    1128 00006b60     1fa0          btst    MODE_UNINT_BIT,a0
    1129 00006b70     cb00          jrnz    blcbno_interrupt
         00006b80     00b0  
    1130                    
    1131 00006b90     b5a0          move    *a13(I_WILL_DIE),a0
         00006ba0     0b30  
    1132 00006bb0     ca1f          jrz     blcbnope
    1133 00006bc0     b5a0          move    *a13(IMMOBILIZE_TIME),a0
         00006bd0     0ae0  
    1134 00006be0     cb1c          jrnz    blcbnope
    1135                    ;Player has died amidst a combo...
    1136                    ;Knock me down.
    1137 00006bf0     09e0          movi    yok_fall_back_anim,a0
         00006c00 00000000! 
    1138 00006c20     0d5f          calla   change_anim1a
         00006c30 00000000! 
    1139                    
    1140                    ;Zero health bar
    1141 00006c50     09c0          movi    -10,a0
         00006c60     fff6  
    1142 00006c70     b5a1          move    *a13(PLYRNUM),a1
         00006c80     0580  
    1143 00006c90     0d5f          calla   adjust_health
         00006ca0 00000000! 
    1144                    
    1145 00006cc0                   SETMODE DEAD
    1146                    
    1147 00006d70     5600          clr     a0
    1148 00006d80     b00d          move    a0,*a13(I_WILL_DIE)
         00006d90     0b30  
    1149                    
    1150 00006da0     0960          rets
    1151                    
    1152 00006db0           blcbnope
    1153                    ;Perhaps we need to interrupt any sequence when a wrestler has won?
    1154                    
    1155 00006db0     0d5f          calla   get_opp_plyrmode
         00006dc0 00000000! 
    1156 00006de0     0b40          cmpi    MODE_DEAD,a0
         00006df0     fff6  
    1157 00006e00     cb49          jrne    blcbopp_not_dead
    1158                    
    1159                            ;if closest is a zombie, skip pin section.
    1160 00006e10     0d5f          calla   get_opp_process
         00006e20 00000000! 
    1161 00006e40     b40e          move    *a0(STATUS_FLAGS),a14
         00006e50     0b50  
    1162 00006e60     1f8e          btst    B_ZOMBIE,a14
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   26

    1163 00006e70     cb42          jrnz    blcbopp_not_dead
    1164                            
    1165                            ;all opponents are dead.  Check for pins/raisearms
    1166                    
    1167                            ;if we're attached to someone, don't interrupt it.
    1168 00006e80     b7a1          move    *a13(ATTACH_PROC),a1,L
         00006e90     03e0  
    1169 00006ea0     ca04          jrz     blcbno_attch
    1170 00006eb0     b622          move    *a1(ATTACH_PROC),a2,L
         00006ec0     03e0  
    1171 00006ed0     484d          cmp     a2,a13
    1172 00006ee0     ca3b          jreq    blcbno_pin_yet
    1173 00006ef0           blcbno_attch
    1174                    
    1175                            ;if a teammate has pinned, raise yer arm.
    1176 00006ef0     0d5f          calla   ck_teammate_pin 
         00006f00 00000000! 
    1177 00006f20     c823          jrc     blcbraisearm
    1178                    
    1179                            ;nobody has pinned.  if we're outside or all our opponents are
    1180                            ; outside, do a raisearm.
    1181 00006f30     0d5f          calla   raisearm_check
         00006f40 00000000! 
    1182 00006f60     c81f          jrc     blcbraisearm
    1183                    
    1184                            ;we're inside with a pinnable opponent.  any button pins.
    1185 00006f70     b5a0          move    *a13(BUT_VAL_CUR),a0
         00006f80     0b90  
    1186 00006f90     ca30          jrz     blcbno_pin_yet
    1187                    
    1188                            ;we have a press -- make sure opponent is on the ground
    1189 00006fa0     0d5f          calla   can_pin
         00006fb0 00000000! 
    1190 00006fd0     c92c          jrnc    blcbopp_notgnd
    1191                    
    1192                            ;opponent is on the ground.  pin him.
    1193 00006fe0                   FACE24  yok,pin_anim
    1194 00007080     0d5f          calla   change_anim1a
         00007090 00000000! 
    1195                    
    1196                            ;set the 'I did a pin' flag.
    1197 000070b0     b5ae          move    *a13(STATUS_FLAGS),a14
         000070c0     0b50  
    1198 000070d0     0bae          ori     M_DID_PIN,a14
         000070e0 00000002  
    1199 00007100     b1cd          move    a14,*a13(STATUS_FLAGS)
         00007110     0b50  
    1200                    
    1201                            ;if we're a temp drone for auto-pin purposes, turn back into
    1202                            ; a normal player here.
    1203 00007120     0d5f          calla   drone_change_back
         00007130 00000000! 
    1204                    
    1205 00007150     0960          rets
    1206                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   27

    1207 00007160           blcbraisearm
    1208 00007160                   FACE24  yok,raise_arm_anim
    1209 00007200     0d5f          calla   change_anim1a
         00007210 00000000! 
    1210 00007230     0d5f          calla   set_raisearm_bit
         00007240 00000000! 
    1211                    
    1212                            ;if we're a temp drone for auto-pin purposes, turn back into
    1213                            ; a normal player here.
    1214 00007260     0d5f          calla   drone_change_back
         00007270 00000000! 
    1215                    
    1216 00007290     0960          rets
    1217                    
    1218 000072a0           blcbtoo_far_to_pin
    1219 000072a0           blcbopp_notgnd
    1220 000072a0           blcbopp_not_dead
    1221 000072a0           blcbno_pin_yet
    1222                    
    1223 000072a0     b5a0          move    *a13(IMMOBILIZE_TIME),a0
         000072b0     0ae0  
    1224 000072c0     cb36          jrnz    blcbimmobilized
    1225                    
    1226 000072d0     b5a0          move    *a13(BUT_VAL_CUR),a0
         000072e0     0b90  
    1227 000072f0     1fc0          btst    PLAYER_BLOCK_BIT,a0     ;maybe have to action tables?
    1228 00007300     ca07          jrz     blcbnblk                        ;1 for down transitions
    1229 00007310     0d3f          callr   blcbblock                       ;& 1 for current buttons
         00007320     01ff  
    1230 00007330     c804          jrc     blcbnblk
    1231 00007340     5600          clr     a0
    1232 00007350     b00d          move    a0,*a13(ATTACK_TYPE)
         00007360     05e0  
    1233 00007370     0960          rets
    1234 00007380           blcbnblk
    1235 00007380     b5a0          move    *a13(BUT_VAL_CUR),a0
         00007390     0b90  
    1236 000073a0     0b80          andi    011111b,a0
         000073b0 ffffffe0  
    1237 000073d0     0b40          cmpi    PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,a0
         000073e0     fff6  
    1238 000073f0     ca00          jrz     blcbpunchkick
         00007400     0572  
    1239                    
    1240 00007410     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00007420     0ba0  
    1241 00007430     0b80          andi    011111b,a0
         00007440 ffffffe0  
    1242 00007460                   X32     a0
    1243 00007470     0b20          addi    blcbaction_table,a0
         00007480 000076a0' 
    1244 000074a0     8600          move    *a0,a0,L
    1245 000074b0     0920          call    a0
    1246                    
    1247 000074c0     b5a0          move    *a13(ANIMODE),a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   28

         000074d0     0660  
    1248 000074e0     1fa0          btst    MODE_UNINT_BIT,a0
    1249 000074f0     cb19          jrnz    blcbno_interrupt
    1250                    
    1251                    
    1252 00007500     b5a0          move    *a13(STICK_VAL_CUR),a0
         00007510     0bc0  
    1253 00007520     b00d          move    a0,*a13(MOVE_DIR)
         00007530     04b0  
    1254 00007540     0d5f          calla   climb_turnbuckle
         00007550 00000000! 
    1255 00007570     c90e          jrnc    blcbno_climb
    1256 00007580     b5a5          move    *a13(WRESTLERNUM),A5
         00007590     0590  
    1257 000075a0     09e2          MOVI    CLIMB_ROPES,A2
         000075b0 00000000! 
    1258 000075d0     09c0          MOVI    1000,A0
         000075e0     03e8  
    1259 000075f0     0d5f          CALLA   ADD_IF_SILENT
         00007600 00000000! 
    1260 00007620     0960          rets
    1261                    
    1262 00007630           blcbimmobilized
    1263 00007630     57ce          clr     a14
    1264 00007640     b1cd          move    a14,*a13(MOVE_DIR)
         00007650     04b0  
    1265 00007660           blcbno_climb
    1266 00007660     0d5f          calla   execute_walk
         00007670 00000000! 
    1267                    
    1268 00007690           blcbno_interrupt
    1269 00007690     0960          rets
    1270                    
    1271 000076a0           blcbaction_table
    1272 000076a0 00007aa0'         .long   blcbz,blcbpunch,blcbblock,blcbblock                     ;0-3
    1273 00007720 00009530'         .long   blcbsuper_punch,blcbsuper_punch,blcbblock,blcbblock     ;4-7
    1274 000077a0 0000b330'         .long   blcbkick,blcbpunchkick,blcbblock,blcbblock              ;8-11
    1275 00007820 00009530'         .long   blcbsuper_punch,blcbpunchkick,blcbblock,blcbblock       ;12-15
    1276 000078a0 0000cba0'         .long   blcbsuper_kick,blcbsuper_kick,blcbblock,blcbblock       ;16-19
    1277 00007920 00007ab0'         .long   blcbgraboh,blcbgraboh,blcbblock,blcbblock               ;20-23
    1278 000079a0 0000cba0'         .long   blcbsuper_kick,blcbpunchkick,blcbblock,blcbblock        ;24-27
    1279 00007a20 00007ab0'         .long   blcbgraboh,blcbgraboh,blcbblock,blcbblock               ;28-31
    1280                    
    1281                    ************
    1282 00007aa0           blcbz
    1283                    
    1284 00007aa0     0960          rets
    1285                    
    1286                    ************
    1287 00007ab0           blcbgraboh
    1288                    ;Both super buttons at the same time!
    1289 00007ab0     09e0          movi    yok_graboh_anim,a0
         00007ac0 00000000! 
    1290 00007ae0     0d5f          calla   change_anim1a
         00007af0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   29

    1291 00007b10                   WRSND   W_YOKO,GRABHOLD_T1,GRABHOLD_T2
    1292 00007cb0     0960          rets
    1293                    
    1294                    ************
    1295 00007cc0           blcbpunch               ;1
    1296                    *
    1297                    * MODE             DX  DZ       ACTION
    1298                    * ----------------------------------------------------
    1299                    * normal        <  62  95       headbutt
    1300                    * normal        >               normal punch
    1301                    *
    1302                    * onground      < 120  120      elbow drop
    1303                    * onground      >               normal punch
    1304                    *
    1305                    * running |
    1306                    * bouncing                      normal punch
    1307                    *
    1308                    * onturnbkl     <  60  60       punch
    1309                    * onturnbkl     >               normal punch
    1310                    *
    1311                    * puppet|inair                  normal punch
    1312                    *
    1313                    
    1314 00007cc0                   JJXM_INIT
    1315 00007d30                   JJXM    NORMAL,          62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1316 00007e00                   JJXM    DIZZY,           62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1317 00007ed0                   JJXM    BLOCK,           62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1318 00007fa0                   JJXM    ONGROUND,       160,140,blcbpunch_lbdrop,blcbpunch_punch
    1319 00008070                   JJXM    RUNNING,         62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1320 00008140                   JJXM    BOUNCING,        62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1321 00008210                   JJXM    ONTURNBKL,              blcbpunch_punch
    1322 00008260                   JJXM    CLIMBTURNBKL,           blcbpunch_punch
    1323 000082b0                   JJXM    PUPPET,          62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1324 00008380                   JJXM    PUPPET2,         62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1325 00008440                   JJXM    INAIR,           62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1326 000084f0                   JJXM    ATTACHED,        62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1327 000085a0                   JJXM    DEAD,           160,140,blcbpunch_lbdrop,blcbpunch_punch
    1328 00008650                   JJXM    OPPOVERHEAD,     62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1329 000086f0                   JJXM    WAITANIM,        62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1330 00008790                   JJXM    GRAPPLE,         62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1331 00008830                   JJXM    MASTER,          62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1332 000088d0                   JJXM    SLAVE,           62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1333 00008970                   JJXM    HEADHOLD,        62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1334 00008a10                   JJXM    HEADHELD,        62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1335 00008ab0                   JJXM    CHOKEHOLD,       62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1336 00008b50                   JJXM    INAIR2,          62, 95,blcbpunch_hdbutt,blcbpunch_punch
    1337 00008bf0                   JJXM_END
    1338                    
    1339                    *****
    1340 00008c10           blcbpunch_punch
    1341 00008c10           std_punch
    1342                    
    1343 00008c10                   FACE24  yok,punch_anim
    1344 00008cb0     0d5f          calla   change_anim1a
         00008cc0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   30

    1345                    
    1346 00008ce0                   WRSND   W_YOKO,PUNCH_T1,PUNCH_T2
    1347 00008e80     0960          rets
    1348                    
    1349                    *****
    1350 00008e90           blcbpunch_hdbutt
    1351                    
    1352                    ;       move    *a13(STICK_VAL_CUR),a0
    1353                    ;       move    *a13(NEW_FACING_DIR),a1
    1354                    ;       andi    0ch,a1
    1355                    ;       cmp     a0,a1
    1356                    ;       jrz     blcbrpt
    1357                    ;
    1358                    ;       movi    yok_heldheadbutt_anim,a0
    1359                    ;       calla   change_anim1a
    1360                    ;
    1361                    ;       WRSND   W_YOKO,HDBUTT_T1,HDBUTT_T2
    1362                    ;       rets
    1363                    ;
    1364                    ;blcbrpt
    1365 00008e90     09e0          movi    yok_heldheadbutt_rpt_anim,a0
         00008ea0 00000000! 
    1366 00008ec0     0d5f          calla   change_anim1a
         00008ed0 00000000! 
    1367                    
    1368 00008ef0                   WRSND   W_YOKO,HDBUTT_T1,HDBUTT_T2
    1369 00009090     0960          rets
    1370                    
    1371                    *****
    1372 000090a0           blcbpunch_lbdrop
    1373                    
    1374 000090a0                   FACE24  yok,lbowdrop_anim
    1375 00009140     0d5f          calla   change_anim1a
         00009150 00000000! 
    1376                    
    1377 00009170                   WRSND   W_YOKO,LBOWDROP_T1,LBOWDROP_T2
    1378 00009310     0960          rets
    1379                    
    1380                    ************
    1381 00009320           blcbblock               ;2
    1382                    
    1383 00009320     5600          clr     a0
    1384 00009330     b20d          move    a0,*a13(OBJ_XVEL),L
         00009340     02d0  
    1385                    
    1386 00009350           std_block
    1387 00009350     05a0          move    @blocking_off,a0
         00009360 00000000! 
    1388 00009380     cb18          jrnz    blcbno_blocking
    1389                    
    1390 00009390                   RND_AWARD       a13,BLOCKS_AWD
    1391                    
    1392 00009430     09e0          movi    yok_4_block_anim,a0
         00009440 00000000! 
    1393 00009460     0d5f          calla   change_anim1a
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   31

         00009470 00000000! 
    1394                    
    1395 00009490     0d5f          calla   BLOCK_WOOSH
         000094a0 00000000! 
    1396                    
    1397 000094c0     5600          clr     a0
    1398 000094d0     b00d          move    a0,*a13(BLOCK_TIME)
         000094e0     0d30  
    1399 000094f0     0320          clrc
    1400 00009500     0960          rets
    1401                    
    1402 00009510           blcbno_blocking
    1403 00009510     0de0          setc
    1404 00009520     0960          rets
    1405                    
    1406                    
    1407                    ************
    1408 00009530           blcbsuper_punch ;4
    1409                    *
    1410                    * MODE             DX  DZ       ACTION
    1411                    * ----------------------------------------------------
    1412                    * normal        <  50   92      close in super move
    1413                    * dizzy                 "               "
    1414                    * normal        >               jumping punch move
    1415                    * dizzy                 "               "
    1416                    *
    1417                    * onground      < 120  120      super elbow drop
    1418                    * onground      >               normal punch
    1419                    *
    1420                    * running                       hip toss
    1421                    * bouncing                      nothing
    1422                    *
    1423                    * onturnbkl     <  60   96      yank down
    1424                    * onturnbkl     >               normal punch
    1425                    * climbturnbkl                  normal punch
    1426                    *
    1427 00009530                   JJXM_INIT
    1428 000095a0                   JJXM    NORMAL,          95, 45,blcbspunch_special,blcbspunch_slap      ;0
    1429 00009670                   JJXM    RUNNING,         95, 45,blcbspunch_special,blcbspunch_slap      ;1
    1430 00009740                   JJXM    INAIR,           95, 45,blcbspunch_special,blcbspunch_slap      ;2
    1431 00009810                   JJXM    ATTACHED,        95, 45,blcbspunch_special,blcbspunch_slap      ;3
    1432 000098e0                   JJXM    ONGROUND,       160,140,blcbspunch_lbowdrop,std_punch   ;4
    1433 000099b0                   JJXM    BOUNCING,        95, 45,blcbspunch_special,blcbspunch_slap      ;0
    1434 00009a80                   JJXM    ONTURNBKL,              blcbspunch_slap                 ;6
    1435 00009ad0                   JJXM    BLOCK,           95, 45,blcbspunch_special,blcbspunch_slap      ;7
    1436 00009ba0                   JJXM    DIZZY,           95, 45,blcbspunch_special,blcbspunch_slap      ;8
    1437 00009c70                   JJXM    DEAD,           160,140,blcbspunch_lbowdrop,std_punch   ;4
    1438 00009d40                   JJXM    OPPOVERHEAD,     95, 45,blcbspunch_special,blcbspunch_slap      ;10
    1439 00009df0                   JJXM    CLIMBTURNBKL,           std_punch                       ;11
    1440 00009e40                   JJXM    WAITANIM,        95, 45,blcbspunch_special,blcbspunch_slap      ;12
    1441 00009ef0                   JJXM    GRAPPLE,         95, 45,blcbspunch_special,blcbspunch_slap      ;13
    1442 00009f90                   JJXM    MASTER,          95, 45,blcbspunch_special,blcbspunch_slap      ;14
    1443 0000a030                   JJXM    SLAVE,           95, 45,blcbspunch_special,blcbspunch_slap      ;15
    1444 0000a0d0                   JJXM    HEADHOLD,        95, 45,blcbspunch_special,blcbspunch_slap      ;16
    1445 0000a170                   JJXM    HEADHELD,        95, 45,blcbspunch_special,blcbspunch_slap      ;19
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   32

    1446 0000a210                   JJXM    CHOKEHOLD,       95, 45,blcbspunch_special,blcbspunch_slap      ;16
    1447 0000a2b0                   JJXM    PUPPET,          95, 45,blcbspunch_special,blcbspunch_slap      ;20
    1448 0000a350                   JJXM    PUPPET2,         95, 45,blcbspunch_special,blcbspunch_slap      ;20
    1449 0000a3f0                   JJXM    INAIR2,          95, 45,blcbspunch_special,blcbspunch_slap      ;21
    1450 0000a490                   JJXM_END
    1451                    
    1452 0000a4b0           blcbspunch_rets
    1453 0000a4b0     0960          rets
    1454                    
    1455                    *****
    1456 0000a4c0           blcbspunch_slap
    1457                    
    1458 0000a4c0                   FACE24  yok,slap2_anim
    1459 0000a560     0d5f          calla   change_anim1a
         0000a570 00000000! 
    1460                    
    1461 0000a590                   WRSND   W_YOKO,PUNCH_T1,PUNCH_T2
    1462 0000a730     0960          rets
    1463                    
    1464                    *****
    1465 0000a740           blcbspunch_special
    1466                    ;If stick is toward opponent, then do quick head hold
    1467 0000a740     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000a750     0bc0  
    1468 0000a760     1fc0          btst    MOVE_DOWN_BIT,a0
    1469 0000a770     cb28          jrnz    blcbck_up
    1470                    
    1471                    ;       move    *a13(CLOSEST_XDIST),a1
    1472                    ;       cmpi    60,a1
    1473                    ;       jrgt    blcbspunch_slap
    1474                    ;
    1475                    ;blcbhdbutt
    1476                    ;       movi    yok_heldheadbutt_anim,a0
    1477                    
    1478 0000a780                   FACE24  yok,jabs_anim
    1479 0000a820     0d5f          calla   change_anim1a
         0000a830 00000000! 
    1480                    
    1481 0000a850                   WRSND   W_YOKO,HDBUTT_T1,HDBUTT_T2
    1482 0000a9f0     0960          rets
    1483                    
    1484 0000aa00           blcbck_up
    1485                    ;Check for uppercut
    1486 0000aa00     09e0          movi    yok_4_uppercut_anim,a0
         0000aa10 00000000! 
    1487 0000aa30     0d5f          calla   change_anim1
         0000aa40 00000000! 
    1488                    
    1489 0000aa60                   WRSND   W_YOKO,HDBUTT_T1,HDBUTT_T2
    1490 0000ac00     0960          rets
    1491                    
    1492                    *****
    1493 0000ac10           blcbspunch_lbowdrop
    1494                    ;If near opponents head, and facing down, do the hair grab!
    1495                    ;Allow hair grab from below!
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   33

    1496                    
    1497                    ;       move    *a13(FACING_DIR),a14
    1498                    ;       btst    MOVE_DOWN_BIT,a14
    1499                    ;       jrz     blcbno
    1500                    
    1501 0000ac10     b5ae          move    *a13(CLOSEST_NUM),a14
         0000ac20     03a0  
    1502 0000ac30                   X32     a14
    1503                    
    1504 0000ac40     0b2e          addi    process_ptrs,a14
         0000ac50 00000000! 
    1505 0000ac70     87ce          move    *a14,a14,L
    1506 0000ac80     b5c2          move    *a14(PLYRMODE),a2
         0000ac90     05c0  
    1507 0000aca0     0b42          cmpi    MODE_DEAD,a2
         0000acb0     fff6  
    1508 0000acc0     ca3e          jrz     blcbno
    1509 0000acd0     b7a1          move    *a13(OBJ_XPOS),a1,L 
         0000ace0     0100  
    1510 0000acf0     b7c2          move    *a14(OBJ_XPOS),a2,L
         0000ad00     0100  
    1511 0000ad10     4441          sub     a2,a1
    1512 0000ad20     0381          abs     a1
    1513 0000ad30     2e01          srl     16,a1
    1514 0000ad40     0b41          cmpi    20h,a1  ;28
         0000ad50     ffdf  
    1515 0000ad60     c434          jrlt    blcbno
    1516                    
    1517                    ;At head or feet!
    1518                    
    1519 0000ad70     b5ce          move    *a14(OBJ_CONTROL),a14
         0000ad80     0780  
    1520 0000ad90     0b8e          andi    M_FLIPH,a14
         0000ada0 ffffffef  
    1521 0000adc0     b5a0          move    *a13(OBJ_CONTROL),a0
         0000add0     0780  
    1522 0000ade0     0b80          andi    M_FLIPH,a0
         0000adf0 ffffffef  
    1523 0000ae10     480e          cmp     a0,a14
    1524 0000ae20     ca28          jrz     blcbno
    1525                    
    1526                    ;At head!  Do hair pickup.
    1527                    
    1528 0000ae30                   FACE24  yok,hair_pickup_anim
    1529 0000aed0     0d5f          calla   change_anim1
         0000aee0 00000000! 
    1530 0000af00                   WRSND   W_YOKO,LBOWDROP_T1,LBOWDROP_T2
    1531 0000b0a0     0960          rets
    1532                    
    1533 0000b0b0           blcbno
    1534 0000b0b0                   FACE24  yok,lbowdrop_anim
    1535 0000b150     0d5f          calla   change_anim1
         0000b160 00000000! 
    1536 0000b180                   WRSND   W_YOKO,LBOWDROP_T1,LBOWDROP_T2
    1537 0000b320     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   34

    1538                    
    1539                    
    1540                    ************
    1541 0000b330           blcbkick                ;8
    1542                    *
    1543                    * MODE             DX  DZ       ACTION
    1544                    * ----------------------------------------------------
    1545                    * normal        <  60   50      knee
    1546                    *               >               normal kick
    1547                    *
    1548                    * onground      < 120  120      stomp
    1549                    * onground      >               normal kick
    1550                    *
    1551                    * running |
    1552                    * bouncing                      big boot
    1553                    *
    1554                    * onturnbkl |                   normal kick
    1555                    * climbturnbkl                  normal kick
    1556                    *
    1557                    * puppet|inair                  normal kick
    1558                    *
    1559                    
    1560                    
    1561 0000b330                   JJXM_INIT
    1562 0000b3a0                   JJXM    NORMAL,          60, 50,blcbkick_knee,blcbkick_kick
    1563 0000b470                   JJXM    DIZZY,           60, 50,blcbkick_knee,blcbkick_kick
    1564 0000b540                   JJXM    BLOCK,           60, 50,blcbkick_knee,blcbkick_kick
    1565 0000b610                   JJXM    ONGROUND,       160,140,blcbkick_stomp,blcbkick_kick
    1566 0000b6e0                   JJXM    RUNNING,         60, 50,blcbkick_knee,blcbkick_kick
    1567 0000b7b0                   JJXM    BOUNCING,        60, 50,blcbkick_knee,blcbkick_kick
    1568 0000b880                   JJXM    ONTURNBKL,              blcbkick_kick
    1569 0000b8d0                   JJXM    CLIMBTURNBKL,           blcbkick_kick
    1570 0000b920                   JJXM    PUPPET,                 blcbkick_kick
    1571 0000b970                   JJXM    PUPPET2,                blcbkick_kick
    1572 0000b9c0                   JJXM    INAIR,           60, 50,blcbkick_knee,blcbkick_kick
    1573 0000ba90                   JJXM    ATTACHED,        60, 50,blcbkick_knee,blcbkick_kick
    1574 0000bb60                   JJXM    DEAD,           160,140,blcbkick_stomp,blcbkick_kick
    1575 0000bc10                   JJXM    OPPOVERHEAD,     60, 50,blcbkick_knee,blcbkick_kick
    1576 0000bcc0                   JJXM    WAITANIM,        60, 50,blcbkick_knee,blcbkick_kick
    1577 0000bd70                   JJXM    GRAPPLE,         60, 50,blcbkick_knee,blcbkick_kick
    1578 0000be20                   JJXM    MASTER,          60, 50,blcbkick_knee,blcbkick_kick
    1579 0000bec0                   JJXM    SLAVE,           60, 50,blcbkick_knee,blcbkick_kick
    1580 0000bf60                   JJXM    HEADHOLD,        60, 50,blcbkick_knee,blcbkick_kick
    1581 0000c000                   JJXM    HEADHELD,        60, 50,blcbkick_knee,blcbkick_kick
    1582 0000c0a0                   JJXM    CHOKEHOLD,       60, 50,blcbkick_knee,blcbkick_kick
    1583 0000c140                   JJXM    INAIR2,                 blcbkick_TB
    1584 0000c180                   JJXM_END
    1585                    
    1586                    *****
    1587 0000c1a0           blcbkick_TB
    1588                    
    1589                            .ref    yok_graboh_TB_anim
    1590 0000c1a0     09e0          movi    yok_graboh_TB_anim,a0
         0000c1b0 00000000! 
    1591 0000c1d0     0d5f          calla   change_anim1a
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   35

         0000c1e0 00000000! 
    1592                    
    1593 0000c200                   WRSND   W_YOKO,KICK_T1,KICK_T2
    1594 0000c3a0     0960          rets
    1595                    
    1596                    *****
    1597 0000c3b0           blcbkick_kick
    1598                    
    1599 0000c3b0                   FACE24  yok,kick_anim
    1600 0000c450     0d5f          calla   change_anim1a
         0000c460 00000000! 
    1601                    
    1602 0000c480                   WRSND   W_YOKO,KICK_T1,KICK_T2
    1603 0000c620     0960          rets
    1604                    
    1605                    *****
    1606 0000c630           blcbkick_knee
    1607                    
    1608 0000c630                   FACE24  yok,knee_anim
    1609 0000c6d0     0d5f          calla   change_anim1a
         0000c6e0 00000000! 
    1610                    
    1611 0000c700                   WRSND   W_YOKO,KICK_T1,KICK_T2
    1612 0000c8a0     0960          rets
    1613                    
    1614                    *****
    1615 0000c8b0           blcbkick_stomp
    1616                    
    1617 0000c8b0                   FACE24  yok,stomp_anim
    1618 0000c950     0d5f          calla   change_anim1a
         0000c960 00000000! 
    1619                    
    1620 0000c980                   WRSND   W_YOKO,KICK_T1,KICK_T2
    1621 0000cb20     0960          rets
    1622                    
    1623                    
    1624                    ************
    1625 0000cb30           blcbpunchkick   ;9
    1626                    
    1627 0000cb30     09e0          movi    start_run_anim,a0
         0000cb40 00000000! 
    1628 0000cb60     0d5f          calla   change_anim1a
         0000cb70 00000000! 
    1629                    
    1630 0000cb90     0960          rets
    1631                    
    1632                    
    1633                    ************
    1634 0000cba0           blcbsuper_kick  ;16
    1635                    *
    1636                    * MODE             DX  DZ       ACTION
    1637                    * ----------------------------------------------------
    1638                    * normal        <  60   50      knee
    1639                    *               >               normal kick
    1640                    *
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   36

    1641                    * onground      < 120  120      stomp
    1642                    * onground      >               normal kick
    1643                    *
    1644                    * running |
    1645                    * bouncing                      big boot
    1646                    *
    1647                    * onturnbkl |                   normal kick
    1648                    * climbturnbkl                  normal kick
    1649                    *
    1650                    * puppet|inair                  normal kick
    1651                    *
    1652                    
    1653 0000cba0                   JJXM_INIT
    1654 0000cc10                   JJXM    NORMAL,          60, 50,blcbskick_knee,blcbskick_kick
    1655 0000cce0                   JJXM    DIZZY,           60, 50,blcbskick_knee,blcbskick_kick
    1656 0000cdb0                   JJXM    BLOCK,           60, 50,blcbskick_knee,blcbskick_kick
    1657 0000ce80                   JJXM    ONGROUND,       160,140,blcbskick_stomp,blcbskick_kick
    1658 0000cf50                   JJXM    RUNNING,         60, 50,blcbskick_knee,blcbskick_kick
    1659 0000d020                   JJXM    BOUNCING,        60, 50,blcbskick_knee,blcbskick_kick
    1660 0000d0f0                   JJXM    ONTURNBKL,              blcbskick_kick
    1661 0000d130                   JJXM    CLIMBTURNBKL,           blcbskick_kick
    1662 0000d170                   JJXM    PUPPET,                 blcbskick_kick
    1663 0000d1b0                   JJXM    PUPPET2,                blcbskick_kick
    1664 0000d1f0                   JJXM    INAIR,                  blcbskick_kick
    1665 0000d230                   JJXM    ATTACHED,        60, 50,blcbskick_knee,blcbskick_kick
    1666 0000d2e0                   JJXM    DEAD,           160,140,blcbskick_stomp,blcbskick_kick
    1667 0000d390                   JJXM    OPPOVERHEAD,     60, 50,blcbskick_knee,blcbskick_kick
    1668 0000d430                   JJXM    WAITANIM,        60, 50,blcbskick_knee,blcbskick_kick
    1669 0000d4d0                   JJXM    GRAPPLE,         60, 50,blcbskick_knee,blcbskick_kick
    1670 0000d570                   JJXM    MASTER,          60, 50,blcbskick_knee,blcbskick_kick
    1671 0000d610                   JJXM    SLAVE,           60, 50,blcbskick_knee,blcbskick_kick
    1672 0000d6b0                   JJXM    HEADHOLD,        60, 50,blcbskick_knee,blcbskick_kick
    1673 0000d750                   JJXM    HEADHELD,        60, 50,blcbskick_knee,blcbskick_kick
    1674 0000d7f0                   JJXM    CHOKEHOLD,       60, 50,blcbskick_knee,blcbskick_kick
    1675 0000d890                   JJXM    INAIR2,                 blcbkick_TB
    1676 0000d8e0                   JJXM_END
    1677                    
    1678                    *****
    1679                    ;blcbskick_bigboot
    1680                    ;
    1681                    ;       .ref    yok_2_bigboot_anim
    1682                    ;       .ref    yok_4_bigboot_anim
    1683                    ;
    1684                    ;       FACE24  yok,bigboot_anim
    1685                    ;       calla   change_anim1a
    1686                    ;
    1687                    ;       WRSND   W_YOKO,FLYKICK_T1,FLYKICK_T2
    1688                    ;
    1689                    ;       rets
    1690                    
    1691                    *****
    1692 0000d900           blcbskick_kick
    1693                    
    1694                    ;Jumping karate kick
    1695 0000d900                   FACE24  yok,superkick_anim
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   37

    1696 0000d9a0     0d5f          calla   change_anim1a
         0000d9b0 00000000! 
    1697                    
    1698 0000d9d0                   WRSND   W_YOKO,KICK_T1,KICK_T2
    1699 0000db70     0960          rets
    1700                    
    1701                    *****
    1702 0000db80           blcbskick_knee
    1703                    
    1704 0000db80                   FACE24  yok,knee_anim
    1705 0000dc20     0d5f          calla   change_anim1a
         0000dc30 00000000! 
    1706                    
    1707 0000dc50                   WRSND   W_YOKO,KICK_T1,KICK_T2
    1708 0000ddf0     0960          rets
    1709                    
    1710                    *****
    1711 0000de00           blcbskick_stomp
    1712                    
    1713 0000de00                   FACE24  yok,stomp_anim
    1714 0000dea0     0d5f          calla   change_anim1a
         0000deb0 00000000! 
    1715                    
    1716 0000ded0                   WRSND   W_YOKO,KICK_T1,KICK_T2
    1717 0000e070     0960          rets
    1718                    
    1719                    *****
    1720 0000e080           blcbskick_scissor
    1721 0000e080     09e0          movi    yok_scissor_anim,a0
         0000e090 00000000! 
    1722 0000e0b0     0d5f          calla   change_anim1a
         0000e0c0 00000000! 
    1723                    
    1724 0000e0e0                   SETMODE INAIR
    1725                    
    1726 0000e190                   WRSND   W_YOKO,GRABFLING_T1,GRABFLING_T2
    1727                    
    1728 0000e330     0960          rets
    1729                    
    1730                    
    1731                    *****************************************************************************
    1732                    *
    1733                    * RUNNING (if GETUP_TIME > 0 then player is out of control)
    1734                    *
    1735                    
    1736          00058000  tjasXRUN_VAL    equ     YOK_XRUN
    1737          00028000  tjasZDRIFT_VAL  equ     YOK_ZDRIFT
    1738                    
    1739 0000e340           mode_running
    1740                    
    1741 0000e340     b5a0          move    *a13(RUN_TIME),a0               ;Used for flying kick
         0000e350     07b0  
    1742 0000e360     1020          addk    1,a0
    1743 0000e370     b00d          move    a0,*a13(RUN_TIME)
         0000e380     07b0  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   38

    1744                    
    1745 0000e390     b5a0          move    *a13(USR_VAR1),a0
         0000e3a0     0850  
    1746 0000e3b0     cb11          jrnz    tjasno_vel
    1747                    
    1748 0000e3c0     0d5f          calla   bounce_off_ropes
         0000e3d0 00000000! 
    1749                    
    1750 0000e3f0     09e0          movi    tjasXRUN_VAL,a0
         0000e400 00058000  
    1751 0000e420     b5ae          move    *a13(MOVE_DIR),a14
         0000e430     04b0  
    1752 0000e440     1f8e          btst    PLAYER_RIGHT_BIT,a14
    1753 0000e450     cb01          jrnz    tjaspos
    1754 0000e460     03a0          neg     a0
    1755 0000e470           tjaspos
    1756 0000e470     05ae          move    @hyper_speed_on,a14
         0000e480 00000000! 
    1757 0000e4a0     63c0          sll     a14,a0
    1758 0000e4b0     b20d          move    a0,*a13(OBJ_XVEL),L
         0000e4c0     02d0  
    1759                    
    1760 0000e4d0           tjasno_vel
    1761                    
    1762 0000e4d0     b5a0          move    *a13(GETUP_TIME),a0             ;delay b4 gaining control
         0000e4e0     0460  
    1763 0000e4f0     cb38          jrnz    tjasout_of_control
    1764                    
    1765 0000e500     b5a0          move    *a13(ANIMODE),a0
         0000e510     0660  
    1766 0000e520     1fa0          btst    MODE_UNINT_BIT,a0
    1767 0000e530     cb16          jrnz    tjasno_interrupt
    1768                    
    1769 0000e540     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000e550     0bc0  
    1770 0000e560     b5a1          move    *a13(MOVE_DIR),a1
         0000e570     04b0  
    1771 0000e580     5401          or      a0,a1
    1772 0000e590     0b81          andi    MOVE_LEFT|MOVE_RIGHT,a1
         0000e5a0 fffffff3  
    1773 0000e5c0     0b41          cmpi    MOVE_LEFT|MOVE_RIGHT,a1
         0000e5d0     fff3  
    1774 0000e5e0     cb0b          jrne    tjascontinue_run
    1775                    
    1776                            ;braking with stick.  abort run.
    1777                    
    1778 0000e5f0                   SETMODE NORMAL
    1779                    
    1780 0000e6a0           tjascontinue_run
    1781 0000e6a0           tjasno_interrupt
    1782                    
    1783 0000e6a0     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000e6b0     0bc0  
    1784 0000e6c0     5621          clr     a1
    1785                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   39

    1786 0000e6d0     09e1          movi    -tjasZDRIFT_VAL,a1
         0000e6e0 fffd8000  
    1787 0000e700     1fe0          btst    PLAYER_UP_BIT,a0
    1788 0000e710     cb06          jrnz    tjassetvel
    1789                    
    1790 0000e720     09e1          movi    tjasZDRIFT_VAL,a1
         0000e730 00028000  
    1791 0000e750     1fc0          btst    PLAYER_DOWN_BIT,a0
    1792 0000e760     cb01          jrnz    tjassetvel
    1793                    
    1794 0000e770     5621          clr     a1
    1795 0000e780           tjassetvel
    1796 0000e780     b22d          move    a1,*a13(OBJ_ZVEL),L
         0000e790     0310  
    1797                    
    1798                    ;Delay reading buttons after just getting out of an out of control run
    1799                    ;so a mistaken move isn't fired off
    1800 0000e7a0     b5a0          move    *a13(DELAY_BUTNS),a0
         0000e7b0     0ab0  
    1801 0000e7c0     cb0b          jrnz    tjasout_of_control
    1802                    
    1803                    
    1804 0000e7d0     b5a0          move    *a13(BUT_VAL_DOWN),a0
         0000e7e0     0ba0  
    1805 0000e7f0     0b80          andi    011111b,a0
         0000e800 ffffffe0  
    1806 0000e820                   X32     a0
    1807 0000e830     0b20          addi    tjasaction_table,a0
         0000e840 0000e890' 
    1808 0000e860     8600          move    *a0,a0,L
    1809 0000e870     0920          call    a0
    1810 0000e880           tjasout_of_control
    1811 0000e880     0960          rets
    1812                    
    1813 0000e890           tjasaction_table
    1814 0000e890 0000ec90'         .long   tjasz,tjaspunch,tjasblock,tjasblock                     ;0-3
    1815 0000e910 0000eca0'         .long   tjassuper_punch,tjassuper_punch,tjasblock,tjasblock     ;4-7
    1816 0000e990 0000f9c0'         .long   tjaskick,tjaspunchkick,tjasblock,tjasblock              ;8-11
    1817 0000ea10 0000eca0'         .long   tjassuper_punch,tjaspunchkick,tjasblock,tjasblock       ;12-15
    1818 0000ea90 0000f9c0'         .long   tjassuper_kick,tjassuper_kick,tjasblock,tjasblock       ;16-19
    1819 0000eb10 0000eca0'         .long   tjasgraboh,tjasgraboh,tjasblock,tjasblock               ;20-23
    1820 0000eb90 0000f9c0'         .long   tjassuper_kick,tjaspunchkick,tjasblock,tjasblock        ;24-27
    1821 0000ec10 0000eca0'         .long   tjasgraboh,tjasgraboh,tjasblock,tjasblock               ;28-31
    1822                    
    1823                    ************
    1824 0000ec90           tjasz
    1825 0000ec90     0960          rets
    1826                    
    1827                    ************
    1828 0000eca0           tjaspunch               ;1
    1829 0000eca0           tjassuper_punch ;4
    1830 0000eca0           tjaspunchkick
    1831 0000eca0           tjasgraboh
    1832                    *
    1833                    * MODE             DX  DZ       ACTION
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   40

    1834                    * ----------------------------------------------------
    1835                    * normal        <  62  95       headbutt
    1836                    * normal        >               normal punch
    1837                    *
    1838                    * onground      < 120 120       elbow drop
    1839                    * onground      >               normal punch
    1840                    *
    1841                    * running |
    1842                    * bouncing                      normal punch
    1843                    *
    1844                    * onturnbkl     <  60  60       punch
    1845                    * onturnbkl     >               normal punch
    1846                    *
    1847                    * puppet|inair                  normal punch
    1848                    *
    1849                    
    1850 0000eca0                   JJXM_INIT
    1851 0000ed10                   JJXM    NORMAL,                 tjaspunch_clobber
    1852 0000ed50                   JJXM    DIZZY,                  tjaspunch_clobber
    1853 0000ed90                   JJXM    BLOCK,                  tjaspunch_clobber
    1854 0000edd0                   JJXM    ONGROUND,               tjaspunch_buttdrop
    1855 0000ee20                   JJXM    RUNNING,                tjaspunch_clobber
    1856 0000ee60                   JJXM    BOUNCING,               tjaspunch_clobber
    1857 0000eea0                   JJXM    ONTURNBKL,              tjaspunch_clobber
    1858 0000eee0                   JJXM    CLIMBTURNBKL,           tjaspunch_clobber
    1859 0000ef20                   JJXM    PUPPET,                 tjaspunch_clobber
    1860 0000ef60                   JJXM    PUPPET2,                tjaspunch_clobber
    1861 0000efa0                   JJXM    INAIR,                  tjaspunch_clobber
    1862 0000efe0                   JJXM    ATTACHED,               tjaspunch_clobber
    1863 0000f020                   JJXM    DEAD,                   tjaspunch_buttdrop
    1864 0000f060                   JJXM    OPPOVERHEAD,            tjaspunch_clobber
    1865 0000f0a0                   JJXM    WAITANIM,               tjaspunch_clobber
    1866 0000f0e0                   JJXM    GRAPPLE,                tjaspunch_clobber
    1867 0000f120                   JJXM    MASTER,                 tjaspunch_clobber
    1868 0000f160                   JJXM    SLAVE,                  tjaspunch_clobber
    1869 0000f1a0                   JJXM    HEADHOLD,               tjaspunch_clobber
    1870 0000f1e0                   JJXM    HEADHELD,               tjaspunch_clobber
    1871 0000f220                   JJXM    CHOKEHOLD,              tjaspunch_clobber
    1872 0000f260                   JJXM    INAIR2,                 tjaspunch_clobber
    1873 0000f2a0                   JJXM_END
    1874                    
    1875 0000f2c0     0960          rets
    1876                    
    1877 0000f2d0           tjaspunch_clobber
    1878                    
    1879 0000f2d0     0d5f          calla   ck_ignore
         0000f2e0 00000000! 
    1880 0000f300     c800          jrc     tjasrets
         0000f310     00fb  
    1881                    
    1882 0000f320     5600          clr     a0
    1883 0000f330     b00d          move    a0,*a13(RUN_TIME)
         0000f340     07b0  
    1884                    
    1885 0000f350                   SETMODE NORMAL
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   41

    1886                    
    1887 0000f400                   FACE24  yok,run_slap_anim
    1888 0000f4a0     0d5f          calla   change_anim1a
         0000f4b0 00000000! 
    1889                    
    1890 0000f4d0                   WRSND   W_YOKO,PUNCH_T1,PUNCH_T2
    1891 0000f670     0960          rets
    1892                    
    1893                    
    1894                    *****
    1895 0000f680           tjaspunch_rets
    1896 0000f680     0960          rets
    1897                    
    1898                    *****
    1899 0000f690           tjaspunch_buttdrop
    1900                    
    1901 0000f690     09e0          movi    yok_3_butt_drop_anim,a0
         0000f6a0 00000000! 
    1902 0000f6c0     0d5f          calla   change_anim1a
         0000f6d0 00000000! 
    1903 0000f6f0                   WRSND   W_YOKO,GRABTHROW_T1,GRABTHROW_T2
    1904 0000f890     0960          rets
    1905                    
    1906                    
    1907                    ************
    1908 0000f8a0           tjasblock               ;2
    1909                    
    1910 0000f8a0     b7a0          move    *a13(OBJ_XVEL),a0,L
         0000f8b0     02d0  
    1911 0000f8c0     2be0          sra     1,a0
    1912 0000f8d0     b20d          move    a0,*a13(OBJ_XVEL),L
         0000f8e0     02d0  
    1913 0000f8f0                   SETMODE NORMAL
    1914 0000f9a0     c000          jruc    std_block
         0000f9b0     f999  
    1915                    
    1916                    **************
    1917 0000f9c0           tjaskick                ;8
    1918 0000f9c0           tjassuper_kick  ;16
    1919                    *
    1920                    * MODE             DX  DZ       ACTION
    1921                    * ----------------------------------------------------
    1922                    * normal        <  62  95       headbutt
    1923                    * normal        >               normal punch
    1924                    *
    1925                    * onground      < 120 120       elbow drop
    1926                    * onground      >               normal punch
    1927                    *
    1928                    * running |
    1929                    * bouncing                      normal punch
    1930                    *
    1931                    * onturnbkl     <  60  60       punch
    1932                    * onturnbkl     >               normal punch
    1933                    *
    1934                    * puppet|inair                  normal punch
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   42

    1935                    *
    1936                    
    1937 0000f9c0                   JJXM_INIT
    1938 0000fa30                   JJXM    NORMAL,                 tjasscissor
    1939 0000fa70                   JJXM    DIZZY,                  tjasscissor
    1940 0000fab0                   JJXM    BLOCK,                  tjasscissor
    1941 0000faf0                   JJXM    ONGROUND,               tjaspunch_buttdrop
    1942 0000fb30                   JJXM    RUNNING,                tjasscissor
    1943 0000fb70                   JJXM    BOUNCING,               tjasscissor
    1944 0000fbb0                   JJXM    ONTURNBKL,              tjasscissor
    1945 0000fbf0                   JJXM    CLIMBTURNBKL,           tjasscissor
    1946 0000fc30                   JJXM    PUPPET,                 tjasscissor
    1947 0000fc70                   JJXM    PUPPET2,                tjasscissor
    1948 0000fcb0                   JJXM    INAIR,                  tjasscissor
    1949 0000fcf0                   JJXM    ATTACHED,               tjasscissor
    1950 0000fd30                   JJXM    DEAD,                   tjaspunch_buttdrop
    1951 0000fd70                   JJXM    OPPOVERHEAD,            tjasscissor
    1952 0000fdb0                   JJXM    WAITANIM,               tjasscissor
    1953 0000fdf0                   JJXM    GRAPPLE,                tjasscissor
    1954 0000fe30                   JJXM    MASTER,                 tjasscissor
    1955 0000fe70                   JJXM    SLAVE,                  tjasscissor
    1956 0000feb0                   JJXM    HEADHOLD,               tjasscissor
    1957 0000fef0                   JJXM    HEADHELD,               tjasscissor
    1958 0000ff30                   JJXM    CHOKEHOLD,              tjasscissor
    1959 0000ff70                   JJXM    INAIR2,                 tjasscissor
    1960 0000ffb0                   JJXM_END
    1961                    
    1962 0000ffd0     0960          rets
    1963                    
    1964 0000ffe0           tjasscissor
    1965                    ;don't do it if opponent is behind you
    1966 0000ffe0     0d5f          calla   ck_ignore
         0000fff0 00000000! 
    1967 00010010     c82b          jrc     tjasrets
    1968                    
    1969 00010020     09e0          movi    yok_scissor_anim,a0
         00010030 00000000! 
    1970 00010050     0d5f          calla   change_anim1a
         00010060 00000000! 
    1971                    
    1972 00010080                   SETMODE INAIR
    1973                    
    1974 00010130                   WRSND   W_YOKO,GRABHOLD_T1,GRABHOLD_T2
    1975 000102d0           tjasrets
    1976                    
    1977                    
    1978                    *****************************************************************************
    1979                    *
    1980                    
    1981 000102d0           mode_inair      ;2
    1982                    
    1983 000102d0     0960          rets
    1984                    
    1985                    *****************************************************************************
    1986                    *
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   43

    1987                    
    1988 000102e0           mode_attached   ;3
    1989                    
    1990 000102e0     0d5f          calla   keep_attached
         000102f0 00000000! 
    1991 00010310     cb12          jrnz    hxfdstill_attached
    1992                    
    1993 00010320     5600          clr     a0
    1994 00010330     b20d          move    a0,*a13(ATTACH_PROC),L
         00010340     03e0  
    1995                    
    1996 00010350                   SETMODE NORMAL
    1997                    
    1998 00010400     09c0          movi    MODE_NORMAL,a0
         00010410     0000  
    1999 00010420     b00d          move    a0,*a13(ANIMODE)
         00010430     0660  
    2000                    
    2001 00010440           hxfdstill_attached
    2002 00010440     0960          rets
    2003                    
    2004                    *****************************************************************************
    2005 00010450           mode_onground   ;4
    2006                    
    2007 00010450     0960          rets
    2008                    
    2009                    
    2010                    *****************************************************************************
    2011                    *
    2012                    * bouncing off ropes while running
    2013                    
    2014 00010460           mode_bouncing   ;5
    2015                    
    2016 00010460     5600          clr     a0
    2017 00010470     b20d          move    a0,*a13(OBJ_XVEL),L
         00010480     02d0  
    2018 00010490     b20d          move    a0,*a13(OBJ_ZVEL),L
         000104a0     0310  
    2019                    
    2020 000104b0     b5a0          move    *a13(ANIMODE),a0
         000104c0     0660  
    2021 000104d0     1fe0          btst    MODE_END_BIT,a0
    2022 000104e0     ca20          jrz     xhyanot_ended
    2023                    
    2024 000104f0     b5a0          move    *a13(MOVE_DIR),a0
         00010500     04b0  
    2025 00010510     0bc0          xori    MOVE_LEFT+MOVE_RIGHT,a0 ;flip LEFT/RIGHT
         00010520 0000000c  
    2026 00010540     b00d          move    a0,*a13(MOVE_DIR)
         00010550     04b0  
    2027                    
    2028 00010560     b5a1          move    *a13(NEW_FACING_DIR),a1
         00010570     04d0  
    2029 00010580     0b81          andi    MOVE_UP+MOVE_DOWN,a1
         00010590 fffffffc  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   44

    2030 000105b0     5401          or      a0,a1                   ;LEFT or RIGHT
    2031 000105c0     b02d          move    a1,*a13(FACING_DIR)     ;face same dir as run
         000105d0     04c0  
    2032                    
    2033 000105e0     09e0          movi    yok_run2_anim,a0
         000105f0 00000000! 
    2034 00010610     0d5f          calla   change_anim1a
         00010620 00000000! 
    2035                    
    2036 00010640                   SETMODE RUNNING
    2037                    
    2038                    ;       clr     a0
    2039                    ;       move    a0,*a13(GETUP_TIME)     ;in control
    2040                    
    2041 000106f0           xhyanot_ended
    2042 000106f0     0960          rets
    2043                    
    2044                    *****************************************************************************
    2045                    *
    2046                    * STANDING ON TOP OF TURNBUCKLE
    2047                    
    2048 00010700           mode_onturnbkl  ;6
    2049                    
    2050                    ;       ;check unint
    2051                    ;       move    *a13(ANIMODE),a14
    2052                    ;       btst    MODE_UNINT_BIT,a14
    2053                    ;       jrnz    qubyno_interrupt
    2054                    
    2055 00010700     b5a0          move    *a13(STICK_VAL_CUR),a0
         00010710     0bc0  
    2056 00010720     1fc0          btst    PLAYER_DOWN_BIT,a0
    2057 00010730     ca12          jrz     qubyno_climbdown
    2058                    
    2059 00010740     09e0          movi    yok_climb_down_anim,a0
         00010750 00000000! 
    2060 00010770     0d5f          calla   change_anim1a
         00010780 00000000! 
    2061                    
    2062 000107a0                   SETMODE CLIMBTURNBKL
    2063                    
    2064 00010850           qubyno_interrupt
    2065 00010850     0960          rets
    2066                    
    2067 00010860           qubyno_climbdown
    2068 00010860     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00010870     0ba0  
    2069 00010880     0b80          andi    011111b,a0
         00010890 ffffffe0  
    2070 000108b0     ca51          jrz     qubyz
    2071                    
    2072 000108c0                   X32     a0
    2073 000108d0     0b20          addi    qubyaction_table,a0
         000108e0 000109d0' 
    2074 00010900     8600          move    *a0,a0,L
    2075 00010910     0920          call    a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   45

    2076                    
    2077 00010920     b5a5          move    *a13(PLYRNUM),a5
         00010930     0580  
    2078 00010940     09e2          movi    JUMP_ROPES,a2
         00010950 00000000! 
    2079 00010970     09c0          movi    1000,a0
         00010980     03e8  
    2080 00010990     0d5f          calla   ADD_IF_SILENT
         000109a0 00000000! 
    2081                    
    2082 000109c0     0960          rets
    2083                    
    2084                    
    2085                    ;For standing on top of turnbuckles
    2086                    
    2087 000109d0           qubyaction_table
    2088 000109d0 00010dd0'         .long   qubyz,qubypunch,qubyblock,qubyblock                     ;0-3
    2089 00010a50 00010de0'         .long   qubysuper_punch,qubysuper_punch,qubyblock,qubyblock     ;4-7
    2090 00010ad0 00010de0'         .long   qubykick,qubypunchkick,qubyblock,qubyblock              ;8-11
    2091 00010b50 00010de0'         .long   qubysuper_punch,qubypunchkick,qubyblock,qubyblock       ;12-15
    2092 00010bd0 00010de0'         .long   qubysuper_kick,qubysuper_kick,qubyblock,qubyblock       ;16-19
    2093 00010c50 00010de0'         .long   qubygraboh,qubygraboh,qubyblock,qubyblock               ;20-23
    2094 00010cd0 00010de0'         .long   qubysuper_kick,qubypunchkick,qubyblock,qubyblock        ;24-27
    2095 00010d50 00010de0'         .long   qubygraboh,qubygraboh,qubyblock,qubyblock               ;28-31
    2096                    
    2097                    ;       .long   qubyz                   ;0
    2098                    ;       .long   qubypunch                       ;1
    2099                    ;       .long   qubyblock                       ;2
    2100                    ;       .long   qubyz                   ;3
    2101                    ;       .long   qubysuper_punch         ;4
    2102                    ;       .long   qubyz,qubyz,qubyz               ;5-7
    2103                    ;       .long   qubykick                        ;8
    2104                    ;       .long   qubyz,qubyz,qubyz,qubyz,qubyz,qubyz,qubyz       ;9-15
    2105                    ;       .long   qubysuper_kick          ;16
    2106                    ;       .long   qubyz,qubyz,qubyz,qubyz,qubyz,qubyz,qubyz       ;17-23
    2107                    ;       .long   qubyz,qubyz,qubyz,qubyz,qubyz,qubyz,qubyz,qubyz ;24-31
    2108                    
    2109                    ************
    2110 00010dd0           qubyz
    2111 00010dd0     0960          rets
    2112                    
    2113                    ************
    2114 00010de0           qubypunch               ;1
    2115 00010de0           qubyblock               ;2
    2116 00010de0           qubysuper_punch ;4
    2117 00010de0           qubypunchkick   ;5
    2118 00010de0           qubykick                ;8
    2119 00010de0           qubysuper_kick  ;16
    2120 00010de0           qubygraboh              ;20
    2121                    
    2122 00010de0                   SETMODE INAIR
    2123                    
    2124 00010e90     09e0          movi    yok_tbukl_buttdrop_anim,a0
         00010ea0 00000000! 
    2125 00010ec0     0d5f          calla   change_anim1a
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   46

         00010ed0 00000000! 
    2126                    
    2127 00010ef0                   WRSND   W_YOKO,TURNDIVE_T1,TURNDIVE_T2
    2128                    
    2129 00011090     0960          rets
    2130                    
    2131                    *****************************************************************************
    2132                    * blocking
    2133                    
    2134 000110a0           mode_block      ;7
    2135                    
    2136 000110a0     b5a0          move    *a13(BLOCK_TIME),a0
         000110b0     0d30  
    2137 000110c0     1020          inc     a0
    2138 000110d0     b00d          move    a0,*a13(BLOCK_TIME)
         000110e0     0d30  
    2139 000110f0     0b40          cmpi    160,a0
         00011100     ff5f  
    2140 00011110     c413          jrlt    heunno
    2141                    
    2142 00011120     0d5f          calla   get_opp_plyrmode
         00011130 00000000! 
    2143 00011150     0b40          cmpi    MODE_BLOCK,a0
         00011160     fff8  
    2144 00011170     cb0d          jrnz    heunno
    2145 00011180     b5a0          move    *a13(CLOSEST_XDIST),a0
         00011190     0370  
    2146 000111a0     0b40          cmpi    61h,a0
         000111b0     ff9e  
    2147 000111c0     c508          jrge    heunno
    2148 000111d0     0b40          cmpi    45,a0
         000111e0     ffd2  
    2149 000111f0     c405          jrlt    heunno
    2150 00011200     b5a0          move    *a13(CLOSEST_ZDIST),a0
         00011210     0390  
    2151 00011220     0b40          cmpi    30,a0
         00011230     ffe1  
    2152 00011240     c461          jrlt    heunpunchblock
    2153                    
    2154 00011250           heunno
    2155 00011250     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00011260     0ba0  
    2156 00011270     0b80          andi    011111b,a0
         00011280 ffffffe0  
    2157 000112a0     ca0c          jrz     heunno_interrupt
    2158                    
    2159                            ;press.  if block isn't down, let mode_normal handle it
    2160 000112b0     4c02          move    a0,a2                   ;save a0 from ...val_down
    2161 000112c0     b5a0          move    *a13(BUT_VAL_CUR),a0
         000112d0     0b90  
    2162 000112e0     1fc0          btst    PLAYER_BLOCK_BIT,a0
    2163 000112f0     ca08          jrz     heunset_mode_normal
    2164 00011300     4c40          move    a2,a0                   ;restore a0 from ...val_down
    2165                    
    2166 00011310                   X32     a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   47

    2167 00011320     0b20          addi    heunaction_table,a0
         00011330 00011450' 
    2168 00011350     8600          move    *a0,a0,L
    2169 00011360     0920          call    a0
    2170                    
    2171 00011370           heunno_interrupt
    2172 00011370     0960          rets
    2173                    
    2174 00011380           heunset_mode_normal
    2175 00011380                   SETMODE NORMAL
    2176 00011430     c000          jruc    mode_normal
         00011440     f56f  
    2177                    
    2178 00011450           heunaction_table
    2179 00011450 00011850'         .long   heunz,heunpunchblock,heunz      ;0-2
    2180 000114b0 00011860'         .long   heunpunchblock          ;3
    2181 000114d0 00011850'         .long   heunz,heunz,heunz,heunz,heunz,heunz,heunz       ;4-10
    2182 000115b0 00011850'         .long   heunz,heunz,heunz,heunz,heunz,heunz,heunz       ;11-17
    2183 00011690 00011850'         .long   heunz,heunz,heunz,heunz,heunz,heunz,heunz       ;18-24
    2184 00011770 00011850'         .long   heunz,heunz,heunz,heunz,heunz,heunz,heunz       ;25-31
    2185                    
    2186                    ************
    2187 00011850           heunz
    2188 00011850     0960          rets
    2189                    
    2190                    ************
    2191 00011860           heunpunchblock  ;3
    2192                    *
    2193                    * MODE             DX  DZ       ACTION
    2194                    * ----------------------------------------------------
    2195                    * all                           push
    2196                    *
    2197                    
    2198                    ;This push has no collisions set!
    2199                    
    2200 00011860                   SETMODE NORMAL
    2201                    
    2202 00011910     09e0          movi    yok_4_push_anim,a0
         00011920 00000000! 
    2203 00011940     0d5f          calla   change_anim1a
         00011950 00000000! 
    2204                    
    2205 00011970                   WRSND   W_YOKO,PUSH_T1,PUSH_T2
    2206                    
    2207 00011b10     0960          rets
    2208                    
    2209                    *****************************************************************************
    2210                    *
    2211                    
    2212 00011b20           mode_dizzy      ;8
    2213                    
    2214                    ;       move    *a13(GETUP_TIME),a0
    2215                    ;       jrnz    zjomstill_going
    2216                    ;
    2217                    ;       calla   clear_damage_log
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   48

    2218                    ;
    2219                    ;       clr     a0
    2220                    ;       move    a0,*a13(STARS_FLAG)
    2221                    ;
    2222                    ;       SETMODE NORMAL
    2223                    ;
    2224                    ;zjomstill_going
    2225 00011b20     0960          rets
    2226                    
    2227                    
    2228                    *****************************************************************************
    2229                    * opponent held overhead
    2230                    
    2231 00011b30           mode_oppoverhead ;10
    2232                    
    2233 00011b30     b7a2          move    *a13(ATTACH_PROC),a2,L          ;proc attached to
         00011b40     03e0  
    2234 00011b50     ca03          jrz     iekrnot_attached
    2235 00011b60     b640          move    *a2(ATTACH_PROC),a0,L
         00011b70     03e0  
    2236 00011b80     cb1a          jrnz    iekrstill_attached
    2237                    
    2238 00011b90           iekrnot_attached
    2239                    
    2240 00011b90     b5a0          move    *a13(ANIMODE),a0                ;* remove this????
         00011ba0     0660  
    2241 00011bb0     1fa0          btst    MODE_UNINT_BIT,a0               ;*
    2242 00011bc0     cb4d          jrnz    iekrno_interrupt                        ;*
    2243                    
    2244 00011bd0     5600          clr     a0
    2245 00011be0     b20d          move    a0,*a13(ATTACH_PROC),L
         00011bf0     03e0  
    2246                    
    2247 00011c00     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00011c10 00000000! 
    2248 00011c30                   SETMODE NORMAL
    2249                    
    2250 00011ce0     09c0          movi    MODE_NORMAL,a0
         00011cf0     0000  
    2251 00011d00     b00d          move    a0,*a13(ANIMODE)
         00011d10     0660  
    2252                    
    2253 00011d20     0960          rets
    2254                    
    2255 00011d30           iekrstill_attached
    2256 00011d30     b5a0          move    *a13(ANIMODE),a0
         00011d40     0660  
    2257 00011d50     1fa0          btst    MODE_UNINT_BIT,a0
    2258 00011d60     cb33          jrnz    iekrno_interrupt
    2259                    
    2260 00011d70     b5a0          move    *a13(FACING_DIR),a0
         00011d80     04c0  
    2261 00011d90     0b80          andni   MOVE_UP,a0
         00011da0 00000001  
    2262 00011dc0     0ba0          ori     MOVE_DOWN,a0
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   49

         00011dd0 00000002  
    2263 00011df0     b00d          move    a0,*a13(FACING_DIR)
         00011e00     04c0  
    2264 00011e10     b00d          move    a0,*a13(NEW_FACING_DIR)
         00011e20     04d0  
    2265                    
    2266 00011e30     b5a0          move    *a13(STICK_VAL_CUR),a0
         00011e40     0bc0  
    2267 00011e50     ca0c          jrz     iekrstand
    2268                    
    2269 00011e60     b00d          move    a0,*a13(MOVE_DIR)
         00011e70     04b0  
    2270 00011e80     0d5f          calla   execute_walk
         00011e90 00000000! 
    2271                    
    2272 00011eb0     09e0          movi    yok_holdoh_anim,a0
         00011ec0 00000000! 
    2273 00011ee0     0d5f          calla   change_anim2
         00011ef0 00000000! 
    2274 00011f10     c00d          jruc    iekrck_butns
    2275 00011f20           iekrstand
    2276 00011f20     5600          clr     a0
    2277 00011f30     b00d          move    a0,*a13(MOVE_DIR)
         00011f40     04b0  
    2278 00011f50     b20d          move    a0,*a13(OBJ_XVEL),L
         00011f60     02d0  
    2279 00011f70     b20d          move    a0,*a13(OBJ_ZVEL),L
         00011f80     0310  
    2280                    
    2281 00011f90     09e0          movi    yok_stndholdoh_anim,a0
         00011fa0 00000000! 
    2282 00011fc0     0d5f          calla   change_anim1
         00011fd0 00000000! 
    2283                    
    2284 00011ff0           iekrck_butns
    2285                    
    2286 00011ff0     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00012000     0ba0  
    2287 00012010     0b80          andi    011111b,a0
         00012020 ffffffe0  
    2288 00012040                   X32     a0
    2289 00012050     0b20          addi    iekraction_table,a0
         00012060 000120b0' 
    2290 00012080     8600          move    *a0,a0,L
    2291 00012090     0920          call    a0
    2292                    
    2293 000120a0           iekrno_interrupt
    2294 000120a0     0960          rets
    2295                    
    2296 000120b0           iekraction_table
    2297 000120b0 000124b0'         .long   iekrz,iekrpunch,iekrblock,iekrblock                     ;0-3
    2298 00012130 00012920'         .long   iekrsuper_punch,iekrsuper_punch,iekrblock,iekrblock     ;4-7
    2299 000121b0 000124c0'         .long   iekrkick,iekrpunchkick,iekrblock,iekrblock              ;8-11
    2300 00012230 00012920'         .long   iekrsuper_punch,iekrpunchkick,iekrblock,iekrblock       ;12-15
    2301 000122b0 000124c0'         .long   iekrsuper_kick,iekrsuper_kick,iekrblock,iekrblock       ;16-19
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   50

    2302 00012330 000124c0'         .long   iekrgraboh,iekrgraboh,iekrblock,iekrblock               ;20-23
    2303 000123b0 000124c0'         .long   iekrsuper_kick,iekrpunchkick,iekrblock,iekrblock        ;24-27
    2304 00012430 000124c0'         .long   iekrgraboh,iekrgraboh,iekrblock,iekrblock               ;28-31
    2305                    
    2306                    ************
    2307 000124b0           iekrz
    2308 000124b0     0960          rets
    2309                    
    2310                    ************
    2311 000124c0           iekrpunch               ;1
    2312 000124c0           iekrblock               ;2
    2313 000124c0           iekrkick                ;8
    2314 000124c0           iekrsuper_kick  ;16
    2315 000124c0           iekrpunchkick
    2316 000124c0           iekrgraboh
    2317                    
    2318 000124c0     b5a0          move    *a13(STICK_VAL_CUR),a0
         000124d0     0bc0  
    2319 000124e0     1fc0          btst    PLAYER_DOWN_BIT,a0
    2320 000124f0     ca21          jrz     iekrslam
    2321                    
    2322 00012500     09e0          movi    yok_spinslam_anim,a0
         00012510 00000000! 
    2323 00012530     0d5f          calla   change_anim1a
         00012540 00000000! 
    2324                    
    2325 00012560                   WRSND   W_YOKO,HIPTOSS_T1,HIPTOSS_T2
    2326                    
    2327 00012700     0960          rets
    2328 00012710           iekrslam
    2329                    ;Just slam him down
    2330 00012710     09e0          movi    yok_overhd_slam_anim,a0
         00012720 00000000! 
    2331 00012740     0d5f          calla   change_anim1a
         00012750 00000000! 
    2332                    
    2333 00012770                   WRSND   W_YOKO,HIPTOSS_T1,HIPTOSS_T2
    2334                    
    2335 00012910     0960          rets
    2336                    
    2337 00012920           iekrsuper_punch ;4
    2338                    
    2339 00012920     b5a0          move    *a13(STICK_VAL_CUR),a0
         00012930     0bc0  
    2340 00012940     1fe0          btst    PLAYER_UP_BIT,a0
    2341 00012950     cab6          jrz     iekrpunch
    2342                    
    2343 00012960     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00012970 00000000! 
    2344                            .ref    yok_overhd_slam2_anim
    2345 00012990     09e0          movi    yok_overhd_slam2_anim,a0
         000129a0 00000000! 
    2346 000129c0     0d5f          calla   change_anim1a
         000129d0 00000000! 
    2347                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   51

    2348 000129f0                   WRSND   W_YOKO,HIPTOSS_T1,HIPTOSS_T2
    2349                    
    2350 00012b90     0960          rets
    2351                    
    2352                    *****************************************************************************
    2353                    *
    2354                    * CLIMBING UP OR DOWN THE TURNBUCKLE
    2355                    
    2356 00012ba0           mode_climbturnbkl       ;11
    2357                    
    2358 00012ba0     0960          rets
    2359                    
    2360                    
    2361                    *****************************************************************************
    2362                    
    2363 00012bb0           mode_waitanim   ;12
    2364                    
    2365 00012bb0     b5a0          move    *a13(ANIMODE),a0
         00012bc0     0660  
    2366 00012bd0     1fe0          btst    MODE_END_BIT,a0
    2367 00012be0     ca03          jrz     zoornot_ended
    2368                    
    2369 00012bf0     b7a0          move    *a13(CODE_ADDR),a0,L
         00012c00     0430  
    2370 00012c10     0920          call    a0
    2371                    
    2372 00012c20           zoornot_ended
    2373 00012c20     0960          rets
    2374                    
    2375                    
    2376                    *****************************************************************************
    2377                    
    2378 00012c30           mode_grapple    ;13
    2379 00012c30     0960          rets
    2380                    ;
    2381                    ;
    2382                    ;       move    *a13(GETUP_TIME),a0
    2383                    ;       jrnz    nnaistill_going
    2384                    ;
    2385                    ;;now get move off
    2386                    ;;if opponents meter almost zero then break apart
    2387                    ;
    2388                    ;       calla   break_lockup
    2389                    ;       rets
    2390                    ;
    2391                    ;
    2392                    ;nnaistill_going
    2393                    ;       calla   lineup_grapple
    2394                    ;       rets
    2395                    
    2396                    
    2397                    *****************************************************************************
    2398                    
    2399 00012c40           mode_master     ;14
    2400                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   52

    2401 00012c40     0d5f          calla   master_keep_attached    ;keep slave attached to me
         00012c50 00000000! 
    2402                    
    2403 00012c70     0960          rets
    2404                    
    2405                    *****************************************************************************
    2406                    
    2407 00012c80           mode_slave      ;15
    2408 00012c80     0960          rets
    2409                    
    2410                    ;Jason, finish all these moves from the head hold
    2411                    *****************************************************************************
    2412                    
    2413 00012c90           mode_headhold   ;16
    2414                    
    2415                    ;Bozo power move
    2416                            .ref    bozo_check
    2417 00012c90     0d5f          calla   bozo_check
         00012ca0 00000000! 
    2418 00012cc0     c929          jrnc    lrfrfail
    2419                    
    2420 00012cd0                   WRSND   W_YOKO,GRABFLING_T1,GRABFLING_T2
    2421                    
    2422 00012e70     09e0          movi    yok_vsuplex_anim,a0
         00012e80 00000000! 
    2423 00012ea0     05ae          move    @PCNT,a14
         00012eb0 00000000! 
    2424 00012ed0     1fee          btst    0,a14
    2425 00012ee0     ca03          jrz     lrfrtag
    2426 00012ef0     09e0          movi    yok_scissor_anim,a0
         00012f00 00000000! 
    2427 00012f20     0d5f  lrfrtag calla   change_anim1a
         00012f30 00000000! 
    2428                    
    2429 00012f50     0960          rets
    2430                    
    2431 00012f60           lrfrfail
    2432 00012f60     b7a0          move    *a13(WHOIHIT),a0,L
         00012f70     0500  
    2433 00012f80     b400          move    *a0(PLYRMODE),a0
         00012f90     05c0  
    2434 00012fa0     0b40          cmpi    MODE_HEADHELD,a0
         00012fb0     ffec  
    2435 00012fc0     cb10          jrnz    lrfrexit
    2436                    
    2437                    ;       move    *a13(ATTACH_PROC),a10,L
    2438                    ;       jrz     lrfrexit
    2439                    
    2440 00012fd0     b5a0          move    *a13(ANIMODE),a0
         00012fe0     0660  
    2441 00012ff0     1fa0          btst    MODE_UNINT_BIT,a0
    2442 00013000     cb0b          jrnz    lrfrno_interrupt
    2443                    
    2444 00013010     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00013020     0ba0  
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   53

    2445 00013030     0b80          andi    011111b,a0
         00013040 ffffffe0  
    2446 00013060                   X32     a0
    2447 00013070     0b20          addi    lrfraction_table,a0
         00013080 000132a0' 
    2448 000130a0     8600          move    *a0,a0,L
    2449 000130b0     0920          call    a0
    2450                    
    2451 000130c0           lrfrno_interrupt
    2452 000130c0     0960          rets
    2453                    
    2454 000130d0           lrfrexit
    2455 000130d0     b7ae          move    *a13(OBJ_ZPOS),a14,L
         000130e0     0140  
    2456 000130f0     0d0e          subi    [6,0],a14
         00013100 fff9ffff  
    2457 00013120     b3cd          move    a14,*a13(OBJ_ZPOS),L
         00013130     0140  
    2458                    
    2459 00013140     1941          movk    MOVE_DOWN_RIGHT,a1
    2460 00013150     b5a0          move    *a13(OBJ_CONTROL),a0
         00013160     0780  
    2461 00013170     1f60          btst    B_FLIPH,a0
    2462 00013180     ca01          jrz     lrfrright
    2463 00013190     18c1          movk    MOVE_DOWN_LEFT,a1
    2464 000131a0     b02d  lrfrright       move    a1,*a13(FACING_DIR)
         000131b0     04c0  
    2465 000131c0     b02d          move    a1,*a13(NEW_FACING_DIR)
         000131d0     04d0  
    2466                    
    2467 000131e0                   SETMODE NORMAL
    2468                    
    2469 00013290     0960          rets
    2470                    
    2471 000132a0           lrfraction_table
    2472 000132a0 000136a0'         .long   lrfrz,lrfrpunch,lrfrblock,lrfrblock                     ;0-3
    2473 00013320 00013b90'         .long   lrfrsuper_punch,lrfrsuper_punch,lrfrblock,lrfrblock     ;4-7
    2474 000133a0 00013ec0'         .long   lrfrkick,lrfrpunchkick,lrfrblock,lrfrblock              ;8-11
    2475 00013420 00013b90'         .long   lrfrsuper_punch,lrfrpunchkick,lrfrblock,lrfrblock       ;12-15
    2476 000134a0 00014350'         .long   lrfrsuper_kick,lrfrsuper_kick,lrfrblock,lrfrblock       ;16-19
    2477 00013520 000136a0'         .long   lrfrgraboh,lrfrgraboh,lrfrblock,lrfrblock               ;20-23
    2478 000135a0 00014350'         .long   lrfrsuper_kick,lrfrpunchkick,lrfrblock,lrfrblock        ;24-27
    2479 00013620 000136a0'         .long   lrfrgraboh,lrfrgraboh,lrfrblock,lrfrblock               ;28-31
    2480                    
    2481                    ************
    2482 000136a0           lrfrblock
    2483 000136a0           lrfrgraboh
    2484 000136a0           lrfrz           ;0
    2485 000136a0     0960          rets
    2486                    
    2487                    ************
    2488                    
    2489 000136b0           lrfrpunch               ;1
    2490                    ;If stick is toward opponent, then do quick punches
    2491 000136b0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   54

         000136c0 00000000! 
    2492 000136e0     b5a0          move    *a13(STICK_VAL_CUR),a0
         000136f0     0bc0  
    2493 00013700     b5a1          move    *a13(NEW_FACING_DIR),a1
         00013710     04d0  
    2494 00013720     0b81          andi    0ch,a1
         00013730 fffffff3  
    2495 00013750     4801          cmp     a0,a1
    2496 00013760     cb21          jrnz    lrfrtag2
    2497                    ;       movi    dnk_uppercuts_to_head_anim,a0
    2498                            .ref    yok_4_knee2_anim
    2499 00013770     09e0          movi    yok_4_knee2_anim,a0
         00013780 00000000! 
    2500 000137a0     0d5f          calla   change_anim1a
         000137b0 00000000! 
    2501                    
    2502 000137d0                   WRSND   W_YOKO,KICK_T1,KICK_T2
    2503                    
    2504 00013970     0960          rets
    2505                    
    2506                    
    2507 00013980           lrfrtag2
    2508                    ;       movi    dnk_uppercut_to_head_anim,a0
    2509 00013980     09e0          movi    yok_4_knee2_anim,a0
         00013990 00000000! 
    2510 000139b0     0d5f          calla   change_anim1a
         000139c0 00000000! 
    2511 000139e0                   WRSND   W_YOKO,KICK_T1,KICK_T2
    2512 00013b80     0960          rets
    2513                    
    2514                    ************
    2515 00013b90           lrfrsuper_punch ;4
    2516                    
    2517 00013b90           lrfrupper
    2518 00013b90     b5a0          move    *a13(STICK_VAL_CUR),a0
         00013ba0     0bc0  
    2519 00013bb0     1fc0          btst    PLAYER_DOWN_BIT,a0
    2520 00013bc0     caad          jrz     lrfrz
    2521                    
    2522 00013bd0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00013be0 00000000! 
    2523                    
    2524 00013c00                   SPCDMG  D_UPRCUT/2,15
    2525                    
    2526 00013cb0     09e0          movi    yok_4_uppercut_anim,a0
         00013cc0 00000000! 
    2527 00013ce0     0d5f          calla   change_anim1a
         00013cf0 00000000! 
    2528 00013d10                   WRSND   W_YOKO,UPRCUT_T1,UPRCUT_T2
    2529 00013eb0     0960          rets
    2530                    
    2531 00013ec0           lrfrpunchkick
    2532 00013ec0           lrfrkick
    2533 00013ec0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00013ed0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   55

    2534 00013ef0     b5a0          move    *a13(STICK_VAL_CUR),a0
         00013f00     0bc0  
    2535 00013f10     1fc0          btst    PLAYER_DOWN_BIT,a0
    2536 00013f20     ca21          jrz     lrfrknee
    2537                    
    2538                    ;       movi    dnk_3_head_slam_anim,a0
    2539 00013f30     09e0          movi    yok_4_knee2_anim,a0
         00013f40 00000000! 
    2540 00013f60     0d5f          calla   change_anim1a
         00013f70 00000000! 
    2541 00013f90                   WRSND   W_YOKO,KICK_T1,KICK_T2
    2542 00014130     0960          rets
    2543                    
    2544 00014140           lrfrknee
    2545 00014140           std_4_knee
    2546 00014140     09e0          movi    yok_4_knee2_anim,a0
         00014150 00000000! 
    2547 00014170     0d5f          calla   change_anim1a
         00014180 00000000! 
    2548 000141a0                   WRSND   W_YOKO,KICK_T1,KICK_T2
    2549 00014340     0960          rets
    2550                    
    2551 00014350           lrfrsuper_kick  ;16
    2552 00014350     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00014360 00000000! 
    2553                    ;If stick is toward opponent, then do quick knees
    2554 00014380     b5a0          move    *a13(STICK_VAL_CUR),a0
         00014390     0bc0  
    2555 000143a0     b5a1          move    *a13(NEW_FACING_DIR),a1
         000143b0     04d0  
    2556 000143c0     0b81          andi    0ch,a1
         000143d0 fffffff3  
    2557 000143f0     4801          cmp     a0,a1
    2558 00014400     cbab          jrnz    lrfrkick
    2559                    
    2560                    ;Quick knees
    2561                    ;       movi    dnk_3_knees_to_head_anim,a0
    2562 00014410     09e0          movi    yok_4_knee2_anim,a0
         00014420 00000000! 
    2563 00014440     0d5f          calla   change_anim1a
         00014450 00000000! 
    2564 00014470                   WRSND   W_YOKO,KICK_T1,KICK_T2
    2565 00014610     0960          rets
    2566                    
    2567                    
    2568                    *****************************************************************************
    2569 00014620           mode_puppet2    ;17
    2570                    
    2571                    ;       ;check for the head-grab breaker
    2572                    ;       move    *a13(BUT_VAL_DOWN),a0
    2573                    ;       btst    PLAYER_KICK_BIT,a0
    2574                    ;       jrz     ofhnout
    2575                    ;
    2576                    ;       ;check the time - must do it within 20 ticks
    2577                    ;       move    *a13(HEAD_GRAB_TIME),a14
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   56

    2578                    ;       move    @PCNT,a0
    2579                    ;       sub     a14,a0
    2580                    ;       cmpi    KICK_OUT,a0
    2581                    ;       jrgt    ofhnout
    2582                    ;
    2583                    ;       move    *a13(PLYR_TYPE),a14
    2584                    ;       cmpi    PTYPE_DRONE,a14
    2585                    ;       jrz     ofhnout
    2586                    ;     
    2587                    ;       ;okay, waste 'im. - detach, setmode, immobilize, and launch the knee
    2588                    ;       move    *a13(ATTACH_PROC),a0,L
    2589                    ;       clr     a14
    2590                    ;       move    a14,*a13(ATTACH_PROC),L
    2591                    ;       move    a14,*a0(ATTACH_PROC),L
    2592                    ;       movi    15,a14
    2593                    ;       move    a14,*a0(IMMOBILIZE_TIME)
    2594                    ;       SETMODE NORMAL
    2595                    ;       jruc    std_4_knee
    2596                    ;
    2597                    ;ofhnout
    2598 00014620     0960          rets
    2599                    
    2600                    *****************************************************************************
    2601                    
    2602 00014630           mode_headheld   ;19
    2603                    
    2604 00014630     b5a0          move    *a13(ANIMODE),a0
         00014640     0660  
    2605 00014650     1f40          btst    MODE_NOGRAVITY_BIT,a0
    2606 00014660     cb80          janz    mode_choking
         00014670 00000000! 
    2607                    
    2608                    ;Bozo reversal
    2609 00014690     0d5f          calla   bozo_check
         000146a0 00000000! 
    2610 000146c0     c932          jrnc    rgntfail
    2611                    
    2612 000146d0                   PUSH    a8
    2613 000146e0     4da8          move    a13,a8
    2614 000146f0     0d5f          CALLA   DO_REVERSAL
         00014700 00000000! 
    2615 00014720     0d5f          CALLA   DO_REVERSAL_MESS
         00014730 00000000! 
    2616 00014750                   PULL    a8
    2617                    
    2618 00014760                   WRSND   W_YOKO,GRABFLING_T1,GRABFLING_T2
    2619                    
    2620 00014900     09e0          movi    yok_vsuplex_anim,a0
         00014910 00000000! 
    2621 00014930     05ae          move    @PCNT,a14
         00014940 00000000! 
    2622 00014960     1fee          btst    0,a14
    2623 00014970     ca03          jrz     rgnttag
    2624 00014980     09e0          movi    yok_scissor_anim,a0
         00014990 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   57

    2625 000149b0     0d5f  rgnttag calla   change_anim1a
         000149c0 00000000! 
    2626                    
    2627 000149e0     0960          rets
    2628 000149f0           rgntfail
    2629                    
    2630                    ;He may have let me go by hitting his block butn!
    2631 000149f0     b7a0          move    *a13(ATTACH_PROC),a0,L
         00014a00     03e0  
    2632 00014a10     cb0c          jrnz    rgntno_luck
    2633                    
    2634                    ;Make sure this guy is on ground
    2635 00014a20     b5a0          move    *a13(OBJ_YPOSINT),a0
         00014a30     0130  
    2636 00014a40     b5a1          move    *a13(GROUND_Y),a1
         00014a50     0570  
    2637 00014a60     4820          cmp     a1,a0                   ;a0-a1
    2638 00014a70     c706          jrgt    rgntno_luck
    2639                    
    2640                    ;hit_gnd
    2641                    
    2642 00014a80     09e0          movi    yok_3_head_held_stand_anim,a0
         00014a90 00000000! 
    2643 00014ab0     0d5f          calla   change_anim1a
         00014ac0 00000000! 
    2644                    
    2645 00014ae0           rgntno_luck
    2646 00014ae0     0960          rets
    2647                    
    2648                    *****************************************************************************
    2649 00014af0           mode_chokehold  ;24
    2650 00014af0     0960          rets
    2651                    
    2652                    *****************************************************************************
    2653                    
    2654                    ;klutVEL        equ     30000h          ;38000h ;30000h
    2655                    ;klutDVEL       equ     21f0eh          ;27978h ;21f0eh
    2656                    ;klutVEL        equ     38000h          ;38000h ;30000h
    2657                    ;klutDVEL       equ     30000h          ;27978h ;21f0eh
    2658          0003a000  klutVEL equ     3a000h          ;38000h ;30000h
    2659          00031000  klutDVEL        equ     31000h          ;27978h ;21f0eh
    2660                    
    2661                    
    2662 00014b00            SUBR yok_velocity_table
    2663                    
    2664                    ;               X,      Z
    2665                    
    2666 00014b00 00000000          .long   0,      -klutVEL        ;0 UP
    2667                    
    2668 00014b40 00031000          .long   klutDVEL,       -klutDVEL       ;1 UP-RIGHT
    2669                    
    2670 00014b80 0003a000          .long   klutVEL,        0       ;2 RIGHT
    2671                    
    2672 00014bc0 00031000          .long   klutDVEL,       klutDVEL        ;3 DOWN-RIGHT
    2673                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   58

    2674 00014c00 00000000          .long   0,      klutVEL ;4 DOWN
    2675                    
    2676 00014c40 fffcf000          .long   -klutDVEL,      klutDVEL        ;5 DOWN-LEFT
    2677                    
    2678 00014c80 fffc6000          .long   -klutVEL,       0       ;6 LEFT
    2679                    
    2680 00014cc0 fffcf000          .long   -klutDVEL,      -klutDVEL       ;7 UP-LEFT
    2681                    
    2682                    
    2683                    *****************************************************************************
    2684                    
    2685 00014d00            SUBR yok_rotate_anims_table
    2686                    ; old = up right
    2687 00014d00 00000000!         .long   yok_stand2_anim         ;new = up right
    2688 00014d20 00000000!         .long   yok_2_to_4_turn_anim    ;    = down right
    2689 00014d40 00000000!         .long   yok_2_to_6_turn_anim    ;    = down left
    2690 00014d60 00000000!         .long   yok_2_to_8_turn_anim    ;    = up left
    2691                    
    2692                    ; old = down right
    2693 00014d80 00000000!         .long   yok_4_to_2_turn_anim    ;new = up right
    2694 00014da0 00000000!         .long   yok_stand4_anim         ;    = down right
    2695 00014dc0 00000000!         .long   yok_4_to_6_turn_anim    ;    = down left
    2696 00014de0 00000000!         .long   yok_4_to_8_turn_anim    ;    = up left
    2697                    
    2698                    ; old = down left
    2699 00014e00 00000000!         .long   yok_6_to_2_turn_anim    ;new = up right
    2700 00014e20 00000000!         .long   yok_6_to_4_turn_anim    ;    = down right
    2701 00014e40 00000000!         .long   yok_stand6_anim         ;    = down left
    2702 00014e60 00000000!         .long   yok_6_to_8_turn_anim    ;    = up left
    2703                    
    2704                    ; old = up left
    2705 00014e80 00000000!         .long   yok_8_to_2_turn_anim    ;new = up right
    2706 00014ea0 00000000!         .long   yok_8_to_4_turn_anim    ;    = down right
    2707 00014ec0 00000000!         .long   yok_8_to_6_turn_anim    ;    = down left
    2708 00014ee0 00000000!         .long   yok_stand8_anim         ;    = up left
    2709                    
    2710                    
    2711 00014f00            SUBR yok_leg_anims_table
    2712                    ;  MOVE
    2713                    ;(cpdb1 - UP)                           FACING
    2714 00014f00 00000000!         .long   yok_walk1_f2_anim       ;1 (UP)
    2715 00014f20 00000000!         .long   yok_walk1_f2_anim       ;2 (UP_RIGHT)
    2716 00014f40 00000000!         .long   yok_walk1_f4_anim       ;3 (RIGHT)
    2717 00014f60 00000000!         .long   yok_walk1_f4_anim       ;4 (DOWN_RIGHT)
    2718 00014f80 00000000!         .long   yok_walk1_f4_anim       ;5 (DOWN)
    2719 00014fa0 00000000!         .long   yok_walk1_f4_anim       ;6 (DOWN_LEFT)
    2720 00014fc0 00000000!         .long   yok_walk1_f2_anim       ;7 (LEFT)
    2721 00014fe0 00000000!         .long   yok_walk1_f2_anim       ;8 (UP-LEFT)
    2722                    
    2723                    ;(cpdb2 - UP-RIGHT)
    2724 00015000 00000000!         .long   yok_walk2_f2_anim       ;1 (UP)
    2725 00015020 00000000!         .long   yok_walk2_f2_anim       ;2 (UP_RIGHT)
    2726 00015040 00000000!         .long   yok_walk2_f2_anim       ;3 (RIGHT)
    2727 00015060 00000000!         .long   yok_walk2_f4_anim       ;4 (DOWN_RIGHT)
    2728 00015080 00000000!         .long   yok_walk8_f4_anim       ;5 (DOWN)
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   59

    2729 000150a0 00000000!         .long   yok_walk8_f4_anim       ;6 (DOWN_LEFT)
    2730 000150c0 00000000!         .long   yok_walk4_f2_anim       ;7 (LEFT)
    2731 000150e0 00000000!         .long   yok_walk4_f2_anim       ;8 (UP-LEFT)
    2732                    
    2733                    ;(cpdb3 - RIGHT)
    2734 00015100 00000000!         .long   yok_walk2_f2_anim       ;1 (UP)
    2735 00015120 00000000!         .long   yok_walk2_f2_anim       ;2 (UP_RIGHT)
    2736 00015140 00000000!         .long   yok_walk2_f2_anim       ;3 (RIGHT)
    2737 00015160 00000000!         .long   yok_walk4_f4_anim       ;4 (DOWN_RIGHT)
    2738 00015180 00000000!         .long   yok_walk4_f4_anim       ;5 (DOWN)
    2739 000151a0 00000000!         .long   yok_walk8_f4_anim       ;6 (DOWN_LEFT)
    2740 000151c0 00000000!         .long   yok_walk6_f2_anim       ;7 (LEFT)
    2741 000151e0 00000000!         .long   yok_walk6_f2_anim       ;8 (UP-LEFT)
    2742                    
    2743                    
    2744                    ;(cpdb4 - DOWN-RIGHT)
    2745 00015200 00000000!         .long   yok_walk2_f2_anim       ;1 (UP)
    2746 00015220 00000000!         .long   yok_walk8_f2_anim       ;2 (UP_RIGHT)
    2747 00015240 00000000!         .long   yok_walk4_f4_anim       ;3 (RIGHT)
    2748 00015260 00000000!         .long   yok_walk4_f4_anim       ;4 (DOWN_RIGHT)
    2749 00015280 00000000!         .long   yok_walk2_f4_anim       ;5 (DOWN)
    2750 000152a0 00000000!         .long   yok_walk6_f4_anim       ;6 (DOWN_LEFT)
    2751 000152c0 00000000!         .long   yok_walk2_f2_anim       ;7 (LEFT)
    2752 000152e0 00000000!         .long   yok_walk6_f2_anim       ;8 (UP-LEFT)
    2753                    
    2754                    ;(cpdb5 - DOWN)
    2755 00015300 00000000!         .long   yok_walk5_f2_anim       ;1 (UP)
    2756 00015320 00000000!         .long   yok_walk5_f2_anim       ;2 (UP_RIGHT)
    2757 00015340 00000000!         .long   yok_walk5_f4_anim       ;3 (RIGHT)
    2758 00015360 00000000!         .long   yok_walk5_f4_anim       ;4 (DOWN_RIGHT)
    2759 00015380 00000000!         .long   yok_walk5_f4_anim       ;5 (DOWN)
    2760 000153a0 00000000!         .long   yok_walk5_f4_anim       ;6 (DOWN_LEFT)
    2761 000153c0 00000000!         .long   yok_walk5_f2_anim       ;7 (LEFT)
    2762 000153e0 00000000!         .long   yok_walk5_f2_anim       ;8 (UP-LEFT)
    2763                    
    2764                    ;(cpdb6 - DOWN-LEFT)
    2765 00015400 00000000!         .long   yok_walk2_f2_anim       ;1 (UP)
    2766 00015420 00000000!         .long   yok_walk6_f2_anim       ;2 (UP_RIGHT)
    2767 00015440 00000000!         .long   yok_walk2_f2_anim       ;3 (RIGHT)
    2768 00015460 00000000!         .long   yok_walk6_f4_anim       ;4 (DOWN_RIGHT)
    2769 00015480 00000000!         .long   yok_walk2_f4_anim       ;5 (DOWN)
    2770 000154a0 00000000!         .long   yok_walk4_f4_anim       ;6 (DOWN_LEFT)
    2771 000154c0 00000000!         .long   yok_walk2_f2_anim       ;7 (LEFT)
    2772 000154e0 00000000!         .long   yok_walk8_f2_anim       ;8 (UP-LEFT)
    2773                    
    2774                    ;(cpdb7 - LEFT)
    2775 00015500 00000000!         .long   yok_walk2_f2_anim       ;1 (UP)
    2776 00015520 00000000!         .long   yok_walk6_f2_anim       ;2 (UP_RIGHT)
    2777 00015540 00000000!         .long   yok_walk6_f2_anim       ;3 (RIGHT)
    2778 00015560 00000000!         .long   yok_walk8_f4_anim       ;4 (DOWN_RIGHT)
    2779 00015580 00000000!         .long   yok_walk4_f4_anim       ;5 (DOWN)
    2780 000155a0 00000000!         .long   yok_walk4_f4_anim       ;6 (DOWN_LEFT)
    2781 000155c0 00000000!         .long   yok_walk2_f2_anim       ;7 (LEFT)
    2782 000155e0 00000000!         .long   yok_walk2_f2_anim       ;8 (UP-LEFT)
    2783                    
TMS340 COFF Macro Assembler Version 6.10     Fri Nov 03 02:22:07 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   60

    2784                    ;(cpdb8 - UP-LEFT)
    2785 00015600 00000000!         .long   yok_walk2_f2_anim       ;1 (UP)
    2786 00015620 00000000!         .long   yok_walk4_f2_anim       ;2 (UP_RIGHT)
    2787 00015640 00000000!         .long   yok_walk6_f2_anim       ;3 (RIGHT)
    2788 00015660 00000000!         .long   yok_walk8_f4_anim       ;4 (DOWN_RIGHT)
    2789 00015680 00000000!         .long   yok_walk6_f4_anim       ;5 (DOWN)
    2790 000156a0 00000000!         .long   yok_walk2_f4_anim       ;6 (DOWN_LEFT)
    2791 000156c0 00000000!         .long   yok_walk2_f2_anim       ;7 (LEFT)
    2792 000156e0 00000000!         .long   yok_walk2_f2_anim       ;8 (UP-LEFT)
    2793                    
    2794                    
    2795 00015700            SUBR yok_torso_anims_table
    2796                    ; old = up right
    2797 00015700 00000000!         .long   yok_torso2_anim         ;new = up right
    2798 00015720 00000000!         .long   yok_2_to_4_turn2_anim   ;    = down right
    2799 00015740 00000000!         .long   yok_2_to_6_turn2_anim   ;    = down left
    2800 00015760 00000000!         .long   yok_2_to_8_turn2_anim   ;    = up left
    2801                    
    2802                    ; old = down right
    2803 00015780 00000000!         .long   yok_4_to_2_turn2_anim   ;new = up right
    2804 000157a0 00000000!         .long   yok_torso4_anim         ;    = down right
    2805 000157c0 00000000!         .long   yok_4_to_6_turn2_anim   ;    = down left
    2806 000157e0 00000000!         .long   yok_4_to_8_turn2_anim   ;    = up left
    2807                    
    2808                    ; old = down left
    2809 00015800 00000000!         .long   yok_6_to_2_turn2_anim   ;new = up right
    2810 00015820 00000000!         .long   yok_6_to_4_turn2_anim   ;    = down right
    2811 00015840 00000000!         .long   yok_torso6_anim         ;    = down left
    2812 00015860 00000000!         .long   yok_6_to_8_turn2_anim   ;    = up left
    2813                    
    2814                    ; old = up left
    2815 00015880 00000000!         .long   yok_8_to_2_turn2_anim   ;new = up right
    2816 000158a0 00000000!         .long   yok_8_to_4_turn2_anim   ;    = down right
    2817 000158c0 00000000!         .long   yok_8_to_6_turn2_anim   ;    = down left
    2818 000158e0 00000000!         .long   yok_torso8_anim         ;    = up left
    2819                    
    2820                    
    2821                    ******************************************************************************
    2822                    
    2823                            .end

 No Errors,  No Warnings
