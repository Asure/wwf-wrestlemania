TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    **************************************************************
       2                    *
       3                    * Software:             Jamie Rivett
       4                    * Initiated:            8/24/94
       5                    *
       6                    * COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
       7                    *
       8                    **************************************************************
       9                    
      10                            .file   "bret.asm"
      12                            .width  132
      13                            .option b,d,l,t
      14                            .mnolist
      15                    
      16                    
      17                            .include        "macros.h"
      18                            .include        "jjxm.h"
      19                            .include        "mproc.equ"             ;Mproc equates
      20                            .include        "display.equ"           ;Display proc equates
      21                            .include        "gsp.equ"               ;Gsp asm equates
      22                            .include        "sys.equ"
      23                            .include        "game.equ"
      24                            .include        "plyr.equ"
      25                            .include        "anim.equ"
      26                            .include        "audit.equ"
      27                            .include        "sound.h"
      28                            .include        "ring.equ"
      29                            .include        "lifebar.h"
      30                            .include        "damage.equ"
      31                    
      32                    
      33                    ******************************************************************************
      34                    * EXTERNAL REFERENCES
      35                    
      36                            .ref    ADD_IF_SILENT,bounce_off_ropes,change_anim1,change_anim1a
      37                            .ref    change_anim2a,check_secret_moves
      38                            .ref    CLIMB_ROPES,climb_turnbuckle,do_taunt,execute_walk
      39                            .ref    get_opp_plyrmode,JUMP_ROPES,PCNT,mode_dead,get_opp_process
      40                            .ref    keep_attached,master_keep_attached,mode_choking
      41                            .ref    mode_inair2,process_ptrs,ck_ignore,mode_puppet
      42                            .ref    DO_REVERSAL,DO_REVERSAL_MESS,can_pin
      43                            .ref    FIND_AND_KILL_ENDLESS,ck_teammate_pin,raisearm_check
      44                            .ref    CHECK_COMBO_GO,drone_change_back,set_raisearm_bit
      45                            .ref    hrt_combo_punch_anim,hrt_combo_kick_anim
      46                            .ref    BLOCK_WOOSH,get_powerp_dtime,round_award
      47                            .ref    blocking_off,std_taunt,std_walk_fast
      48                            .ref    hyper_speed_on
      49                            .ref    in_finish_move
      50                            .ref    p1rounds,p2rounds
      51                            .if NUM_BRET_FINISHES
      52                            .ref    hrt_finish1_move
      53                            .if NUM_BRET_FINISHES > 1
      54                            .ref    hrt_finish2_move
      55                            .endif
      56                            .endif
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                    
      58                    ******************************************************************************
      59                    * ANIMATION SEQUENCES
      60                    
      61                            .ref    hrt_3_face_driver2_anim
      62                            .ref    wres_slave_anim,hrt_zip_anim,start_run_anim
      63                    
      64                            .ref    hrt_4_block_anim
      65                    
      66                            .ref    hrt_stand2_anim,hrt_stand8_anim
      67                            .ref    hrt_stand4_anim,hrt_stand6_anim
      68                            .ref    hrt_torso2_anim,hrt_torso8_anim
      69                            .ref    hrt_torso4_anim,hrt_torso6_anim
      70                    
      71                            .ref    hrt_2_to_4_turn_anim,hrt_8_to_6_turn_anim       ;stand
      72                            .ref    hrt_4_to_2_turn_anim,hrt_6_to_8_turn_anim
      73                            .ref    hrt_4_to_6_turn_anim,hrt_6_to_4_turn_anim
      74                            .ref    hrt_2_to_8_turn_anim,hrt_8_to_2_turn_anim
      75                            .ref    hrt_4_to_8_turn_anim,hrt_6_to_2_turn_anim
      76                            .ref    hrt_2_to_6_turn_anim,hrt_8_to_4_turn_anim
      77                    
      78                            .ref    hrt_2_to_4_turn2_anim,hrt_8_to_6_turn2_anim     ;torso
      79                            .ref    hrt_4_to_2_turn2_anim,hrt_6_to_8_turn2_anim
      80                            .ref    hrt_4_to_6_turn2_anim,hrt_6_to_4_turn2_anim
      81                            .ref    hrt_2_to_8_turn2_anim,hrt_8_to_2_turn2_anim
      82                            .ref    hrt_4_to_8_turn2_anim,hrt_6_to_2_turn2_anim
      83                            .ref    hrt_2_to_6_turn2_anim,hrt_8_to_4_turn2_anim
      84                    
      85                            .ref    hrt_walk1_f2_anim,hrt_walk2_f2_anim,hrt_walk4_f2_anim
      86                            .ref    hrt_walk5_f2_anim,hrt_walk6_f2_anim,hrt_walk8_f2_anim
      87                    
      88                            .ref    hrt_walk1_f4_anim,hrt_walk2_f4_anim,hrt_walk4_f4_anim
      89                            .ref    hrt_walk5_f4_anim,hrt_walk6_f4_anim,hrt_walk8_f4_anim
      90                    
      91                            .ref    hrt_run2_anim,hrt_flying_kick_anim
      92                            .ref    hrt_2_punch_anim,hrt_4_punch_anim
      93                            .ref    hrt_2_kick_anim,hrt_4_kick_anim
      94                    
      95                            .ref    hrt_hitonground_anim,hrt_hitonground_facedown_anim
      96                    
      97                            .ref    hrt_2_butt_anim,hrt_4_butt_anim
      98                            .ref    hrt_2_knee_anim,hrt_4_knee_anim
      99                    ;       .ref    hrt_2_bigboot_anim,hrt_4_bigboot_anim
     100                    
     101                            .ref    hrt_2_stomp_anim,hrt_4_stomp_anim
     102                            .ref    hrt_4_jump_kick_anim
     103                            .ref    hrt_4_push_anim
     104                            .ref    hrt_4_grabfling_anim,hrt_hiptoss_anim,hrt_hiptoss2_anim
     105                            .ref    hrt_2_grabfling_anim
     106                            .ref    hrt_faceup_getup_anim,hrt_facedown_getup_anim
     107                            .ref    hrt_heldoh_anim
     108                            .ref    hrt_pogo_anim
     109                            .ref    hrt_2_ground_punch_anim,hrt_4_ground_punch_anim
     110                            .ref    hrt_running_ground_punch_anim
     111                            .ref    hrt_climb_down_anim,hrt_tbukl_leap_anim
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

     112                            .ref    hrt_climb_up_anim,hrt_hh_2_ddt_anim
     113                            .ref    hrt_running_ddt_anim
     114                            .ref    hrt_2_hair_pickup_anim,hrt_2_pin_anim
     115                            .ref    hrt_3_head_held_stand_anim
     116                            .ref    hrt_4_hair_pickup_anim
     117                            .ref    hrt_3_head_hold2_anim,hrt_4_knee_fall_anim
     118                            .ref    hrt_3_head_hold_anim
     119                            .ref    hrt_4_pin_anim,hrt_fall_back_anim
     120                    
     121                            .ref    hrt_4_uppercut_anim
     122                            .ref    hrt_2_raise_arm_anim,hrt_4_raise_arm_anim
     123                    
     124                            .ref    hrt_2_super_punch2_anim
     125                            .ref    hrt_4_super_punch2_anim
     126                            .ref    hrt_4_super_punch_anim
     127                            .ref    hrt_2_super_kick_anim,hrt_4_super_kick_anim
     128                            .ref    hrt_3_pile_driver_anim,hrt_rake_face_anim
     129                    
     130                            .ref    hrt_knees_to_head_anim,hrt_uppercuts_to_head_anim
     131                            .ref    hrt_roll_uppercut_anim,hrt_4_knee_to_head_anim
     132                            .ref    hrt_2_shooter_anim,hrt_4_shooter_anim
     133                    
     134                    
     135                    ;       .ref    hrt_pkup_chair_anim
     136                            .ref    hrt_2_butts_anim,hrt_4_butts_anim
     137                    
     138                            .ref    DAM_MULT,BONUS_MESS
     139                    
     140                    ******************************************************************************
     141                    * SYMBOLS DEFINED IN THIS FILE
     142                    
     143                    ******************************************************************************
     144                    * EQUATES FOR THIS FILE
     145                    
     146                    *****************************************************************************
     147                    
     148 00000000           bret_secret_moves
     149 00000000 00000b00'         .long   gkimcharge_ddt
     150 00000020 00001240'         .long   gkimneck_grab
     151 00000040 00001780'         .long   gkimgrab_fling
     152 00000060 00001e30'         .long   gkimhip_toss
     153 00000080 00001600'         .long   gkimgrab_fling2
     154 000000a0 00001650'         .long   gkimhip_toss2
     155 000000c0 000022d0'         .long   gkimface_rake
     156 000000e0 000006e0'         .long   gkimjump_kick
     157 00000100 000002c0'         .long   gkimsupercut
     158 00000120 00000000          .long   0
     159                    
     160                    ******************************************************************************
     161                    *
     162                    * SPECIAL MOVE PROCESSES - Secret moves
     163                    *
     164                    ;a8=process of wrestler
     165                    
     166 00000140            SUBR   hrt_smove_table
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

     167 00000140 00002730'         .long   hrt_charge_flying_kick
     168 00000160 00002dc0'         .long   hrt_charge_face_rake
     169 00000180 000048d0'         .long   hrt_hdhold_pile
     170 000001a0 00005430'         .long   hrt_hdhold_ddt
     171 000001c0 00005de0'         .long   hrt_hdhold_faceslam
     172 000001e0 00006790'         .long   hrt_grab_toss_air
     173 00000200 00003270'         .long   hrt_roll_uppercut
     174 00000220 00003a50'         .long   hrt_hdhold_combo1
     175 00000240 00004190'         .long   hrt_hdhold_combo2
     176                    ;       .long   hrt_hdhold_anti_combo
     177 00000260 00000000!         .long   std_walk_fast
     178 00000280 00000000!         .long   std_taunt
     179                    
     180                            .if NUM_BRET_FINISHES
     181                            .long   hrt_finish_move1
     182                            .endif
     183                            .if NUM_BRET_FINISHES > 1
     184                            .long   hrt_finish_move2
     185                            .endif
     186 000002a0 00000000          .long   0
     187                    
     188                    
     189                    *******************************************************************************
     190 000002c0           gkimsupercut
     191 000002c0     0010          .word   B_PUNCH,                J_ALL
     192 000002e0     0002          .word   J_DOWN,                 J_REAL_LR
     193 00000300     0002          .word   J_DOWN,                 J_REAL_LR
     194 00000320     8010          .word   8000h | 16              ;max
     195 00000330 00000350'         .long   gkimscrt_cut
     196                    
     197 00000350           gkimscrt_cut
     198 00000350     b5a0          move    *a13(ANIMODE),a0
         00000360     0660  
     199 00000370     1fa0          btst    MODE_UNINT_BIT,a0
     200 00000380     cb00          jrnz    gkimout
         00000390     011e  
     201                    
     202                    ;Don't do it when he is on ground
     203 000003a0     0d5f          calla   get_opp_plyrmode
         000003b0 00000000! 
     204 000003d0     0b40          cmpi    MODE_ONGROUND,a0
         000003e0     fffb  
     205 000003f0     ca00          jrz     gkimout
         00000400     0117  
     206 00000410     0b40          cmpi    MODE_DEAD,a0
         00000420     fff6  
     207 00000430     ca00          jrz     gkimout
         00000440     0113  
     208 00000450     0b40          cmpi    MODE_HEADHELD,a0
         00000460     ffec  
     209 00000470     ca00          jrz     gkimout
         00000480     010f  
     210 00000490     0b40          cmpi    MODE_ATTACHED,a0
         000004a0     fffc  
     211 000004b0     ca00          jrz     gkimout
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

         000004c0     010b  
     212                    
     213 000004d0     09e0          movi    hrt_4_super_punch_anim,a0
         000004e0 00000000! 
     214 00000500     0d5f          calla   change_anim1a
         00000510 00000000! 
     215                    
     216 00000530                   WRSND   W_BRET,PUNCH_T1,PUNCH_T2
     217                    
     218 000006d0     0960          rets
     219                    
     220                    
     221                    *******************************************************************************
     222 000006e0           gkimjump_kick
     223 000006e0     0100          .word   B_SKICK,                J_ALL
     224 00000700     0004          .word   J_AWAY,                 J_REAL_LR | J_UP | J_DOWN
     225 00000720     0004          .word   J_AWAY,                 J_REAL_LR | J_UP | J_DOWN
     226 00000740     8020          .word   8000h | 32              ;max
     227 00000750 00000770'         .long   gkimscrt_flykick
     228                    
     229 00000770           gkimscrt_flykick
     230 00000770     b5a0          move    *a13(ANIMODE),a0
         00000780     0660  
     231 00000790     1fa0          btst    MODE_UNINT_BIT,a0
     232 000007a0     cb00          jrnz    gkimout
         000007b0     00dc  
     233                    
     234                    ;Don't do it when he is on ground
     235 000007c0     0d5f          calla   get_opp_plyrmode
         000007d0 00000000! 
     236 000007f0     0b40          cmpi    MODE_ONGROUND,a0
         00000800     fffb  
     237 00000810     ca00          jrz     gkimout
         00000820     00d5  
     238 00000830     0b40          cmpi    MODE_DEAD,a0
         00000840     fff6  
     239 00000850     ca00          jrz     gkimout
         00000860     00d1  
     240 00000870     0b40          cmpi    MODE_HEADHELD,a0
         00000880     ffec  
     241 00000890     ca00          jrz     gkimout
         000008a0     00cd  
     242 000008b0     0b40          cmpi    MODE_ATTACHED,a0
         000008c0     fffc  
     243 000008d0     ca00          jrz     gkimout
         000008e0     00c9  
     244                    
     245 000008f0     09e0          movi    hrt_4_jump_kick_anim,a0
         00000900 00000000! 
     246 00000920     0d5f          calla   change_anim1a
         00000930 00000000! 
     247                    
     248 00000950                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
     249                    
     250 00000af0     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

     251                    
     252                    *******************************************************************************
     253 00000b00           gkimcharge_ddt
     254 00000b00     b5a0          move    *a13(BUT_VAL_UP),a0
         00000b10     0bb0  
     255 00000b20     1fa0          btst    PLAYER_SPUNCH_BIT,a0
     256 00000b30     ca0c          jrz     gkimno_punch
     257                    
     258                    ;FIX!!  Give some jumping velocity
     259                    
     260                    ;       move    *a13(PLYRMODE),a0
     261                    ;       cmpi    MODE_ONTURNBKL,a0
     262                    ;       jrz     gkimno_punch
     263                    
     264 00000b40     b5a0          move    *a13(PLYRNUM),a0
         00000b50     0580  
     265 00000b60     0d5f          calla   get_powerp_dtime
         00000b70 00000000! 
     266 00000b90     0b40          cmpi    100,a0                  ;> min?
         00000ba0     ff9b  
     267 00000bb0     c404          jrlt    gkimno_punch
     268                    
     269 00000bc0     0d3f          callr   gkimscrt_ddt
         00000bd0     0004  
     270 00000be0     0de0          setc
     271 00000bf0     0960          rets
     272                    
     273 00000c00           gkimno_punch
     274 00000c00     0320          clrc
     275 00000c10     0960          rets
     276                    
     277                    
     278 00000c20           gkimscrt_ddt
     279                    
     280 00000c20     b5a0          move    *a13(PLYRMODE),a0
         00000c30     05c0  
     281 00000c40     0b40          cmpi    MODE_HEADHELD,a0
         00000c50     ffec  
     282 00000c60     ca00          jrz     gkimout
         00000c70     0090  
     283 00000c80     0b40          cmpi    MODE_HEADHOLD,a0
         00000c90     ffef  
     284 00000ca0     ca00          jrz     gkimout
         00000cb0     008c  
     285                    
     286 00000cc0     b5a0          move    *a13(ANIMODE),a0
         00000cd0     0660  
     287 00000ce0     1fa0          btst    MODE_UNINT_BIT,a0
     288 00000cf0     cb00          jrnz    gkimout
         00000d00     0087  
     289                    
     290                    ;Don't do it when he is on ground
     291 00000d10     0d5f          calla   get_opp_plyrmode
         00000d20 00000000! 
     292                    ;       cmpi    MODE_ONGROUND,a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

     293                    ;       jrz     gkimout
     294                    ;       cmpi    MODE_DEAD,a0
     295                    ;       jrz     gkimout
     296                    
     297 00000d40     b5a0          move    *a13(PLYRMODE),a0
         00000d50     05c0  
     298 00000d60     0b40          cmpi    MODE_RUNNING,a0
         00000d70     fffe  
     299 00000d80     ca09          jrz     gkimleapddt
     300                    
     301                    ;If stick is toward opponent, then do sliding/leaping buzzer
     302 00000d90     b5a0          move    *a13(STICK_VAL_CUR),a0
         00000da0     0bc0  
     303 00000db0     b5a1          move    *a13(NEW_FACING_DIR),a1
         00000dc0     04d0  
     304 00000dd0     0b81          andi    0ch,a1
         00000de0 fffffff3  
     305 00000e00     4801          cmp     a0,a1
     306 00000e10     cb21          jrnz    gkimnorm
     307                    
     308 00000e20           gkimleapddt
     309                    ;missing noise for a reason !
     310 00000e20                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
     311 00000fc0     09e0          movi    hrt_running_ddt_anim,a0
         00000fd0 00000000! 
     312 00000ff0     0d5f          calla   change_anim1a
         00001000 00000000! 
     313 00001020     0960          rets
     314 00001030           gkimnorm
     315                    ;missing noise for a reason !
     316 00001030                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
     317 000011d0     09e0          movi    hrt_hh_2_ddt_anim,a0
         000011e0 00000000! 
     318 00001200     0d5f          calla   change_anim1a
         00001210 00000000! 
     319 00001230     0960          rets
     320                    
     321                    
     322                    *******************************************************************************
     323 00001240           gkimneck_grab
     324 00001240     0040          .word   B_SPUNCH,               J_ALL
     325 00001260     0008          .word   J_TOWARD,               J_REAL_LR
     326 00001280     0008          .word   J_TOWARD,               J_REAL_LR
     327 000012a0     8020          .word   8000h | 32              ;max
     328 000012b0 000012d0'         .long   gkimscrt_neck
     329                    
     330 000012d0           gkimscrt_neck
     331 000012d0     b5a0          move    *a13(ANIMODE),a0
         000012e0     0660  
     332 000012f0     1fa0          btst    MODE_UNINT_BIT,a0
     333 00001300     cb27          jrnz    gkimout
     334                    
     335                    ;Don't do it when he is on ground
     336 00001310     0d5f          calla   get_opp_plyrmode
         00001320 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

     337 00001340     0b40          cmpi    MODE_ONGROUND,a0
         00001350     fffb  
     338 00001360     ca21          jrz     gkimout
     339 00001370     0b40          cmpi    MODE_DEAD,a0
         00001380     fff6  
     340 00001390     ca1e          jrz     gkimout
     341 000013a0     0b40          cmpi    MODE_HEADHELD,a0
         000013b0     ffec  
     342 000013c0     ca1b          jrz     gkimout
     343                    
     344 000013d0     b7ae          move    *a13(LAST_HEADHOLD),a14,L
         000013e0     0cd0  
     345 000013f0     07a0          move    @PCNT,a0,L
         00001400 00000000! 
     346 00001420     45c0          sub     a14,a0
     347 00001430     0b40          cmpi    2*60,a0
         00001440     ff87  
     348 00001450     c507          jrge    gkimok2
     349                    
     350                    ;This head grab is too close (in terms of time) to most recent grab
     351                            .ref    hrt_3_fake_hold_anim
     352 00001460     09e0          movi    hrt_3_fake_hold_anim,a0
         00001470 00000000! 
     353 00001490     0d5f          calla   change_anim1a
         000014a0 00000000! 
     354 000014c0     0960          rets
     355                    
     356 000014d0           gkimok2
     357 000014d0     b5a1          move    *a13(CLOSEST_XDIST),a1
         000014e0     0370  
     358 000014f0     0b41          cmpi    90,a1
         00001500     ffa5  
     359 00001510     c707          jrgt    gkimstd_grab
     360                    
     361 00001520     09e0          movi    hrt_3_head_hold2_anim,a0
         00001530 00000000! 
     362 00001550     0d5f          calla   change_anim1a
         00001560 00000000! 
     363 00001580     0960  gkimout rets
     364                    
     365 00001590           gkimstd_grab
     366 00001590     09e0          movi    hrt_3_head_hold_anim,a0
         000015a0 00000000! 
     367 000015c0     0d5f          calla   change_anim1a
         000015d0 00000000! 
     368 000015f0     0960          rets
     369                    
     370                    *******************************************************************************
     371                    
     372 00001600           gkimgrab_fling2
     373 00001600     0044          .word   B_SPUNCH | J_AWAY,      J_REAL_LR | J_UP | J_DOWN
     374 00001620     800a          .word   8000h | 10              ;max
     375 00001630 000016a0'         .long   gkimscrt_grabfling2
     376                    
     377 00001650           gkimhip_toss2
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     378 00001650     0014          .word   B_PUNCH | J_AWAY,       J_REAL_LR | J_UP | J_DOWN
     379 00001670     800a          .word   8000h | 10              ;max
     380 00001680 000016a0'         .long   gkimscrt_grabfling2
     381                    
     382 000016a0           gkimscrt_grabfling2
     383 000016a0     b5a0          move    *a13(ANIMODE),a0
         000016b0     0660  
     384 000016c0     1fa0          btst    MODE_UNINT_BIT,a0
     385 000016d0     cbea          jrnz    gkimout
     386                    
     387                    ;If opponent is running, do a hip toss
     388 000016e0     0d5f          calla   get_opp_plyrmode
         000016f0 00000000! 
     389 00001710     0b40          cmpi    MODE_BOUNCING,a0
         00001720     fffa  
     390 00001730     ca1a          jrz     gkimyes
     391 00001740     0b40          cmpi    MODE_RUNNING,a0
         00001750     fffe  
     392 00001760     ca17          jrz     gkimyes
     393 00001770     0960          rets
     394                    
     395                    *******************************************************************************
     396 00001780           gkimgrab_fling
     397                    ;       .word   B_SPUNCH | J_AWAY,      J_REAL_LR | J_UP | J_DOWN
     398                    ;       .word   8000h | 10              ;max
     399                    ;       .long   gkimscrt_grabfling
     400                    
     401 00001780     0040          .word   B_SPUNCH,               J_ALL
     402 000017a0     0004          .word   J_AWAY,         J_REAL_LR
     403 000017c0     0004          .word   J_AWAY,         J_REAL_LR
     404 000017e0     8020          .word   8000h | 32              ;max
     405 000017f0 00001810'         .long   gkimscrt_grabfling
     406                    
     407 00001810           gkimscrt_grabfling
     408                    
     409                    ;Make this miss, rotate to missed opponent,
     410                    ;and stay rotated to flung opponent, also make
     411                    ;this work from both angles!
     412                    
     413 00001810     b5a0          move    *a13(ANIMODE),a0
         00001820     0660  
     414 00001830     1fa0          btst    MODE_UNINT_BIT,a0
     415 00001840     cbd3          jrnz    gkimout
     416                    
     417                    ;If opponent is running, do a hip toss
     418 00001850     0d5f          calla   get_opp_plyrmode
         00001860 00000000! 
     419 00001880     0b40          cmpi    MODE_BOUNCING,a0
         00001890     fffa  
     420 000018a0     ca03          jrz     gkimyes
     421 000018b0     0b40          cmpi    MODE_RUNNING,a0
         000018c0     fffe  
     422 000018d0     cb21          jrnz    gkimnope
     423 000018e0           gkimyes
     424 000018e0     09e0          movi    hrt_hiptoss_anim,a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   10

         000018f0 00000000! 
     425 00001910     0d5f          calla   change_anim1a
         00001920 00000000! 
     426                    
     427 00001940                   WRSND   W_BRET,GRABFLING_T1,PUNCH_T2
     428 00001ae0     0960          rets
     429                    
     430 00001af0           gkimnope
     431                    ;Don't fling when he is on ground
     432 00001af0     0d5f          calla   get_opp_plyrmode
         00001b00 00000000! 
     433 00001b20     0b40          cmpi    MODE_HEADHELD,a0
         00001b30     ffec  
     434 00001b40     caa3          jrz     gkimout
     435 00001b50     0b40          cmpi    MODE_ONGROUND,a0
         00001b60     fffb  
     436 00001b70     caa0          jrz     gkimout
     437 00001b80     0b40          cmpi    MODE_DEAD,a0
         00001b90     fff6  
     438 00001ba0     ca9d          jrz     gkimout
     439                    
     440                    ;       move    *a13(LAST_FLING_ATTEMPT),a14,L
     441                    ;       move    @PCNT,a0,L
     442                    ;       sub     a14,a0
     443                    ;       cmpi    3*60,a0
     444                    ;       jrge    gkimok2a
     445                    ;
     446                    ;       FACE24  hrt,super_punch2_anim
     447                    ;       calla   change_anim1a
     448                    ;
     449                    ;       WRSND   W_BRET,SPUNCH_T1,SPUNCH_T2
     450                    ;       rets
     451                    ;
     452                    ;gkimok2a
     453                    ;       move    @PCNT,a14,L                     ;use 32-bit PCNT!
     454                    ;       move    a14,*a13(LAST_FLING_ATTEMPT),L
     455                    
     456 00001bb0                   FACE24  hrt,grabfling_anim
     457 00001c50     0d5f          calla   change_anim1a
         00001c60 00000000! 
     458                    
     459 00001c80                   WRSND   W_BRET,GRABFLING_T1,PUNCH_T2
     460 00001e20     0960          rets
     461                    
     462                    *******************************************************************************
     463 00001e30           gkimhip_toss
     464                    ;       .word   B_PUNCH | J_AWAY,       J_REAL_LR | J_UP | J_DOWN
     465                    ;       .word   8000h | 10              ;max
     466                    ;       .long   gkimscrt_hiptoss
     467                    
     468 00001e30     0010          .word   B_PUNCH,                J_ALL
     469 00001e50     0004          .word   J_AWAY,         J_REAL_LR
     470 00001e70     0004          .word   J_AWAY,         J_REAL_LR
     471 00001e90     8020          .word   8000h | 32              ;max
     472 00001ea0 00001ec0'         .long   gkimscrt_hiptoss
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   11

     473                    
     474 00001ec0           gkimscrt_hiptoss
     475 00001ec0     b5a0          move    *a13(ANIMODE),a0
         00001ed0     0660  
     476 00001ee0     1fa0          btst    MODE_UNINT_BIT,a0
     477 00001ef0     cb00          jrnz    gkimout
         00001f00     ff67  
     478                    
     479                    ;Don't do it when he is on ground
     480 00001f10     0d5f          calla   get_opp_plyrmode
         00001f20 00000000! 
     481 00001f40     0b40          cmpi    MODE_ONGROUND,a0
         00001f50     fffb  
     482 00001f60     ca00          jrz     gkimout
         00001f70     ff60  
     483 00001f80     0b40          cmpi    MODE_DEAD,a0
         00001f90     fff6  
     484 00001fa0     ca00          jrz     gkimout
         00001fb0     ff5c  
     485 00001fc0     0b40          cmpi    MODE_HEADHELD,a0
         00001fd0     ffec  
     486 00001fe0     ca00          jrz     gkimout
         00001ff0     ff58  
     487 00002000     0b40          cmpi    MODE_INAIR,a0
         00002010     fffd  
     488 00002020     ca09          jrz     gkimdoit
     489 00002030     0b40          cmpi    MODE_INAIR2,a0
         00002040     ffea  
     490 00002050     ca06          jrz     gkimdoit
     491                    
     492 00002060     b5a0          move    *a13(CLOSEST_DIST),a0
         00002070     0360  
     493 00002080     0b40          cmpi    70h,a0
         00002090     ff8f  
     494 000020a0     c700          jrgt    gkimout
         000020b0     ff4c  
     495                    
     496 000020c0           gkimdoit
     497 000020c0     09e0          movi    hrt_hiptoss_anim,a0
         000020d0 00000000! 
     498 000020f0     0d5f          calla   change_anim1a
         00002100 00000000! 
     499                    
     500 00002120                   WRSND   W_BRET,HIPTOSS_T1,PUNCH_T2
     501 000022c0     0960          rets
     502                    
     503                    *******************************************************************************
     504 000022d0           gkimface_rake
     505 000022d0     0010          .word   B_PUNCH,                J_ALL
     506 000022f0     0008          .word   J_TOWARD,               J_REAL_LR
     507 00002310     000a          .word   J_DOWN_TOWARD,          J_REAL_LR
     508 00002330     0002          .word   J_DOWN,                 J_REAL_LR
     509 00002350     801e          .word   8000h | 30              ;max
     510 00002360 00002380'         .long   gkimscrt_facerake
     511                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   12

     512 00002380           gkimscrt_facerake
     513 00002380     b5a0          move    *a13(ANIMODE),a0
         00002390     0660  
     514 000023a0     1fa0          btst    MODE_UNINT_BIT,a0
     515 000023b0     cb00          jrnz    gkimout
         000023c0     ff1b  
     516                    
     517 000023d0     b5a0          move    *a13(PLYRMODE),a0
         000023e0     05c0  
     518 000023f0     0b40          cmpi    MODE_ONTURNBKL,a0
         00002400     fff9  
     519 00002410     ca00          jrz     gkimout
         00002420     ff15  
     520                    
     521                    ;Don't do it when he is on ground
     522 00002430     0d5f          calla   get_opp_plyrmode
         00002440 00000000! 
     523 00002460     0b40          cmpi    MODE_ONGROUND,a0
         00002470     fffb  
     524 00002480     ca00          jrz     gkimout
         00002490     ff0e  
     525 000024a0     0b40          cmpi    MODE_DEAD,a0
         000024b0     fff6  
     526 000024c0     ca00          jrz     gkimout
         000024d0     ff0a  
     527 000024e0     0b40          cmpi    MODE_HEADHELD,a0
         000024f0     ffec  
     528 00002500     ca00          jrz     gkimout
         00002510     ff06  
     529                    
     530                    
     531 00002520                   WRSND   W_BRET,UPRCUT_T1,UPRCUT_T2
     532                    
     533 000026c0     09e0          movi    hrt_rake_face_anim,a0
         000026d0 00000000! 
     534 000026f0     0d5f          calla   change_anim1a
         00002700 00000000! 
     535 00002720     0960          rets
     536                    
     537                    *******************************************************************************
     538                    
     539                    ;       STRUCTPD
     540                    ;       WORD            aduoCHARGE_TIME ;UDW
     541              0160  aduoCHARGE_TIME .equ    SM_USRW1        ;
     542                    
     543 00002730           hrt_charge_flying_kick
     544                    
     545 00002730           aduostart_over
     546 00002730     57ce          clr     a14
     547 00002740     b1cd          move    a14,*a13(aduoCHARGE_TIME),W
         00002750     0160  
     548 00002760           aduoloop1
     549 00002760                   SLEEPK  1
     550                    
     551 000027a0     b5ae          move    *a13(aduoCHARGE_TIME),a14,W
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   13

         000027b0     0160  
     552 000027c0     102e          inc     a14
     553 000027d0     b1cd          move    a14,*a13(aduoCHARGE_TIME),W
         000027e0     0160  
     554                    
     555 000027f0     b500          move    *a8(BUT_VAL_CUR),a0
         00002800     0b90  
     556 00002810     1f60          btst    PLAYER_SKICK_BIT,a0
     557 00002820     ca01          jrz     aduop1
     558                    
     559 00002830     c0f2          jruc    aduoloop1
     560                    
     561 00002840           aduop1
     562                    
     563                    ;no longer holding button
     564 00002840     b5ae          move    *a13(aduoCHARGE_TIME),a14
         00002850     0160  
     565 00002860     0b4e          cmpi    100,a14
         00002870     ff9b  
     566 00002880     c4ea          jrlt    aduostart_over
     567                    
     568 00002890     b500          move    *a8(GETUP_TIME),a0
         000028a0     0460  
     569 000028b0     cbe7          jrnz    aduostart_over
     570 000028c0     b500          move    *a8(PLYRMODE),a0
         000028d0     05c0  
     571 000028e0     0b40          cmpi    MODE_HEADHELD,a0
         000028f0     ffec  
     572 00002900     cae2          jrz     aduostart_over
     573 00002910     0b40          cmpi    MODE_HEADHOLD,a0
         00002920     ffef  
     574 00002930     cadf          jrz     aduostart_over
     575 00002940     0b40          cmpi    MODE_ONGROUND,a0
         00002950     fffb  
     576 00002960     cadc          jrz     aduostart_over
     577 00002970     0b40          cmpi    MODE_DEAD,a0
         00002980     fff6  
     578 00002990     cad9          jrz     aduostart_over
     579                    
     580 000029a0     b500          move    *a8(CLOSEST_NUM),a0
         000029b0     03a0  
     581 000029c0                   X32     a0
     582 000029d0     0b20          addi    process_ptrs,a0
         000029e0 00000000! 
     583 00002a00     8600          move    *a0,a0,L
     584 00002a10     b400          move    *a0(PLYRMODE),a0
         00002a20     05c0  
     585 00002a30     0b40          cmpi    MODE_ONGROUND,a0
         00002a40     fffb  
     586 00002a50     cacd          jrz     aduostart_over
     587 00002a60     0b40          cmpi    MODE_DEAD,a0
         00002a70     fff6  
     588 00002a80     caca          jrz     aduostart_over
     589                    
     590                    ;Success!  Check for the UNINT bit, then queue it up.
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   14

     591 00002a90     b50e          move    *a8(ANIMODE),a14
         00002aa0     0660  
     592 00002ab0     1fae          btst    MODE_UNINT_BIT,a14
     593 00002ac0     cbc6          jrnz    aduostart_over
     594                    
     595                            .ref    ck_ignore_a8
     596 00002ad0     0d5f          calla   ck_ignore_a8
         00002ae0 00000000! 
     597 00002b00     c8c2          jrc     aduostart_over
     598                    
     599 00002b10     09ee          movi    hrt_flying_kick_anim,a14
         00002b20 00000000! 
     600 00002b40     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00002b50     0930  
     601 00002b60                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
     602                    
     603 00002d00                   SETMODE INAIR
     604                    
     605 00002db0     c097          jruc    aduostart_over
     606                            
     607                    
     608                    *******************************************************************************
     609                    
     610                    ;       STRUCTPD
     611                    ;       WORD            ozxsCHARGE_TIME ;UDW
     612              0160  ozxsCHARGE_TIME .equ    SM_USRW1        ;
     613                    
     614 00002dc0           hrt_charge_face_rake
     615                    
     616 00002dc0           ozxsstart_over
     617 00002dc0     57ce          clr     a14
     618 00002dd0     b1cd          move    a14,*a13(ozxsCHARGE_TIME),W
         00002de0     0160  
     619 00002df0           ozxsloop1
     620 00002df0                   SLEEPK  1
     621                    
     622 00002e30     b5ae          move    *a13(ozxsCHARGE_TIME),a14,W
         00002e40     0160  
     623 00002e50     102e          inc     a14
     624 00002e60     b1cd          move    a14,*a13(ozxsCHARGE_TIME),W
         00002e70     0160  
     625                    
     626 00002e80     b500          move    *a8(BUT_VAL_CUR),a0
         00002e90     0b90  
     627 00002ea0     1fe0          btst    PLAYER_PUNCH_BIT,a0
     628 00002eb0     ca01          jrz     ozxsp1
     629                    
     630 00002ec0     c0f2          jruc    ozxsloop1
     631                    
     632 00002ed0           ozxsp1
     633                    
     634                    ;no longer holding button
     635 00002ed0     b5ae          move    *a13(ozxsCHARGE_TIME),a14
         00002ee0     0160  
     636 00002ef0     0b4e          cmpi    100,a14
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   15

         00002f00     ff9b  
     637 00002f10     c4ea          jrlt    ozxsstart_over
     638                    
     639 00002f20     b500          move    *a8(GETUP_TIME),a0
         00002f30     0460  
     640 00002f40     cbe7          jrnz    ozxsstart_over
     641 00002f50     b500          move    *a8(PLYRMODE),a0
         00002f60     05c0  
     642 00002f70     0b40          cmpi    MODE_HEADHELD,a0
         00002f80     ffec  
     643 00002f90     cae2          jrz     ozxsstart_over
     644 00002fa0     0b40          cmpi    MODE_HEADHOLD,a0
         00002fb0     ffef  
     645 00002fc0     cadf          jrz     ozxsstart_over
     646 00002fd0     0b40          cmpi    MODE_ONGROUND,a0
         00002fe0     fffb  
     647 00002ff0     cadc          jrz     ozxsstart_over
     648 00003000     0b40          cmpi    MODE_DEAD,a0
         00003010     fff6  
     649 00003020     cad9          jrz     ozxsstart_over
     650                    
     651                    ;Success!  Check for the UNINT bit, then queue it up.
     652 00003030     b50e          move    *a8(ANIMODE),a14
         00003040     0660  
     653 00003050     1fae          btst    MODE_UNINT_BIT,a14
     654 00003060     cbd5          jrnz    ozxsstart_over
     655                    
     656 00003070     09ee          movi    hrt_rake_face_anim,a14
         00003080 00000000! 
     657 000030a0     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         000030b0     0930  
     658                    
     659 000030c0                   WRSND   W_BRET,UPRCUT_T1,UPRCUT_T2
     660                    
     661 00003260     c0b5          jruc    ozxsstart_over
     662                    
     663                            .if NUM_BRET_FINISHES
     664                    ******************************************************************************
     665                     SUBRP  hrt_finish_move1
     666                    
     667                    jtwiTIMEOUT     .equ    TSEC
     668                    
     669                    jtwiend_wait
     670                            SLEEP           TSEC/4
     671                            move            @p1rounds,a0                    ; Get player 1 rounds
     672                            move            @p2rounds,a1                    ; Get player 2 rounds
     673                            or              a1,a0                           ; Put em together
     674                            cmpi            2,a0                            ; Anybody got 2?
     675                            jrlt            jtwiend_wait                    ; br = no
     676                    
     677                    jtwireset
     678                            clr             a11
     679                            move            a11,@in_finish_move
     680                            SLEEPK          1
     681                            WAITSWITCH_DWN  J_UP,0,jtwireset
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   16

     682                            movi            jtwiTIMEOUT,a11
     683                            move            a11,@in_finish_move
     684                            WAITSWITCH_DWN  J_DOWN,0,jtwireset
     685                            WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,jtwireset
     686                            WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,jtwireset
     687                            WAITSWITCH_DWN  B_PUNCH,J_ALL,jtwireset
     688                    
     689                            movi            hrt_finish1_move,a0
     690                            move            a0,*a8(SPECIAL_MOVE_ADDR),L
     691                            DIE
     692                            .endif
     693                            
     694                    
     695                            .if NUM_BRET_FINISHES > 1
     696                    ******************************************************************************
     697                     SUBRP  hrt_finish_move2
     698                    
     699                    zasmTIMEOUT     .equ    TSEC
     700                    
     701                    zasmend_wait
     702                            SLEEP           TSEC/4
     703                            move            @p1rounds,a0                    ; Get player 1 rounds
     704                            move            @p2rounds,a1                    ; Get player 2 rounds
     705                            or              a1,a0                           ; Put em together
     706                            cmpi            2,a0                            ; Anybody got 2?
     707                            jrlt            zasmend_wait                    ; br = no
     708                    
     709                    zasmreset
     710                            clr             a11
     711                            move            a11,@in_finish_move
     712                            SLEEPK          1
     713                            WAITSWITCH_DWN  J_UP,0,zasmreset
     714                            movi            zasmTIMEOUT,a11
     715                            move            a11,@in_finish_move
     716                            WAITSWITCH_DWN  J_UP,0,zasmreset
     717                            WAITSWITCH_DWN  J_RIGHT,J_UP,zasmreset
     718                            WAITSWITCH_DWN  J_RIGHT,J_UP,zasmreset
     719                            WAITSWITCH_DWN  B_SPUNCH,J_ALL,zasmreset
     720                    
     721                            movi            hrt_finish2_move,a0
     722                            move            a0,*a8(SPECIAL_MOVE_ADDR),L
     723                            DIE
     724                            .endif
     725                    
     726                    
     727                    ******************************************************************************
     728 00003270            SUBRP  hrt_roll_uppercut
     729                    
     730              0035  nltxTIMEOUT     .equ    TSEC
     731                    
     732 00003270           nltxreset
     733 00003270                   SLEEPK  1
     734                    
     735 000032b0     576b          clr     a11
     736                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   17

     737 000032c0                   WAITSWITCH_DWN  J_DOWN,         0,              nltxreset
     738                    
     739 00003420     09cb          movi    nltxTIMEOUT,a11
         00003430     0035  
     740                    
     741                    
     742                            ;this should make it nice and lenient...
     743 00003440                   WAITSWITCH_DWN  J_TOWARD,J_UP|J_DOWN,nltxreset
     744 000035a0                   WAITSWITCH_DWN  B_SPUNCH,J_ALL, nltxreset
     745                    
     746 00003700     b500          move    *a8(ANIMODE),a0
         00003710     0660  
     747 00003720     1fa0          btst    MODE_UNINT_BIT,a0
     748 00003730     cbb3          jrnz    nltxreset
     749                    
     750 00003740     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00003750     0ae0  
     751 00003760     cbb0          jrnz    nltxreset                               ;ignore
     752                        
     753 00003770     b500          move    *a8(PLYRMODE),a0
         00003780     05c0  
     754 00003790     0b40          cmpi    MODE_ONTURNBKL,a0
         000037a0     fff9  
     755 000037b0     caab          jreq    nltxreset
     756 000037c0     0b40          cmpi    MODE_HEADHOLD,a0
         000037d0     ffef  
     757 000037e0     caa8          jreq    nltxreset
     758 000037f0     0b40          cmpi    MODE_HEADHELD,a0
         00003800     ffec  
     759 00003810     caa5          jreq    nltxreset
     760                    
     761 00003820                   WRSND   W_BRET,GRABFLING_T1,GRABFLING_T2
     762                    
     763 000039c0     09e0          movi    hrt_roll_uppercut_anim,a0
         000039d0 00000000! 
     764 000039f0     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00003a00     0930  
     765                    
     766 00003a10     5600          clr     a0
     767 00003a20     b008          move    a0,*a8(RUN_TIME)
         00003a30     07b0  
     768                    
     769                    ;       SETMODE NORMAL
     770                    
     771 00003a40     c082          jruc    nltxreset
     772                    
     773                    *******************************************************************************
     774                    *
     775 00003a50           hrt_hdhold_combo1
     776                    
     777              003c  punxTIMEOUT     .equ    60
     778                    
     779 00003a50           punxlp0
     780 00003a50                   SLEEPK  1
     781 00003a90           punxlp
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   18

     782 00003a90     b500          move    *a8(PLYRMODE),a0
         00003aa0     05c0  
     783 00003ab0     0b40          cmpi    MODE_HEADHOLD,a0
         00003ac0     ffef  
     784 00003ad0     cbf7          jrnz    punxlp0
     785                    ;       jrz     punxcont
     786                    ;       cmpi    MODE_HEADHELD,a0
     787                    ;       jrnz    punxlp0
     788                    ;punxcont
     789                    ;In combo mode?
     790 00003ae0     0d5f          calla   CHECK_COMBO_GO
         00003af0 00000000! 
     791 00003b10     c4f3          jrlt    punxlp0
     792                    
     793                    
     794 00003b20     576b          clr     a11
     795                    
     796 00003b30                   WAITSWITCH_DWN  J_TOWARD,0,punxlp
     797                    
     798 00003c90     09cb          movi    punxTIMEOUT,a11
         00003ca0     003c  
     799                    
     800 00003cb0                   WAITSWITCH_DWN  J_TOWARD,0,punxlp
     801 00003e10                   WAITSWITCH_DWN  B_PUNCH,J_ALL,punxlp
     802                    
     803 00003f70     b500          move    *a8(PLYRMODE),a0
         00003f80     05c0  
     804 00003f90     0b40          cmpi    MODE_HEADHOLD,a0
         00003fa0     ffef  
     805 00003fb0     ca03          jrz     punxslam
     806 00003fc0     0b40          cmpi    MODE_HEADHELD,a0
         00003fd0     ffec  
     807 00003fe0     cba6          jrnz    punxlp0
     808                    
     809                    
     810 00003ff0           punxslam
     811 00003ff0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00004000     0ae0  
     812 00004010     cba3          jrnz    punxlp0                         ;ignore
     813                    
     814                    ;Start combo rules here
     815                    ;       move    *a8(ATTACH_PROC),a14,L
     816                    ;       movk    15,a0
     817                    ;       move    a0,*a14(IMMOBILIZE_TIME)
     818                    
     819                            ;Target WHOIHIT
     820 00004020                   SMRTTGT a8,WHOIHIT
     821                    
     822 000040c0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000040d0 00000000! 
     823 000040f0     09ee          movi    hrt_combo_punch_anim,a14
         00004100 00000000! 
     824 00004120     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00004130     0930  
     825                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   19

     826 00004140                   SLEEPK  20
     827                    
     828 00004180     c090          jruc    punxlp
     829                    
     830                    *******************************************************************************
     831                    *
     832 00004190           hrt_hdhold_combo2
     833                    
     834              003c  qbubTIMEOUT     .equ    60
     835                    
     836 00004190           qbublp0
     837 00004190                   SLEEPK  1
     838 000041d0           qbublp
     839 000041d0     b500          move    *a8(PLYRMODE),a0
         000041e0     05c0  
     840 000041f0     0b40          cmpi    MODE_HEADHOLD,a0
         00004200     ffef  
     841 00004210     cbf7          jrnz    qbublp0
     842                    ;       jrz     qbubcont
     843                    ;       cmpi    MODE_HEADHELD,a0
     844                    ;       jrnz    qbublp0
     845                    ;qbubcont
     846                    ;In combo mode?
     847 00004220     0d5f          calla   CHECK_COMBO_GO
         00004230 00000000! 
     848 00004250     c4f3          jrlt    qbublp0
     849                    
     850 00004260     576b          clr     a11
     851                    
     852 00004270                   WAITSWITCH_DWN  J_TOWARD,0,qbublp
     853                    
     854 000043d0     09cb          movi    qbubTIMEOUT,a11
         000043e0     003c  
     855                    
     856 000043f0                   WAITSWITCH_DWN  J_TOWARD,0,qbublp
     857 00004550                   WAITSWITCH_DWN  B_SKICK,J_DOWN_TOWARD|J_UP_TOWARD,qbublp
     858                    
     859 000046b0     b500          move    *a8(PLYRMODE),a0
         000046c0     05c0  
     860 000046d0     0b40          cmpi    MODE_HEADHOLD,a0
         000046e0     ffef  
     861 000046f0     ca03          jrz     qbubslam
     862 00004700     0b40          cmpi    MODE_HEADHELD,a0
         00004710     ffec  
     863 00004720     cba6          jrnz    qbublp0
     864                    
     865 00004730           qbubslam
     866 00004730     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00004740     0ae0  
     867 00004750     cba3          jrnz    qbublp0                         ;ignore
     868                    
     869                    ;Start combo rules here
     870                    ;       move    *a8(ATTACH_PROC),a14,L
     871                    ;       movk    15,a0
     872                    ;       move    a0,*a14(IMMOBILIZE_TIME)
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   20

     873                    
     874                            ;Target WHOIHIT
     875 00004760                   SMRTTGT a8,WHOIHIT
     876                    
     877 00004800     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00004810 00000000! 
     878 00004830     09ee          movi    hrt_combo_kick_anim,a14
         00004840 00000000! 
     879 00004860     b3c8          move    a14,*a8(SPECIAL_MOVE_ADDR),L
         00004870     0930  
     880                    
     881 00004880                   SLEEPK  20
     882                    
     883 000048c0     c090          jruc    qbublp
     884                    
     885                    
     886                    *****************************************************************************
     887 000048d0           hrt_hdhold_pile
     888                    
     889              003c  ltrrTIMEOUT     .equ    60
     890                    
     891 000048d0           ltrrlp0
     892 000048d0                   SLEEPK  1
     893 00004910           ltrrlp
     894 00004910     b500          move    *a8(PLYRMODE),a0
         00004920     05c0  
     895 00004930     0b40          cmpi    MODE_HEADHOLD,a0
         00004940     ffef  
     896 00004950     ca03          jrz     ltrrcont
     897 00004960     0b40          cmpi    MODE_HEADHELD,a0
         00004970     ffec  
     898 00004980     cbf4          jrnz    ltrrlp0
     899                    
     900 00004990           ltrrcont
     901 00004990     576b          clr     a11
     902                    
     903                    ;       WAITSWITCH_DWN  J_AWAY,0,ltrrlp
     904 000049a0                   WAITSWITCH_DWN  J_TOWARD,0,ltrrlp
     905                    
     906 00004b00     09cb          movi    ltrrTIMEOUT,a11
         00004b10     003c  
     907                    
     908 00004b20                   WAITSWITCH_DWN  J_TOWARD,0,ltrrlp
     909 00004c80                   WAITSWITCH_DWN  B_SPUNCH,J_ALL,ltrrlp
     910                            
     911 00004de0     b500          move    *a8(PLYRMODE),a0
         00004df0     05c0  
     912 00004e00     0b40          cmpi    MODE_HEADHOLD,a0
         00004e10     ffef  
     913 00004e20     ca1c          jrz     ltrrslam
     914 00004e30     0b40          cmpi    MODE_HEADHELD,a0
         00004e40     ffec  
     915 00004e50     cba7          jrnz    ltrrlp0
     916 00004e60     b50e          move    *a8(I_WILL_DIE),A14
         00004e70     0b30  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   21

     917 00004e80     cba4          jrnz    ltrrlp0
     918                    
     919 00004e90     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00004ea0     0ae0  
     920 00004eb0     cba1          jrnz    ltrrlp0                         ;ignore
     921                    
     922 00004ec0     0d5f          calla   DO_REVERSAL
         00004ed0 00000000! 
     923 00004ef0     0d5f          calla   DO_REVERSAL_MESS
         00004f00 00000000! 
     924                    
     925                            ;target WHOHITME -- don't hit anyone else
     926 00004f20                   SMRTTGT a8,WHOHITME
     927                    
     928                            ;immobilize WHOHITME
     929 00004fc0     b700          move    *a8(WHOHITME),a0,L
         00004fd0     04e0  
     930 00004fe0     c019          jruc    ltrris_reversal
     931                    
     932 00004ff0           ltrrslam
     933 00004ff0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00005000     0ae0  
     934 00005010     cb8b          jrnz    ltrrlp0                         ;ignore
     935                    
     936 00005020     09ca          movi    35,A10                  ;Pile driver
         00005030     0023  
     937 00005040                   CREATE  MESSAGE_PID,BONUS_MESS
     938                    
     939                            ;target WHOIHIT -- don't hit anyone else
     940 000050c0                   SMRTTGT a8,WHOIHIT
     941                    
     942                            ;immobilize WHOIHIT
     943 00005160     b700          move    *a8(WHOIHIT),a0,L
         00005170     0500  
     944                    
     945 00005180           ltrris_reversal
     946 00005180     19ee          movk    15,a14
     947 00005190     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         000051a0     0ae0  
     948                    
     949 000051b0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000051c0 00000000! 
     950                    
     951 000051e0                   WRSND   W_BRET,GRABFLING_T1,GRABFLING_T2
     952                    
     953 00005380     09e0          movi    hrt_3_pile_driver_anim,a0
         00005390 00000000! 
     954 000053b0     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         000053c0     0930  
     955                    
     956 000053d0                   SLEEPK  20
     957                    
     958 00005410     c000          jruc    ltrrlp
         00005420     ff4e  
     959                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   22

     960                    *****************************************************************************
     961 00005430            SUBRP  hrt_hdhold_ddt
     962                    
     963              003c  qjtnTIMEOUT     .equ    60
     964                    
     965 00005430           qjtnlp0
     966 00005430                   SLEEPK  1
     967 00005470           qjtnlp
     968 00005470     b500          move    *a8(PLYRMODE),a0
         00005480     05c0  
     969 00005490     0b40          cmpi    MODE_HEADHOLD,a0
         000054a0     ffef  
     970 000054b0     ca03          jrz     qjtncont
     971 000054c0     0b40          cmpi    MODE_HEADHELD,a0
         000054d0     ffec  
     972 000054e0     cbf4          jrnz    qjtnlp0
     973                    
     974 000054f0           qjtncont
     975 000054f0     576b          clr     a11
     976                    
     977                    ;       WAITSWITCH_DWN  J_UP,0,qjtnlp
     978 00005500                   WAITSWITCH_DWN  J_DOWN,0,qjtnlp
     979                    
     980 00005660     09cb          movi    qjtnTIMEOUT,a11
         00005670     003c  
     981                    
     982 00005680                   WAITSWITCH_DWN  J_DOWN,0,qjtnlp
     983 000057e0                   WAITSWITCH_DWN  B_SKICK,J_ALL,qjtnlp
     984                            
     985 00005940     b500          move    *a8(PLYRMODE),a0
         00005950     05c0  
     986 00005960     0b40          cmpi    MODE_HEADHOLD,a0
         00005970     ffef  
     987 00005980     ca1c          jrz     qjtnslam
     988 00005990     0b40          cmpi    MODE_HEADHELD,a0
         000059a0     ffec  
     989 000059b0     cba7          jrnz    qjtnlp0
     990 000059c0     b50e          move    *a8(I_WILL_DIE),A14
         000059d0     0b30  
     991 000059e0     cba4          jrnz    qjtnlp0
     992                    
     993 000059f0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00005a00     0ae0  
     994 00005a10     cba1          jrnz    qjtnlp0                         ;ignore
     995                    
     996 00005a20     0d5f          calla   DO_REVERSAL
         00005a30 00000000! 
     997 00005a50     0d5f          calla   DO_REVERSAL_MESS
         00005a60 00000000! 
     998                    
     999                            ;target WHOHITME -- don't hit anyone else
    1000 00005a80                   SMRTTGT a8,WHOHITME
    1001                    
    1002                            ;immobilize WHOHITME
    1003 00005b20     b700          move    *a8(WHOHITME),a0,L
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   23

         00005b30     04e0  
    1004 00005b40     c018          jruc    qjtnis_reversal
    1005                    
    1006 00005b50           qjtnslam
    1007 00005b50     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00005b60     0ae0  
    1008 00005b70     cb8b          jrnz    qjtnlp0                         ;ignore
    1009                    
    1010 00005b80     1a0a          movk    16,A10                  ;Pile driver
    1011 00005b90                   CREATE  MESSAGE_PID,BONUS_MESS
    1012                    
    1013                            ;target WHOIHIT -- don't hit anyone else
    1014 00005c10                   SMRTTGT a8,WHOIHIT
    1015                    
    1016                            ;immobilize WHOIHIT
    1017 00005cb0     b700          move    *a8(WHOIHIT),a0,L
         00005cc0     0500  
    1018                    
    1019 00005cd0           qjtnis_reversal
    1020 00005cd0     19ee          movk    15,a14
    1021 00005ce0     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         00005cf0     0ae0  
    1022                    
    1023 00005d00     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00005d10 00000000! 
    1024                    
    1025 00005d30     09e0          movi    hrt_hh_2_ddt_anim,a0
         00005d40 00000000! 
    1026 00005d60     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00005d70     0930  
    1027                    
    1028 00005d80                   SLEEPK  20
    1029                    
    1030 00005dc0     c000          jruc    qjtnlp
         00005dd0     ff69  
    1031                    
    1032                    *****************************************************************************
    1033 00005de0            SUBRP  hrt_hdhold_faceslam
    1034                    
    1035              003c  wgpnTIMEOUT     .equ    60
    1036                    
    1037 00005de0           wgpnlp0
    1038 00005de0                   SLEEPK  1
    1039 00005e20           wgpnlp
    1040 00005e20     b500          move    *a8(PLYRMODE),a0
         00005e30     05c0  
    1041 00005e40     0b40          cmpi    MODE_HEADHOLD,a0
         00005e50     ffef  
    1042 00005e60     ca03          jrz     wgpncont
    1043 00005e70     0b40          cmpi    MODE_HEADHELD,a0
         00005e80     ffec  
    1044 00005e90     cbf4          jrnz    wgpnlp0
    1045                    
    1046 00005ea0           wgpncont
    1047 00005ea0     576b          clr     a11
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   24

    1048                    
    1049 00005eb0                   WAITSWITCH_DWN  J_DOWN,0,wgpnlp
    1050                    
    1051 00006010     09cb          movi    wgpnTIMEOUT,a11
         00006020     003c  
    1052                    
    1053 00006030                   WAITSWITCH_DWN  J_TOWARD,J_DOWN|J_UP,wgpnlp
    1054                    ;       WAITSWITCH_DWN  J_DOWN_TOWARD,0,wgpnlp
    1055 00006190                   WAITSWITCH_DWN  B_PUNCH,J_ALL,wgpnlp
    1056                            
    1057                            
    1058 000062f0     b500          move    *a8(PLYRMODE),a0
         00006300     05c0  
    1059 00006310     0b40          cmpi    MODE_HEADHOLD,a0
         00006320     ffef  
    1060 00006330     ca1c          jrz     wgpnslam
    1061 00006340     0b40          cmpi    MODE_HEADHELD,a0
         00006350     ffec  
    1062 00006360     cba7          jrnz    wgpnlp0
    1063 00006370     b50e          move    *a8(I_WILL_DIE),A14
         00006380     0b30  
    1064 00006390     cba4          jrnz    wgpnlp0
    1065                    
    1066 000063a0     b50e          move    *a8(IMMOBILIZE_TIME),a14
         000063b0     0ae0  
    1067 000063c0     cba1          jrnz    wgpnlp0                         ;ignore
    1068                    
    1069 000063d0     0d5f          calla   DO_REVERSAL
         000063e0 00000000! 
    1070 00006400     0d5f          calla   DO_REVERSAL_MESS
         00006410 00000000! 
    1071                    
    1072                            ;target WHOHITME -- don't hit anyone else
    1073 00006430                   SMRTTGT a8,WHOHITME
    1074                    
    1075                            ;immobilize WHOHITME
    1076 000064d0     b700          move    *a8(WHOHITME),a0,L
         000064e0     04e0  
    1077 000064f0     c018          jruc    wgpnis_reversal
    1078                    
    1079 00006500           wgpnslam
    1080 00006500     b50e          move    *a8(IMMOBILIZE_TIME),a14
         00006510     0ae0  
    1081 00006520     cb8b          jrnz    wgpnlp0                         ;ignore
    1082                    
    1083 00006530     1a8a          movk    20,A10                  ;Pile driver
    1084 00006540                   CREATE  MESSAGE_PID,BONUS_MESS
    1085                    
    1086                            ;target WHOIHIT -- don't hit anyone else
    1087 000065c0                   SMRTTGT a8,WHOIHIT
    1088                    
    1089                            ;immobilize WHOIHIT
    1090 00006660     b700          move    *a8(WHOIHIT),a0,L
         00006670     0500  
    1091                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   25

    1092 00006680           wgpnis_reversal
    1093 00006680     19ee          movk    15,a14
    1094 00006690     b1c0          move    a14,*a0(IMMOBILIZE_TIME)
         000066a0     0ae0  
    1095                    
    1096 000066b0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         000066c0 00000000! 
    1097                    
    1098 000066e0     09e0          movi    hrt_3_face_driver2_anim,a0
         000066f0 00000000! 
    1099 00006710     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00006720     0930  
    1100                    
    1101 00006730                   SLEEPK  20
    1102                    
    1103 00006770     c000          jruc    wgpnlp
         00006780     ff69  
    1104                    
    1105                    *****************************************************************************
    1106 00006790            SUBRP  hrt_grab_toss_air
    1107                    
    1108              0028  ksyiTIMEOUT     .equ    40
    1109                    
    1110 00006790           ksyilp0
    1111 00006790                   SLEEPK  1
    1112 000067d0           ksyilp
    1113 000067d0     576b          clr     a11
    1114                    
    1115 000067e0                   WAITSWITCH_DWN  J_AWAY,0,ksyilp
    1116                    
    1117 00006940     09cb          movi    ksyiTIMEOUT,a11
         00006950     0028  
    1118                    
    1119 00006960                   WAITSWITCH_DWN  J_AWAY,0,ksyilp
    1120 00006ac0                   WAITSWITCH_DWN  B_PUNCH,J_ALL,ksyilp
    1121                    
    1122 00006c20     b500          move    *a8(ANIMODE),a0
         00006c30     0660  
    1123 00006c40     1fa0          btst    MODE_UNINT_BIT,a0
    1124 00006c50     cbb7          jrnz    ksyilp
    1125                    
    1126 00006c60     b500          move    *a8(PLYRMODE),a0
         00006c70     05c0  
    1127 00006c80     0b40          cmpi    MODE_HEADHOLD,a0
         00006c90     ffef  
    1128 00006ca0     caae          jreq    ksyilp0
    1129                    
    1130                    ;Don't do it when he is on ground
    1131 00006cb0                   SWAP    a8,a13
    1132 00006ce0     0d5f          calla   get_opp_plyrmode
         00006cf0 00000000! 
    1133 00006d10                   SWAP    a8,a13
    1134 00006d40     0b40          cmpi    MODE_ONGROUND,a0
         00006d50     fffb  
    1135 00006d60     caa6          jrz     ksyilp
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   26

    1136 00006d70     0b40          cmpi    MODE_DEAD,a0
         00006d80     fff6  
    1137 00006d90     caa3          jrz     ksyilp
    1138 00006da0     0b40          cmpi    MODE_INAIR,a0
         00006db0     fffd  
    1139 00006dc0     ca39          jrz     ksyidoit2
    1140 00006dd0     0b40          cmpi    MODE_INAIR2,a0
         00006de0     ffea  
    1141 00006df0     ca36          jrz     ksyidoit2
    1142                    
    1143 00006e00     b500          move    *a8(CLOSEST_NUM),a0
         00006e10     03a0  
    1144 00006e20                   X32     a0
    1145 00006e30     0b20          addi    process_ptrs,a0
         00006e40 00000000! 
    1146 00006e60     8600          move    *a0,a0,L
    1147 00006e70     b400          move    *a0(ATTACK_TYPE),a0
         00006e80     05e0  
    1148 00006e90     0b40          cmpi    AT_LEAPING,a0
         00006ea0     ffc6  
    1149 00006eb0     ca2a          jrz     ksyidoit2
    1150                    
    1151 00006ec0     b500          move    *a8(CLOSEST_DIST),a0
         00006ed0     0360  
    1152 00006ee0     0b40          cmpi    70h,a0
         00006ef0     ff8f  
    1153 00006f00     c78c          jrgt    ksyilp
    1154                    
    1155 00006f10     09e0          movi    hrt_hiptoss_anim,a0
         00006f20 00000000! 
    1156 00006f40     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         00006f50     0930  
    1157                    
    1158                    ;       WRSND   W_BRET,GRABFLING_T1,GRABFLING_T2
    1159 00006f60                   WRSND   W_BRET,HIPTOSS_T1,PUNCH_T2
    1160                    
    1161 00007100                   SLEEPK  20
    1162 00007140     c000          jruc    ksyilp
         00007150     ff67  
    1163                    
    1164 00007160     09e0  ksyidoit2       movi    hrt_hiptoss2_anim,a0
         00007170 00000000! 
    1165 00007190     b208          move    a0,*a8(SPECIAL_MOVE_ADDR),L
         000071a0     0930  
    1166                    
    1167 000071b0                   WRSND   W_BRET,HIPTOSS_T1,PUNCH_T2
    1168                    
    1169 00007350                   SLEEPK  20
    1170                    
    1171 00007390     c000          jruc    ksyilp
         000073a0     ff42  
    1172                    
    1173                    
    1174                    ;******************************************************************************
    1175                    ;
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   27

    1176                    ;;Could start this process only when opponent is in combo mode!
    1177                    ;
    1178                    ;hrt_hdhold_anti_combo
    1179                    ;
    1180                    ;ksyiTIMEOUT    .equ    30
    1181                    ;
    1182                    ;ksyilp0
    1183                    ;       SLEEPK  1
    1184                    ;ksyilp
    1185                    ;;Is my opponent in combo mode?
    1186                    ;;      move    *a8(IMMOBILIZE_TIME),a14
    1187                    ;;      jrz     ksyilp0
    1188                    ;;      move    *a8(CLOSEST_NUM),a0
    1189                    ;;      X32     a0
    1190                    ;;      addi    process_ptrs,a0
    1191                    ;;      move    *a0,a0,L
    1192                    ;;      move    *a0(COMBO_COUNT),a0
    1193                    ;;      jrz     ksyilp0
    1194                    ;
    1195                    ;       clr     a11
    1196                    ;
    1197                    ;       WAITSWITCH_DWN  B_SPUNCH,J_ALL,ksyilp
    1198                    ;
    1199                    ;       movi    ksyiTIMEOUT,a11
    1200                    ;
    1201                    ;       WAITSWITCH_DWN  B_SPUNCH,J_ALL,ksyilp
    1202                    ;       WAITSWITCH_DWN  B_SPUNCH,J_ALL,ksyilp
    1203                    ;
    1204                    ;;Is my opponent in combo mode?
    1205                    ;       move    *a8(CLOSEST_NUM),a0
    1206                    ;       X32     a0
    1207                    ;       addi    process_ptrs,a0
    1208                    ;       move    *a0,a0,L
    1209                    ;       move    *a0(COMBO_COUNT),a0
    1210                    ;       jrz     ksyilp0
    1211                    ;
    1212                    ;       move    *a8(ANTI_COMBO_TIME),a0         ;Time stamp
    1213                    ;       move    @PCNT,a14
    1214                    ;       sub     a0,a14
    1215                    ;       abs     a14
    1216                    ;       cmpi    80,a14
    1217                    ;       jrge    ksyilp0
    1218                    ;       move    *a8(I_WILL_DIE),A14
    1219                    ;       jrnz    ksyilp0
    1220                    ;
    1221                    ;;Combo breaker message!
    1222                    ;       CALLA   DO_REVERSAL
    1223                    ;       CALLA   DO_REVERSAL_MESS
    1224                    ;
    1225                    ;       clr     a0
    1226                    ;       move    a0,*a8(IMMOBILIZE_TIME)
    1227                    ;
    1228                    ;       move    *a8(WHOHITME),a14,L
    1229                    ;       movk    15,a0
    1230                    ;       move    a0,*a14(IMMOBILIZE_TIME)
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   28

    1231                    ;
    1232                    ;       ;target WHOHITME
    1233                    ;       SMRTTGT a8,WHOHITME
    1234                    ;
    1235                    ;       CALLA   FIND_AND_KILL_ENDLESS
    1236                    ;
    1237                    ;       WRSND   W_BRET,HIPTOSS_T1,PUNCH_T2
    1238                    ;       movi    hrt_3_face_driver2_anim,a14
    1239                    ;       move    a14,*a8(SPECIAL_MOVE_ADDR),L
    1240                    ;
    1241                    ;       SLEEPK  20
    1242                    ;
    1243                    ;       jruc    ksyilp
    1244                    
    1245                    *****************************************************************************
    1246                    
    1247 000073b0            SUBR   bret_ani_init
    1248                    
    1249 000073b0     b5a0          move    *a13(FACING_DIR),a0
         000073c0     04c0  
    1250 000073d0     1f80          btst    PLAYER_RIGHT_BIT,a0
    1251 000073e0     cb18          jrnz    pcfwp1
    1252                    ;Plyr 2
    1253 000073f0     09e0          movi    hrt_stand4_anim,a0
         00007400 00000000! 
    1254 00007420     0d5f          calla   change_anim1a
         00007430 00000000! 
    1255                    
    1256 00007450     09e0          movi    hrt_torso4_anim,a0
         00007460 00000000! 
    1257 00007480     0d5f          calla   change_anim2a
         00007490 00000000! 
    1258                    
    1259 000074b0                   PUSH    a10
    1260 000074c0     4daa          move    a13,a10
    1261 000074d0                   CREATE  TAUNT_PID,do_taunt
    1262 00007550                   PULL    a10
    1263                    
    1264 00007560     0960          rets
    1265                    
    1266 00007570           pcfwp1
    1267 00007570     09e0          movi    hrt_stand2_anim,a0
         00007580 00000000! 
    1268 000075a0     0d5f          calla   change_anim1a
         000075b0 00000000! 
    1269                    
    1270 000075d0     09e0          movi    hrt_torso2_anim,a0
         000075e0 00000000! 
    1271 00007600     0d5f          calla   change_anim2a
         00007610 00000000! 
    1272                    
    1273 00007630     0960          rets
    1274                    
    1275                    
    1276                    *****************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   29

    1277                    *
    1278                    * BRET HART CONTROL CODE
    1279                    *
    1280                    * a13 = * bret process
    1281                    
    1282 00007640            SUBR   move_bret
    1283                    
    1284                    
    1285 00007640     09eb          movi    bret_secret_moves,a11
         00007650 00000000' 
    1286 00007670     0d5f          calla   check_secret_moves
         00007680 00000000! 
    1287                    
    1288 000076a0     b5a0          move    *a13(PLYRMODE),a0
         000076b0     05c0  
    1289 000076c0     24a0          sll     5,a0                    ;x 32
    1290 000076d0     0b20          addi    myekmode_table,a0
         000076e0 00007730' 
    1291 00007700     8600          move    *a0,a0,L
    1292 00007710     0920          call    a0
    1293 00007720     0960          rets
    1294                    
    1295 00007730           myekmode_table
    1296 00007730 00007a70'         .long   mode_normal             ;0
    1297 00007750 0000f340'         .long   mode_running            ;1
    1298 00007770 000112c0'         .long   mode_inair              ;2
    1299 00007790 000112d0'         .long   mode_attached           ;3
    1300 000077b0 00011440'         .long   mode_onground           ;4
    1301 000077d0 00011450'         .long   mode_bouncing           ;5
    1302 000077f0 000116f0'         .long   mode_onturnbkl          ;6
    1303 00007810 00012090'         .long   mode_block              ;7
    1304 00007830 00012b10'         .long   mode_dizzy              ;8
    1305 00007850 00000000!         .long   mode_dead               ;9
    1306 00007870 00012b20'         .long   mode_oppoverhead        ;10
    1307 00007890 00012b30'         .long   mode_climbturnbkl       ;11
    1308 000078b0 00012b40'         .long   mode_waitanim           ;12
    1309 000078d0 00012bc0'         .long   mode_grapple            ;13
    1310 000078f0 00012bd0'         .long   mode_master             ;14
    1311 00007910 00012c10'         .long   mode_slave              ;15
    1312 00007930 00012c20'         .long   mode_headhold           ;16
    1313 00007950 00013ef0'         .long   mode_puppet2            ;17
    1314 00007970 00007a70'         .long   mode_normal             ;18
    1315 00007990 00013f00'         .long   mode_headheld           ;19
    1316 000079b0 00000000!         .long   mode_puppet             ;20
    1317 000079d0 00000000!         .long   mode_inair2             ;21
    1318 000079f0 00007a70'         .long   mode_normal             ;22
    1319 00007a10 00007a70'         .long   mode_normal             ;23
    1320 00007a30 000143c0'         .long   mode_chokehold          ;24
    1321 00007a50 00000000!         .long   mode_choking            ;25
    1322                    
    1323                    *****************************************************************************
    1324                    
    1325 00007a70           mode_normal
    1326                    
    1327 00007a70     b5a0          move    *a13(ANIMODE),a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   30

         00007a80     0660  
    1328 00007a90     1fa0          btst    MODE_UNINT_BIT,a0
    1329 00007aa0     cb00          jrnz    wupino_interrupt
         00007ab0     00b0  
    1330                    
    1331 00007ac0     b5a0          move    *a13(I_WILL_DIE),a0
         00007ad0     0b30  
    1332 00007ae0     ca1f          jrz     wupinope
    1333 00007af0     b5a0          move    *a13(IMMOBILIZE_TIME),a0
         00007b00     0ae0  
    1334 00007b10     cb1c          jrnz    wupinope
    1335                    ;Player has died amidst a combo...
    1336                    ;Knock me down.
    1337 00007b20     09e0          movi    hrt_fall_back_anim,a0
         00007b30 00000000! 
    1338 00007b50     0d5f          calla   change_anim1a
         00007b60 00000000! 
    1339                    
    1340                    ;Zero health bar
    1341 00007b80     09c0          movi    -10,a0
         00007b90     fff6  
    1342 00007ba0     b5a1          move    *a13(PLYRNUM),a1
         00007bb0     0580  
    1343 00007bc0     0d5f          calla   adjust_health
         00007bd0 00000000! 
    1344                    
    1345 00007bf0                   SETMODE DEAD
    1346                    
    1347 00007ca0     5600          clr     a0
    1348 00007cb0     b00d          move    a0,*a13(I_WILL_DIE)
         00007cc0     0b30  
    1349                    
    1350 00007cd0     0960          rets
    1351                    
    1352 00007ce0           wupinope
    1353                    ;Perhaps we need to interrupt any sequence when a wrestler has won?
    1354 00007ce0     0d5f          calla   get_opp_plyrmode
         00007cf0 00000000! 
    1355 00007d10     0b40          cmpi    MODE_DEAD,a0
         00007d20     fff6  
    1356 00007d30     cb49          jrne    wupiopp_not_dead
    1357                    
    1358                            ;if closest is a zombie, skip pin section.
    1359 00007d40     0d5f          calla   get_opp_process
         00007d50 00000000! 
    1360 00007d70     b40e          move    *a0(STATUS_FLAGS),a14
         00007d80     0b50  
    1361 00007d90     1f8e          btst    B_ZOMBIE,a14
    1362 00007da0     cb42          jrnz    wupiopp_not_dead
    1363                            
    1364                            ;all opponents are dead.  Check for pins/raisearms
    1365                    
    1366                            ;if we're attached to someone, don't interrupt it.
    1367 00007db0     b7a1          move    *a13(ATTACH_PROC),a1,L
         00007dc0     03e0  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   31

    1368 00007dd0     ca04          jrz     wupino_attch
    1369 00007de0     b622          move    *a1(ATTACH_PROC),a2,L
         00007df0     03e0  
    1370 00007e00     484d          cmp     a2,a13
    1371 00007e10     ca3b          jreq    wupino_pin_yet
    1372 00007e20           wupino_attch
    1373                    
    1374                            ;if a teammate has pinned, raise yer arm.
    1375 00007e20     0d5f          calla   ck_teammate_pin 
         00007e30 00000000! 
    1376 00007e50     c823          jrc     wupiraisearm
    1377                    
    1378                            ;nobody has pinned.  if we're outside or all our opponents are
    1379                            ; outside, do a raisearm.
    1380 00007e60     0d5f          calla   raisearm_check
         00007e70 00000000! 
    1381 00007e90     c81f          jrc     wupiraisearm
    1382                    
    1383                            ;we're inside with a pinnable opponent.  any button pins.
    1384 00007ea0     b5a0          move    *a13(BUT_VAL_CUR),a0
         00007eb0     0b90  
    1385 00007ec0     ca30          jrz     wupino_pin_yet
    1386                    
    1387                            ;we have a press -- make sure opponent is on the ground
    1388 00007ed0     0d5f          calla   can_pin
         00007ee0 00000000! 
    1389 00007f00     c92c          jrnc    wupiopp_notgnd
    1390                    
    1391                            ;opponent is on the ground.  pin him.
    1392 00007f10                   FACE24  hrt,pin_anim
    1393 00007fb0     0d5f          calla   change_anim1a
         00007fc0 00000000! 
    1394                    
    1395                            ;set the 'I did a pin' flag.
    1396 00007fe0     b5ae          move    *a13(STATUS_FLAGS),a14
         00007ff0     0b50  
    1397 00008000     0bae          ori     M_DID_PIN,a14
         00008010 00000002  
    1398 00008030     b1cd          move    a14,*a13(STATUS_FLAGS)
         00008040     0b50  
    1399                    
    1400                            ;if we're a temp drone for auto-pin purposes, turn back into
    1401                            ; a normal player here.
    1402 00008050     0d5f          calla   drone_change_back
         00008060 00000000! 
    1403                    
    1404 00008080     0960          rets
    1405                    
    1406 00008090           wupiraisearm
    1407 00008090                   FACE24  hrt,raise_arm_anim
    1408 00008130     0d5f          calla   change_anim1a
         00008140 00000000! 
    1409 00008160     0d5f          calla   set_raisearm_bit
         00008170 00000000! 
    1410                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   32

    1411                            ;if we're a temp drone for auto-pin purposes, turn back into
    1412                            ; a normal player here.
    1413 00008190     0d5f          calla   drone_change_back
         000081a0 00000000! 
    1414                    
    1415 000081c0     0960          rets
    1416                    
    1417 000081d0           wupitoo_far_to_pin
    1418 000081d0           wupiopp_notgnd
    1419 000081d0           wupiopp_not_dead
    1420 000081d0           wupino_pin_yet
    1421                    
    1422 000081d0     b5a0          move    *a13(IMMOBILIZE_TIME),a0
         000081e0     0ae0  
    1423 000081f0     cb36          jrnz    wupiimmobilized
    1424                    
    1425 00008200     b5a0          move    *a13(BUT_VAL_CUR),a0
         00008210     0b90  
    1426 00008220     1fc0          btst    PLAYER_BLOCK_BIT,a0     ;maybe have to action tables?
    1427 00008230     ca07          jrz     wupinblk                        ;1 for down transitions
    1428 00008240     0d3f          callr   wupiblock                       ;& 1 for current buttons
         00008250     01ee  
    1429 00008260     c804          jrc     wupinblk
    1430 00008270     5600          clr     a0
    1431 00008280     b00d          move    a0,*a13(ATTACK_TYPE)
         00008290     05e0  
    1432 000082a0     0960          rets
    1433 000082b0           wupinblk
    1434 000082b0     b5a0          move    *a13(BUT_VAL_CUR),a0
         000082c0     0b90  
    1435 000082d0     0b80          andi    011111b,a0
         000082e0 ffffffe0  
    1436 00008300     0b40          cmpi    PLAYER_PUNCH_VAL|PLAYER_KICK_VAL,a0
         00008310     fff6  
    1437 00008320     ca00          jrz     wupipunchkick
         00008330     05ab  
    1438                    
    1439 00008340     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00008350     0ba0  
    1440 00008360     0b80          andi    011111b,a0
         00008370 ffffffe0  
    1441 00008390                   X32     a0
    1442 000083a0     0b20          addi    wupiaction_table,a0
         000083b0 000085d0' 
    1443 000083d0     8600          move    *a0,a0,L
    1444 000083e0     0920          call    a0
    1445                    
    1446 000083f0     b5a0          move    *a13(ANIMODE),a0
         00008400     0660  
    1447 00008410     1fa0          btst    MODE_UNINT_BIT,a0
    1448 00008420     cb19          jrnz    wupino_interrupt
    1449                    
    1450                    
    1451 00008430     b5a0          move    *a13(STICK_VAL_CUR),a0
         00008440     0bc0  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   33

    1452 00008450     b00d          move    a0,*a13(MOVE_DIR)
         00008460     04b0  
    1453 00008470     0d5f          calla   climb_turnbuckle
         00008480 00000000! 
    1454 000084a0     c90e          jrnc    wupino_climb
    1455 000084b0     b5a5          move    *a13(WRESTLERNUM),A5
         000084c0     0590  
    1456 000084d0     09e2          MOVI    CLIMB_ROPES,A2
         000084e0 00000000! 
    1457 00008500     09c0          MOVI    1000,A0
         00008510     03e8  
    1458 00008520     0d5f          CALLA   ADD_IF_SILENT
         00008530 00000000! 
    1459 00008550     0960          rets
    1460                    
    1461 00008560           wupiimmobilized
    1462 00008560     57ce          clr     a14
    1463 00008570     b1cd          move    a14,*a13(MOVE_DIR)
         00008580     04b0  
    1464 00008590           wupino_climb
    1465 00008590     0d5f          calla   execute_walk
         000085a0 00000000! 
    1466                    
    1467 000085c0           wupino_interrupt
    1468 000085c0     0960          rets
    1469                    
    1470 000085d0           wupiaction_table
    1471 000085d0 000089d0'         .long   wupiz,wupipunch,wupiblock,wupiblock                     ;0-3
    1472 00008650 0000a320'         .long   wupisuper_punch,wupisuper_punch,wupiblock,wupiblock     ;4-7
    1473 000086d0 0000c4f0'         .long   wupikick,wupipunchkick,wupiblock,wupiblock              ;8-11
    1474 00008750 0000a320'         .long   wupisuper_punch,wupipunchkick,wupiblock,wupiblock       ;12-15
    1475 000087d0 0000de60'         .long   wupisuper_kick,wupisuper_kick,wupiblock,wupiblock       ;16-19
    1476 00008850 0000ee10'         .long   wupigraboh,wupigraboh,wupiblock,wupiblock               ;20-23
    1477 000088d0 0000de60'         .long   wupisuper_kick,wupipunchkick,wupiblock,wupiblock        ;24-27
    1478 00008950 0000ee10'         .long   wupigraboh,wupigraboh,wupiblock,wupiblock               ;28-31
    1479                    
    1480                    ************
    1481 000089d0           wupiz           ;0
    1482                    
    1483 000089d0     0960          rets
    1484                    
    1485                    
    1486                    ************
    1487 000089e0           wupipunch               ;1
    1488                    *
    1489                    * MODE             DX  DZ       ACTION
    1490                    * ----------------------------------------------------
    1491                    * normal        <  62   92      headbutt
    1492                    * dizzy                 "               "
    1493                    * normal        >               normal punch
    1494                    * dizzy                 "               "
    1495                    *
    1496                    * onground      < 120  120      elbow drop
    1497                    * onground      >               normal punch
    1498                    *
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   34

    1499                    * running                       hiptoss
    1500                    * bouncing                      hiptoss
    1501                    *
    1502                    * onturnbkl     <  60   96      yank down
    1503                    * onturnbkl     >               normal punch
    1504                    * climbturnbkl                  normal punch
    1505                    *
    1506 000089e0                   JJXM_INIT
    1507 00008a50                   JJXM    NORMAL,          50, 45,wupipunch_hdbutt,wupipunch_punch        ;0
    1508 00008b20                   JJXM    RUNNING,         50, 45,wupipunch_hdbutt,wupipunch_punch        ;1
    1509 00008bf0                   JJXM    INAIR,           50, 45,wupipunch_hdbutt,wupipunch_punch        ;2
    1510 00008cc0                   JJXM    ATTACHED,        50, 45,wupipunch_hdbutt,wupipunch_punch        ;3
    1511 00008d90                   JJXM    ONGROUND,       160,140,wupipunch_lbowdrop,wupipunch_punch      ;4
    1512 00008e60                   JJXM    BOUNCING,        50, 45,wupipunch_hdbutt,wupipunch_punch        ;1
    1513 00008f30                   JJXM    ONTURNBKL,       50, 45,wupipunch_hdbutt,wupipunch_punch        ;6
    1514 00009000                   JJXM    BLOCK,           50, 45,wupipunch_hdbutt,wupipunch_punch        ;7
    1515 000090d0                   JJXM    DIZZY,           50, 45,wupipunch_hdbutt,wupipunch_punch        ;8
    1516 000091a0                   JJXM    DEAD,           160,140,wupipunch_lbowdrop,wupipunch_punch      ;9
    1517 00009250                   JJXM    OPPOVERHEAD,     50, 45,wupipunch_hdbutt,wupipunch_punch        ;10
    1518 00009300                   JJXM    CLIMBTURNBKL,           wupipunch_punch                 ;11
    1519 00009340                   JJXM    WAITANIM,        50, 45,wupipunch_hdbutt,wupipunch_punch        ;12
    1520 000093f0                   JJXM    GRAPPLE,         50, 45,wupipunch_hdbutt,wupipunch_punch        ;13
    1521 00009490                   JJXM    MASTER,          50, 45,wupipunch_hdbutt,wupipunch_punch        ;14
    1522 00009530                   JJXM    SLAVE,           50, 45,wupipunch_hdbutt,wupipunch_punch        ;15
    1523 000095d0                   JJXM    HEADHOLD,        50, 45,wupipunch_hdbutt,wupipunch_punch        ;16
    1524 00009670                   JJXM    HEADHELD,        50, 45,wupipunch_hdbutt,wupipunch_punch        ;19
    1525 00009710                   JJXM    CHOKEHOLD,       50, 45,wupipunch_hdbutt,wupipunch_punch        ;16
    1526 000097b0                   JJXM    PUPPET,          50, 45,wupipunch_hdbutt,wupipunch_punch        ;20
    1527 00009850                   JJXM    PUPPET2,         50, 45,wupipunch_hdbutt,wupipunch_punch        ;20
    1528 000098f0                   JJXM    INAIR2,          50, 45,wupipunch_hdbutt,wupipunch_punch        ;21
    1529 00009990                   JJXM_END
    1530                    
    1531                    *****
    1532 000099b0           wupipunch_rets
    1533 000099b0     0960          rets
    1534                    
    1535                    *****
    1536 000099c0           wupipunch_punch
    1537 000099c0           std_punch
    1538                    
    1539 000099c0                   FACE24  hrt,punch_anim
    1540 00009a60     0d5f          calla   change_anim1a
         00009a70 00000000! 
    1541                    
    1542 00009a90                   WRSND   W_BRET,PUNCH_T1,PUNCH_T2
    1543 00009c30     0960          rets
    1544                    
    1545                    *****
    1546 00009c40           wupipunch_hdbutt
    1547                    
    1548 00009c40                   FACE24  hrt,butt_anim
    1549 00009ce0     0d5f          calla   change_anim1a
         00009cf0 00000000! 
    1550                    
    1551 00009d10                   WRSND   W_BRET,HDBUTT_T1,HDBUTT_T2
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   35

    1552 00009eb0     0960          rets
    1553                    
    1554                    *****
    1555 00009ec0           wupipunch_lbowdrop
    1556                    
    1557 00009ec0                   FACE24  hrt,ground_punch_anim
    1558 00009f60     0d5f          calla   change_anim1a
         00009f70 00000000! 
    1559                    
    1560 00009f90                   WRSND   W_BRET,LBOWDROP_T1,LBOWDROP_T2
    1561 0000a130     0960          rets
    1562                    
    1563                    
    1564                    ************
    1565 0000a140           wupiblock               ;2
    1566 0000a140           std_block
    1567                    
    1568 0000a140     05a0          move    @blocking_off,a0
         0000a150 00000000! 
    1569 0000a170     cb18          jrnz    wupino_blocking
    1570                    
    1571 0000a180                   RND_AWARD       a13,BLOCKS_AWD
    1572                    
    1573 0000a220     09e0          movi    hrt_4_block_anim,a0
         0000a230 00000000! 
    1574 0000a250     0d5f          calla   change_anim1
         0000a260 00000000! 
    1575                    
    1576 0000a280     0d5f          calla   BLOCK_WOOSH
         0000a290 00000000! 
    1577                    
    1578 0000a2b0     5600          clr     a0
    1579 0000a2c0     b00d          move    a0,*a13(BLOCK_TIME)
         0000a2d0     0d30  
    1580 0000a2e0     0320          clrc
    1581 0000a2f0     0960          rets
    1582                    
    1583 0000a300           wupino_blocking
    1584 0000a300     0de0          setc
    1585 0000a310     0960          rets
    1586                    
    1587                    
    1588                    ************
    1589 0000a320           wupisuper_punch ;4
    1590                    *
    1591                    * MODE             DX  DZ       ACTION
    1592                    * ----------------------------------------------------
    1593                    * normal        <  50   92      close in super move
    1594                    * dizzy                 "               "
    1595                    * normal        >               jumping punch move
    1596                    * dizzy                 "               "
    1597                    *
    1598                    * onground      < 120  120      super elbow drop
    1599                    * onground      >               normal punch
    1600                    *
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   36

    1601                    * running                       hip toss
    1602                    * bouncing                      nothing
    1603                    *
    1604                    * onturnbkl     <  60   96      yank down
    1605                    * onturnbkl     >               normal punch
    1606                    * climbturnbkl                  normal punch
    1607                    *
    1608 0000a320                   JJXM_INIT
    1609 0000a390                   JJXM    NORMAL,          70, 45,wupispunch_special,wupispunch_slap      ;0
    1610 0000a460                   JJXM    RUNNING,         70, 45,wupispunch_special,wupispunch_slap      ;1
    1611 0000a530                   JJXM    INAIR,           70, 45,wupispunch_special,wupispunch_slap      ;2
    1612 0000a600                   JJXM    ATTACHED,        70, 45,wupispunch_special,wupispunch_slap      ;3
    1613 0000a6d0                   JJXM    ONGROUND,       160,140,wupispunch_lbowdrop,std_punch   ;4
    1614 0000a7a0                   JJXM    BOUNCING,        70, 45,wupispunch_special,wupispunch_slap      ;1
    1615 0000a870                   JJXM    ONTURNBKL,              wupispunch_slap                 ;6
    1616 0000a8c0                   JJXM    BLOCK,           70, 45,wupispunch_special,wupispunch_slap      ;7
    1617 0000a990                   JJXM    DIZZY,           70, 45,wupispunch_special,wupispunch_slap      ;8
    1618 0000aa60                   JJXM    DEAD,           160,140,wupispunch_lbowdrop,std_punch   ;9
    1619 0000ab30                   JJXM    OPPOVERHEAD,     70, 45,wupispunch_special,wupispunch_slap      ;10
    1620 0000abf0                   JJXM    CLIMBTURNBKL,           std_punch                       ;11
    1621 0000ac40                   JJXM    WAITANIM,        70, 45,wupispunch_special,wupispunch_slap      ;12
    1622 0000ad00                   JJXM    GRAPPLE,         70, 45,wupispunch_special,wupispunch_slap      ;13
    1623 0000adc0                   JJXM    MASTER,          70, 45,wupispunch_special,wupispunch_slap      ;14
    1624 0000ae80                   JJXM    SLAVE,           70, 45,wupispunch_special,wupispunch_slap      ;15
    1625 0000af40                   JJXM    HEADHOLD,        70, 45,wupispunch_special,wupispunch_slap      ;16
    1626 0000b000                   JJXM    HEADHELD,               wupiz   ;do_pile                ;19
    1627 0000b050                   JJXM    CHOKEHOLD,       70, 45,wupispunch_special,wupispunch_slap      ;16
    1628 0000b110                   JJXM    PUPPET,          70, 45,wupispunch_special,wupispunch_slap      ;20
    1629 0000b1d0                   JJXM    PUPPET2,         70, 45,wupispunch_special,wupispunch_slap      ;20
    1630 0000b290                   JJXM    INAIR2,          70, 45,wupispunch_special,wupispunch_slap      ;21
    1631 0000b350                   JJXM_END
    1632                    
    1633                    *****
    1634 0000b370           wupispunch_special
    1635 0000b370     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000b380     0bc0  
    1636 0000b390     1fc0          btst    MOVE_DOWN_BIT,a0
    1637 0000b3a0     cb2e          jrnz    wupiuppercut
    1638                    ;       move    *a13(NEW_FACING_DIR),a1
    1639                    ;       andi    0ch,a1
    1640                    ;       cmp     a0,a1
    1641                    ;       jrz     wupicont
    1642                    
    1643 0000b3b0     b5a1          move    *a13(CLOSEST_XDIST),a1
         0000b3c0     0370  
    1644 0000b3d0     0b41          cmpi    55,a1
         0000b3e0     ffc8  
    1645 0000b3f0     c700          jrgt    std_punch
         0000b400     fe5b  
    1646                    ;       jruc    wupihdbutt
    1647                    ;wupicont
    1648                    ;       movi    hrt_3_head_hold2_anim,a0
    1649                    ;       calla   change_anim1a
    1650                    ;
    1651                    ;       WRSND   W_BRET,GRABHOLD_T1,GRABHOLD_T2
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   37

    1652                    ;
    1653                    ;       rets
    1654                    ;
    1655                    ;wupihdbutt
    1656                    
    1657 0000b410                   FACE24  hrt,butts_anim
    1658 0000b4b0     0d5f          calla   change_anim1
         0000b4c0 00000000! 
    1659                    
    1660 0000b4e0                   WRSND   W_BRET,HDBUTT_T1,HDBUTT_T2
    1661                    
    1662 0000b680     0960          rets
    1663                    
    1664 0000b690           wupiuppercut
    1665                    
    1666 0000b690     09e0          movi    hrt_4_uppercut_anim,a0
         0000b6a0 00000000! 
    1667 0000b6c0     0d5f          calla   change_anim1a
         0000b6d0 00000000! 
    1668                    
    1669 0000b6f0                   WRSND   W_BRET,UPRCUT_T1,UPRCUT_T2
    1670                    
    1671 0000b890     0960          rets
    1672                    
    1673                    *****
    1674 0000b8a0           wupispunch_lbowdrop
    1675                    
    1676                    ;If near opponents head, and facing down, do the hair grab!
    1677                    ;Allow hair grab from below!
    1678                    
    1679                    ;       move    *a13(FACING_DIR),a14
    1680                    ;       btst    MOVE_DOWN_BIT,a14
    1681                    ;       jrz     wupino
    1682                    
    1683 0000b8a0     b5ae          move    *a13(CLOSEST_NUM),a14
         0000b8b0     03a0  
    1684 0000b8c0                   X32     a14
    1685 0000b8d0     0b2e          addi    process_ptrs,a14
         0000b8e0 00000000! 
    1686 0000b900     87ce          move    *a14,a14,L
    1687 0000b910     b5c2          move    *a14(PLYRMODE),a2
         0000b920     05c0  
    1688 0000b930     0b42          cmpi    MODE_DEAD,a2
         0000b940     fff6  
    1689 0000b950     ca69          jrz     wupino
    1690 0000b960     b7a1          move    *a13(OBJ_XPOS),a1,L 
         0000b970     0100  
    1691 0000b980     b7c2          move    *a14(OBJ_XPOS),a2,L
         0000b990     0100  
    1692 0000b9a0     4441          sub     a2,a1
    1693 0000b9b0     0381          abs     a1
    1694 0000b9c0     2e01          srl     16,a1
    1695 0000b9d0     0b41          cmpi    30h,a1  ;28
         0000b9e0     ffcf  
    1696 0000b9f0     c45f          jrlt    wupino
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   38

    1697                    
    1698                    ;At head or feet!
    1699                    
    1700 0000ba00     b5ce          move    *a14(OBJ_CONTROL),a14
         0000ba10     0780  
    1701 0000ba20     0b8e          andi    M_FLIPH,a14
         0000ba30 ffffffef  
    1702 0000ba50     b5a0          move    *a13(OBJ_CONTROL),a0
         0000ba60     0780  
    1703 0000ba70     0b80          andi    M_FLIPH,a0
         0000ba80 ffffffef  
    1704 0000baa0     480e          cmp     a0,a14
    1705 0000bab0     ca28          jrz     wupifeet
    1706                    
    1707                    ;At head!  Do hair pickup.
    1708                    
    1709 0000bac0                   FACE24  hrt,hair_pickup_anim
    1710 0000bb60     0d5f          calla   change_anim1
         0000bb70 00000000! 
    1711                    
    1712 0000bb90                   WRSND   W_BRET,LBOWDROP_T1,LBOWDROP_T2
    1713                        
    1714 0000bd30     0960          rets
    1715                    
    1716 0000bd40           wupifeet
    1717 0000bd40     0b41          cmpi    40h,a1  ;28
         0000bd50     ffbf  
    1718 0000bd60     c428          jrlt    wupino
    1719                    
    1720 0000bd70                   FACE24  hrt,shooter_anim
    1721 0000be10     0d5f          calla   change_anim1a
         0000be20 00000000! 
    1722 0000be40                   WRSND   W_BRET,LBOWDROP_T1,LBOWDROP_T2
    1723 0000bfe0     0960          rets
    1724                    
    1725 0000bff0           wupino
    1726 0000bff0                   FACE24  hrt,ground_punch_anim
    1727 0000c090     0d5f          calla   change_anim1
         0000c0a0 00000000! 
    1728                    
    1729 0000c0c0                   WRSND   W_BRET,LBOWDROP_T1,LBOWDROP_T2
    1730 0000c260     0960          rets
    1731                    
    1732                    *****
    1733 0000c270           wupispunch_slap
    1734                    
    1735 0000c270                   FACE24  hrt,super_punch2_anim
    1736 0000c310     0d5f          calla   change_anim1a
         0000c320 00000000! 
    1737                    
    1738 0000c340                   WRSND   W_BRET,PUNCH_T1,PUNCH_T2
    1739                    
    1740 0000c4e0     0960          rets
    1741                    
    1742                    ************
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   39

    1743 0000c4f0           wupikick                ;8
    1744                    *
    1745                    * MODE             DX  DZ       ACTION
    1746                    * ----------------------------------------------------
    1747                    * normal        <  56   92      knee
    1748                    * block                 "               "
    1749                    * dizzy                 "               "
    1750                    * normal        >               normal kick
    1751                    * block                 "               "
    1752                    * dizzy                 "               "
    1753                    *
    1754                    * onground      < 120  120      stomp
    1755                    * onground      >               normal kick
    1756                    *
    1757                    * running                       normal kick
    1758                    * bouncing                      normal kick
    1759                    *
    1760                    * onturnbkl                     normal kick
    1761                    * climbturnbkl                  normal kick
    1762                    *
    1763 0000c4f0                   JJXM_INIT
    1764 0000c560                   JJXM    NORMAL,          50, 92,wupikick_knee,wupikick_kick             ;0
    1765 0000c630                   JJXM    RUNNING,         50, 92,wupikick_knee,wupikick_kick             ;0
    1766 0000c700                   JJXM    INAIR,           50, 92,wupikick_knee,wupikick_kick             ;2
    1767 0000c7d0                   JJXM    ATTACHED,        50, 92,wupikick_knee,wupikick_kick             ;3
    1768 0000c8a0                   JJXM    ONGROUND,       160,140,wupikick_stomp,wupikick_kick            ;4
    1769 0000c970                   JJXM    BOUNCING,        50, 92,wupikick_knee,wupikick_kick             ;0
    1770 0000ca40                   JJXM    ONTURNBKL,              wupikick_kick                   ;6
    1771 0000ca90                   JJXM    BLOCK,           50, 92,wupikick_knee,wupikick_kick             ;7
    1772 0000cb60                   JJXM    DIZZY,           50, 92,wupikick_knee,wupikick_kick             ;8
    1773 0000cc30                   JJXM    DEAD,           160,140,wupikick_stomp,wupikick_kick            ;9
    1774 0000cd00                   JJXM    OPPOVERHEAD,     50, 92,wupikick_knee,wupikick_kick             ;10
    1775 0000cdd0                   JJXM    CLIMBTURNBKL,           wupikick_kick                   ;11
    1776 0000ce20                   JJXM    WAITANIM,        50, 92,wupikick_knee,wupikick_kick             ;12
    1777 0000ced0                   JJXM    GRAPPLE,         50, 92,wupikick_knee,wupikick_kick             ;13
    1778 0000cf80                   JJXM    MASTER,          50, 92,wupikick_knee,wupikick_kick             ;14
    1779 0000d030                   JJXM    SLAVE,           50, 92,wupikick_knee,wupikick_kick             ;15
    1780 0000d0e0                   JJXM    HEADHOLD,        50, 92,wupikick_knee,wupikick_kick             ;16
    1781 0000d180                   JJXM    HEADHELD,        50, 92,wupikick_knee,wupikick_kick             ;19
    1782 0000d220                   JJXM    CHOKEHOLD,       50, 92,wupikick_knee,wupikick_kick             ;16
    1783 0000d2c0                   JJXM    PUPPET,          50, 92,wupikick_knee,wupikick_kick             ;20
    1784 0000d360                   JJXM    PUPPET2,         50, 92,wupikick_knee,wupikick_kick             ;20
    1785 0000d400                   JJXM    INAIR2,                 wupikick_TB                     ;21
    1786 0000d440                   JJXM_END
    1787                    
    1788                    *****
    1789 0000d460           wupikick_TB
    1790                            .ref    hrt_kick_TB_anim
    1791 0000d460     09e0          movi    hrt_kick_TB_anim,a0
         0000d470 00000000! 
    1792 0000d490     0d5f          calla   change_anim1a
         0000d4a0 00000000! 
    1793                    
    1794 0000d4c0                   WRSND   W_BRET,KICK_T1,KICK_T2
    1795 0000d660     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   40

    1796                    
    1797                    *****
    1798 0000d670           wupikick_kick
    1799 0000d670           std_kick
    1800                    
    1801 0000d670                   FACE24  hrt,kick_anim
    1802 0000d710     0d5f          calla   change_anim1a
         0000d720 00000000! 
    1803                    
    1804 0000d740                   WRSND   W_BRET,KICK_T1,KICK_T2
    1805 0000d8e0     0960          rets
    1806                    
    1807                    *****
    1808 0000d8f0           wupikick_knee
    1809 0000d8f0           std_knee
    1810                    
    1811 0000d8f0                   FACE24  hrt,knee_anim
    1812 0000d990     0d5f          calla   change_anim1a
         0000d9a0 00000000! 
    1813                    
    1814 0000d9c0                   WRSND   W_BRET,KICK_T1,KICK_T2
    1815 0000db60     0960          rets
    1816                    
    1817                    *****
    1818 0000db70           wupikick_stomp
    1819 0000db70           std_stomp
    1820                    
    1821 0000db70                   FACE24  hrt,stomp_anim
    1822 0000dc10     0d5f          calla   change_anim1a
         0000dc20 00000000! 
    1823                    
    1824 0000dc40                   WRSND   W_BRET,KICK_T1,KICK_T2
    1825                    
    1826 0000dde0     0960          rets
    1827                    
    1828                    ************
    1829 0000ddf0           wupipunchkick   ;9
    1830                    
    1831 0000ddf0     09e0          movi    start_run_anim,a0
         0000de00 00000000! 
    1832 0000de20     0d5f          calla   change_anim1a
         0000de30 00000000! 
    1833                    
    1834 0000de50     0960          rets
    1835                    
    1836                    ************
    1837 0000de60           wupisuper_kick  ;16
    1838                    *
    1839                    * MODE             DX  DZ       ACTION
    1840                    * ----------------------------------------------------
    1841                    * normal        <  60   60      close in super move
    1842                    * dizzy                 "               "
    1843                    * normal        >               jumping kick move
    1844                    * dizzy                 "               "
    1845                    *
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   41

    1846                    * onground      < 120  120      super stomp
    1847                    * onground      >               normal kick
    1848                    *
    1849                    * running                       big boot
    1850                    * bouncing                      big boot
    1851                    *
    1852                    * onturnbkl     <  60   96      jumping kick move
    1853                    * climbturnbkl          "               "
    1854                    * onturnbkl     >               normal kick
    1855                    * climbturnbkl          "               "
    1856                    *
    1857 0000de60                   JJXM_INIT
    1858 0000ded0                   JJXM    NORMAL,          60, 60,wupiskick_special,wupiskick_kick        ;0
    1859 0000dfa0                   JJXM    RUNNING,         60, 60,wupiskick_special,wupiskick_kick        ;0
    1860 0000e070                   JJXM    INAIR,           60, 60,wupiskick_special,wupiskick_kick        ;2
    1861 0000e140                   JJXM    ATTACHED,        60, 60,wupiskick_special,wupiskick_kick        ;3
    1862 0000e210                   JJXM    ONGROUND,       160,140,std_stomp,std_kick              ;4
    1863 0000e2d0                   JJXM    BOUNCING,        60, 60,wupiskick_special,wupiskick_kick        ;0
    1864 0000e3a0                   JJXM    ONTURNBKL,       60, 96,wupiskick_kick,std_kick         ;6
    1865 0000e470                   JJXM    BLOCK,           60, 60,wupiskick_special,wupiskick_kick        ;7
    1866 0000e540                   JJXM    DIZZY,           60, 60,wupiskick_special,wupiskick_kick        ;8
    1867 0000e610                   JJXM    DEAD,           160,140,std_stomp,std_kick              ;9
    1868 0000e6e0                   JJXM    OPPOVERHEAD,     60, 60,wupiskick_special,wupiskick_kick        ;10
    1869 0000e790                   JJXM    CLIMBTURNBKL,    60, 96,wupiskick_kick,std_kick         ;11
    1870 0000e850                   JJXM    WAITANIM,        60, 62,wupiskick_special,wupiskick_kick        ;12
    1871 0000e8f0                   JJXM    GRAPPLE,         60, 62,wupiskick_special,wupiskick_kick        ;13
    1872 0000e990                   JJXM    MASTER,          60, 62,wupiskick_special,wupiskick_kick        ;14
    1873 0000ea30                   JJXM    SLAVE,           60, 62,wupiskick_special,wupiskick_kick        ;15
    1874 0000ead0                   JJXM    HEADHOLD,        60, 62,wupiskick_special,wupiskick_kick        ;16
    1875 0000eb70                   JJXM    HEADHELD,               std_kick
    1876 0000ebc0                   JJXM    CHOKEHOLD,       60, 62,wupiskick_special,wupiskick_kick        ;16
    1877 0000ec60                   JJXM    PUPPET,          60, 62,wupiskick_special,wupiskick_kick        ;20
    1878 0000ed00                   JJXM    PUPPET2,         60, 62,wupiskick_special,wupiskick_kick        ;20
    1879 0000eda0                   JJXM    INAIR2,                 wupikick_TB                     ;21
    1880 0000edf0                   JJXM_END
    1881                    
    1882                    *****
    1883 0000ee10           wupigraboh
    1884 0000ee10           wupiskick_kick
    1885                    
    1886 0000ee10                   FACE24  hrt,super_kick_anim
    1887 0000eeb0     0d5f          calla   change_anim1a
         0000eec0 00000000! 
    1888                    
    1889 0000eee0                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
    1890 0000f080     0960          rets
    1891                    
    1892                    *****
    1893 0000f090           wupiskick_special
    1894 0000f090     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000f0a0     0bc0  
    1895 0000f0b0     b5a1          move    *a13(NEW_FACING_DIR),a1
         0000f0c0     04d0  
    1896 0000f0d0     0b81          andi    0ch,a1
         0000f0e0 fffffff3  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   42

    1897 0000f100     4801          cmp     a0,a1
    1898 0000f110     cb00          jrnz    std_knee
         0000f120     fe7c  
    1899                    
    1900 0000f130     09e0          movi    hrt_4_knee_fall_anim,a0
         0000f140 00000000! 
    1901 0000f160     0d5f          calla   change_anim1
         0000f170 00000000! 
    1902                    
    1903 0000f190                   WRSND   W_BRET,KICK_T1,KICK_T2
    1904 0000f330     0960          rets
    1905                    
    1906                    *****
    1907                    ;wupiskick_bigboot
    1908                    ;
    1909                    ;       FACE24  hrt,bigboot_anim
    1910                    ;       calla   change_anim1a
    1911                    ;
    1912                    ;       WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
    1913                    ;
    1914                    ;       rets
    1915                    
    1916                    
    1917                    *****************************************************************************
    1918                    *
    1919                    * RUNNING (if GETUP_TIME > 0 then player is out of control)
    1920                    *
    1921                    
    1922          00064000  yekvXRUN_VAL    equ     HRT_XRUN
    1923          00088000  yekvXRUN2_VAL   equ     HRT_XRUN2
    1924          00028000  yekvZDRIFT_VAL  equ     HRT_ZDRIFT
    1925                    
    1926 0000f340           mode_running
    1927                    
    1928 0000f340     b5a0          move    *a13(RUN_TIME),a0               ;Used for flying kick
         0000f350     07b0  
    1929 0000f360     1020          addk    1,a0
    1930 0000f370     b00d          move    a0,*a13(RUN_TIME)
         0000f380     07b0  
    1931                    
    1932 0000f390     b5a0          move    *a13(USR_VAR1),a0
         0000f3a0     0850  
    1933 0000f3b0     cb17          jrnz    yekvno_vel
    1934                    
    1935 0000f3c0     0d5f          calla   bounce_off_ropes
         0000f3d0 00000000! 
    1936                    
    1937 0000f3f0     09e0          movi    yekvXRUN_VAL,a0
         0000f400 00064000  
    1938                    
    1939 0000f420     b5ae          move    *a13(WALK_FAST),a14
         0000f430     0b40  
    1940 0000f440     ca03          jrz     yekvno
    1941 0000f450     09e0          movi    yekvXRUN2_VAL,a0
         0000f460 00088000  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   43

    1942 0000f480           yekvno
    1943 0000f480     05ae          move    @hyper_speed_on,a14
         0000f490 00000000! 
    1944 0000f4b0     63c0          sll     a14,a0
    1945                    
    1946 0000f4c0     b5ae          move    *a13(MOVE_DIR),a14
         0000f4d0     04b0  
    1947 0000f4e0     1f8e          btst    PLAYER_RIGHT_BIT,a14
    1948 0000f4f0     cb01          jrnz    yekvpos
    1949 0000f500     03a0          neg     a0
    1950 0000f510           yekvpos
    1951 0000f510     b20d          move    a0,*a13(OBJ_XVEL),L
         0000f520     02d0  
    1952                    
    1953 0000f530           yekvno_vel
    1954                    
    1955 0000f530     b5a0          move    *a13(GETUP_TIME),a0             ;delay b4 gaining control
         0000f540     0460  
    1956 0000f550     cb38          jrnz    yekvout_of_control
    1957                    
    1958 0000f560     b5a0          move    *a13(ANIMODE),a0
         0000f570     0660  
    1959 0000f580     1fa0          btst    MODE_UNINT_BIT,a0
    1960 0000f590     cb16          jrnz    yekvno_interrupt
    1961                    
    1962 0000f5a0     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000f5b0     0bc0  
    1963 0000f5c0     b5a1          move    *a13(MOVE_DIR),a1
         0000f5d0     04b0  
    1964 0000f5e0     5401          or      a0,a1
    1965 0000f5f0     0b81          andi    MOVE_LEFT|MOVE_RIGHT,a1
         0000f600 fffffff3  
    1966 0000f620     0b41          cmpi    MOVE_LEFT|MOVE_RIGHT,a1
         0000f630     fff3  
    1967 0000f640     cb0b          jrne    yekvcontinue_run
    1968                    
    1969                            ;braking with stick.  abort run.
    1970                    
    1971 0000f650                   SETMODE NORMAL
    1972                    
    1973 0000f700           yekvcontinue_run
    1974 0000f700           yekvno_interrupt
    1975                    
    1976 0000f700     b5a0          move    *a13(STICK_VAL_CUR),a0
         0000f710     0bc0  
    1977 0000f720     5621          clr     a1
    1978                    
    1979 0000f730     09e1          movi    -yekvZDRIFT_VAL,a1
         0000f740 fffd8000  
    1980 0000f760     1fe0          btst    PLAYER_UP_BIT,a0
    1981 0000f770     cb06          jrnz    yekvsetvel
    1982                    
    1983 0000f780     09e1          movi    yekvZDRIFT_VAL,a1
         0000f790 00028000  
    1984 0000f7b0     1fc0          btst    PLAYER_DOWN_BIT,a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   44

    1985 0000f7c0     cb01          jrnz    yekvsetvel
    1986                    
    1987 0000f7d0     5621          clr     a1
    1988 0000f7e0           yekvsetvel
    1989 0000f7e0     b22d          move    a1,*a13(OBJ_ZVEL),L
         0000f7f0     0310  
    1990                    
    1991                    ;Delay reading buttons after just getting out of an out of control run
    1992                    ;so a mistaken move isn't fired off
    1993 0000f800     b5a0          move    *a13(DELAY_BUTNS),a0
         0000f810     0ab0  
    1994 0000f820     cb0b          jrnz    yekvout_of_control
    1995                    
    1996                    
    1997                    ;       move    *a13(ANIMODE),a0
    1998                    ;       btst    MODE_UNINT_BIT,a0
    1999                    ;       jrnz    yekvout_of_control
    2000                    
    2001                    
    2002 0000f830     b5a0          move    *a13(BUT_VAL_DOWN),a0
         0000f840     0ba0  
    2003 0000f850     0b80          andi    011111b,a0
         0000f860 ffffffe0  
    2004 0000f880                   X32     a0
    2005 0000f890     0b20          addi    yekvaction_table,a0
         0000f8a0 0000f8f0' 
    2006 0000f8c0     8600          move    *a0,a0,L
    2007 0000f8d0     0920          call    a0
    2008 0000f8e0           yekvout_of_control
    2009 0000f8e0     0960          rets
    2010                    
    2011 0000f8f0           yekvaction_table
    2012 0000f8f0 0000fcf0'         .long   yekvz,yekvpunch,yekvblock,yekvblock                     ;0-3
    2013 0000f970 0000fd00'         .long   yekvsuper_punch,yekvsuper_punch,yekvblock,yekvblock     ;4-7
    2014 0000f9f0 00010990'         .long   yekvkick,yekvpunchkick,yekvblock,yekvblock              ;8-11
    2015 0000fa70 0000fd00'         .long   yekvsuper_punch,yekvpunchkick,yekvblock,yekvblock       ;12-15
    2016 0000faf0 00010990'         .long   yekvsuper_kick,yekvsuper_kick,yekvblock,yekvblock       ;16-19
    2017 0000fb70 0000fd00'         .long   yekvgraboh,yekvgraboh,yekvblock,yekvblock               ;20-23
    2018 0000fbf0 00010990'         .long   yekvsuper_kick,yekvpunchkick,yekvblock,yekvblock        ;24-27
    2019 0000fc70 0000fd00'         .long   yekvgraboh,yekvgraboh,yekvblock,yekvblock               ;28-31
    2020                    
    2021                    ;       .long   yekvz                   ;0
    2022                    ;       .long   yekvpunch                       ;1
    2023                    ;       .long   yekvblock                       ;2
    2024                    ;       .long   yekvz                   ;3
    2025                    ;       .long   yekvsuper_punch         ;4
    2026                    ;       .long   yekvz,yekvz,yekvz               ;5-7
    2027                    ;       .long   yekvkick                        ;8
    2028                    ;       .long   yekvz,yekvz,yekvz,yekvz,yekvz,yekvz,yekvz       ;9-15
    2029                    ;       .long   yekvsuper_kick          ;16
    2030                    ;       .long   yekvz,yekvz,yekvz,yekvz,yekvz,yekvz,yekvz       ;17-23
    2031                    ;       .long   yekvz,yekvz,yekvz,yekvz,yekvz,yekvz,yekvz,yekvz ;24-31
    2032                    
    2033                    ************
    2034 0000fcf0           yekvz
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   45

    2035 0000fcf0     0960          rets
    2036                    
    2037                    
    2038                    ************
    2039 0000fd00           yekvpunch               ;1
    2040 0000fd00           yekvsuper_punch ;4
    2041 0000fd00           yekvpunchkick
    2042 0000fd00           yekvgraboh
    2043                    *
    2044                    * MODE             DX  DZ       ACTION
    2045                    * ----------------------------------------------------
    2046                    * normal                        flying clothesline
    2047                    * dizzy                                 "
    2048                    *
    2049                    * onground      < 176  176      belly flop
    2050                    * onground      >               nothing
    2051                    *
    2052                    * running                       flying clothesline
    2053                    * bouncing                      flying clothesline
    2054                    *
    2055                    * onturnbkl                     flying clothesline
    2056                    * climbturnbkl                  flying clothesline
    2057                    *
    2058 0000fd00                   JJXM_INIT
    2059 0000fd70                   JJXM    NORMAL,                 yekvpunch_clothesline           ;0
    2060 0000fdb0                   JJXM    RUNNING,                yekvpunch_clothesline           ;1
    2061 0000fdf0                   JJXM    INAIR,                  yekvpunch_clothesline           ;2
    2062 0000fe30                   JJXM    ATTACHED,               yekvpunch_clothesline           ;3
    2063 0000fe70                   JJXM    ONGROUND,               yekvpunch_bellyflop             ;4
    2064 0000feb0                   JJXM    BOUNCING,               yekvpunch_clothesline           ;5      
    2065 0000fef0                   JJXM    ONTURNBKL,              yekvpunch_clothesline           ;6
    2066 0000ff30                   JJXM    BLOCK,                  yekvpunch_clothesline           ;7
    2067 0000ff70                   JJXM    DIZZY,                  yekvpunch_clothesline           ;8
    2068 0000ffb0                   JJXM    DEAD,                   yekvpunch_bellyflop             ;9
    2069 0000fff0                   JJXM    OPPOVERHEAD,            yekvpunch_clothesline           ;10
    2070 00010030                   JJXM    CLIMBTURNBKL,           yekvpunch_clothesline           ;11
    2071 00010070                   JJXM    WAITANIM,               yekvpunch_clothesline           ;12
    2072 000100b0                   JJXM    GRAPPLE,                yekvpunch_clothesline           ;13
    2073 000100f0                   JJXM    MASTER,                 yekvpunch_clothesline           ;14
    2074 00010130                   JJXM    SLAVE,                  yekvpunch_clothesline           ;15
    2075 00010170                   JJXM    HEADHOLD,               yekvpunch_clothesline           ;16
    2076 000101b0                   JJXM    HEADHELD,               yekvpunch_clothesline           ;19
    2077 000101f0                   JJXM    CHOKEHOLD,              yekvpunch_clothesline           ;16
    2078 00010230                   JJXM    PUPPET,                 yekvpunch_clothesline           ;20
    2079 00010270                   JJXM    PUPPET2,                yekvpunch_clothesline           ;20
    2080 000102b0                   JJXM    INAIR2,                 yekvpunch_clothesline           ;21
    2081 000102f0                   JJXM_END
    2082                    
    2083                    
    2084                    *****
    2085 00010310           yekvpunch_rets
    2086 00010310     0960          rets
    2087                    
    2088                    *****
    2089 00010320           yekvpunch_clothesline
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   46

    2090                    
    2091                            ;don't do it if you're running away from your opponent.
    2092 00010320     b5a0          move    *a13(FACING_DIR),a0
         00010330     04c0  
    2093 00010340     b5a1          move    *a13(NEW_FACING_DIR),a1
         00010350     04d0  
    2094 00010360     5001          and     a0,a1
    2095 00010370     0b81          andi    MOVE_LEFT|MOVE_RIGHT,a1
         00010380 fffffff3  
    2096 000103a0     ca94          jrz     yekvz
    2097                    
    2098                    
    2099 000103b0     09e0          movi    hrt_running_ddt_anim,a0
         000103c0 00000000! 
    2100 000103e0     0d5f          calla   change_anim1a
         000103f0 00000000! 
    2101                    
    2102 00010410                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
    2103                    
    2104 000105b0     0960          rets
    2105                    
    2106                    *****
    2107 000105c0           yekvpunch_bellyflop
    2108 000105c0           std_bellyflop
    2109                    
    2110                            ;don't do it if you're running away from your opponent.
    2111 000105c0     b5a0          move    *a13(FACING_DIR),a0
         000105d0     04c0  
    2112 000105e0     b5a1          move    *a13(NEW_FACING_DIR),a1
         000105f0     04d0  
    2113 00010600     5001          and     a0,a1
    2114 00010610     0b81          andi    MOVE_LEFT|MOVE_RIGHT,a1
         00010620 fffffff3  
    2115 00010640     ca00          jrz     yekvz
         00010650     ff69  
    2116                    
    2117 00010660     09e0          movi    hrt_running_ground_punch_anim,a0
         00010670 00000000! 
    2118 00010690     0d5f          calla   change_anim1a
         000106a0 00000000! 
    2119                    
    2120 000106c0                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
    2121                    
    2122 00010860     0960          rets
    2123                    
    2124                    ************
    2125 00010870           yekvblock               ;2
    2126                    
    2127 00010870     b7a0          move    *a13(OBJ_XVEL),a0,L
         00010880     02d0  
    2128 00010890     2be0          sra     1,a0
    2129 000108a0     b20d          move    a0,*a13(OBJ_XVEL),L
         000108b0     02d0  
    2130 000108c0                   SETMODE NORMAL
    2131 00010970     c000          jruc    std_block
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   47

         00010980     f97b  
    2132                    
    2133                    ************
    2134 00010990           yekvkick                ;8
    2135 00010990           yekvsuper_kick  ;16
    2136                    *
    2137                    * MODE             DX  DZ       ACTION
    2138                    * ----------------------------------------------------
    2139                    * normal                        flying kick
    2140                    * dizzy                                 "
    2141                    *
    2142                    * onground      < 176  176      running stomp
    2143                    * onground      >               nothing
    2144                    *
    2145                    * running                       flying kick
    2146                    * bouncing                      flying kick
    2147                    *
    2148                    * onturnbkl                     flying kick
    2149                    * climbturnbkl                  flying kick
    2150                    *
    2151 00010990                   JJXM_INIT
    2152 00010a00                   JJXM    NORMAL,                 yekvkick_flyingkick
    2153 00010a40                   JJXM    BLOCK,                  yekvkick_flyingkick
    2154 00010a80                   JJXM    DIZZY,                  yekvkick_flyingkick
    2155 00010ac0                   JJXM    ONGROUND,               std_bellyflop
    2156 00010b00                   JJXM    RUNNING,                yekvkick_flyingkick
    2157 00010b40                   JJXM    BOUNCING,               yekvkick_flyingkick
    2158 00010b80                   JJXM    ONTURNBKL,              yekvkick_flyingkick
    2159 00010bc0                   JJXM    CLIMBTURNBKL,           yekvkick_flyingkick
    2160 00010c00                   JJXM    INAIR,                  yekvkick_flyingkick
    2161 00010c40                   JJXM    ATTACHED,               yekvkick_flyingkick
    2162 00010c80                   JJXM    DEAD,                   std_bellyflop
    2163 00010cc0                   JJXM    OPPOVERHEAD,            yekvkick_flyingkick
    2164 00010d00                   JJXM    WAITANIM,               yekvkick_flyingkick
    2165 00010d40                   JJXM    GRAPPLE,                yekvkick_flyingkick
    2166 00010d80                   JJXM    MASTER,                 yekvkick_flyingkick
    2167 00010dc0                   JJXM    SLAVE,                  yekvkick_flyingkick
    2168 00010e00                   JJXM    HEADHOLD,               yekvkick_flyingkick
    2169 00010e40                   JJXM    HEADHELD,               yekvkick_flyingkick
    2170 00010e80                   JJXM    CHOKEHOLD,              yekvkick_flyingkick
    2171 00010ec0                   JJXM    PUPPET,                 yekvkick_flyingkick
    2172 00010f00                   JJXM    PUPPET2,                yekvkick_flyingkick
    2173 00010f40                   JJXM    INAIR2,                 yekvkick_flyingkick
    2174 00010f80                   JJXM_END
    2175                    
    2176 00010fa0           yekvkick_rets
    2177 00010fa0     0960          rets
    2178                    
    2179                    *****
    2180 00010fb0           yekvkick_flyingkick
    2181                    
    2182 00010fb0     0d5f          calla   ck_ignore
         00010fc0 00000000! 
    2183 00010fe0     c800          jrc     yekvz
         00010ff0     fecf  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   48

    2184                    
    2185 00011000     09e0          movi    hrt_flying_kick_anim,a0
         00011010 00000000! 
    2186 00011030     0d5f          calla   change_anim1a
         00011040 00000000! 
    2187                    
    2188 00011060                   SETMODE INAIR
    2189                    
    2190 00011110                   WRSND   W_BRET,FLYKICK_T1,FLYKICK_T2
    2191                    
    2192 000112b0     0960          rets
    2193                    
    2194                    
    2195                    *****************************************************************************
    2196                    *
    2197                    
    2198 000112c0           mode_inair      ;2
    2199                    
    2200 000112c0     0960          rets
    2201                    
    2202                    *****************************************************************************
    2203                    *
    2204                    
    2205 000112d0           mode_attached   ;3
    2206                    
    2207 000112d0     0d5f          calla   keep_attached
         000112e0 00000000! 
    2208 00011300     cb12          jrnz    sgpkstill_attached
    2209                    
    2210 00011310     5600          clr     a0
    2211 00011320     b20d          move    a0,*a13(ATTACH_PROC),L
         00011330     03e0  
    2212                    
    2213 00011340                   SETMODE NORMAL
    2214                    
    2215 000113f0     09c0          movi    MODE_NORMAL,a0
         00011400     0000  
    2216 00011410     b00d          move    a0,*a13(ANIMODE)
         00011420     0660  
    2217                    
    2218 00011430           sgpkstill_attached
    2219 00011430     0960          rets
    2220                    
    2221                    *****************************************************************************
    2222                    
    2223 00011440           mode_onground   ;4
    2224                    
    2225 00011440     0960          rets
    2226                    
    2227                    
    2228                    *****************************************************************************
    2229                    *
    2230                    * bouncing off ropes while running
    2231                    
    2232 00011450           mode_bouncing   ;5
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   49

    2233                    
    2234 00011450     5600          clr     a0
    2235 00011460     b20d          move    a0,*a13(OBJ_XVEL),L
         00011470     02d0  
    2236 00011480     b20d          move    a0,*a13(OBJ_ZVEL),L
         00011490     0310  
    2237                    
    2238 000114a0     b5a0          move    *a13(ANIMODE),a0
         000114b0     0660  
    2239 000114c0     1fe0          btst    MODE_END_BIT,a0
    2240 000114d0     ca20          jrz     tmhrnot_ended
    2241                    
    2242 000114e0     b5a0          move    *a13(MOVE_DIR),a0
         000114f0     04b0  
    2243 00011500     0bc0          xori    MOVE_LEFT+MOVE_RIGHT,a0 ;flip LEFT/RIGHT
         00011510 0000000c  
    2244 00011530     b00d          move    a0,*a13(MOVE_DIR)
         00011540     04b0  
    2245                    
    2246 00011550     b5a1          move    *a13(NEW_FACING_DIR),a1
         00011560     04d0  
    2247 00011570     0b81          andi    MOVE_UP+MOVE_DOWN,a1
         00011580 fffffffc  
    2248 000115a0     5401          or      a0,a1                   ;LEFT or RIGHT
    2249 000115b0     b02d          move    a1,*a13(FACING_DIR)     ;face same dir as run
         000115c0     04c0  
    2250                    
    2251 000115d0     09e0          movi    hrt_run2_anim,a0
         000115e0 00000000! 
    2252 00011600     0d5f          calla   change_anim1a
         00011610 00000000! 
    2253                    
    2254 00011630                   SETMODE RUNNING
    2255                    
    2256                    ;       clr     a0
    2257                    ;       move    a0,*a13(GETUP_TIME)     ;in control
    2258                    
    2259 000116e0           tmhrnot_ended
    2260 000116e0     0960          rets
    2261                    
    2262                    *****************************************************************************
    2263                    *
    2264                    * STANDING ON TOP OF TURNBUCKLE
    2265                    
    2266 000116f0           mode_onturnbkl  ;6
    2267                    
    2268                    ;       ;check unint
    2269                    ;       move    *a13(ANIMODE),a14
    2270                    ;       btst    MODE_UNINT_BIT,a14
    2271                    ;       jrnz    lfgano_interrupt
    2272                    
    2273 000116f0     b5a0          move    *a13(STICK_VAL_CUR),a0
         00011700     0bc0  
    2274 00011710     1fc0          btst    PLAYER_DOWN_BIT,a0
    2275 00011720     ca12          jrz     lfgano_climbdown
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   50

    2276                    
    2277 00011730     09e0          movi    hrt_climb_down_anim,a0
         00011740 00000000! 
    2278 00011760     0d5f          calla   change_anim1a
         00011770 00000000! 
    2279                    
    2280 00011790                   SETMODE CLIMBTURNBKL
    2281                    
    2282 00011840           lfgano_interrupt
    2283 00011840     0960          rets
    2284                    
    2285 00011850           lfgano_climbdown
    2286 00011850     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00011860     0ba0  
    2287 00011870     0b80          andi    011111b,a0
         00011880 ffffffe0  
    2288 000118a0     ca51          jrz     lfgaz
    2289                    
    2290 000118b0                   X32     a0
    2291 000118c0     0b20          addi    lfgaaction_table,a0
         000118d0 000119c0' 
    2292 000118f0     8600          move    *a0,a0,L
    2293 00011900     0920          call    a0
    2294                    
    2295 00011910     b5a5          move    *a13(PLYRNUM),a5
         00011920     0580  
    2296 00011930     09e2          movi    JUMP_ROPES,a2
         00011940 00000000! 
    2297 00011960     09c0          movi    1000,a0
         00011970     03e8  
    2298 00011980     0d5f          calla   ADD_IF_SILENT
         00011990 00000000! 
    2299                    
    2300 000119b0     0960          rets
    2301                    
    2302                    
    2303                    ;For standing on top of turnbuckles
    2304                    
    2305 000119c0           lfgaaction_table
    2306 000119c0 00011dc0'         .long   lfgaz,lfgapunch,lfgablock,lfgablock                     ;0-3
    2307 00011a40 00011dd0'         .long   lfgasuper_punch,lfgasuper_punch,lfgablock,lfgablock     ;4-7
    2308 00011ac0 00011dd0'         .long   lfgakick,lfgapunchkick,lfgablock,lfgablock              ;8-11
    2309 00011b40 00011dd0'         .long   lfgasuper_punch,lfgapunchkick,lfgablock,lfgablock       ;12-15
    2310 00011bc0 00011dd0'         .long   lfgasuper_kick,lfgasuper_kick,lfgablock,lfgablock       ;16-19
    2311 00011c40 00011dd0'         .long   lfgagraboh,lfgagraboh,lfgablock,lfgablock               ;20-23
    2312 00011cc0 00011dd0'         .long   lfgasuper_kick,lfgapunchkick,lfgablock,lfgablock        ;24-27
    2313 00011d40 00011dd0'         .long   lfgagraboh,lfgagraboh,lfgablock,lfgablock               ;28-31
    2314                    
    2315                    ;       .long   lfgaz                   ;0
    2316                    ;       .long   lfgapunch                       ;1
    2317                    ;       .long   lfgablock                       ;2
    2318                    ;       .long   lfgaz                   ;3
    2319                    ;       .long   lfgasuper_punch         ;4
    2320                    ;       .long   lfgaz,lfgaz,lfgaz               ;5-7
    2321                    ;       .long   lfgakick                        ;8
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   51

    2322                    ;       .long   lfgaz,lfgaz,lfgaz,lfgaz,lfgaz,lfgaz,lfgaz       ;9-15
    2323                    ;       .long   lfgasuper_kick          ;16
    2324                    ;       .long   lfgaz,lfgaz,lfgaz,lfgaz,lfgaz,lfgaz,lfgaz       ;17-23
    2325                    ;       .long   lfgaz,lfgaz,lfgaz,lfgaz,lfgaz,lfgaz,lfgaz,lfgaz ;24-31
    2326                    
    2327                    ************
    2328 00011dc0           lfgaz
    2329 00011dc0     0960          rets
    2330                    
    2331                    ************
    2332 00011dd0           lfgapunch               ;1
    2333 00011dd0           lfgablock               ;2
    2334 00011dd0           lfgasuper_punch ;4
    2335 00011dd0           lfgakick                ;8
    2336 00011dd0           lfgasuper_kick  ;16
    2337 00011dd0           lfgagraboh
    2338 00011dd0           lfgapunchkick
    2339                    
    2340 00011dd0                   SETMODE INAIR
    2341                    
    2342 00011e80                   WRSND   W_BRET,TURNDIVE_T1,TURNDIVE_T2
    2343                    
    2344 00012020     09e0          movi    hrt_tbukl_leap_anim,a0
         00012030 00000000! 
    2345 00012050     0d5f          calla   change_anim1a
         00012060 00000000! 
    2346                    
    2347 00012080     0960          rets
    2348                    
    2349                    *****************************************************************************
    2350                    * blocking
    2351                    
    2352 00012090           mode_block      ;7
    2353                    
    2354 00012090     b5a0          move    *a13(BLOCK_TIME),a0
         000120a0     0d30  
    2355 000120b0     1020          inc     a0
    2356 000120c0     b00d          move    a0,*a13(BLOCK_TIME)
         000120d0     0d30  
    2357 000120e0     0b40          cmpi    160,a0
         000120f0     ff5f  
    2358 00012100     c413          jrlt    hzdtno
    2359                    
    2360 00012110     0d5f          calla   get_opp_plyrmode
         00012120 00000000! 
    2361 00012140     0b40          cmpi    MODE_BLOCK,a0
         00012150     fff8  
    2362 00012160     cb0d          jrnz    hzdtno
    2363 00012170     b5a0          move    *a13(CLOSEST_XDIST),a0
         00012180     0370  
    2364 00012190     0b40          cmpi    61h,a0
         000121a0     ff9e  
    2365 000121b0     c508          jrge    hzdtno
    2366 000121c0     0b40          cmpi    45,a0
         000121d0     ffd2  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   52

    2367 000121e0     c405          jrlt    hzdtno
    2368 000121f0     b5a0          move    *a13(CLOSEST_ZDIST),a0
         00012200     0390  
    2369 00012210     0b40          cmpi    30,a0
         00012220     ffe1  
    2370 00012230     c461          jrlt    hzdtpunchblock
    2371                    
    2372 00012240           hzdtno
    2373 00012240     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00012250     0ba0  
    2374 00012260     0b80          andi    011111b,a0
         00012270 ffffffe0  
    2375 00012290     ca0c          jrz     hzdtno_interrupt
    2376                    
    2377                            ;press.  if block isn't down, let mode_normal handle it
    2378 000122a0     4c02          move    a0,a2                   ;save a0 from ...val_down
    2379 000122b0     b5a0          move    *a13(BUT_VAL_CUR),a0
         000122c0     0b90  
    2380 000122d0     1fc0          btst    PLAYER_BLOCK_BIT,a0
    2381 000122e0     ca08          jrz     hzdtset_mode_normal
    2382 000122f0     4c40          move    a2,a0                   ;restore a0 from ...val_down
    2383                    
    2384 00012300                   X32     a0
    2385 00012310     0b20          addi    hzdtaction_table,a0
         00012320 00012440' 
    2386 00012340     8600          move    *a0,a0,L
    2387 00012350     0920          call    a0
    2388                    
    2389 00012360           hzdtno_interrupt
    2390 00012360     0960          rets
    2391                    
    2392 00012370           hzdtset_mode_normal
    2393 00012370                   SETMODE NORMAL
    2394 00012420     c000          jruc    mode_normal
         00012430     f563  
    2395                    
    2396 00012440           hzdtaction_table
    2397 00012440 00012840'         .long   hzdtz,hzdtpunchblock,hzdtz      ;0-2
    2398 000124a0 00012850'         .long   hzdtpunchblock          ;3
    2399 000124c0 00012840'         .long   hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz       ;4-10
    2400 000125a0 00012840'         .long   hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz       ;11-17
    2401 00012680 00012840'         .long   hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz       ;18-24
    2402 00012760 00012840'         .long   hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz,hzdtz       ;25-31
    2403                    
    2404                    ************
    2405 00012840           hzdtz
    2406 00012840     0960          rets
    2407                    
    2408                    ************
    2409 00012850           hzdtpunchblock  ;3
    2410                    *
    2411                    * MODE             DX  DZ       ACTION
    2412                    * ----------------------------------------------------
    2413                    * all                           push
    2414                    *
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   53

    2415                    
    2416                    ;This push has no collisions set!
    2417                    
    2418 00012850                   SETMODE NORMAL
    2419                    
    2420 00012900     09e0          movi    hrt_4_push_anim,a0
         00012910 00000000! 
    2421 00012930     0d5f          calla   change_anim1a
         00012940 00000000! 
    2422                    
    2423 00012960                   WRSND   W_BRET,PUSH_T1,PUSH_T2
    2424                    
    2425 00012b00     0960          rets
    2426                    
    2427                    
    2428                    *****************************************************************************
    2429                    * BRET with zero health
    2430                    
    2431 00012b10           mode_dizzy      ;8
    2432                    
    2433                    ;       move    *a13(GETUP_TIME),a0
    2434                    ;       jrnz    sohgstill_going
    2435                    ;
    2436                    ;       calla   clear_damage_log
    2437                    ;
    2438                    ;       clr     a0
    2439                    ;       move    a0,*a13(STARS_FLAG)
    2440                    ;
    2441                    ;       SETMODE NORMAL
    2442                    ;
    2443                    ;sohgstill_going
    2444 00012b10     0960          rets
    2445                    
    2446                    *****************************************************************************
    2447                    * opponent held overhead
    2448                    
    2449 00012b20           mode_oppoverhead ;10
    2450                    ;
    2451                    ;       move    *a13(ATTACH_PROC),a2,L          ;proc attached to
    2452                    ;       jrz     uvbenot_attached
    2453                    ;       move    *a2(ATTACH_PROC),a0,L
    2454                    ;       jrnz    uvbestill_attached
    2455                    ;
    2456                    ;uvbenot_attached
    2457                    ;
    2458                    ;       move    *a13(ANIMODE),a0                ;* remove this????
    2459                    ;       btst    MODE_UNINT_BIT,a0               ;*
    2460                    ;       jrnz    uvbeno_interrupt                        ;*
    2461                    ;
    2462                    ;       clr     a0
    2463                    ;       move    a0,*a13(ATTACH_PROC),L
    2464                    ;
    2465                    ;       SETMODE NORMAL
    2466                    ;
    2467                    ;       movi    MODE_NORMAL,a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   54

    2468                    ;       move    a0,*a13(ANIMODE)
    2469                    ;
    2470                    ;       rets
    2471                    ;
    2472                    ;uvbestill_attached
    2473                    ;       move    *a13(ANIMODE),a0
    2474                    ;       btst    MODE_UNINT_BIT,a0
    2475                    ;       jrnz    uvbeno_interrupt
    2476                    ;
    2477                    ;       move    *a13(FACING_DIR),a0
    2478                    ;       andni   MOVE_UP,a0
    2479                    ;       ori     MOVE_DOWN,a0
    2480                    ;       move    a0,*a13(FACING_DIR)
    2481                    ;       move    a0,*a13(NEW_FACING_DIR)
    2482                    ;
    2483                    ;       move    a13,a0
    2484                    ;       calla   wres_get_stick_val_cur
    2485                    ;       jrz     uvbestand
    2486                    ;
    2487                    ;       move    a0,*a13(MOVE_DIR)
    2488                    ;       calla   execute_walk
    2489                    ;
    2490                    ;       movi    hrt_holdoh_anim,a0
    2491                    ;       calla   change_anim2
    2492                    ;       jruc    uvbeck_butns
    2493                    ;uvbestand
    2494                    ;       clr     a0
    2495                    ;       move    a0,*a13(MOVE_DIR)
    2496                    ;       move    a0,*a13(OBJ_XVEL),L
    2497                    ;       move    a0,*a13(OBJ_ZVEL),L
    2498                    ;
    2499                    ;       movi    hrt_stndholdoh_anim,a0
    2500                    ;       calla   change_anim1
    2501                    ;
    2502                    ;uvbeck_butns
    2503                    ;
    2504                    ;
    2505                    ;       move    a13,a0
    2506                    ;       calla   wres_get_but_val_down
    2507                    ;       andi    011111b,a0
    2508                    ;       X32     a0
    2509                    ;       addi    uvbeaction_table,a0
    2510                    ;       move    *a0,a0,L
    2511                    ;       call    a0
    2512                    ;
    2513                    ;uvbeno_interrupt
    2514                    ;       rets
    2515                    ;
    2516                    ;uvbeaction_table
    2517                    ;       .long   uvbez                   ;0
    2518                    ;       .long   uvbepunch                       ;1
    2519                    ;       .long   uvbeblock                       ;2
    2520                    ;       .long   uvbez                   ;3
    2521                    ;       .long   uvbesuper_punch         ;4
    2522                    ;       .long   uvbez,uvbez,uvbez               ;5-7
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   55

    2523                    ;       .long   uvbekick                        ;8
    2524                    ;       .long   uvbez,uvbez,uvbez,uvbez,uvbez,uvbez,uvbez       ;9-15
    2525                    ;       .long   uvbesuper_kick          ;16
    2526                    ;       .long   uvbez,uvbez,uvbez,uvbez,uvbez,uvbez,uvbez       ;17-23
    2527                    ;       .long   uvbez,uvbez,uvbez,uvbez,uvbez,uvbez,uvbez,uvbez ;24-31
    2528                    ;
    2529                    ;************
    2530                    ;uvbez
    2531                    ;       rets
    2532                    ;
    2533                    ;************
    2534                    ;uvbepunch              ;1
    2535                    ;uvbeblock              ;2
    2536                    ;uvbesuper_punch        ;4
    2537                    ;uvbekick               ;8
    2538                    ;uvbesuper_kick ;16
    2539                    ;
    2540 00012b20     0960          rets
    2541                    
    2542                    *****************************************************************************
    2543                    *
    2544                    * CLIMBING UP OR DOWN THE TURNBUCKLE
    2545                    
    2546 00012b30           mode_climbturnbkl       ;11
    2547                    
    2548 00012b30     0960          rets
    2549                    
    2550                    
    2551                    *****************************************************************************
    2552                    
    2553 00012b40           mode_waitanim   ;12
    2554                    
    2555 00012b40     b5a0          move    *a13(ANIMODE),a0
         00012b50     0660  
    2556 00012b60     1fe0          btst    MODE_END_BIT,a0
    2557 00012b70     ca03          jrz     pynsnot_ended
    2558                    
    2559 00012b80     b7a0          move    *a13(CODE_ADDR),a0,L
         00012b90     0430  
    2560 00012ba0     0920          call    a0
    2561                    
    2562 00012bb0           pynsnot_ended
    2563 00012bb0     0960          rets
    2564                    
    2565                    
    2566                    *****************************************************************************
    2567                    
    2568 00012bc0           mode_grapple    ;13
    2569                    
    2570 00012bc0     0960          rets
    2571                    
    2572                    *****************************************************************************
    2573                    
    2574 00012bd0           mode_master     ;14
    2575                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   56

    2576 00012bd0     0d5f          calla   master_keep_attached    ;keep slave attached to me
         00012be0 00000000! 
    2577                    
    2578 00012c00     0960          rets
    2579                    
    2580                    *****************************************************************************
    2581                    
    2582 00012c10           mode_slave      ;15
    2583 00012c10     0960          rets
    2584                    
    2585                    *****************************************************************************
    2586                    
    2587 00012c20           mode_headhold   ;16
    2588                    
    2589                    ;Bozo power move
    2590                            .ref    bozo_check
    2591 00012c20     0d5f          calla   bozo_check
         00012c30 00000000! 
    2592 00012c50     c929          jrnc    fwurfail
    2593                    
    2594 00012c60                   WRSND   W_BRET,GRABFLING_T1,GRABFLING_T2
    2595                    
    2596 00012e00     09e0          movi    hrt_3_pile_driver_anim,a0
         00012e10 00000000! 
    2597 00012e30     05ae          move    @PCNT,a14
         00012e40 00000000! 
    2598 00012e60     1fee          btst    0,a14
    2599 00012e70     ca03          jrz     fwurtag
    2600 00012e80     09e0          movi    hrt_hh_2_ddt_anim,a0
         00012e90 00000000! 
    2601 00012eb0     0d5f  fwurtag calla   change_anim1a
         00012ec0 00000000! 
    2602                    
    2603 00012ee0     0960          rets
    2604                    
    2605 00012ef0           fwurfail
    2606 00012ef0     b7a0          move    *a13(WHOIHIT),a0,L
         00012f00     0500  
    2607 00012f10     b400          move    *a0(PLYRMODE),a0
         00012f20     05c0  
    2608 00012f30     0b40          cmpi    MODE_HEADHELD,a0
         00012f40     ffec  
    2609 00012f50     cb10          jrnz    fwurexit
    2610                    
    2611                    ;       move    *a13(ATTACH_PROC),a10,L
    2612                    ;       jrz     fwurexit
    2613                    
    2614 00012f60     b5a0          move    *a13(ANIMODE),a0
         00012f70     0660  
    2615 00012f80     1fa0          btst    MODE_UNINT_BIT,a0
    2616 00012f90     cb0b          jrnz    fwurno_interrupt
    2617                    
    2618 00012fa0     b5a0          move    *a13(BUT_VAL_DOWN),a0
         00012fb0     0ba0  
    2619 00012fc0     0b80          andi    011111b,a0
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   57

         00012fd0 ffffffe0  
    2620 00012ff0                   X32     a0
    2621 00013000     0b20          addi    fwuraction_table,a0
         00013010 00013230' 
    2622 00013030     8600          move    *a0,a0,L
    2623 00013040     0920          call    a0
    2624                    
    2625 00013050           fwurno_interrupt
    2626 00013050     0960          rets
    2627                    
    2628 00013060           fwurexit
    2629 00013060     b7ae          move    *a13(OBJ_ZPOS),a14,L
         00013070     0140  
    2630 00013080     0d0e          subi    [6,0],a14
         00013090 fff9ffff  
    2631 000130b0     b3cd          move    a14,*a13(OBJ_ZPOS),L
         000130c0     0140  
    2632                    
    2633 000130d0     1941          movk    MOVE_DOWN_RIGHT,a1
    2634 000130e0     b5a0          move    *a13(OBJ_CONTROL),a0
         000130f0     0780  
    2635 00013100     1f60          btst    B_FLIPH,a0
    2636 00013110     ca01          jrz     fwurright
    2637 00013120     18c1          movk    MOVE_DOWN_LEFT,a1
    2638 00013130     b02d  fwurright       move    a1,*a13(FACING_DIR)
         00013140     04c0  
    2639 00013150     b02d          move    a1,*a13(NEW_FACING_DIR)
         00013160     04d0  
    2640                    
    2641 00013170                   SETMODE NORMAL
    2642                    
    2643 00013220     0960          rets
    2644                    
    2645 00013230           fwuraction_table
    2646 00013230 00013630'         .long   fwurz,fwurpunch,fwurblock,fwurblock                     ;0-3
    2647 000132b0 00013840'         .long   fwursuper_punch,fwursuper_punch,fwurblock,fwurblock     ;4-7
    2648 00013330 00013aa0'         .long   fwurkick,fwurpunchkick,fwurblock,fwurblock              ;8-11
    2649 000133b0 00013840'         .long   fwursuper_punch,fwurpunchkick,fwurblock,fwurblock       ;12-15
    2650 00013430 00013ee0'         .long   fwursuper_kick,fwursuper_kick,fwurblock,fwurblock       ;16-19
    2651 000134b0 00013630'         .long   fwurgraboh,fwurgraboh,fwurblock,fwurblock               ;20-23
    2652 00013530 00013ee0'         .long   fwursuper_kick,fwurpunchkick,fwurblock,fwurblock        ;24-27
    2653 000135b0 00013630'         .long   fwurgraboh,fwurgraboh,fwurblock,fwurblock               ;28-31
    2654                    
    2655                    ;       .long   fwurz                                   ;0
    2656                    ;       .long   fwurpunch                                       ;1
    2657                    ;       .long   fwurblock                                       ;2
    2658                    ;       .long   fwurz                                   ;3
    2659                    ;       .long   fwursuper_punch                         ;4
    2660                    ;       .long   fwursuper_punch,fwurz,fwurz                     ;5-7
    2661                    ;       .long   fwurkick                                        ;8
    2662                    ;       .long   fwurpunchkick,fwurz,fwurz,fwurkick,fwurz,fwurz,fwurz            ;9-15
    2663                    ;       .long   fwursuper_kick                          ;16
    2664                    ;       .long   fwurz,fwurz,fwurz,fwurgraboh,fwurz,fwurz,fwurz          ;17-23
    2665                    ;       .long   fwurkick,fwurz,fwurz,fwurz,fwurz,fwurz,fwurz,fwurz              ;24-31
    2666                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   58

    2667                    
    2668                    ************
    2669 00013630           fwurblock
    2670 00013630           fwurgraboh
    2671 00013630           fwurz           ;0
    2672 00013630     0960          rets
    2673                    
    2674                    *****
    2675 00013640           fwurpunch               ;1
    2676                    
    2677 00013640     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00013650 00000000! 
    2678                    
    2679 00013670     b5a0          move    *a13(STICK_VAL_CUR),a0
         00013680     0bc0  
    2680 00013690     b5a1          move    *a13(NEW_FACING_DIR),a1
         000136a0     04d0  
    2681 000136b0     0b81          andi    0ch,a1
         000136c0 fffffff3  
    2682 000136e0     4801          cmp     a0,a1
    2683 000136f0     cb5a          jrnz    fwurknee
    2684                    
    2685 00013700                   WRSND   W_BRET,UPRCUT_T1,UPRCUT,T2
    2686                    
    2687 000137d0     09e0          movi    hrt_uppercuts_to_head_anim,a0
         000137e0 00000000! 
    2688 00013800     0d5f          calla   change_anim1a
         00013810 00000000! 
    2689 00013830     0960          rets
    2690                    
    2691                    *****
    2692 00013840           fwursuper_punch ;4
    2693 00013840     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00013850 00000000! 
    2694                    
    2695 00013870     b5a0          move    *a13(STICK_VAL_CUR),a0
         00013880     0bc0  
    2696 00013890     1fc0          btst    MOVE_DOWN_BIT,a0
    2697 000138a0     ca63          jrz     fwursuper_kick
    2698                    
    2699 000138b0                   SPCDMG  D_UPRCUT/2,15
    2700                    
    2701 00013960     09e0          movi    hrt_4_uppercut_anim,a0
         00013970 00000000! 
    2702 00013990     0d5f          calla   change_anim1a
         000139a0 00000000! 
    2703                    
    2704 000139c0                   WRSND   W_BRET,UPRCUT_T1,UPRCUT,T2
    2705                    
    2706 00013a90     0960          rets
    2707                    
    2708                    ;fwurface
    2709                    ;;If stick is toward opponent, then do face driver
    2710                    ;       move    *a13(NEW_FACING_DIR),a1
    2711                    ;       andi    0ch,a1
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   59

    2712                    ;       cmp     a0,a1
    2713                    ;       jrnz    fwurz
    2714                    ;
    2715                    ;       CALLA   FIND_AND_KILL_ENDLESS
    2716                    ;
    2717                    ;       movi    hrt_3_face_driver_anim,a0
    2718                    ;       calla   change_anim1a
    2719                    ;
    2720                    ;       WRSND   W_BRET,GRABHOLD_T1,GRABHOLD,T2
    2721                    ;       rets
    2722                    
    2723                    *****
    2724 00013aa0           fwurkick                ;8
    2725                    
    2726 00013aa0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00013ab0 00000000! 
    2727                    
    2728 00013ad0     b5a0          move    *a13(STICK_VAL_CUR),a0
         00013ae0     0bc0  
    2729 00013af0     b5a1          move    *a13(NEW_FACING_DIR),a1
         00013b00     04d0  
    2730 00013b10     0b81          andi    0ch,a1
         00013b20 fffffff3  
    2731 00013b40     4801          cmp     a0,a1
    2732 00013b50     cb14          jrnz    fwurknee
    2733                    
    2734 00013b60                   WRSND   W_BRET,UPRCUT_T1,UPRCUT,T2
    2735                    
    2736 00013c30     09e0          movi    hrt_knees_to_head_anim,a0
         00013c40 00000000! 
    2737 00013c60     0d5f          calla   change_anim1a
         00013c70 00000000! 
    2738 00013c90     0960          rets
    2739                    
    2740                    *****
    2741 00013ca0           fwurpunchkick   ;9
    2742 00013ca0           fwurknee
    2743 00013ca0     0d5f          CALLA   FIND_AND_KILL_ENDLESS
         00013cb0 00000000! 
    2744                    
    2745 00013cd0     09e0          movi    hrt_4_knee_to_head_anim,a0
         00013ce0 00000000! 
    2746 00013d00     0d5f          calla   change_anim1a
         00013d10 00000000! 
    2747 00013d30                   WRSND   W_BRET,KICK_T1,KICK_T2
    2748 00013ed0     0960          rets
    2749                    
    2750                    *****
    2751 00013ee0           fwursuper_kick  ;16
    2752 00013ee0     0960          rets
    2753                    
    2754                    
    2755                    *****************************************************************************
    2756 00013ef0           mode_puppet2    ;17
    2757                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   60

    2758                    ;       ;check for the head-grab breaker
    2759                    ;       move    *a13(BUT_VAL_DOWN),a0
    2760                    ;       btst    PLAYER_KICK_BIT,a0
    2761                    ;       jrz     fnxmout
    2762                    ;
    2763                    ;       ;check the time - must do it within 20 ticks
    2764                    ;       move    *a13(HEAD_GRAB_TIME),a14
    2765                    ;       move    @PCNT,a0
    2766                    ;       sub     a14,a0
    2767                    ;       cmpi    KICK_OUT,a0
    2768                    ;       jrgt    fnxmout
    2769                    ;
    2770                    ;       move    *a13(PLYR_TYPE),a14
    2771                    ;       cmpi    PTYPE_DRONE,a14
    2772                    ;       jrz     fnxmout
    2773                    ;
    2774                    ;       ;okay, waste 'im. - detach, setmode, immobilize, and launch the knee
    2775                    ;       move    *a13(ATTACH_PROC),a0,L
    2776                    ;       clr     a14
    2777                    ;       move    a14,*a13(ATTACH_PROC),L
    2778                    ;       move    a14,*a0(ATTACH_PROC),L
    2779                    ;       movi    20,a14
    2780                    ;       move    a14,*a0(IMMOBILIZE_TIME)
    2781                    ;       SETMODE NORMAL
    2782                    ;       jruc    std_knee
    2783                    ;
    2784                    ;fnxmout
    2785 00013ef0     0960          rets
    2786                    
    2787                    *****************************************************************************
    2788 00013f00           mode_headheld   ;19
    2789 00013f00     b5a0          move    *a13(ANIMODE),a0
         00013f10     0660  
    2790 00013f20     1f40          btst    MODE_NOGRAVITY_BIT,a0
    2791 00013f30     cb80          janz    mode_choking
         00013f40 00000000! 
    2792                    
    2793                    
    2794                    ;Bozo reversal
    2795 00013f60     0d5f          calla   bozo_check
         00013f70 00000000! 
    2796 00013f90     c932          jrnc    ivlcfail
    2797                    
    2798 00013fa0                   PUSH    a8
    2799 00013fb0     4da8          move    a13,a8
    2800 00013fc0     0d5f          CALLA   DO_REVERSAL
         00013fd0 00000000! 
    2801 00013ff0     0d5f          CALLA   DO_REVERSAL_MESS
         00014000 00000000! 
    2802 00014020                   PULL    a8
    2803                    
    2804 00014030                   WRSND   W_BRET,GRABFLING_T1,GRABFLING_T2
    2805                    
    2806 000141d0     09e0          movi    hrt_3_pile_driver_anim,a0
         000141e0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   61

    2807 00014200     05ae          move    @PCNT,a14
         00014210 00000000! 
    2808 00014230     1fee          btst    0,a14
    2809 00014240     ca03          jrz     ivlctag
    2810 00014250     09e0          movi    hrt_hh_2_ddt_anim,a0
         00014260 00000000! 
    2811 00014280     0d5f  ivlctag calla   change_anim1a
         00014290 00000000! 
    2812                    
    2813 000142b0     0960          rets
    2814 000142c0           ivlcfail
    2815                    
    2816                    ;He may have let me go by hitting his block butn!
    2817 000142c0     b7a0          move    *a13(ATTACH_PROC),a0,L
         000142d0     03e0  
    2818 000142e0     cb0c          jrnz    ivlcno_luck
    2819                    
    2820                    ;Make sure this guy is on ground
    2821 000142f0     b5a0          move    *a13(OBJ_YPOSINT),a0
         00014300     0130  
    2822 00014310     b5a1          move    *a13(GROUND_Y),a1
         00014320     0570  
    2823 00014330     4820          cmp     a1,a0                   ;a0-a1
    2824 00014340     c706          jrgt    ivlcno_luck
    2825                    
    2826                    ;hit_gnd
    2827                    
    2828 00014350     09e0          movi    hrt_3_head_held_stand_anim,a0
         00014360 00000000! 
    2829 00014380     0d5f          calla   change_anim1a
         00014390 00000000! 
    2830                    
    2831 000143b0           ivlcno_luck
    2832 000143b0     0960          rets
    2833                    
    2834                    *****************************************************************************
    2835 000143c0           mode_chokehold  ;24
    2836 000143c0     0960          rets
    2837                    
    2838                    *****************************************************************************
    2839                    
    2840                    ;kbudVEL        equ     30000h          ;38000h ;30000h
    2841                    ;kbudDVEL       equ     21f0eh          ;27978h ;21f0eh
    2842                    ;kbudVEL        equ     38000h          ;38000h ;30000h
    2843                    ;kbudDVEL       equ     30000h          ;27978h ;21f0eh
    2844          0003a000  kbudVEL equ     3a000h          ;38000h ;30000h
    2845          00031000  kbudDVEL        equ     31000h          ;27978h ;21f0eh
    2846                    
    2847                    
    2848 000143d0            SUBR hrt_velocity_table
    2849                    
    2850                    ;               X,      Z
    2851                    
    2852 000143d0 00000000          .long   0,      -kbudVEL        ;0 UP
    2853                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   62

    2854 00014410 00031000          .long   kbudDVEL,       -kbudDVEL       ;1 UP-RIGHT
    2855                    
    2856 00014450 0003a000          .long   kbudVEL,        0       ;2 RIGHT
    2857                    
    2858 00014490 00031000          .long   kbudDVEL,       kbudDVEL        ;3 DOWN-RIGHT
    2859                    
    2860 000144d0 00000000          .long   0,      kbudVEL ;4 DOWN
    2861                    
    2862 00014510 fffcf000          .long   -kbudDVEL,      kbudDVEL        ;5 DOWN-LEFT
    2863                    
    2864 00014550 fffc6000          .long   -kbudVEL,       0       ;6 LEFT
    2865                    
    2866 00014590 fffcf000          .long   -kbudDVEL,      -kbudDVEL       ;7 UP-LEFT
    2867                    
    2868                    
    2869                    *****************************************************************************
    2870                    
    2871 000145d0            SUBR hrt_rotate_anims_table
    2872                    ; old = up right
    2873 000145d0 00000000!         .long   hrt_stand2_anim         ;new = up right
    2874 000145f0 00000000!         .long   hrt_2_to_4_turn_anim    ;    = down right
    2875 00014610 00000000!         .long   hrt_2_to_6_turn_anim    ;    = down left ***
    2876 00014630 00000000!         .long   hrt_2_to_8_turn_anim    ;    = up left
    2877                    
    2878                    ; old = down right
    2879 00014650 00000000!         .long   hrt_4_to_2_turn_anim    ;new = up right
    2880 00014670 00000000!         .long   hrt_stand4_anim         ;    = down right
    2881 00014690 00000000!         .long   hrt_4_to_6_turn_anim    ;    = down left
    2882 000146b0 00000000!         .long   hrt_4_to_8_turn_anim    ;    = up left ***
    2883                    
    2884                    ; old = down left
    2885 000146d0 00000000!         .long   hrt_6_to_2_turn_anim    ;new = up right ***
    2886 000146f0 00000000!         .long   hrt_6_to_4_turn_anim    ;    = down right
    2887 00014710 00000000!         .long   hrt_stand6_anim         ;    = down left
    2888 00014730 00000000!         .long   hrt_6_to_8_turn_anim    ;    = up left
    2889                    
    2890                    ; old = up left
    2891 00014750 00000000!         .long   hrt_8_to_2_turn_anim    ;new = up right
    2892 00014770 00000000!         .long   hrt_8_to_4_turn_anim    ;    = down right ***
    2893 00014790 00000000!         .long   hrt_8_to_6_turn_anim    ;    = down left
    2894 000147b0 00000000!         .long   hrt_stand8_anim         ;    = up left
    2895                    
    2896                    
    2897 000147d0            SUBR hrt_leg_anims_table
    2898                    ;  MOVE
    2899                    ;(owzy1 - UP)                           FACING
    2900 000147d0 00000000!         .long   hrt_walk1_f2_anim       ;1 (UP)
    2901 000147f0 00000000!         .long   hrt_walk1_f2_anim       ;2 (UP_RIGHT)
    2902 00014810 00000000!         .long   hrt_walk1_f4_anim       ;3 (RIGHT)
    2903 00014830 00000000!         .long   hrt_walk1_f4_anim       ;4 (DOWN_RIGHT)
    2904 00014850 00000000!         .long   hrt_walk1_f4_anim       ;5 (DOWN)
    2905 00014870 00000000!         .long   hrt_walk1_f4_anim       ;6 (DOWN_LEFT)
    2906 00014890 00000000!         .long   hrt_walk1_f2_anim       ;7 (LEFT)
    2907 000148b0 00000000!         .long   hrt_walk1_f2_anim       ;8 (UP-LEFT)
    2908                    
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   63

    2909                    ;(owzy2 - UP-RIGHT)
    2910 000148d0 00000000!         .long   hrt_walk2_f2_anim       ;1 (UP)
    2911 000148f0 00000000!         .long   hrt_walk2_f2_anim       ;2 (UP_RIGHT)
    2912 00014910 00000000!         .long   hrt_walk2_f2_anim       ;3 (RIGHT)
    2913 00014930 00000000!         .long   hrt_walk2_f4_anim       ;4 (DOWN_RIGHT)
    2914 00014950 00000000!         .long   hrt_walk8_f4_anim       ;5 (DOWN)
    2915 00014970 00000000!         .long   hrt_walk8_f4_anim       ;6 (DOWN_LEFT)
    2916 00014990 00000000!         .long   hrt_walk4_f2_anim       ;7 (LEFT)
    2917 000149b0 00000000!         .long   hrt_walk4_f2_anim       ;8 (UP-LEFT)
    2918                    
    2919                    ;(owzy3 - RIGHT)
    2920 000149d0 00000000!         .long   hrt_walk2_f2_anim       ;1 (UP)
    2921 000149f0 00000000!         .long   hrt_walk2_f2_anim       ;2 (UP_RIGHT)
    2922 00014a10 00000000!         .long   hrt_walk2_f2_anim       ;3 (RIGHT)
    2923 00014a30 00000000!         .long   hrt_walk4_f4_anim       ;4 (DOWN_RIGHT)
    2924 00014a50 00000000!         .long   hrt_walk4_f4_anim       ;5 (DOWN)
    2925 00014a70 00000000!         .long   hrt_walk8_f4_anim       ;6 (DOWN_LEFT)
    2926 00014a90 00000000!         .long   hrt_walk6_f2_anim       ;7 (LEFT)
    2927 00014ab0 00000000!         .long   hrt_walk6_f2_anim       ;8 (UP-LEFT)
    2928                    
    2929                    
    2930                    ;(owzy4 - DOWN-RIGHT)
    2931 00014ad0 00000000!         .long   hrt_walk2_f2_anim       ;1 (UP)
    2932 00014af0 00000000!         .long   hrt_walk8_f2_anim       ;2 (UP_RIGHT)
    2933 00014b10 00000000!         .long   hrt_walk4_f4_anim       ;3 (RIGHT)
    2934 00014b30 00000000!         .long   hrt_walk4_f4_anim       ;4 (DOWN_RIGHT)
    2935 00014b50 00000000!         .long   hrt_walk2_f4_anim       ;5 (DOWN)
    2936 00014b70 00000000!         .long   hrt_walk6_f4_anim       ;6 (DOWN_LEFT)
    2937 00014b90 00000000!         .long   hrt_walk2_f2_anim       ;7 (LEFT)
    2938 00014bb0 00000000!         .long   hrt_walk6_f2_anim       ;8 (UP-LEFT)
    2939                    
    2940                    ;(owzy5 - DOWN)
    2941 00014bd0 00000000!         .long   hrt_walk5_f2_anim       ;1 (UP)
    2942 00014bf0 00000000!         .long   hrt_walk5_f2_anim       ;2 (UP_RIGHT)
    2943 00014c10 00000000!         .long   hrt_walk5_f4_anim       ;3 (RIGHT)
    2944 00014c30 00000000!         .long   hrt_walk5_f4_anim       ;4 (DOWN_RIGHT)
    2945 00014c50 00000000!         .long   hrt_walk5_f4_anim       ;5 (DOWN)
    2946 00014c70 00000000!         .long   hrt_walk5_f4_anim       ;6 (DOWN_LEFT)
    2947 00014c90 00000000!         .long   hrt_walk5_f2_anim       ;7 (LEFT)
    2948 00014cb0 00000000!         .long   hrt_walk5_f2_anim       ;8 (UP-LEFT)
    2949                    
    2950                    ;(owzy6 - DOWN-LEFT)
    2951 00014cd0 00000000!         .long   hrt_walk2_f2_anim       ;1 (UP)
    2952 00014cf0 00000000!         .long   hrt_walk6_f2_anim       ;2 (UP_RIGHT)
    2953 00014d10 00000000!         .long   hrt_walk2_f2_anim       ;3 (RIGHT)
    2954 00014d30 00000000!         .long   hrt_walk6_f4_anim       ;4 (DOWN_RIGHT)
    2955 00014d50 00000000!         .long   hrt_walk2_f4_anim       ;5 (DOWN)
    2956 00014d70 00000000!         .long   hrt_walk4_f4_anim       ;6 (DOWN_LEFT)
    2957 00014d90 00000000!         .long   hrt_walk2_f2_anim       ;7 (LEFT)
    2958 00014db0 00000000!         .long   hrt_walk8_f2_anim       ;8 (UP-LEFT)
    2959                    
    2960                    ;(owzy7 - LEFT)
    2961 00014dd0 00000000!         .long   hrt_walk2_f2_anim       ;1 (UP)
    2962 00014df0 00000000!         .long   hrt_walk6_f2_anim       ;2 (UP_RIGHT)
    2963 00014e10 00000000!         .long   hrt_walk6_f2_anim       ;3 (RIGHT)
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 20:14:41 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE   64

    2964 00014e30 00000000!         .long   hrt_walk8_f4_anim       ;4 (DOWN_RIGHT)
    2965 00014e50 00000000!         .long   hrt_walk4_f4_anim       ;5 (DOWN)
    2966 00014e70 00000000!         .long   hrt_walk4_f4_anim       ;6 (DOWN_LEFT)
    2967 00014e90 00000000!         .long   hrt_walk2_f2_anim       ;7 (LEFT)
    2968 00014eb0 00000000!         .long   hrt_walk2_f2_anim       ;8 (UP-LEFT)
    2969                    
    2970                    ;(owzy8 - UP-LEFT)
    2971 00014ed0 00000000!         .long   hrt_walk2_f2_anim       ;1 (UP)
    2972 00014ef0 00000000!         .long   hrt_walk4_f2_anim       ;2 (UP_RIGHT)
    2973 00014f10 00000000!         .long   hrt_walk6_f2_anim       ;3 (RIGHT)
    2974 00014f30 00000000!         .long   hrt_walk8_f4_anim       ;4 (DOWN_RIGHT)
    2975 00014f50 00000000!         .long   hrt_walk6_f4_anim       ;5 (DOWN)
    2976 00014f70 00000000!         .long   hrt_walk2_f4_anim       ;6 (DOWN_LEFT)
    2977 00014f90 00000000!         .long   hrt_walk2_f2_anim       ;7 (LEFT)
    2978 00014fb0 00000000!         .long   hrt_walk2_f2_anim       ;8 (UP-LEFT)
    2979                    
    2980                    
    2981 00014fd0            SUBR hrt_torso_anims_table
    2982                    ; old = up right
    2983 00014fd0 00000000!         .long   hrt_torso2_anim         ;new = up right
    2984 00014ff0 00000000!         .long   hrt_2_to_4_turn2_anim   ;    = down right
    2985 00015010 00000000!         .long   hrt_2_to_6_turn2_anim   ;    = down left ***
    2986 00015030 00000000!         .long   hrt_2_to_8_turn2_anim   ;    = up left
    2987                    
    2988                    ; old = down right
    2989 00015050 00000000!         .long   hrt_4_to_2_turn2_anim   ;new = up right
    2990 00015070 00000000!         .long   hrt_torso4_anim         ;    = down right
    2991 00015090 00000000!         .long   hrt_4_to_6_turn2_anim   ;    = down left
    2992 000150b0 00000000!         .long   hrt_4_to_8_turn2_anim   ;    = up left ***
    2993                    
    2994                    ; old = down left
    2995 000150d0 00000000!         .long   hrt_6_to_2_turn2_anim   ;new = up right ***
    2996 000150f0 00000000!         .long   hrt_6_to_4_turn2_anim   ;    = down right
    2997 00015110 00000000!         .long   hrt_torso6_anim         ;    = down left
    2998 00015130 00000000!         .long   hrt_6_to_8_turn2_anim   ;    = up left
    2999                    
    3000                    ; old = up left
    3001 00015150 00000000!         .long   hrt_8_to_2_turn2_anim   ;new = up right
    3002 00015170 00000000!         .long   hrt_8_to_4_turn2_anim   ;    = down right ***
    3003 00015190 00000000!         .long   hrt_8_to_6_turn2_anim   ;    = down left
    3004 000151b0 00000000!         .long   hrt_torso8_anim         ;    = up left
    3005                    
    3006                    
    3007                    ******************************************************************************
    3008                    
    3009                            .end

 No Errors,  No Warnings
