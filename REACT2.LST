TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    
       2                            .file   "react2.asm"
       4                            .width  132
       5                            .option b,d,l,t
       6                            .mnolist
       7                    
       8                    
       9                            .include        "macros.h"
      10                            .include        "mproc.equ"             ;Mproc equates
      11                            .include        "display.equ"           ;Display proc equates
      12                            .include        "gsp.equ"               ;Gsp asm equates
      13                            .include        "sys.equ"
      14                            .include        "game.equ"
      15                            .include        "plyr.equ"
      16                            .include        "anim.equ"
      17                            .include        "audit.equ"
      18                            .include        "sound.h"
      19                            .include        "ring.equ"
      20                            .include        "lifebar.h"
      21                    
      22                    
      23                    
      24                            .ref    change_anim1a
      25                            .ref    wres_collis_off
      26                            .ref    block_hit
      27                            .ref    face_each_other
      28                            .ref    set_getup_time
      29                            .ref    fall_back_tbl
      30                            .ref    triple_sound,CALL_AVERAGE_MOVE
      31                            .ref    CALL_NASTY_MOVE
      32                            .ref    block_hit_flail
      33                    
      34                    
      35                    
      36                            .ref    bam_heldoh_anim
      37                            .ref    bam_4_losebal_anim
      38                    
      39                            .ref    dnk_heldoh_anim
      40                            .ref    dnk_fall_back_anim
      41                            .ref    dnk_4_losebal_anim
      42                            .ref    dnk_knockdwn_anim
      43                    
      44                            .ref    hrt_4_losebal_anim,hrt_fall_back_anim
      45                    
      46                            .ref    lex_4_losebal_anim
      47                            .ref    lex_heldoh_anim
      48                    
      49                            .ref    rzr_4_losebal_anim
      50                            .ref    rzr_heldoh_anim
      51                            .ref    rzr_fall_back_anim
      52                    
      53                            .ref    shn_4_losebal_anim
      54                            .ref    shn_heldoh_anim
      55                    
      56                            .ref    und_heldoh_anim
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    2

      57                            .ref    und_4_losebal_anim
      58                    
      59                            .ref    yok_4_losebal_anim
      60                    
      61                            .ref    hit_damage_pending,hitonground_tbl
      62                            .ref    ck_live_teammates
      63                    
      64                    
      65                    
      66                    
      67                    
      68 00000000            SUBR   hit_uprcut
      69                    
      70                    
      71 00000000     b5a1          move    *a13(PLYRMODE),a1
         00000010     05c0  
      72 00000020     0b41          cmpi    MODE_BLOCK,a1
         00000030     fff8  
      73 00000040     cb04          jrnz    gtxfnoblock
      74                    
      75 00000050     0d5f          calla   block_hit_flail
         00000060 00000000! 
      76 00000080     0960          rets
      77                    
      78 00000090           gtxfnoblock
      79                    
      80 00000090                   GETLIFE
      81 000000e0     ca0b          jrz     gtxfskip
      82                    
      83                    
      84                    
      85 000000f0                   SETMODE NORMAL
      86                    
      87 000001a0           gtxfskip
      88                    
      89 000001a0                   WRSNDX  UPRCUT_L1,UPRCUT_L2
      90                    
      91 000004e0                   FACETBL fall_back_tbl
      92 00000550     0d5f          calla   change_anim1a
         00000560 00000000! 
      93                           
      94                            .ref    flash_white
      95 00000580     0d5f          calla   flash_white
         00000590 00000000! 
      96                    
      97 000005b0     5600          clr     a0
      98 000005c0     b00d          move    a0,*a13(ROLL_POS)
         000005d0     0450  
      99 000005e0     0d5f          calla   set_getup_time
         000005f0 00000000! 
     100                    
     101                    
     102                            ;silly temp
     103 00000610     09e0          movi    [15,0],a0
         00000620 000f0000  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    3

     104 00000640     b54e          move    *a10(WRESTLERNUM),a14
         00000650     0590  
     105 00000660     0b4e          cmpi    3,a14
         00000670     fffc  
     106 00000680     ca11          jrz     gtxfnorm
     107 00000690     09e0          movi    [13,0],a0
         000006a0 000d0000  
     108 000006c0     0b4e          cmpi    2,a14
         000006d0     fffd  
     109 000006e0     cb0b          jrnz    gtxfnorm
     110                            
     111 000006f0     4da0          move    a13,a0
     112 00000700     0d5f          calla   ck_live_teammates
         00000710 00000000! 
     113 00000730     09e0          movi    [11,0],a0
         00000740 000b0000  
     114 00000760     c803          jrc     gtxfnorm
     115                    
     116                            ;no live teammates -- send them up into the air
     117                    
     118 00000770     09e0          movi    [18,0],a0
         00000780 00120000  
     119 000007a0           gtxfnorm
     120 000007a0     b20d          move    a0,*a13(OBJ_YVEL),L
         000007b0     02f0  
     121                    
     122 000007c0     09e2          movi    [2,0],a2
         000007d0 00020000  
     123 000007f0     b540          move    *a10(OBJ_XPOSINT),a0
         00000800     0110  
     124 00000810     b5a1          move    *a13(OBJ_XPOSINT),a1
         00000820     0110  
     125 00000830     4801          cmp     a0,a1                   ;offx - defx
     126 00000840     c703          jrgt    gtxffall_right          ;attacker on left
     127 00000850     09e2          movi    [-2,0],a2
         00000860 fffe0000  
     128 00000880           gtxffall_right
     129 00000880     b24d          move    a2,*a13(OBJ_XVEL),L
         00000890     02d0  
     130                    
     131 000008a0           gtxfisdead
     132 000008a0     0d5f          calla   wres_collis_off
         000008b0 00000000! 
     133 000008d0     0960          rets
     134                    
     135                    
     136 000008e0            SUBR   hit_combo_uprcut
     137                    
     138 000008e0     b5a1          move    *a13(PLYRMODE),a1
         000008f0     05c0  
     139 00000900     0b41          cmpi    MODE_BLOCK,a1
         00000910     fff8  
     140 00000920     cb04          jrnz    jybynoblock
     141                    
     142 00000930     0d5f          calla   block_hit
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    4

         00000940 00000000! 
     143 00000960     0960          rets
     144                    
     145 00000970           jybynoblock
     146                    
     147 00000970                   GETLIFE
     148 000009c0     ca0b          jrz     jybyskip
     149                    
     150                    
     151                    
     152 000009d0                   SETMODE NORMAL
     153                    
     154 00000a80           jybyskip
     155                    
     156 00000a80                   WRSNDX  UPRCUT_L1,UPRCUT_L2
     157                    
     158 00000dc0                   FACETBL fall_back_tbl
     159 00000e30     0d5f          calla   change_anim1a
         00000e40 00000000! 
     160                    
     161                            .ref    flash_white
     162 00000e60     0d5f          calla   flash_white
         00000e70 00000000! 
     163                    
     164 00000e90     5600          clr     a0
     165 00000ea0     b00d          move    a0,*a13(ROLL_POS)
         00000eb0     0450  
     166 00000ec0     0d5f          calla   set_getup_time
         00000ed0 00000000! 
     167                    
     168 00000ef0     09c0          MOVI    MODE_UNINT|MODE_NOAUTOFLIP|MODE_OVERLAP,A0
         00000f00     040c  
     169 00000f10     b00d          MOVE    A0,*A13(ANIMODE)
         00000f20     0660  
     170                    
     171                    
     172 00000f30     b7a1          move    *a13(WHOHITME),A1,L
         00000f40     04e0  
     173 00000f50     09e0          movi    [7,0],a0
         00000f60 00070000  
     174 00000f80     b422          MOVE    *A1(RPT_COUNT),A2
         00000f90     07d0  
     175 00000fa0     1422          DEC     A2
     176 00000fb0     ca03          JRZ     SET_YVEL
     177 00000fc0     09e0          movi    [3,0],a0
         00000fd0 00030000  
     178 00000ff0           SET_YVEL
     179 00000ff0     b20d          move    a0,*a13(OBJ_YVEL),L
         00001000     02f0  
     180                    
     181 00001010     09e2          movi    [1,8000H],a2
         00001020 00018000  
     182 00001040     b540          move    *a10(OBJ_XPOSINT),a0
         00001050     0110  
     183 00001060     b5a1          move    *a13(OBJ_XPOSINT),a1
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    5

         00001070     0110  
     184 00001080     4801          cmp     a0,a1                   ;offx - defx
     185 00001090     c701          jrgt    jybyfall_right          ;attacker on left
     186 000010a0     03a2          NEG     A2
     187 000010b0           jybyfall_right
     188 000010b0     b24d          move    a2,*a13(OBJ_XVEL),L
         000010c0     02d0  
     189                    
     190 000010d0           jybyisdead
     191 000010d0     0d5f          calla   wres_collis_off
         000010e0 00000000! 
     192 00001100     0960          rets
     193                    
     194                    
     195                    
     196 00001110            SUBR   hit_lbowdrop
     197                    
     198                            ;if we're standing, ignore this
     199 00001110     b5a0          move    *a13(PLYRMODE),a0
         00001120     05c0  
     200 00001130     0b40          cmpi    MODE_NORMAL,a0
         00001140     ffff  
     201 00001150     ca4d          jrz     ywwhignore
     202 00001160     0b40          cmpi    MODE_BLOCK,a0
         00001170     fff8  
     203 00001180     ca4a          jrz     ywwhignore
     204                    
     205 00001190                   WRSNDX  LBOWDROP_L1,LBOWDROP_L2
     206 000014d0     09c0          movi    33h,a0
         000014e0     0033  
     207 000014f0     0d5f          calla   triple_sound
         00001500 00000000! 
     208                    
     209 00001520     0d5f          calla   wres_collis_off
         00001530 00000000! 
     210                    
     211 00001550                   FACETBL hitonground_tbl
     212 000015c0     0d5f          calla   change_anim1a
         000015d0 00000000! 
     213 000015f0     0d5f          calla   wres_collis_off
         00001600 00000000! 
     214 00001620     0960          rets
     215                    
     216 00001630     57ce  ywwhignore      clr     a14
     217 00001640     058e          move    a14,@hit_damage_pending
         00001650 00000000! 
     218 00001670     0d5f          calla   wres_collis_off
         00001680 00000000! 
     219 000016a0     0960          rets
     220                    
     221                    
     222 000016b0            SUBR   hit_blbowdrop
     223                    
     224                            .ref    DO_SCREAM
     225 000016b0     0d5f          calla   DO_SCREAM
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    6

         000016c0 00000000! 
     226                    
     227 000016e0                   WRSNDX  FLYKICK_L1,FLYKICK_L2
     228 00001a20                   WRSNDX  LBOWDROP_L1,LBOWDROP_L2
     229                    
     230                    
     231 00001d60     0d5f          calla   wres_collis_off
         00001d70 00000000! 
     232                    
     233 00001d90     b5a0          move    *a13(PLYRMODE),a0
         00001da0     05c0  
     234 00001db0     0b40          cmpi    MODE_ONGROUND,a0
         00001dc0     fffb  
     235 00001dd0     ca4b          jrz     hqwlon_grnd
     236 00001de0     0b40          cmpi    MODE_DEAD,a0
         00001df0     fff6  
     237 00001e00     ca48          jrz     hqwlon_grnd
     238                    
     239 00001e10                   SETMODE NORMAL
     240 00001ec0     b5ae          move    *a13(OBJ_YPOSINT),a14
         00001ed0     0130  
     241 00001ee0     b5a0          move    *a13(GROUND_Y),a0
         00001ef0     0570  
     242 00001f00     440e          sub     a0,a14
     243 00001f10     0b4e          cmpi    20,a14
         00001f20     ffeb  
     244 00001f30     c511          jrge    hqwlfall_back
     245                    
     246 00001f40     0d5f          calla   set_getup_time
         00001f50 00000000! 
     247                    
     248 00001f70                   FACETBL hqwlknockdwn
     249 00001fe0     0d5f          calla   change_anim1a
         00001ff0 00000000! 
     250 00002010     0d5f          calla   wres_collis_off
         00002020 00000000! 
     251 00002040     0960          rets
     252                    
     253 00002050           hqwlfall_back
     254 00002050     09c0          movi    43h,a0
         00002060     0043  
     255 00002070     0d5f          calla   triple_sound
         00002080 00000000! 
     256 000020a0                   FACETBL fall_back_tbl
     257                    
     258 00002110     0d5f          calla   change_anim1a
         00002120 00000000! 
     259 00002140     0d5f          calla   wres_collis_off
         00002150 00000000! 
     260                    
     261 00002170     09e2          movi    [3,0],a2
         00002180 00030000  
     262 000021a0     b540          move    *a10(OBJ_XPOSINT),a0
         000021b0     0110  
     263 000021c0     b5a1          move    *a13(OBJ_XPOSINT),a1
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    7

         000021d0     0110  
     264 000021e0     4801          cmp     a0,a1                   ;offx - defx
     265 000021f0     c701          jrgt    hqwlfall_right          ;attacker on left
     266 00002200     03a2          neg     a2
     267 00002210           hqwlfall_right
     268 00002210     b24d          move    a2,*a13(OBJ_XVEL),L
         00002220     02d0  
     269                    
     270 00002230     09e0          movi    -30000h,a0
         00002240 fffd0000  
     271 00002260     b20d          move    a0,*a13(OBJ_YVEL),L
         00002270     02f0  
     272 00002280     0960          rets
     273                    
     274 00002290           hqwlon_grnd
     275 00002290                   FACETBL hitonground_tbl
     276 00002300     0d5f          calla   change_anim1a
         00002310 00000000! 
     277 00002330           hqwlisdead
     278 00002330     0d5f          calla   wres_collis_off
         00002340 00000000! 
     279 00002360     0960          rets
     280                    
     281 00002370           hqwlknockdwn
     282                            .ref    hrt_knockdwn_anim
     283                            .ref    rzr_knockdwn_anim
     284                            .ref    und_knockdwn_anim
     285                            .ref    yok_knockdwn_anim
     286                            .ref    shn_knockdwn_anim
     287                            .ref    bam_knockdwn_anim
     288                            .ref    dnk_knockdwn_anim
     289                            .ref    lex_knockdwn_anim
     290                    
     291 00002370 00000000!         .long   hrt_knockdwn_anim               ;0 Bret Hart
     292 00002390 00000000!         .long   rzr_knockdwn_anim               ;1 Razor Ramon
     293 000023b0 00000000!         .long   und_knockdwn_anim               ;2 Undertaker
     294 000023d0 00000000!         .long   yok_knockdwn_anim               ;3 Yokozuna
     295 000023f0 00000000!         .long   shn_knockdwn_anim               ;4 Shawn Michaels
     296 00002410 00000000!         .long   bam_knockdwn_anim               ;5 Bam Bam
     297 00002430 00000000!         .long   dnk_knockdwn_anim               ;6 Doink
     298 00002450 00000000          .long   0                               ;7 spare
     299 00002470 00000000!         .long   lex_knockdwn_anim               ;8 Lex Luger
     300 00002490 00000000          .long   0                               ;9 Referee
     301                    
     302                    
     303 000024b0            SUBR   hit_grabhold
     304                    
     305 000024b0            SUBR   hit_grabfling
     306 000024b0     0960          rets
     307                    
     308 000024c0            SUBR   hit_gutpush
     309                    
     310 000024c0     b5a1          move    *a13(PLYRMODE),a1
         000024d0     05c0  
     311 000024e0     0b41          cmpi    MODE_BLOCK,a1
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    8

         000024f0     fff8  
     312 00002500     cb07          jrnz    cidhhit_push2
     313                    
     314 00002510     5600          clr     a0
     315 00002520     b20d          move    a0,*a13(OBJ_XVEL),L
         00002530     02d0  
     316                    
     317 00002540     0d5f          calla   block_hit_flail
         00002550 00000000! 
     318 00002570     0960          rets
     319                    
     320 00002580           cidhhit_push2
     321                    
     322 00002580                   SETMODE NORMAL
     323                    
     324 00002630     5600          clr     a0
     325 00002640     b20a          move    a0,*a10(OBJ_XVEL),L     ;clr attacker's x-vel
         00002650     02d0  
     326                    
     327 00002660                   FACETBL cidhlosebal
     328 000026d0     0d5f          calla   change_anim1a
         000026e0 00000000! 
     329                    
     330 00002700     09e2          movi    [8,0],a2
         00002710 00080000  
     331 00002730     c01b          jruc    cidhtag
     332                    
     333 00002740            SUBR   hit_push
     334                    
     335                    
     336                    
     337 00002740                   SETMODE NORMAL
     338                    
     339 000027f0     5600          clr     a0
     340 00002800     b20a          move    a0,*a10(OBJ_XVEL),L     ;clr attacker's x-vel
         00002810     02d0  
     341                    
     342 00002820                   FACETBL cidhlosebal
     343 00002890     0d5f          calla   change_anim1a
         000028a0 00000000! 
     344                    
     345 000028c0     09e2          movi    [8,0],a2
         000028d0 00080000  
     346                    
     347 000028f0           cidhtag
     348 000028f0     b540          move    *a10(OBJ_XPOSINT),a0
         00002900     0110  
     349 00002910     b5a1          move    *a13(OBJ_XPOSINT),a1
         00002920     0110  
     350 00002930     4801          cmp     a0,a1                   ;offx - defx
     351 00002940     c701          jrgt    cidhfall_right          ;attacker on left
     352 00002950     03a2          neg     a2
     353 00002960           cidhfall_right
     354 00002960     b24d          move    a2,*a13(OBJ_XVEL),L
         00002970     02d0  
TMS340 COFF Macro Assembler Version 6.10     Mon Oct 30 16:55:23 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

meters, names, messages, and scores                                  PAGE    9

     355                    
     356 00002980                   WRSNDX  PUSH_L1,PUSH_L2
     357                    
     358 00002cc0     b5a1          move    *a13(PLYRNUM),a1
         00002cd0     0580  
     359                            .ref    get_health
     360 00002ce0     0d5f          calla   get_health
         00002cf0 00000000! 
     361 00002d10     1420          subk    1,a0
     362 00002d20     cb04          jrnz    cidhnorm
     363 00002d30     5600          clr     a0
     364 00002d40     0580          move    a0,@hit_damage_pending
         00002d50 00000000! 
     365 00002d70           cidhnorm
     366 00002d70     0d5f          calla   wres_collis_off
         00002d80 00000000! 
     367 00002da0     0960          rets
     368                    
     369 00002db0           cidhlosebal
     370 00002db0 00000000!         .long   hrt_4_losebal_anim      ;0 Bret Hart
     371 00002dd0 00000000!         .long   rzr_4_losebal_anim      ;1 Razor Ramon
     372 00002df0 00000000!         .long   und_4_losebal_anim      ;2 Undertaker
     373 00002e10 00000000!         .long   yok_4_losebal_anim      ;3 Yokozuna
     374 00002e30 00000000!         .long   shn_4_losebal_anim      ;4 Shawn Michaels
     375 00002e50 00000000!         .long   bam_4_losebal_anim      ;5 Bam Bam
     376 00002e70 00000000!         .long   dnk_4_losebal_anim      ;6 Doink
     377 00002e90 00000000!         .long   dnk_4_losebal_anim      ;7 spare
     378 00002eb0 00000000!         .long   lex_4_losebal_anim      ;8 Lex Luger
     379 00002ed0 00000000!         .long   dnk_4_losebal_anim      ;9 Referee
     380                    
     381                    
     382                            .end

 No Errors,  No Warnings
